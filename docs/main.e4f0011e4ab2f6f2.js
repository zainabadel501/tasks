(self.webpackChunktask=self.webpackChunktask||[]).push([[179],{2011:(et,we,R)=>{"use strict";R.d(we,{hO:()=>Be,xv:()=>ae,Dh:()=>fe,GT:()=>pe,cc:()=>Ie,on:()=>j,pX:()=>te});var c=R(5e3),Y=R(127),k=R(5813);et=R.hmd(et);const le=["ngOnDestroy"],te=(ee,ge,Te,ce={})=>new Proxy(ee,{get:(Me,Ce)=>Te.runOutsideAngular(()=>{var Ke;if(ee[Ce])return(null===(Ke=null==ce?void 0:ce.spy)||void 0===Ke?void 0:Ke.get)&&ce.spy.get(Ce,ee[Ce]),ee[Ce];if(le.indexOf(Ce)>-1)return()=>{};const $e=ge.toPromise().then(se=>{const q=se&&se[Ce];return"function"==typeof q?q.bind(se):q&&q.then?q.then(ie=>Te.run(()=>ie)):Te.run(()=>q)});return new Proxy(()=>{},{get:(se,q)=>$e[q],apply:(se,q,ie)=>$e.then(me=>{var oe;const xe=me&&me(...ie);return(null===(oe=null==ce?void 0:ce.spy)||void 0===oe?void 0:oe.apply)&&ce.spy.apply(Ce,ie,xe),xe})})})}),pe=(ee,ge)=>{ge.forEach(Te=>{Object.getOwnPropertyNames(Te.prototype||Te).forEach(ce=>{Object.defineProperty(ee.prototype,ce,Object.getOwnPropertyDescriptor(Te.prototype||Te,ce))})})};class re{constructor(ge){return ge}}const fe=new c.OlP("angularfire2.app.options"),ae=new c.OlP("angularfire2.app.name");function j(ee,ge,Te){const Me="object"==typeof Te&&Te||{};Me.name=Me.name||"string"==typeof Te&&Te||"[DEFAULT]";const Ke=Y.Z.apps.filter($e=>$e&&$e.name===Me.name)[0]||ge.runOutsideAngular(()=>Y.Z.initializeApp(ee,Me));try{JSON.stringify(ee)!==JSON.stringify(Ke.options)&&U("error",`${Ke.name} Firebase App already initialized with different options${et.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch($e){}return new re(Ke)}const U=(ee,...ge)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[ee](...ge)},Q={provide:re,useFactory:j,deps:[fe,c.R0b,[new c.FiY,ae]]};let Be=(()=>{class ee{constructor(Te){Y.Z.registerVersion("angularfire",k.q4.full,"core"),Y.Z.registerVersion("angularfire",k.q4.full,"app-compat"),Y.Z.registerVersion("angular",c.q4F.full,Te.toString())}static initializeApp(Te,ce){return{ngModule:ee,providers:[{provide:fe,useValue:Te},{provide:ae,useValue:ce}]}}}return ee.\u0275fac=function(Te){return new(Te||ee)(c.LFG(c.Lbi))},ee.\u0275mod=c.oAB({type:ee}),ee.\u0275inj=c.cJS({providers:[Q]}),ee})();function Ie(ee,ge,Te,ce,Me){const[,Ce,Ke]=globalThis.\u0275AngularfireInstanceCache.find($e=>$e[0]===ee)||[];if(Ce)return function Oe(ee,ge){try{return ee.toString()===ge.toString()}catch(Te){return ee===ge}}(Me,Ke)||(z("error",`${ge} was already initialized on the ${Te} Firebase App with different settings.${Ve?" You may need to reload as Firebase is not HMR aware.":""}`),z("warn",{is:Me,was:Ke})),Ce;{const $e=ce();return globalThis.\u0275AngularfireInstanceCache.push([ee,$e,Me]),$e}}const Ve=!!et.hot,z=(ee,...ge)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[ee](...ge)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(et,we,R)=>{"use strict";R.d(we,{q4:()=>Ao,iC:()=>Wi,HU:()=>Mu,vb:()=>dd,JM:()=>Xh});var c=R(5e3),Y=R(5867),k=R(5861),le=R(9681),te=R(2090),pe=R(4859),re=R(1877),fe=R(2940);const ae="@firebase/installations",j="0.5.5",Q=`w:${j}`,Be="FIS_v2",ge=new te.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Te(E){return E instanceof te.ZR&&E.code.includes("request-failed")}function ce({projectId:E}){return`https://firebaseinstallations.googleapis.com/v1/projects/${E}/installations`}function Me(E){return{token:E.token,requestStatus:2,expiresIn:me(E.expiresIn),creationTime:Date.now()}}function Ce(E,C){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,k.Z)(function*(E,C){const F=(yield C.json()).error;return ge.create("request-failed",{requestName:E,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function $e({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function se(E,{refreshToken:C}){const O=$e(E);return O.append("Authorization",function oe(E){return`${Be} ${E}`}(C)),O}function q(E){return ie.apply(this,arguments)}function ie(){return(ie=(0,k.Z)(function*(E){const C=yield E();return C.status>=500&&C.status<600?E():C})).apply(this,arguments)}function me(E){return Number(E.replace("s","000"))}function xe(E,C){return de.apply(this,arguments)}function de(){return(de=(0,k.Z)(function*(E,{fid:C}){const O=ce(E),ne={method:"POST",headers:$e(E),body:JSON.stringify({fid:C,authVersion:Be,appId:E.appId,sdkVersion:Q})},Ae=yield q(()=>fetch(O,ne));if(Ae.ok){const Le=yield Ae.json();return{fid:Le.fid||C,registrationStatus:2,refreshToken:Le.refreshToken,authToken:Me(Le.authToken)}}throw yield Ce("Create Installation",Ae)})).apply(this,arguments)}function mt(E){return new Promise(C=>{setTimeout(C,E)})}const Pn=/^[cdef][\w-]{21}$/;function ot(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const O=function Un(E){return function Bt(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return Pn.test(O)?O:""}catch(E){return""}}function Qt(E){return`${E.appName}!${E.appId}`}const _r=new Map;function Wt(E,C){const O=Qt(E);Nt(O,C),function is(E,C){const O=function Hs(){return!ur&&"BroadcastChannel"in self&&(ur=new BroadcastChannel("[Firebase] FID Change"),ur.onmessage=E=>{Nt(E.data.key,E.data.fid)}),ur}();O&&O.postMessage({key:E,fid:C}),function Sr(){0===_r.size&&ur&&(ur.close(),ur=null)}()}(O,C)}function Nt(E,C){const O=_r.get(E);if(O)for(const F of O)F(C)}let ur=null;const ci="firebase-installations-store";let Fi=null;function dt(){return Fi||(Fi=(0,fe.openDb)("firebase-installations-database",1,E=>{0===E.oldVersion&&E.createObjectStore(ci)})),Fi}function Wr(E,C){return jn.apply(this,arguments)}function jn(){return(jn=(0,k.Z)(function*(E,C){const O=Qt(E),K=(yield dt()).transaction(ci,"readwrite"),ne=K.objectStore(ci),Ae=yield ne.get(O);return yield ne.put(C,O),yield K.complete,(!Ae||Ae.fid!==C.fid)&&Wt(E,C.fid),C})).apply(this,arguments)}function In(E){return fo.apply(this,arguments)}function fo(){return(fo=(0,k.Z)(function*(E){const C=Qt(E),F=(yield dt()).transaction(ci,"readwrite");yield F.objectStore(ci).delete(C),yield F.complete})).apply(this,arguments)}function ft(E,C){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,k.Z)(function*(E,C){const O=Qt(E),K=(yield dt()).transaction(ci,"readwrite"),ne=K.objectStore(ci),Ae=yield ne.get(O),Le=C(Ae);return void 0===Le?yield ne.delete(O):yield ne.put(Le,O),yield K.complete,Le&&(!Ae||Ae.fid!==Le.fid)&&Wt(E,Le.fid),Le})).apply(this,arguments)}function It(E){return ln.apply(this,arguments)}function ln(){return(ln=(0,k.Z)(function*(E){let C;const O=yield ft(E,F=>{const K=yr(F),ne=St(E,K);return C=ne.registrationPromise,ne.installationEntry});return""===O.fid?{installationEntry:yield C}:{installationEntry:O,registrationPromise:C}})).apply(this,arguments)}function yr(E){return pa(E||{fid:ot(),registrationStatus:0})}function St(E,C){if(0===C.registrationStatus){if(!navigator.onLine)return{installationEntry:C,registrationPromise:Promise.reject(ge.create("app-offline"))};const O={fid:C.fid,registrationStatus:1,registrationTime:Date.now()},F=function Je(E,C){return at.apply(this,arguments)}(E,O);return{installationEntry:O,registrationPromise:F}}return 1===C.registrationStatus?{installationEntry:C,registrationPromise:Ti(E)}:{installationEntry:C}}function at(){return(at=(0,k.Z)(function*(E,C){try{return Wr(E,yield xe(E,C))}catch(O){throw Te(O)&&409===O.customData.serverCode?yield In(E):yield Wr(E,{fid:C.fid,registrationStatus:0}),O}})).apply(this,arguments)}function Ti(E){return ss.apply(this,arguments)}function ss(){return(ss=(0,k.Z)(function*(E){let C=yield Rt(E);for(;1===C.registrationStatus;)yield mt(100),C=yield Rt(E);if(0===C.registrationStatus){const{installationEntry:O,registrationPromise:F}=yield It(E);return F||O}return C})).apply(this,arguments)}function Rt(E){return ft(E,C=>{if(!C)throw ge.create("installation-not-found");return pa(C)})}function pa(E){return function zr(E){return 1===E.registrationStatus&&E.registrationTime+1e4<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function di(E,C){return B.apply(this,arguments)}function B(){return(B=(0,k.Z)(function*({appConfig:E,platformLoggerProvider:C},O){const F=G(E,O),K=se(E,O),ne=C.getImmediate({optional:!0});ne&&K.append("x-firebase-client",ne.getPlatformInfoString());const Le={method:"POST",headers:K,body:JSON.stringify({installation:{sdkVersion:Q}})},ze=yield q(()=>fetch(F,Le));if(ze.ok)return Me(yield ze.json());throw yield Ce("Generate Auth Token",ze)})).apply(this,arguments)}function G(E,{fid:C}){return`${ce(E)}/${C}/authTokens:generate`}function $(E){return be.apply(this,arguments)}function be(){return(be=(0,k.Z)(function*(E,C=!1){let O;const F=yield ft(E.appConfig,ne=>{if(!un(ne))throw ge.create("not-registered");const Ae=ne.authToken;if(!C&&Kr(Ae))return ne;if(1===Ae.requestStatus)return O=X(E,C),ne;{if(!navigator.onLine)throw ge.create("app-offline");const Le=Hn(ne);return O=Xt(E,Le),Le}});return O?yield O:F.authToken})).apply(this,arguments)}function X(E,C){return We.apply(this,arguments)}function We(){return(We=(0,k.Z)(function*(E,C){let O=yield ht(E.appConfig);for(;1===O.authToken.requestStatus;)yield mt(100),O=yield ht(E.appConfig);const F=O.authToken;return 0===F.requestStatus?$(E,C):F})).apply(this,arguments)}function ht(E){return ft(E,C=>{if(!un(C))throw ge.create("not-registered");return function Ar(E){return 1===E.requestStatus&&E.requestTime+1e4<Date.now()}(C.authToken)?Object.assign(Object.assign({},C),{authToken:{requestStatus:0}}):C})}function Xt(E,C){return an.apply(this,arguments)}function an(){return(an=(0,k.Z)(function*(E,C){try{const O=yield di(E,C),F=Object.assign(Object.assign({},C),{authToken:O});return yield Wr(E.appConfig,F),O}catch(O){if(!Te(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const F=Object.assign(Object.assign({},C),{authToken:{requestStatus:0}});yield Wr(E.appConfig,F)}else yield In(E.appConfig);throw O}})).apply(this,arguments)}function un(E){return void 0!==E&&2===E.registrationStatus}function Kr(E){return 2===E.requestStatus&&!function Ct(E){const C=Date.now();return C<E.creationTime||E.creationTime+E.expiresIn<C+36e5}(E)}function Hn(E){const C={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:C})}function ma(){return(ma=(0,k.Z)(function*(E){const C=E,{installationEntry:O,registrationPromise:F}=yield It(C.appConfig);return F?F.catch(console.error):$(C).catch(console.error),O.fid})).apply(this,arguments)}function _a(){return(_a=(0,k.Z)(function*(E,C=!1){const O=E;return yield Gn(O.appConfig),(yield $(O,C)).token})).apply(this,arguments)}function Gn(E){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,k.Z)(function*(E){const{registrationPromise:C}=yield It(E);C&&(yield C)})).apply(this,arguments)}function Lo(E){return ge.create("missing-app-config-values",{valueName:E})}const Zr="installations",Et=E=>{const C=E.getProvider("app").getImmediate(),O=function cr(E){if(!E||!E.options)throw Lo("App Configuration");if(!E.name)throw Lo("App Name");const C=["projectId","apiKey","appId"];for(const O of C)if(!E.options[O])throw Lo(O);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(C);return{app:C,appConfig:O,platformLoggerProvider:(0,le._getProvider)(C,"platform-logger"),_delete:()=>Promise.resolve()}},on=E=>{const C=E.getProvider("app").getImmediate(),O=(0,le._getProvider)(C,Zr).getImmediate();return{getId:()=>function ga(E){return ma.apply(this,arguments)}(O),getToken:K=>function gl(E){return _a.apply(this,arguments)}(O,K)}};(function Or(){(0,le._registerComponent)(new pe.wA(Zr,Et,"PUBLIC")),(0,le._registerComponent)(new pe.wA("installations-internal",on,"PRIVATE"))})(),(0,le.registerVersion)(ae,j),(0,le.registerVersion)(ae,j,"esm2017");const as="@firebase/remote-config",yn=new te.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class jo{constructor(C,O,F,K){this.client=C,this.storage=O,this.storageCache=F,this.logger=K}isCachedDataFresh(C,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-O,K=F<=C;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${C}. Is cache hit: ${K}.`),K}fetch(C){var O=this;return(0,k.Z)(function*(){const[F,K]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(K&&O.isCachedDataFresh(C.cacheMaxAgeMillis,F))return K;C.eTag=K&&K.eTag;const ne=yield O.client.fetch(C),Ae=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ne.status&&Ae.push(O.storage.setLastSuccessfulFetchResponse(ne)),yield Promise.all(Ae),ne})()}}function _l(E=navigator){return E.languages&&E.languages[0]||E.language}class Fn{constructor(C,O,F,K,ne,Ae){this.firebaseInstallations=C,this.sdkVersion=O,this.namespace=F,this.projectId=K,this.apiKey=ne,this.appId=Ae}fetch(C){var O=this;return(0,k.Z)(function*(){const[F,K]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),Ae=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,Le={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":C.eTag||"*"},ze={sdk_version:O.sdkVersion,app_instance_id:F,app_instance_id_token:K,app_id:O.appId,language_code:_l()},Ot={method:"POST",headers:Le,body:JSON.stringify(ze)},Lt=fetch(Ae,Ot),zn=new Promise((Es,Lr)=>{C.signal.addEventListener(()=>{const kl=new Error("The operation was aborted.");kl.name="AbortError",Lr(kl)})});let sr;try{yield Promise.race([Lt,zn]),sr=yield Lt}catch(Es){let Lr="fetch-client-network";throw"AbortError"===Es.name&&(Lr="fetch-timeout"),yn.create(Lr,{originalErrorMessage:Es.message})}let hn=sr.status;const no=sr.headers.get("ETag")||void 0;let Fr,wr;if(200===sr.status){let Es;try{Es=yield sr.json()}catch(Lr){throw yn.create("fetch-client-parse",{originalErrorMessage:Lr.message})}Fr=Es.entries,wr=Es.state}if("INSTANCE_STATE_UNSPECIFIED"===wr?hn=500:"NO_CHANGE"===wr?hn=304:("NO_TEMPLATE"===wr||"EMPTY_CONFIG"===wr)&&(Fr={}),304!==hn&&200!==hn)throw yn.create("fetch-status",{httpStatus:hn});return{status:hn,eTag:no,config:Fr}})()}}class us{constructor(C,O){this.client=C,this.storage=O}fetch(C){var O=this;return(0,k.Z)(function*(){const F=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(C,F)})()}attemptFetch(C,{throttleEndTimeMillis:O,backoffCount:F}){var K=this;return(0,k.Z)(function*(){yield function Vc(E,C){return new Promise((O,F)=>{const K=Math.max(C-Date.now(),0),ne=setTimeout(O,K);E.addEventListener(()=>{clearTimeout(ne),F(yn.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(C.signal,O);try{const ne=yield K.client.fetch(C);return yield K.storage.deleteThrottleMetadata(),ne}catch(ne){if(!function eg(E){if(!(E instanceof te.ZR&&E.customData))return!1;const C=Number(E.customData.httpStatus);return 429===C||500===C||503===C||504===C}(ne))throw ne;const Ae={throttleEndTimeMillis:Date.now()+(0,te.$s)(F),backoffCount:F+1};return yield K.storage.setThrottleMetadata(Ae),K.attemptFetch(C,Ae)}})()}}class ng{constructor(C,O,F,K,ne){this.app=C,this._client=O,this._storageCache=F,this._storage=K,this._logger=ne,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function va(E,C){const O=E.target.error||void 0;return yn.create(C,{originalErrorMessage:O&&O.message})}const Ho="app_namespace_store";class jc{constructor(C,O,F,K=function ig(){return new Promise((E,C)=>{try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=F=>{C(va(F,"storage-open"))},O.onsuccess=F=>{E(F.target.result)},O.onupgradeneeded=F=>{0===F.oldVersion&&F.target.result.createObjectStore(Ho,{keyPath:"compositeKey"})}}catch(O){C(yn.create("storage-open",{originalErrorMessage:O}))}})}()){this.appId=C,this.appName=O,this.namespace=F,this.openDbPromise=K}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(C){return this.set("last_fetch_status",C)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(C){return this.set("last_successful_fetch_timestamp_millis",C)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(C){return this.set("last_successful_fetch_response",C)}getActiveConfig(){return this.get("active_config")}setActiveConfig(C){return this.set("active_config",C)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(C){return this.set("active_config_etag",C)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(C){return this.set("throttle_metadata",C)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(C){var O=this;return(0,k.Z)(function*(){const F=yield O.openDbPromise;return new Promise((K,ne)=>{const Le=F.transaction([Ho],"readonly").objectStore(Ho),ze=O.createCompositeKey(C);try{const Ot=Le.get(ze);Ot.onerror=Lt=>{ne(va(Lt,"storage-get"))},Ot.onsuccess=Lt=>{const zn=Lt.target.result;K(zn?zn.value:void 0)}}catch(Ot){ne(yn.create("storage-get",{originalErrorMessage:Ot&&Ot.message}))}})})()}set(C,O){var F=this;return(0,k.Z)(function*(){const K=yield F.openDbPromise;return new Promise((ne,Ae)=>{const ze=K.transaction([Ho],"readwrite").objectStore(Ho),Ot=F.createCompositeKey(C);try{const Lt=ze.put({compositeKey:Ot,value:O});Lt.onerror=zn=>{Ae(va(zn,"storage-set"))},Lt.onsuccess=()=>{ne()}}catch(Lt){Ae(yn.create("storage-set",{originalErrorMessage:Lt&&Lt.message}))}})})()}delete(C){var O=this;return(0,k.Z)(function*(){const F=yield O.openDbPromise;return new Promise((K,ne)=>{const Le=F.transaction([Ho],"readwrite").objectStore(Ho),ze=O.createCompositeKey(C);try{const Ot=Le.delete(ze);Ot.onerror=Lt=>{ne(va(Lt,"storage-delete"))},Ot.onsuccess=()=>{K()}}catch(Ot){ne(yn.create("storage-delete",{originalErrorMessage:Ot&&Ot.message}))}})})()}createCompositeKey(C){return[this.appId,this.appName,this.namespace,C].join()}}class Go{constructor(C){this.storage=C}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var C=this;return(0,k.Z)(function*(){const O=C.storage.getLastFetchStatus(),F=C.storage.getLastSuccessfulFetchTimestampMillis(),K=C.storage.getActiveConfig(),ne=yield O;ne&&(C.lastFetchStatus=ne);const Ae=yield F;Ae&&(C.lastSuccessfulFetchTimestampMillis=Ae);const Le=yield K;Le&&(C.activeConfig=Le)})()}setLastFetchStatus(C){return this.lastFetchStatus=C,this.storage.setLastFetchStatus(C)}setLastSuccessfulFetchTimestampMillis(C){return this.lastSuccessfulFetchTimestampMillis=C,this.storage.setLastSuccessfulFetchTimestampMillis(C)}setActiveConfig(C){return this.activeConfig=C,this.storage.setActiveConfig(C)}}function U_(){return ba.apply(this,arguments)}function ba(){return(ba=(0,k.Z)(function*(){if(!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch(E){return!1}})).apply(this,arguments)}!function sg(){(0,le._registerComponent)(new pe.wA("remote-config",function E(C,{instanceIdentifier:O}){const F=C.getProvider("app").getImmediate(),K=C.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw yn.create("registration-window");if(!(0,te.hl)())throw yn.create("indexed-db-unavailable");const{projectId:ne,apiKey:Ae,appId:Le}=F.options;if(!ne)throw yn.create("registration-project-id");if(!Ae)throw yn.create("registration-api-key");if(!Le)throw yn.create("registration-app-id");const ze=new jc(Le,F.name,O=O||"firebase"),Ot=new Go(ze),Lt=new re.Yd(as);Lt.logLevel=re.in.ERROR;const zn=new Fn(K,le.SDK_VERSION,O,ne,Ae,Le),sr=new us(zn,ze),hn=new jo(sr,ze,Ot,Lt),no=new ng(F,hn,Ot,ze,Lt);return function Kt(E){const C=(0,te.m9)(E);C._initializePromise||(C._initializePromise=C._storageCache.loadFromStorage().then(()=>{C._isInitializationComplete=!0}))}(no),no},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(as,"0.3.4"),(0,le.registerVersion)(as,"0.3.4","esm2017")}();const Ks="/firebase-messaging-sw.js",pi="/firebase-cloud-messaging-push-scope",vo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Wo="google.c.a.c_id",Hc="google.c.a.c_l",og="google.c.a.ts",vn="google.c.a.e";var ds=(()=>{return(E=ds||(ds={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",ds;var E})();function gi(E){const C=new Uint8Array(E);return btoa(String.fromCharCode(...C)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function $c(E){const O=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(O),K=new Uint8Array(F.length);for(let ne=0;ne<F.length;++ne)K[ne]=F.charCodeAt(ne);return K}const dr="fcm_token_details_db",Wc="fcm_token_object_Store";function zc(E){return yl.apply(this,arguments)}function yl(){return yl=(0,k.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ne=>ne.name).includes(dr))return null;let C=null;return(yield(0,fe.openDb)(dr,5,function(){var F=(0,k.Z)(function*(K){var ne;if(K.oldVersion<2||!K.objectStoreNames.contains(Wc))return;const Ae=K.transaction.objectStore(Wc),Le=yield Ae.index("fcmSenderId").get(E);if(yield Ae.clear(),Le)if(2===K.oldVersion){const ze=Le;if(!ze.auth||!ze.p256dh||!ze.endpoint)return;C={token:ze.fcmToken,createTime:null!==(ne=ze.createTime)&&void 0!==ne?ne:Date.now(),subscriptionOptions:{auth:ze.auth,p256dh:ze.p256dh,endpoint:ze.endpoint,swScope:ze.swScope,vapidKey:"string"==typeof ze.vapidKey?ze.vapidKey:gi(ze.vapidKey)}}}else if(3===K.oldVersion){const ze=Le;C={token:ze.fcmToken,createTime:ze.createTime,subscriptionOptions:{auth:gi(ze.auth),p256dh:gi(ze.p256dh),endpoint:ze.endpoint,swScope:ze.swScope,vapidKey:gi(ze.vapidKey)}}}else if(4===K.oldVersion){const ze=Le;C={token:ze.fcmToken,createTime:ze.createTime,subscriptionOptions:{auth:gi(ze.auth),p256dh:gi(ze.p256dh),endpoint:ze.endpoint,swScope:ze.swScope,vapidKey:gi(ze.vapidKey)}}}});return function(K){return F.apply(this,arguments)}}())).close(),yield(0,fe.deleteDb)(dr),yield(0,fe.deleteDb)("fcm_vapid_details_db"),yield(0,fe.deleteDb)("undefined"),vl(C)?C:null}),yl.apply(this,arguments)}function vl(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:C}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof C.auth&&C.auth.length>0&&"string"==typeof C.p256dh&&C.p256dh.length>0&&"string"==typeof C.endpoint&&C.endpoint.length>0&&"string"==typeof C.swScope&&C.swScope.length>0&&"string"==typeof C.vapidKey&&C.vapidKey.length>0}const hs="firebase-messaging-store";let pu=null;function en(){return pu||(pu=(0,fe.openDb)("firebase-messaging-database",1,E=>{0===E.oldVersion&&E.createObjectStore(hs)})),pu}function wa(E){return qs.apply(this,arguments)}function qs(){return(qs=(0,k.Z)(function*(E){const C=tr(E),F=yield(yield en()).transaction(hs).objectStore(hs).get(C);if(F)return F;{const K=yield zc(E.appConfig.senderId);if(K)return yield qt(E,K),K}})).apply(this,arguments)}function qt(E,C){return wl.apply(this,arguments)}function wl(){return(wl=(0,k.Z)(function*(E,C){const O=tr(E),K=(yield en()).transaction(hs,"readwrite");return yield K.objectStore(hs).put(C,O),yield K.complete,C})).apply(this,arguments)}function Da(E){return bo.apply(this,arguments)}function bo(){return(bo=(0,k.Z)(function*(E){const C=tr(E),F=(yield en()).transaction(hs,"readwrite");yield F.objectStore(hs).delete(C),yield F.complete})).apply(this,arguments)}function tr({appConfig:E}){return E.appId}const bn=new te.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function fs(E,C){return nr.apply(this,arguments)}function nr(){return(nr=(0,k.Z)(function*(E,C){const O=yield Ys(E),F=Ea(C),K={method:"POST",headers:O,body:JSON.stringify(F)};let ne;try{ne=yield(yield fetch(Zs(E.appConfig),K)).json()}catch(Ae){throw bn.create("token-subscribe-failed",{errorInfo:Ae})}if(ne.error)throw bn.create("token-subscribe-failed",{errorInfo:ne.error.message});if(!ne.token)throw bn.create("token-subscribe-no-token");return ne.token})).apply(this,arguments)}function zo(E,C){return Li.apply(this,arguments)}function Li(){return(Li=(0,k.Z)(function*(E,C){const O=yield Ys(E),F=Ea(C.subscriptionOptions),K={method:"PATCH",headers:O,body:JSON.stringify(F)};let ne;try{ne=yield(yield fetch(`${Zs(E.appConfig)}/${C.token}`,K)).json()}catch(Ae){throw bn.create("token-update-failed",{errorInfo:Ae})}if(ne.error)throw bn.create("token-update-failed",{errorInfo:ne.error.message});if(!ne.token)throw bn.create("token-update-no-token");return ne.token})).apply(this,arguments)}function gu(E,C){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,k.Z)(function*(E,C){const F={method:"DELETE",headers:yield Ys(E)};try{const ne=yield(yield fetch(`${Zs(E.appConfig)}/${C}`,F)).json();if(ne.error)throw bn.create("token-unsubscribe-failed",{errorInfo:ne.error.message})}catch(K){throw bn.create("token-unsubscribe-failed",{errorInfo:K})}})).apply(this,arguments)}function Zs({projectId:E}){return`https://fcmregistrations.googleapis.com/v1/projects/${E}/registrations`}function Ys(E){return lt.apply(this,arguments)}function lt(){return(lt=(0,k.Z)(function*({appConfig:E,installations:C}){const O=yield C.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function Ea({p256dh:E,auth:C,endpoint:O,vapidKey:F}){const K={web:{endpoint:O,auth:C,p256dh:E}};return F!==vo&&(K.web.applicationPubKey=F),K}const Ta=6048e5;function Kc(E){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,k.Z)(function*(E){const C=yield wn(E.swRegistration,E.vapidKey),O={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:C.endpoint,auth:gi(C.getKey("auth")),p256dh:gi(C.getKey("p256dh"))},F=yield wa(E.firebaseDependencies);if(F){if(Aa(F.subscriptionOptions,O))return Date.now()>=F.createTime+Ta?Hh(E,{token:F.token,createTime:Date.now(),subscriptionOptions:O}):F.token;try{yield gu(E.firebaseDependencies,F.token)}catch(K){console.warn(K)}return At(E.firebaseDependencies,O)}return At(E.firebaseDependencies,O)})).apply(this,arguments)}function mu(E){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,k.Z)(function*(E){const C=yield wa(E.firebaseDependencies);C&&(yield gu(E.firebaseDependencies,C.token),yield Da(E.firebaseDependencies));const O=yield E.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()})).apply(this,arguments)}function Hh(E,C){return De.apply(this,arguments)}function De(){return(De=(0,k.Z)(function*(E,C){try{const O=yield zo(E.firebaseDependencies,C),F=Object.assign(Object.assign({},C),{token:O,createTime:Date.now()});return yield qt(E.firebaseDependencies,F),O}catch(O){throw yield mu(E),O}})).apply(this,arguments)}function At(E,C){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,k.Z)(function*(E,C){const F={token:yield fs(E,C),createTime:Date.now(),subscriptionOptions:C};return yield qt(E,F),F.token})).apply(this,arguments)}function wn(E,C){return Js.apply(this,arguments)}function Js(){return(Js=(0,k.Z)(function*(E,C){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:$c(C)})})).apply(this,arguments)}function Aa(E,C){return C.vapidKey===E.vapidKey&&C.endpoint===E.endpoint&&C.auth===E.auth&&C.p256dh===E.p256dh}function Mr(E){const C={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function _u(E,C){if(!C.notification)return;E.notification={};const O=C.notification.title;O&&(E.notification.title=O);const F=C.notification.body;F&&(E.notification.body=F);const K=C.notification.image;K&&(E.notification.image=K)}(C,E),function yu(E,C){!C.data||(E.data=C.data)}(C,E),function qc(E,C){if(!C.fcmOptions)return;E.fcmOptions={};const O=C.fcmOptions.link;O&&(E.fcmOptions.link=O);const F=C.fcmOptions.analytics_label;F&&(E.fcmOptions.analyticsLabel=F)}(C,E),C}function Zc(E){return"object"==typeof E&&!!E&&Wo in E}function Na(E,C){const O=[];for(let F=0;F<E.length;F++)O.push(E.charAt(F)),F<C.length&&O.push(C.charAt(F));return O.join("")}function Wn(E){return bn.create("missing-app-config-values",{valueName:E})}Na("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Na("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ii{constructor(C,O,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const K=function Ko(E){if(!E||!E.options)throw Wn("App Configuration Object");if(!E.name)throw Wn("App Name");const C=["projectId","apiKey","appId","messagingSenderId"],{options:O}=E;for(const F of C)if(!O[F])throw Wn(F);return{appName:E.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(C);this.firebaseDependencies={app:C,appConfig:K,installations:O,analyticsProvider:F}}_delete(){return Promise.resolve()}}function vu(E){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,k.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(Ks,{scope:pi}),E.swRegistration.update().catch(()=>{})}catch(C){throw bn.create("failed-service-worker-registration",{browserErrorMessage:C.message})}})).apply(this,arguments)}function ps(E,C){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,k.Z)(function*(E,C){if(!C&&!E.swRegistration&&(yield vu(E)),C||!E.swRegistration){if(!(C instanceof ServiceWorkerRegistration))throw bn.create("invalid-sw-registration");E.swRegistration=C}})).apply(this,arguments)}function Yc(E,C){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,k.Z)(function*(E,C){C?E.vapidKey=C:E.vapidKey||(E.vapidKey=vo)})).apply(this,arguments)}function wo(){return(wo=(0,k.Z)(function*(E,C){if(!navigator)throw bn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw bn.create("permission-blocked");return yield Yc(E,null==C?void 0:C.vapidKey),yield ps(E,null==C?void 0:C.serviceWorkerRegistration),Kc(E)})).apply(this,arguments)}function bu(E,C,O){return xa.apply(this,arguments)}function xa(){return(xa=(0,k.Z)(function*(E,C,O){const F=wu(C);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:O[Wo],message_name:O[Hc],message_time:O[og],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function wu(E){switch(E){case ds.NOTIFICATION_CLICKED:return"notification_open";case ds.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function El(){return(El=(0,k.Z)(function*(E,C){const O=C.data;if(!O.isFirebaseMessaging)return;E.onMessageHandler&&O.messageType===ds.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(Mr(O)):E.onMessageHandler.next(Mr(O)));const F=O.data;Zc(F)&&"1"===F[vn]&&(yield bu(E,O.messageType,F))})).apply(this,arguments)}const Do="@firebase/messaging",Eo=E=>{const C=new Ii(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function ag(E,C){return El.apply(this,arguments)}(C,O)),C},Qc=E=>{const C=E.getProvider("messaging").getImmediate();return{getToken:F=>function Jc(E,C){return wo.apply(this,arguments)}(C,F)}};function qo(){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,k.Z)(function*(){try{yield(0,te.eu)()}catch(E){return!1}return"undefined"!=typeof window&&(0,te.hl)()&&(0,te.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Gh(){(0,le._registerComponent)(new pe.wA("messaging",Eo,"PUBLIC")),(0,le._registerComponent)(new pe.wA("messaging-internal",Qc,"PRIVATE")),(0,le.registerVersion)(Do,"0.9.8"),(0,le.registerVersion)(Do,"0.9.8","esm2017")}();const Xc="analytics",Eu="firebase_id",Tu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Tl="https://www.googletagmanager.com/gtag/js",ir=new re.Yd("@firebase/analytics");function zh(E){return Promise.all(E.map(C=>C.catch(O=>O)))}function _s(E,C){const O=document.createElement("script");O.src=`${Tl}?l=${E}&id=${C}`,O.async=!0,document.head.appendChild(O)}function lg(E,C,O,F,K,ne){return ka.apply(this,arguments)}function ka(){return(ka=(0,k.Z)(function*(E,C,O,F,K,ne){const Ae=F[K];try{if(Ae)yield C[Ae];else{const ze=(yield zh(O)).find(Ot=>Ot.measurementId===K);ze&&(yield C[ze.appId])}}catch(Le){ir.error(Le)}E("config",K,ne)})).apply(this,arguments)}function Pa(E,C,O,F,K){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,k.Z)(function*(E,C,O,F,K){try{let ne=[];if(K&&K.send_to){let Ae=K.send_to;Array.isArray(Ae)||(Ae=[Ae]);const Le=yield zh(O);for(const ze of Ae){const Ot=Le.find(zn=>zn.measurementId===ze),Lt=Ot&&C[Ot.appId];if(!Lt){ne=[];break}ne.push(Lt)}}0===ne.length&&(ne=Object.values(C)),yield Promise.all(ne),E("event",F,K||{})}catch(ne){ir.error(ne)}})).apply(this,arguments)}function An(){const E=window.document.getElementsByTagName("script");for(const C of Object.values(E))if(C.src&&C.src.includes(Tl))return C;return null}const br=new te.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Qs=new class Il{constructor(C={},O=1e3){this.throttleMetadata=C,this.intervalMillis=O}getThrottleMetadata(C){return this.throttleMetadata[C]}setThrottleMetadata(C,O){this.throttleMetadata[C]=O}deleteThrottleMetadata(C){delete this.throttleMetadata[C]}};function ed(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function kt(E){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,k.Z)(function*(E){var C;const{appId:O,apiKey:F}=E,K={method:"GET",headers:ed(F)},ne=Tu.replace("{app-id}",O),Ae=yield fetch(ne,K);if(200!==Ae.status&&304!==Ae.status){let Le="";try{const ze=yield Ae.json();(null===(C=ze.error)||void 0===C?void 0:C.message)&&(Le=ze.error.message)}catch(ze){}throw br.create("config-fetch-failed",{httpStatus:Ae.status,responseMessage:Le})}return Ae.json()})).apply(this,arguments)}function tn(E){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,k.Z)(function*(E,C=Qs,O){const{appId:F,apiKey:K,measurementId:ne}=E.options;if(!F)throw br.create("no-app-id");if(!K){if(ne)return{measurementId:ne,appId:F};throw br.create("no-api-key")}const Ae=C.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Le=new qh;return setTimeout((0,k.Z)(function*(){Le.abort()}),void 0!==O?O:6e4),To({appId:F,apiKey:K,measurementId:ne},Ae,Le,C)})).apply(this,arguments)}function To(E,C,O){return td.apply(this,arguments)}function td(){return(td=(0,k.Z)(function*(E,{throttleEndTimeMillis:C,backoffCount:O},F,K=Qs){const{appId:ne,measurementId:Ae}=E;try{yield Sl(F,C)}catch(Le){if(Ae)return ir.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ae} provided in the "measurementId" field in the local Firebase config. [${Le.message}]`),{appId:ne,measurementId:Ae};throw Le}try{const Le=yield kt(E);return K.deleteThrottleMetadata(ne),Le}catch(Le){if(!Al(Le)){if(K.deleteThrottleMetadata(ne),Ae)return ir.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ae} provided in the "measurementId" field in the local Firebase config. [${Le.message}]`),{appId:ne,measurementId:Ae};throw Le}const ze=503===Number(Le.customData.httpStatus)?(0,te.$s)(O,K.intervalMillis,30):(0,te.$s)(O,K.intervalMillis),Ot={throttleEndTimeMillis:Date.now()+ze,backoffCount:O+1};return K.setThrottleMetadata(ne,Ot),ir.debug(`Calling attemptFetch again in ${ze} millis`),To(E,Ot,F,K)}})).apply(this,arguments)}function Sl(E,C){return new Promise((O,F)=>{const K=Math.max(C-Date.now(),0),ne=setTimeout(O,K);E.addEventListener(()=>{clearTimeout(ne),F(br.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}function Al(E){if(!(E instanceof te.ZR&&E.customData))return!1;const C=Number(E.customData.httpStatus);return 429===C||500===C||503===C||504===C}class qh{constructor(){this.listeners=[]}addEventListener(C){this.listeners.push(C)}abort(){this.listeners.forEach(C=>C())}}function Fa(){return xr.apply(this,arguments)}function xr(){return(xr=(0,k.Z)(function*(){if(!(0,te.hl)())return ir.warn(br.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,te.eu)()}catch(E){return ir.warn(br.create("indexeddb-unavailable",{errorInfo:E}).message),!1}return!0})).apply(this,arguments)}function Xs(){return(Xs=(0,k.Z)(function*(E,C,O,F,K,ne,Ae){var Le;const ze=tn(E);ze.then(hn=>{O[hn.measurementId]=hn.appId,E.options.measurementId&&hn.measurementId!==E.options.measurementId&&ir.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${hn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(hn=>ir.error(hn)),C.push(ze);const Ot=Fa().then(hn=>{if(hn)return F.getId()}),[Lt,zn]=yield Promise.all([ze,Ot]);An()||_s(ne,Lt.measurementId),K("js",new Date);const sr=null!==(Le=null==Ae?void 0:Ae.config)&&void 0!==Le?Le:{};return sr.origin="firebase",sr.update=!0,null!=zn&&(sr[Eu]=zn),K("config",Lt.measurementId,sr),Lt.measurementId})).apply(this,arguments)}class La{constructor(C){this.app=C}_delete(){return delete Rr[this.app.options.appId],Promise.resolve()}}let Rr={},Iu=[];const Va={};let Ba,Nn,eo="dataLayer",ji=!1;function rd(E,C,O){!function vs(){const E=[];if((0,te.ru)()&&E.push("This is a browser extension environment."),(0,te.zI)()||E.push("Cookies are not available."),E.length>0){const C=E.map((F,K)=>`(${K+1}) ${F}`).join(" "),O=br.create("invalid-analytics-context",{errorInfo:C});ir.warn(O.message)}}();const F=E.options.appId;if(!F)throw br.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw br.create("no-api-key");ir.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Rr[F])throw br.create("already-exists",{id:F});if(!ji){!function Zo(E){let C=[];Array.isArray(window[E])?C=window[E]:window[E]=C}(eo);const{wrappedGtag:ne,gtagCore:Ae}=function ug(E,C,O,F,K){let ne=function(...Ae){window[F].push(arguments)};return window[K]&&"function"==typeof window[K]&&(ne=window[K]),window[K]=function Kh(E,C,O,F){function ne(){return(ne=(0,k.Z)(function*(Ae,Le,ze){try{"event"===Ae?yield Pa(E,C,O,Le,ze):"config"===Ae?yield lg(E,C,O,F,Le,ze):E("set",Le)}catch(Ot){ir.error(Ot)}})).apply(this,arguments)}return function K(Ae,Le,ze){return ne.apply(this,arguments)}}(ne,E,C,O),{gtagCore:ne,wrappedGtag:window[K]}}(Rr,Iu,Va,eo,"gtag");Nn=ne,Ba=Ae,ji=!0}return Rr[F]=function Ln(E,C,O,F,K,ne,Ae){return Xs.apply(this,arguments)}(E,Iu,Va,C,Ba,eo,O),new La(E)}function Ua(){return(Ua=(0,k.Z)(function*(E,C,O,F,K){if(K&&K.global)E("event",O,F);else{const ne=yield C;E("event",O,Object.assign(Object.assign({},F),{send_to:ne}))}})).apply(this,arguments)}function id(){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,k.Z)(function*(){if((0,te.ru)()||!(0,te.zI)()||!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch(E){return!1}})).apply(this,arguments)}const ad="@firebase/analytics";!function ud(){(0,le._registerComponent)(new pe.wA(Xc,(C,{options:O})=>rd(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,le._registerComponent)(new pe.wA("analytics-internal",function E(C){try{const O=C.getProvider(Xc).getImmediate();return{logEvent:(F,K,ne)=>function od(E,C,O,F){E=(0,te.m9)(E),function Su(E,C,O,F,K){return Ua.apply(this,arguments)}(Nn,Rr[E.app.options.appId],C,O,F).catch(K=>ir.error(K))}(O,F,K,ne)}}catch(O){throw br.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,le.registerVersion)(ad,"0.7.5"),(0,le.registerVersion)(ad,"0.7.5","esm2017")}();var Gi=R(4408),gn=R(7565);const kr=new class Ol extends gn.v{}(class Yh extends Gi.o{constructor(C,O){super(C,O),this.scheduler=C,this.work=O}schedule(C,O=0){return O>0?super.schedule(C,O):(this.delay=O,this.state=C,this.scheduler.flush(this),this)}execute(C,O){return O>0||this.closed?super.execute(C,O):this._execute(C,O)}requestAsyncId(C,O,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(C,O,F):C.flush(this)}});var Ml=R(4986),Pr=R(8505),Si=R(9468),Nu=R(5363);const Ao=new c.GfV("7.2.1"),Qr="__angularfire_symbol__analyticsIsSupportedValue",Xr="__angularfire_symbol__analyticsIsSupported",$a="__angularfire_symbol__remoteConfigIsSupportedValue",Wa="__angularfire_symbol__remoteConfigIsSupported",cd="__angularfire_symbol__messagingIsSupportedValue",Jh="__angularfire_symbol__messagingIsSupported";function Xh(E,C,O){if(C){if(1===C.length)return C[0];const ne=C.filter(Ae=>Ae.app===O);if(1===ne.length)return ne[0]}return O.container.getProvider(E).getImmediate({optional:!0})}globalThis[Xr]||(globalThis[Xr]=id().then(E=>globalThis[Qr]=E).catch(()=>globalThis[Qr]=!1)),globalThis[Jh]||(globalThis[Jh]=qo().then(E=>globalThis[cd]=E).catch(()=>globalThis[cd]=!1)),globalThis[Wa]||(globalThis[Wa]=U_().then(E=>globalThis[$a]=E).catch(()=>globalThis[$a]=!1));const dd=(E,C)=>{const O=C?[C]:(0,Y.C6)(),F=[];return O.forEach(K=>{K.container.getProvider(E).instances.forEach(Ae=>{F.includes(Ae)||F.push(Ae)})}),F};function ws(){}class hd{constructor(C,O=kr){this.zone=C,this.delegate=O}now(){return this.delegate.now()}schedule(C,O,F){const K=this.zone;return this.delegate.schedule(function(Ae){K.runGuarded(()=>{C.apply(this,[Ae])})},O,F)}}class Ou{constructor(C){this.zone=C,this.task=null}call(C,O){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ws,{},ws,ws)),O.pipe((0,Pr.b)({next:F,complete:F,error:F})).subscribe(C).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Mu=(()=>{class E{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new hd(Zone.current)),this.insideAngular=O.run(()=>new hd(Zone.current,Ml.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(O){return new(O||E)(c.LFG(c.R0b))},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function $i(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function Wi(E){return $i(),function to(E){return function(O){return(O=O.lift(new Ou(E.ngZone))).pipe((0,Si.R)(E.outsideAngular),(0,Nu.Q)(E.insideAngular))}}($i())(E)}},2090:(et,we,R)=>{"use strict";R.d(we,{BH:()=>Be,LL:()=>de,ZR:()=>xe,zI:()=>ie,US:()=>pe,tV:()=>ae,$s:()=>Rt,r3:()=>ki,Sg:()=>Ie,ne:()=>Fi,vZ:()=>ur,ZB:()=>U,pd:()=>Gs,m9:()=>di,z$:()=>Oe,jU:()=>ee,ru:()=>ge,d:()=>ce,xb:()=>Nt,w1:()=>Me,hl:()=>se,uI:()=>Ve,UG:()=>z,b$:()=>Te,G6:()=>$e,Mn:()=>Ce,xO:()=>Sr,zd:()=>Pi,eu:()=>q});const le=function(B){const G=[];let $=0;for(let be=0;be<B.length;be++){let X=B.charCodeAt(be);X<128?G[$++]=X:X<2048?(G[$++]=X>>6|192,G[$++]=63&X|128):55296==(64512&X)&&be+1<B.length&&56320==(64512&B.charCodeAt(be+1))?(X=65536+((1023&X)<<10)+(1023&B.charCodeAt(++be)),G[$++]=X>>18|240,G[$++]=X>>12&63|128,G[$++]=X>>6&63|128,G[$++]=63&X|128):(G[$++]=X>>12|224,G[$++]=X>>6&63|128,G[$++]=63&X|128)}return G},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(B,G){if(!Array.isArray(B))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,be=[];for(let X=0;X<B.length;X+=3){const We=B[X],ht=X+1<B.length,Xt=ht?B[X+1]:0,an=X+2<B.length,un=an?B[X+2]:0;let Hn=(15&Xt)<<2|un>>6,Ar=63&un;an||(Ar=64,ht||(Hn=64)),be.push($[We>>2],$[(3&We)<<4|Xt>>4],$[Hn],$[Ar])}return be.join("")},encodeString(B,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(B):this.encodeByteArray(le(B),G)},decodeString(B,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(B):function(B){const G=[];let $=0,be=0;for(;$<B.length;){const X=B[$++];if(X<128)G[be++]=String.fromCharCode(X);else if(X>191&&X<224){const We=B[$++];G[be++]=String.fromCharCode((31&X)<<6|63&We)}else if(X>239&&X<365){const an=((7&X)<<18|(63&B[$++])<<12|(63&B[$++])<<6|63&B[$++])-65536;G[be++]=String.fromCharCode(55296+(an>>10)),G[be++]=String.fromCharCode(56320+(1023&an))}else{const We=B[$++],ht=B[$++];G[be++]=String.fromCharCode((15&X)<<12|(63&We)<<6|63&ht)}}return G.join("")}(this.decodeStringToByteArray(B,G))},decodeStringToByteArray(B,G){this.init_();const $=G?this.charToByteMapWebSafe_:this.charToByteMap_,be=[];for(let X=0;X<B.length;){const We=$[B.charAt(X++)],Xt=X<B.length?$[B.charAt(X)]:0;++X;const un=X<B.length?$[B.charAt(X)]:64;++X;const Ct=X<B.length?$[B.charAt(X)]:64;if(++X,null==We||null==Xt||null==un||null==Ct)throw Error();be.push(We<<2|Xt>>4),64!==un&&(be.push(Xt<<4&240|un>>2),64!==Ct&&be.push(un<<6&192|Ct))}return be},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let B=0;B<this.ENCODED_VALS.length;B++)this.byteToCharMap_[B]=this.ENCODED_VALS.charAt(B),this.charToByteMap_[this.byteToCharMap_[B]]=B,this.byteToCharMapWebSafe_[B]=this.ENCODED_VALS_WEBSAFE.charAt(B),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[B]]=B,B>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(B)]=B,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(B)]=B)}}},fe=function(B){return function(B){const G=le(B);return pe.encodeByteArray(G,!0)}(B).replace(/\./g,"")},ae=function(B){try{return pe.decodeString(B,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function U(B,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===B&&(B={});break;case Array:B=[];break;default:return G}for(const $ in G)!G.hasOwnProperty($)||!Q($)||(B[$]=U(B[$],G[$]));return B}function Q(B){return"__proto__"!==B}class Be{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,$)=>{this.resolve=G,this.reject=$})}wrapCallback(G){return($,be)=>{$?this.reject($):this.resolve(be),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G($):G($,be))}}}function Ie(B,G){if(B.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const be=G||"demo-project",X=B.iat||0,We=B.sub||B.user_id;if(!We)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ht=Object.assign({iss:`https://securetoken.google.com/${be}`,aud:be,iat:X,exp:X+3600,auth_time:X,sub:We,user_id:We,firebase:{sign_in_provider:"custom",identities:{}}},B);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(ht)),""].join(".")}function Oe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ve(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oe())}function z(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(B){return!1}}function ee(){return"object"==typeof self&&self.self===self}function ge(){const B="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof B&&void 0!==B.id}function Te(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ce(){return Oe().indexOf("Electron/")>=0}function Me(){const B=Oe();return B.indexOf("MSIE ")>=0||B.indexOf("Trident/")>=0}function Ce(){return Oe().indexOf("MSAppHost/")>=0}function $e(){return!z()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function se(){return"object"==typeof indexedDB}function q(){return new Promise((B,G)=>{try{let $=!0;const be="validate-browser-context-for-indexeddb-analytics-module",X=self.indexedDB.open(be);X.onsuccess=()=>{X.result.close(),$||self.indexedDB.deleteDatabase(be),B(!0)},X.onupgradeneeded=()=>{$=!1},X.onerror=()=>{var We;G((null===(We=X.error)||void 0===We?void 0:We.message)||"")}}catch($){G($)}})}function ie(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class xe extends Error{constructor(G,$,be){super($),this.code=G,this.customData=be,this.name="FirebaseError",Object.setPrototypeOf(this,xe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,de.prototype.create)}}class de{constructor(G,$,be){this.service=G,this.serviceName=$,this.errors=be}create(G,...$){const be=$[0]||{},X=`${this.service}/${G}`,We=this.errors[G],ht=We?function mt(B,G){return B.replace(Bt,($,be)=>{const X=G[be];return null!=X?String(X):`<${be}?>`})}(We,be):"Error";return new xe(X,`${this.serviceName}: ${ht} (${X}).`,be)}}const Bt=/\{\$([^}]+)}/g;function ki(B,G){return Object.prototype.hasOwnProperty.call(B,G)}function Nt(B){for(const G in B)if(Object.prototype.hasOwnProperty.call(B,G))return!1;return!0}function ur(B,G){if(B===G)return!0;const $=Object.keys(B),be=Object.keys(G);for(const X of $){if(!be.includes(X))return!1;const We=B[X],ht=G[X];if(Hs(We)&&Hs(ht)){if(!ur(We,ht))return!1}else if(We!==ht)return!1}for(const X of be)if(!$.includes(X))return!1;return!0}function Hs(B){return null!==B&&"object"==typeof B}function Sr(B){const G=[];for(const[$,be]of Object.entries(B))Array.isArray(be)?be.forEach(X=>{G.push(encodeURIComponent($)+"="+encodeURIComponent(X))}):G.push(encodeURIComponent($)+"="+encodeURIComponent(be));return G.length?"&"+G.join("&"):""}function Pi(B){const G={};return B.replace(/^\?/,"").split("&").forEach(be=>{if(be){const[X,We]=be.split("=");G[decodeURIComponent(X)]=decodeURIComponent(We)}}),G}function Gs(B){const G=B.indexOf("?");if(!G)return"";const $=B.indexOf("#",G);return B.substring(G,$>0?$:void 0)}function Fi(B,G){const $=new dt(B,G);return $.subscribe.bind($)}class dt{constructor(G,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{G(this)}).catch(be=>{this.error(be)})}next(G){this.forEachObserver($=>{$.next(G)})}error(G){this.forEachObserver($=>{$.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,$,be){let X;if(void 0===G&&void 0===$&&void 0===be)throw new Error("Missing Observer.");X=function jn(B,G){if("object"!=typeof B||null===B)return!1;for(const $ of G)if($ in B&&"function"==typeof B[$])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:$,complete:be},void 0===X.next&&(X.next=In),void 0===X.error&&(X.error=In),void 0===X.complete&&(X.complete=In);const We=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?X.error(this.finalError):X.complete()}catch(ht){}}),this.observers.push(X),We}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,G)}sendOne(G,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{$(this.observers[G])}catch(be){"undefined"!=typeof console&&console.error&&console.error(be)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function In(){}function Rt(B,G=1e3,$=2){const be=G*Math.pow($,B),X=Math.round(.5*be*(Math.random()-.5)*2);return Math.min(144e5,be+X)}function di(B){return B&&B._delegate?B._delegate:B}},1675:(et,we,R)=>{"use strict";var c=R(5e3);let Y=null;function k(){return Y}const re=new c.OlP("DocumentToken");let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function ae(){return(0,c.LFG)(U)}()},providedIn:"platform"}),n})();const j=new c.OlP("Location Initialized");let U=(()=>{class n extends fe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){Q()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){Q()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Be(){return new U((0,c.LFG)(re))}()},providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function Ie(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Oe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ve(n){return n&&"?"!==n[0]?"?"+n:n}let z=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function ee(n){const e=(0,c.LFG)(re).location;return new Te((0,c.LFG)(fe),e&&e.origin||"")}()},providedIn:"root"}),n})();const ge=new c.OlP("appBaseHref");let Te=(()=>{class n extends z{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ie(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ve(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,l){const h=this.prepareExternalUrl(i+Ve(l));this._platformLocation.pushState(t,r,h)}replaceState(t,r,i,l){const h=this.prepareExternalUrl(i+Ve(l));this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fe),c.LFG(ge,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),ce=(()=>{class n extends z{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ie(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,l){let h=this.prepareExternalUrl(i+Ve(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(t,r,h)}replaceState(t,r,i,l){let h=this.prepareExternalUrl(i+Ve(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fe),c.LFG(ge,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Me=(()=>{class n{constructor(t,r){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Oe($e(i)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ve(r))}normalize(t){return n.stripTrailingSlash(function Ke(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,$e(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ve(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ve(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ve,n.joinWithSlash=Ie,n.stripTrailingSlash=Oe,n.\u0275fac=function(t){return new(t||n)(c.LFG(z),c.LFG(fe))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ce(){return new Me((0,c.LFG)(z),(0,c.LFG)(fe))}()},providedIn:"root"}),n})();function $e(n){return n.replace(/\/index.html$/,"")}var ie=(()=>((ie=ie||{})[ie.Zero=0]="Zero",ie[ie.One=1]="One",ie[ie.Two=2]="Two",ie[ie.Few=3]="Few",ie[ie.Many=4]="Many",ie[ie.Other=5]="Other",ie))();const Gs=c.kL8;class Ut{}let yn=(()=>{class n extends Ut{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(Gs(r||this.locale)(t)){case ie.Zero:return"zero";case ie.One:return"one";case ie.Two:return"two";case ie.Few:return"few";case ie.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.soG))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function mo(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(l)}return null}class Uo{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let dn=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,l,h)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Uo(i.item,this._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)r.remove(null===l?void 0:l);else if(null!==l){const m=r.get(l);r.move(m,h),Ws(m,i)}});for(let i=0,l=r.length;i<l;i++){const m=r.get(i).context;m.index=i,m.count=l,m.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Ws(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Ws(n,e){n.context.$implicit=e.item}let vn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[{provide:Ut,useClass:yn}]}),n})();function vr(n){return"server"===n}let vl=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new bl((0,c.LFG)(re),window)}),n})();class bl{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function hs(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const l=i.shadowRoot;if(l){const h=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(h)return h}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],i-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=fu(this.window.history)||fu(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function fu(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class en{}class qs extends class wa extends class pe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function te(n){Y||(Y=n)}(new qs)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function wl(){return qt=qt||document.querySelector("base"),qt?qt.getAttribute("href"):null}();return null==t?null:function bo(n){Da=Da||document.createElement("a"),Da.setAttribute("href",n);const e=Da.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){qt=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return mo(document.cookie,e)}}let Da,qt=null;const tr=new c.OlP("TRANSITION_ID"),bn=[{provide:c.ip1,useFactory:function Dl(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const r=k(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<i.length;l++)r.remove(i[l])})}},deps:[tr,re,c.zs3],multi:!0}];class fs{static init(){(0,c.VLi)(new fs)}addToWindow(e){c.dqk.getAngularTestability=(r,i=!0)=>{const l=e.findTestabilityInTree(r,i);if(null==l)throw new Error("Could not find testability for element.");return l},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const i=c.dqk.getAllAngularTestabilities();let l=i.length,h=!1;const m=function(v){h=h||v,l--,0==l&&r(h)};i.forEach(function(v){v.whenStable(m)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?k().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let nr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const zo=new c.OlP("EventManagerPlugins");let Li=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let l=0;l<i.length;l++){const h=i[l];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(zo),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class gu{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=k().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Yr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Zs=(()=>{class n extends Yr{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(l=>{const h=this._doc.createElement("style");h.textContent=l,i.push(r.appendChild(h))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Ys),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Ys))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Ys(n){k().remove(n)}const lt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ea=/%COMP%/g;function De(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?De(n,i,t):(i=i.replace(Ea,n),t.push(i))}return t}function At(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let wn=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Js(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case c.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new _u(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case c.ifc.ShadowDom:return new yu(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=De(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Li),c.LFG(Zs),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Js{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(lt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const l=lt[i];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=lt[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,r,i&c.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,At(r)):this.eventManager.addEventListener(e,t,At(r))}}class _u extends Js{constructor(e,t,r,i){super(e),this.component=r;const l=De(i+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function Ia(n){return"_ngcontent-%COMP%".replace(Ea,n)}(i+"-"+r.id),this.hostAttr=function Hh(n){return"_nghost-%COMP%".replace(Ea,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class yu extends Js{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=De(i.id,i.styles,[]);for(let h=0;h<l.length;h++){const m=document.createElement("style");m.textContent=l[h],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let qc=(()=>{class n extends gu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Zc=["alt","control","meta","shift"],Ko={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Wn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ii={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let vu=(()=>{class n extends gu{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const l=n.parseEventName(r),h=n.eventCallback(l.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(t,l.domEventName,h))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const l=n._normalizeKey(r.pop());let h="";if(Zc.forEach(v=>{const T=r.indexOf(v);T>-1&&(r.splice(T,1),h+=v+".")}),h+=l,0!=r.length||0===l.length)return null;const m={};return m.domEventName=i,m.fullKey=h,m}static getEventFullKey(t){let r="",i=function Vi(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Wn.hasOwnProperty(e)&&(e=Wn[e]))}return Ko[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Zc.forEach(l=>{l!=i&&Ii[l](t)&&(r+=l+".")}),r+=i,r}static eventCallback(t,r,i){return l=>{n.getEventFullKey(l)===t&&i.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Jc=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function ps(){qs.makeCurrent(),fs.init()},multi:!0},{provide:re,useFactory:function Yc(){return(0,c.RDi)(document),document},deps:[]}]),wo=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function Oa(){return new c.qLn},deps:[]},{provide:zo,useClass:qc,multi:!0,deps:[re,c.R0b,c.Lbi]},{provide:zo,useClass:vu,multi:!0,deps:[re]},{provide:wn,useClass:wn,deps:[Li,Zs,c.AFp]},{provide:c.FYo,useExisting:wn},{provide:Yr,useExisting:Zs},{provide:Zs,useClass:Zs,deps:[re]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:Li,useClass:Li,deps:[zo,c.R0b]},{provide:en,useClass:nr,deps:[]}];let bu=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:tr,useExisting:c.AFp},bn]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(n,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:wo,imports:[vn,c.hGG]}),n})();"undefined"!=typeof window&&window;var An=R(8996),En=R(8306);const{isArray:br}=Array,{getPrototypeOf:ys,prototype:Cu,keys:Il}=Object;function Qs(n){if(1===n.length){const e=n[0];if(br(e))return{args:e,keys:null};if(function ed(n){return n&&"object"==typeof n&&ys(n)===Cu}(e)){const t=Il(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var kt=R(8421),Ui=R(3269),tn=R(5403),Xe=R(4004);const{isArray:To}=Array;function Sl(n){return(0,Xe.U)(e=>function td(n,e){return To(e)?n(...e):n(e)}(n,e))}function Al(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let Fa=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),xr=(()=>{class n extends Fa{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const Ln=new c.OlP("NgValueAccessor"),Rr={provide:Ln,useExisting:(0,c.Gpc)(()=>eo),multi:!0},Va=new c.OlP("CompositionEventMode");let eo=(()=>{class n extends Fa{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Iu(){const n=k()?k().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(Va,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[c._Bn([Rr]),c.qOj]}),n})();const Nn=new c.OlP("NgValidators"),ji=new c.OlP("NgAsyncValidators");function Hi(n){return null!=n}function Ga(n){const e=(0,c.QGY)(n)?(0,An.D)(n):n;return(0,c.CqO)(e),e}function Au(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function So(n,e){return e.map(t=>t(n))}function Nl(n){return n.map(e=>function id(n){return!n.validate}(e)?e:t=>e.validate(t))}function sd(n){return null!=n?function pn(n){if(!n)return null;const e=n.filter(Hi);return 0==e.length?null:function(t){return Au(So(t,e))}}(Nl(n)):null}function Zh(n){return null!=n?function cg(n){if(!n)return null;const e=n.filter(Hi);return 0==e.length?null:function(t){return function qh(...n){const e=(0,Ui.jO)(n),{args:t,keys:r}=Qs(n),i=new En.y(l=>{const{length:h}=t;if(!h)return void l.complete();const m=new Array(h);let v=h,T=h;for(let A=0;A<h;A++){let M=!1;(0,kt.Xf)(t[A]).subscribe(new tn.Q(l,L=>{M||(M=!0,T--),m[A]=L},()=>v--,void 0,()=>{(!v||!M)&&(T||l.next(r?Al(r,m):m),l.complete())}))}});return e?i.pipe(Sl(e)):i}(So(t,e).map(Ga)).pipe((0,Xe.U)(Au))}}(Nl(n)):null}function od(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function ad(n){return n._rawValidators}function ld(n){return n._rawAsyncValidators}function ud(n){return n?Array.isArray(n)?n:[n]:[]}function Gi(n,e){return Array.isArray(n)?n.includes(e):n===e}function Yh(n,e){const t=ud(e);return ud(n).forEach(i=>{Gi(t,i)||t.push(i)}),t}function gn(n,e){return ud(e).filter(t=>!Gi(n,t))}class Ol{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=sd(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Zh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class kr extends Ol{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Jr extends Ol{get formDirective(){return null}get path(){return null}}class Ml{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let Nu=(()=>{class n extends Ml{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(kr,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[c.qOj]}),n})(),Ao=(()=>{class n extends Ml{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Jr,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[c.qOj]}),n})();function Ds(n,e){Wi(n,e),e.valueAccessor.writeValue(n.value),function Rl(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&E(n,e)})}(n,e),function C(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function tf(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&E(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function ef(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function vi(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),to(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Yo(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Wi(n,e){const t=ad(n);null!==e.validator?n.setValidators(od(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=ld(n);null!==e.asyncValidator?n.setAsyncValidators(od(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Yo(e._rawValidators,i),Yo(e._rawAsyncValidators,i)}function to(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=ad(n);if(Array.isArray(i)&&i.length>0){const l=i.filter(h=>h!==e.validator);l.length!==i.length&&(t=!0,n.setValidators(l))}}if(null!==e.asyncValidator){const i=ld(n);if(Array.isArray(i)&&i.length>0){const l=i.filter(h=>h!==e.asyncValidator);l.length!==i.length&&(t=!0,n.setAsyncValidators(l))}}}const r=()=>{};return Yo(e._rawValidators,r),Yo(e._rawAsyncValidators,r),t}function E(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Lt(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const hn="VALID",no="INVALID",Fr="PENDING",wr="DISABLED";function Lr(n){return(No(n)?n.validators:n)||null}function kl(n){return Array.isArray(n)?sd(n):n||null}function fd(n,e){return(No(e)?e.asyncValidators:n)||null}function xu(n){return Array.isArray(n)?Zh(n):n||null}function No(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const pd=n=>n instanceof Fl,gd=n=>n instanceof Jo,dg=n=>n instanceof H_;function Oo(n){return pd(n)?n.value:n.getRawValue()}function Pl(n,e){const t=gd(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new c.vHH(1e3,"");if(!r[e])throw new c.vHH(1001,"")}function hg(n,e){gd(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new c.vHH(1002,"")})}class nf{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=kl(this._rawValidators),this._composedAsyncValidatorFn=xu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===hn}get invalid(){return this.status===no}get pending(){return this.status==Fr}get disabled(){return this.status===wr}get enabled(){return this.status!==wr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=kl(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=xu(e)}addValidators(e){this.setValidators(Yh(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Yh(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(gn(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(gn(e,this._rawAsyncValidators))}hasValidator(e){return Gi(this._rawValidators,e)}hasAsyncValidator(e){return Gi(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Fr,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=wr,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=hn,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===hn||this.status===Fr)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?wr:hn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Fr,this._hasOwnPendingAsyncValidator=!0;const t=Ga(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function Es(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=gd(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:dg(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?wr:this.errors?no:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fr)?Fr:this._anyControlsHaveStatus(no)?no:hn}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){No(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Fl extends nf{constructor(e=null,t,r){super(Lr(t),fd(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),No(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Lt(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Lt(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Jo extends nf{constructor(e,t,r){super(Lr(t),fd(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){hg(this,e),Object.keys(e).forEach(r=>{Pl(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=Oo(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,l)=>{r=t(r,i,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class H_ extends nf{constructor(e,t,r){super(Lr(t),fd(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){hg(this,e),e.forEach((r,i)=>{Pl(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>Oo(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let md=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),_d=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const _g=new c.OlP("NgModelWithFormControlWarning"),K_={provide:Jr,useExisting:(0,c.Gpc)(()=>yd)};let yd=(()=>{class n extends Jr{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(to(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Ds(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){vi(t.control||null,t,!1),Lt(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function ze(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(vi(r||null,t),pd(i)&&(Ds(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function O(n,e){Wi(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function F(n,e){return to(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Wi(this.form,this),this._oldForm&&to(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Nn,10),c.Y36(ji,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([K_]),c.qOj,c.TTD]}),n})();const hb={provide:kr,useExisting:(0,c.Gpc)(()=>df)};let df=(()=>{class n extends kr{constructor(t,r,i,l,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Ot(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(l=>{l.constructor===eo?t=l:function Le(n){return Object.getPrototypeOf(n.constructor)===xr}(l)?r=l:i=l}),i||r||t||null}(0,l)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function Ae(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function $i(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(c.Y36(Jr,13),c.Y36(Nn,10),c.Y36(ji,10),c.Y36(Ln,10),c.Y36(_g,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([hb]),c.qOj,c.TTD]}),n})(),Ag=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[_d]]}),n})(),Ng=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Ag]}),n})(),ey=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:_g,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Ag]}),n})(),Vr=(()=>{class n{group(t,r=null){const i=this._reduceControls(t);let m,l=null,h=null;return null!=r&&(function Bu(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(l=null!=r.validators?r.validators:null,h=null!=r.asyncValidators?r.asyncValidators:null,m=null!=r.updateOn?r.updateOn:void 0):(l=null!=r.validator?r.validator:null,h=null!=r.asyncValidator?r.asyncValidator:null)),new Jo(i,{asyncValidators:h,updateOn:m,validators:l})}control(t,r,i){return new Fl(t,r,i)}array(t,r,i){const l=t.map(h=>this._createControl(h));return new H_(l,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return pd(t)||gd(t)||dg(t)?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:ey}),n})();function ut(...n){const e=(0,Ui.yG)(n);return(0,An.D)(n,e)}var Tn=R(7579);class Vt extends Tn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Ki=R(4671),bf=R(9672);function Cd(n,e,t){n?(0,bf.f)(t,n,e):e()}const qa=(0,R(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Ul=R(8189);function jl(...n){return function Og(){return(0,Ul.J)(1)}()((0,An.D)(n,(0,Ui.yG)(n)))}function Mg(n){return new En.y(e=>{(0,kt.Xf)(n()).subscribe(e)})}var Dr=R(515),wf=R(727),Br=R(4482);function Id(){return(0,Br.e)((n,e)=>{let t=null;n._refCount++;const r=new tn.Q(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,l=t;t=null,i&&(!l||i===l)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class ny extends En.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Br.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new wf.w0;const t=this.getSubject();e.add(this.source.subscribe(new tn.Q(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=wf.w0.EMPTY)}return e}refCount(){return Id()(this)}}function hr(n,e){return(0,Br.e)((t,r)=>{let i=null,l=0,h=!1;const m=()=>h&&!i&&r.complete();t.subscribe(new tn.Q(r,v=>{null==i||i.unsubscribe();let T=0;const A=l++;(0,kt.Xf)(n(v,A)).subscribe(i=new tn.Q(r,M=>r.next(e?e(v,M,A,T++):M),()=>{i=null,m()}))},()=>{h=!0,m()}))})}var Ht=R(5698);function Mo(...n){const e=(0,Ui.yG)(n);return(0,Br.e)((t,r)=>{(e?jl(n,t,e):jl(n,t)).subscribe(r)})}function Df(n,e,t,r,i){return(l,h)=>{let m=t,v=e,T=0;l.subscribe(new tn.Q(h,A=>{const M=T++;v=m?n(v,A,M):(m=!0,A),r&&h.next(v)},i&&(()=>{m&&h.next(v),h.complete()})))}}function ju(n,e){return(0,Br.e)(Df(n,e,arguments.length>=2,!0))}function fn(n,e){return(0,Br.e)((t,r)=>{let i=0;t.subscribe(new tn.Q(r,l=>n.call(e,l,i++)&&r.next(l)))})}function qi(n){return(0,Br.e)((e,t)=>{let l,r=null,i=!1;r=e.subscribe(new tn.Q(t,void 0,void 0,h=>{l=(0,kt.Xf)(n(h,qi(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,l.subscribe(t))})}var qn=R(5577),ro=R(576);function Hl(n,e){return(0,ro.m)(e)?(0,qn.z)(n,e,1):(0,qn.z)(n,1)}function Hu(n){return n<=0?()=>Dr.E:(0,Br.e)((e,t)=>{let r=[];e.subscribe(new tn.Q(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function xg(n=Rg){return(0,Br.e)((e,t)=>{let r=!1;e.subscribe(new tn.Q(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Rg(){return new qa}function kg(n){return(0,Br.e)((e,t)=>{let r=!1;e.subscribe(new tn.Q(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function _(n,e){const t=arguments.length>=2;return r=>r.pipe(n?fn((i,l)=>n(i,l,r)):Ki.y,(0,Ht.q)(1),t?kg(e):xg(()=>new qa))}var f=R(8505);class b{constructor(e,t){this.id=e,this.url=t}}class S extends b{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class x extends b{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class W extends b{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ue extends b{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ue extends b{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qe extends b{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gt extends b{constructor(e,t,r,i,l){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class it extends b{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cn extends b{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ai{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Gl{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Sd{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gu{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ef{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iy{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xo{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Tt="primary";class Tf{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Xo(n){return new Tf(n)}const $u="ngNavigationCancelingError";function Cf(n){const e=Error("NavigationCancelingError: "+n);return e[$u]=!0,e}function sy(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let l=0;l<r.length;l++){const h=r[l],m=n[l];if(h.startsWith(":"))i[h.substring(1)]=m;else if(h!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function ea(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let l=0;l<t.length;l++)if(i=t[l],!gb(n[i],e[i]))return!1;return!0}function gb(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,l)=>r[l]===i)}return n===e}function oy(n){return Array.prototype.concat.apply([],n)}function Pg(n){return n.length>0?n[n.length-1]:null}function Er(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ta(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,An.D)(Promise.resolve(n)):ut(n)}const mb={exact:function ly(n,e,t){if(!na(n.segments,e.segments)||!Af(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!ly(n.children[r],e.children[r],t))return!1;return!0},subset:Sf},ay={exact:function _b(n,e){return ea(n,e)},subset:function r1(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>gb(n[t],e[t]))},ignored:()=>!0};function $l(n,e,t){return mb[t.paths](n.root,e.root,t.matrixParams)&&ay[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Sf(n,e,t){return yb(n,e,e.segments,t)}function yb(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!na(i,t)||e.hasChildren()||!Af(i,t,r))}if(n.segments.length===t.length){if(!na(n.segments,t)||!Af(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Sf(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(na(n.segments,i)&&Af(n.segments,i,r)&&n.children[Tt])&&yb(n.children[Tt],e,l,r)}}function Af(n,e,t){return e.every((r,i)=>ay[t](n[i].parameters,r.parameters))}class Wl{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xo(this.queryParams)),this._queryParamMap}toString(){return bb.serialize(this)}}class Pt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Er(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ad(this)}}class Wu{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Xo(this.parameters)),this._parameterMap}toString(){return dy(this)}}function na(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class uy{}class Lg{parse(e){const t=new Eb(e);return new Wl(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Za(e.root,!0)}`,r=function Db(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Nf(t)}=${Nf(i)}`).join("&"):`${Nf(t)}=${Nf(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function i1(n){return encodeURI(n)}(e.fragment)}`:""}`}}const bb=new Lg;function Ad(n){return n.segments.map(e=>dy(e)).join("/")}function Za(n,e){if(!n.hasChildren())return Ad(n);if(e){const t=n.children[Tt]?Za(n.children[Tt],!1):"",r=[];return Er(n.children,(i,l)=>{l!==Tt&&r.push(`${l}:${Za(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Fg(n,e){let t=[];return Er(n.children,(r,i)=>{i===Tt&&(t=t.concat(e(r,i)))}),Er(n.children,(r,i)=>{i!==Tt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Tt?[Za(n.children[Tt],!1)]:[`${i}:${Za(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Tt]?`${Ad(n)}/${t[0]}`:`${Ad(n)}/(${t.join("//")})`}}function wb(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nf(n){return wb(n).replace(/%3B/gi,";")}function cy(n){return wb(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Of(n){return decodeURIComponent(n)}function Vg(n){return Of(n.replace(/\+/g,"%20"))}function dy(n){return`${cy(n.path)}${function AS(n){return Object.keys(n).map(e=>`;${cy(e)}=${cy(n[e])}`).join("")}(n.parameters)}`}const s1=/^[^\/()?;=#]+/;function Mf(n){const e=n.match(s1);return e?e[0]:""}const o1=/^[^=?&#]+/,Ro=/^[^&#]+/;class Eb{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pt([],{}):new Pt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Tt]=new Pt(e,t)),r}parseSegment(){const e=Mf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Wu(Of(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Mf(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Mf(this.remaining);i&&(r=i,this.capture(r))}e[Of(t)]=Of(r)}parseQueryParam(e){const t=function a1(n){const e=n.match(o1);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const h=function l1(n){const e=n.match(Ro);return e?e[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const i=Vg(t),l=Vg(r);if(e.hasOwnProperty(i)){let h=e[i];Array.isArray(h)||(h=[h],e[i]=h),h.push(l)}else e[i]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Mf(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Tt);const h=this.parseChildren();t[l]=1===Object.keys(h).length?h[Tt]:new Pt([],h),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Tb{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=hy(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=hy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=fy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return fy(e,this._root).map(t=>t.value)}}function hy(n,e){if(n===e.value)return e;for(const t of e.children){const r=hy(n,t);if(r)return r}return null}function fy(n,e){if(n===e.value)return[e];for(const t of e.children){const r=fy(n,t);if(r.length)return r.unshift(e),r}return[]}class Ya{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function zu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Cb extends Tb{constructor(e,t){super(e),this.snapshot=t,Cs(this,e)}toString(){return this.snapshot.toString()}}function Ib(n,e){const t=function u1(n,e){const h=new xf([],{},{},"",{},Tt,e,null,n.root,-1,{});return new Rf("",new Ya(h,[]))}(n,e),r=new Vt([new Wu("",{})]),i=new Vt({}),l=new Vt({}),h=new Vt({}),m=new Vt(""),v=new _t(r,i,h,m,l,Tt,e,t.root);return v.snapshot=t.root,new Cb(new Ya(v,[]),t)}class _t{constructor(e,t,r,i,l,h,m,v){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=h,this.component=m,this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Xe.U)(e=>Xo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Xe.U)(e=>Xo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function py(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],l=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(l.component)break;r--}}return function Sb(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class xf{constructor(e,t,r,i,l,h,m,v,T,A,M){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=h,this.component=m,this.routeConfig=v,this._urlSegment=T,this._lastPathIndex=A,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Xo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Rf extends Tb{constructor(e,t){super(t),this.url=e,Cs(this,t)}toString(){return gy(this._root)}}function Cs(n,e){e.value._routerState=n,e.children.forEach(t=>Cs(n,t))}function gy(n){const e=n.children.length>0?` { ${n.children.map(gy).join(", ")} } `:"";return`${n.value}${e}`}function my(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ea(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),ea(e.params,t.params)||n.params.next(t.params),function e1(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ea(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),ea(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function kf(n,e){const t=ea(n.params,e.params)&&function vb(n,e){return na(n,e)&&n.every((t,r)=>ea(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||kf(n.parent,e.parent))}function Ku(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Ab(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ku(n,r,i);return Ku(n,r)})}(n,e,t);return new Ya(r,i)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const h=l.route;return h.value._futureSnapshot=e.value,h.children=e.children.map(m=>Ku(n,m)),h}}const r=function _y(n){return new _t(new Vt(n.url),new Vt(n.params),new Vt(n.queryParams),new Vt(n.fragment),new Vt(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(l=>Ku(n,l));return new Ya(r,i)}}function Pf(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Bg(n){return"object"==typeof n&&null!=n&&n.outlets}function Nd(n,e,t,r,i){let l={};return r&&Er(r,(h,m)=>{l[m]=Array.isArray(h)?h.map(v=>`${v}`):`${h}`}),new Wl(t.root===n?e:Ff(t.root,n,e),l,i)}function Ff(n,e,t){const r={};return Er(n.children,(i,l)=>{r[l]=i===e?t:Ff(i,e,t)}),new Pt(n.segments,r)}class Ug{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Pf(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Bg);if(i&&i!==Pg(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Lf{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Nb(n,e,t){if(n||(n=new Pt([],{})),0===n.segments.length&&n.hasChildren())return jg(n,e,t);const r=function Ob(n,e,t){let r=0,i=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return l;const h=n.segments[i],m=t[r];if(Bg(m))break;const v=`${m}`,T=r<t.length-1?t[r+1]:null;if(i>0&&void 0===v)break;if(v&&T&&"object"==typeof T&&void 0===T.outlets){if(!vy(v,T,h))return l;r+=2}else{if(!vy(v,{},h))return l;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new Pt(n.segments.slice(0,r.pathIndex),{});return l.children[Tt]=new Pt(n.segments.slice(r.pathIndex),n.children),jg(l,0,i)}return r.match&&0===i.length?new Pt(n.segments,{}):r.match&&!n.hasChildren()?Mb(n,e,t):r.match?jg(n,0,i):Mb(n,e,t)}function jg(n,e,t){if(0===t.length)return new Pt(n.segments,{});{const r=function d1(n){return Bg(n[0])?n[0].outlets:{[Tt]:n}}(t),i={};return Er(r,(l,h)=>{"string"==typeof l&&(l=[l]),null!==l&&(i[h]=Nb(n.children[h],e,l))}),Er(n.children,(l,h)=>{void 0===r[h]&&(i[h]=l)}),new Pt(n.segments,i)}}function Mb(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const l=t[i];if(Bg(l)){const v=h1(l.outlets);return new Pt(r,v)}if(0===i&&Pf(t[0])){r.push(new Wu(n.segments[e].path,f1(t[0]))),i++;continue}const h=Bg(l)?l.outlets[Tt]:`${l}`,m=i<t.length-1?t[i+1]:null;h&&m&&Pf(m)?(r.push(new Wu(h,f1(m))),i+=2):(r.push(new Wu(h,{})),i++)}return new Pt(r,{})}function h1(n){const e={};return Er(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Mb(new Pt([],{}),0,t))}),e}function f1(n){const e={};return Er(n,(t,r)=>e[r]=`${t}`),e}function vy(n,e,t){return n==t.path&&ea(e,t.parameters)}class p1{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),my(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=zu(t);e.children.forEach(l=>{const h=l.value.outlet;this.deactivateRoutes(l,i[h],r),delete i[h]}),Er(i,(l,h)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(i===l)if(i.component){const h=r.getContext(i.outlet);h&&this.deactivateChildRoutes(e,t,h.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=zu(e);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],i);if(r&&r.outlet){const h=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:h,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=zu(e);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=zu(t);e.children.forEach(l=>{this.activateRoutes(l,i[l.value.outlet],r),this.forwardEvent(new iy(l.value.snapshot))}),e.children.length&&this.forwardEvent(new Gu(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(my(i),i===l)if(i.component){const h=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const h=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const m=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),h.children.onOutletReAttached(m.contexts),h.attachRef=m.componentRef,h.route=m.route.value,h.outlet&&h.outlet.attach(m.componentRef,m.route.value),my(m.route.value),this.activateChildRoutes(e,null,h.children)}else{const m=function by(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),v=m?m.module.componentFactoryResolver:null;h.attachRef=null,h.route=i,h.resolver=v,h.outlet&&h.outlet.activateWith(i,v),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,r)}}class Rb{constructor(e,t){this.routes=e,this.module=t}}function qu(n){return"function"==typeof n}function Od(n){return n instanceof Wl}const Hg=Symbol("INITIAL_VALUE");function Gg(){return hr(n=>function ei(...n){const e=(0,Ui.yG)(n),t=(0,Ui.jO)(n),{args:r,keys:i}=Qs(n);if(0===r.length)return(0,An.D)([],e);const l=new En.y(function Uu(n,e,t=Ki.y){return r=>{Cd(e,()=>{const{length:i}=n,l=new Array(i);let h=i,m=i;for(let v=0;v<i;v++)Cd(e,()=>{const T=(0,An.D)(n[v],e);let A=!1;T.subscribe(new tn.Q(r,M=>{l[v]=M,A||(A=!0,m--),m||r.next(t(l.slice()))},()=>{--h||r.complete()}))},r)},r)}}(r,e,i?h=>Al(i,h):Ki.y));return t?l.pipe(Sl(t)):l}(n.map(e=>e.pipe((0,Ht.q)(1),Mo(Hg)))).pipe(ju((e,t)=>{let r=!1;return t.reduce((i,l,h)=>i!==Hg?i:(l===Hg&&(r=!0),r||!1!==l&&h!==t.length-1&&!Od(l)?i:l),e)},Hg),fn(e=>e!==Hg),(0,Xe.U)(e=>Od(e)?e:!0===e),(0,Ht.q)(1)))}class zl{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Zu,this.attachRef=null}}class Zu{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new zl,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let wy=(()=>{class n{constructor(t,r,i,l,h){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=l||Tt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const h=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,v=new kb(t,m,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,v),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Zu),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class kb{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===_t?this.route:e===Zu?this.childContexts:this.parent.get(e,t)}}let $g=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},directives:[wy],encapsulation:2}),n})();function Dy(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Ey(r,g1(e,r))}}function Ey(n,e){n.children&&Dy(n.children,e)}function g1(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function ra(n){const e=n.children&&n.children.map(ra),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Tt&&(t.component=$g),t}function Is(n){return n.outlet||Tt}function Pb(n,e){const t=n.filter(r=>Is(r)===e);return t.push(...n.filter(r=>Is(r)!==e)),t}const Wg={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function zg(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Wg):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const l=(e.matcher||sy)(t,n,e);if(!l)return Object.assign({},Wg);const h={};Er(l.posParams,(v,T)=>{h[T]=v.path});const m=l.consumed.length>0?Object.assign(Object.assign({},h),l.consumed[l.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,parameters:m,positionalParamSegments:null!==(r=l.posParams)&&void 0!==r?r:{}}}function Vf(n,e,t,r,i="corrected"){if(t.length>0&&function Bf(n,e,t){return t.some(r=>xd(n,e,r)&&Is(r)!==Tt)}(n,t,r)){const h=new Pt(e,function _1(n,e,t,r){const i={};i[Tt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&Is(l)!==Tt){const h=new Pt([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,i[Is(l)]=h}return i}(n,e,r,new Pt(t,n.children)));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:[]}}if(0===t.length&&function Md(n,e,t){return t.some(r=>xd(n,e,r))}(n,t,r)){const h=new Pt(n.segments,function m1(n,e,t,r,i,l){const h={};for(const m of r)if(xd(n,t,m)&&!i[Is(m)]){const v=new Pt([],{});v._sourceSegment=n,v._segmentIndexShift="legacy"===l?n.segments.length:e.length,h[Is(m)]=v}return Object.assign(Object.assign({},i),h)}(n,e,t,r,n.children,i));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:t}}const l=new Pt(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function xd(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Yu(n,e,t,r){return!!(Is(n)===r||r!==Tt&&xd(e,t,n))&&("**"===n.path||zg(e,n,t).matched)}function Rd(n,e,t){return 0===e.length&&!n.children[t]}class ia{constructor(e){this.segmentGroup=e||null}}class Fb{constructor(e){this.urlTree=e}}function Uf(n){return new En.y(e=>e.error(new ia(n)))}function Ty(n){return new En.y(e=>e.error(new Fb(n)))}function Cy(n){return new En.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class Kg{constructor(e,t,r,i,l){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(c.h0i)}apply(){const e=Vf(this.urlTree.root,[],[],this.config).segmentGroup,t=new Pt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Tt).pipe((0,Xe.U)(l=>this.createUrlTree(qg(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(qi(l=>{if(l instanceof Fb)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof ia?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Tt).pipe((0,Xe.U)(i=>this.createUrlTree(qg(i),e.queryParams,e.fragment))).pipe(qi(i=>{throw i instanceof ia?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new Pt([],{[Tt]:e}):e;return new Wl(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Xe.U)(l=>new Pt([],l))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const l of Object.keys(r.children))"primary"===l?i.unshift(l):i.push(l);return(0,An.D)(i).pipe(Hl(l=>{const h=r.children[l],m=Pb(t,l);return this.expandSegmentGroup(e,m,h,l).pipe((0,Xe.U)(v=>({segment:v,outlet:l})))}),ju((l,h)=>(l[h.outlet]=h.segment,l),{}),function ry(n,e){const t=arguments.length>=2;return r=>r.pipe(n?fn((i,l)=>n(i,l,r)):Ki.y,Hu(1),t?kg(e):xg(()=>new qa))}())}expandSegment(e,t,r,i,l,h){return(0,An.D)(r).pipe(Hl(m=>this.expandSegmentAgainstRoute(e,t,r,m,i,l,h).pipe(qi(T=>{if(T instanceof ia)return ut(null);throw T}))),_(m=>!!m),qi((m,v)=>{if(m instanceof qa||"EmptyError"===m.name){if(Rd(t,i,l))return ut(new Pt([],{}));throw new ia(t)}throw m}))}expandSegmentAgainstRoute(e,t,r,i,l,h,m){return Yu(i,t,l,h)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,l,h):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,h):Uf(t):Uf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,h){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Ty(l):this.lineralizeSegments(r,l).pipe((0,qn.z)(h=>{const m=new Pt(h,{});return this.expandSegment(e,m,t,h,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,h){const{matched:m,consumedSegments:v,lastChild:T,positionalParamSegments:A}=zg(t,i,l);if(!m)return Uf(t);const M=this.applyRedirectCommands(v,i.redirectTo,A);return i.redirectTo.startsWith("/")?Ty(M):this.lineralizeSegments(i,M).pipe((0,qn.z)(L=>this.expandSegment(e,t,r,L.concat(l.slice(T)),h,!1)))}matchSegmentAgainstRoute(e,t,r,i,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?ut(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Xe.U)(L=>(r._loadedConfig=L,new Pt(i,{})))):ut(new Pt(i,{}));const{matched:h,consumedSegments:m,lastChild:v}=zg(t,r,i);if(!h)return Uf(t);const T=i.slice(v);return this.getChildConfig(e,r,i).pipe((0,qn.z)(M=>{const L=M.module,V=M.routes,{segmentGroup:J,slicedSegments:ve}=Vf(t,m,T,V),Re=new Pt(J.segments,J.children);if(0===ve.length&&Re.hasChildren())return this.expandChildren(L,V,Re).pipe((0,Xe.U)(Dt=>new Pt(m,Dt)));if(0===V.length&&0===ve.length)return ut(new Pt(m,{}));const He=Is(r)===l;return this.expandSegment(L,Re,V,ve,He?Tt:l,!0).pipe((0,Xe.U)(Zt=>new Pt(m.concat(Zt.segments),Zt.children)))}))}getChildConfig(e,t,r){return t.children?ut(new Rb(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?ut(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,qn.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,Xe.U)(l=>(t._loadedConfig=l,l))):function Iy(n){return new En.y(e=>e.error(Cf(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):ut(new Rb([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?ut(i.map(h=>{const m=e.get(h);let v;if(function xS(n){return n&&qu(n.canLoad)}(m))v=m.canLoad(t,r);else{if(!qu(m))throw new Error("Invalid CanLoad guard");v=m(t,r)}return ta(v)})).pipe(Gg(),(0,f.b)(h=>{if(!Od(h))return;const m=Cf(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw m.url=h,m}),(0,Xe.U)(h=>!0===h)):ut(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ut(r);if(i.numberOfChildren>1||!i.children[Tt])return Cy(e.redirectTo);i=i.children[Tt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const l=this.createSegmentGroup(e,t.root,r,i);return new Wl(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Er(e,(i,l)=>{if("string"==typeof i&&i.startsWith(":")){const m=i.substring(1);r[l]=t[m]}else r[l]=i}),r}createSegmentGroup(e,t,r,i){const l=this.createSegments(e,t.segments,r,i);let h={};return Er(t.children,(m,v)=>{h[v]=this.createSegmentGroup(e,m,r,i)}),new Pt(l,h)}createSegments(e,t,r,i){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,i):this.findOrReturn(l,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function qg(n){const e={};for(const r of Object.keys(n.children)){const l=qg(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function y1(n){if(1===n.numberOfChildren&&n.children[Tt]){const e=n.children[Tt];return new Pt(n.segments.concat(e.segments),e.children)}return n}(new Pt(n.segments,e))}class Sy{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class jf{constructor(e,t){this.component=e,this.route=t}}function v1(n,e,t){const r=n._root;return ti(r,e?e._root:null,t,[r.value])}function Zg(n,e,t){const r=function b1(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function ti(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=zu(e);return n.children.forEach(h=>{(function w1(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,h=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(h&&l.routeConfig===h.routeConfig){const v=function D1(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!na(n.url,e.url);case"pathParamsOrQueryParamsChange":return!na(n.url,e.url)||!ea(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kf(n,e)||!ea(n.queryParams,e.queryParams);default:return!kf(n,e)}}(h,l,l.routeConfig.runGuardsAndResolvers);v?i.canActivateChecks.push(new Sy(r)):(l.data=h.data,l._resolvedData=h._resolvedData),ti(n,e,l.component?m?m.children:null:t,r,i),v&&m&&m.outlet&&m.outlet.isActivated&&i.canDeactivateChecks.push(new jf(m.outlet.component,h))}else h&&Yg(e,m,i),i.canActivateChecks.push(new Sy(r)),ti(n,null,l.component?m?m.children:null:t,r,i)})(h,l[h.value.outlet],t,r.concat([h.value]),i),delete l[h.value.outlet]}),Er(l,(h,m)=>Yg(h,t.getContext(m),i)),i}function Yg(n,e,t){const r=zu(n),i=n.value;Er(r,(l,h)=>{Yg(l,i.component?e?e.children.getContext(h):null:e,t)}),t.canDeactivateChecks.push(new jf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class I1{}function Ny(n){return new En.y(e=>e.error(n))}class jb{constructor(e,t,r,i,l,h){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=h}recognize(){const e=Vf(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Tt);if(null===t)return null;const r=new xf([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Tt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ya(r,t),l=new Rf(this.url,i);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,r=py(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const l of Object.keys(t.children)){const h=t.children[l],m=Pb(e,l),v=this.processSegmentGroup(m,h,l);if(null===v)return null;r.push(...v)}const i=Oy(r);return function A1(n){n.sort((e,t)=>e.value.outlet===Tt?-1:t.value.outlet===Tt?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const l of e){const h=this.processSegmentAgainstRoute(l,t,r,i);if(null!==h)return h}return Rd(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!Yu(e,t,r,i))return null;let l,h=[],m=[];if("**"===e.path){const V=r.length>0?Pg(r).parameters:{};l=new xf(r,V,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Gb(e),Is(e),e.component,e,ko(t),Jg(t)+r.length,$b(e))}else{const V=zg(t,e,r);if(!V.matched)return null;h=V.consumedSegments,m=r.slice(V.lastChild),l=new xf(h,V.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Gb(e),Is(e),e.component,e,ko(t),Jg(t)+h.length,$b(e))}const v=function N1(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:T,slicedSegments:A}=Vf(t,h,m,v.filter(V=>void 0===V.redirectTo),this.relativeLinkResolution);if(0===A.length&&T.hasChildren()){const V=this.processChildren(v,T);return null===V?null:[new Ya(l,V)]}if(0===v.length&&0===A.length)return[new Ya(l,[])];const M=Is(e)===i,L=this.processSegment(v,T,A,M?Tt:i);return null===L?null:[new Ya(l,L)]}}function Hb(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Oy(n){const e=[],t=new Set;for(const r of n){if(!Hb(r)){e.push(r);continue}const i=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Oy(r.children);e.push(new Ya(r.value,i))}return e.filter(r=>!t.has(r))}function ko(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Jg(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function Gb(n){return n.data||{}}function $b(n){return n.resolve||{}}function zb(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function xy(n){return hr(e=>{const t=n(e);return t?(0,An.D)(t).pipe((0,Xe.U)(()=>e)):ut(e)})}class Ry extends class Qg{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const ky=new c.OlP("ROUTES");class Xg{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,Xe.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const h=l.create(e);return new Rb(oy(h.injector.get(ky,void 0,c.XFs.Self|c.XFs.Optional)).map(ra),h)}),qi(l=>{throw t._loader$=void 0,l}));return t._loader$=new ny(i,()=>new Tn.x).pipe(Id()),t._loader$}loadModuleFactory(e){return ta(e()).pipe((0,qn.z)(t=>t instanceof c.YKP?ut(t):(0,An.D)(this.compiler.compileModuleAsync(t))))}}class Kb{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function R1(n){throw n}function k1(n,e,t){return e.parse("/")}function em(n,e){return ut(null)}const jS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},P1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ni=(()=>{class n{constructor(t,r,i,l,h,m,v){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=l,this.config=v,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Tn.x,this.errorHandler=R1,this.malformedUriErrorHandler=k1,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:em,afterPreactivation:em},this.urlHandlingStrategy=new Kb,this.routeReuseStrategy=new Ry,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(c.h0i),this.console=h.get(c.c2e);const M=h.get(c.R0b);this.isNgZoneEnabled=M instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(v),this.currentUrlTree=function n1(){return new Wl(new Pt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Xg(h,m,L=>this.triggerEvent(new Ai(L)),L=>this.triggerEvent(new Gl(L))),this.routerState=Ib(this.currentUrlTree,this.rootComponentType),this.transitions=new Vt({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(fn(i=>0!==i.id),(0,Xe.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),hr(i=>{let l=!1,h=!1;return ut(i).pipe((0,f.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),hr(m=>{const v=this.browserUrlTree.toString(),T=!this.navigated||m.extractedUrl.toString()!==v||v!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||T)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return Hf(m.source)&&(this.browserUrlTree=m.extractedUrl),ut(m).pipe(hr(M=>{const L=this.transitions.getValue();return r.next(new S(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),L!==this.transitions.getValue()?Dr.E:Promise.resolve(M)}),function FS(n,e,t,r){return hr(i=>function Lb(n,e,t,r,i){return new Kg(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Xe.U)(l=>Object.assign(Object.assign({},i),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,f.b)(M=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:M.urlAfterRedirects})}),function US(n,e,t,r,i){return(0,qn.z)(l=>function S1(n,e,t,r,i="emptyOnly",l="legacy"){try{const h=new jb(n,e,t,r,i,l).recognize();return null===h?Ny(new I1):ut(h)}catch(h){return Ny(h)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),r,i).pipe((0,Xe.U)(h=>Object.assign(Object.assign({},l),{targetSnapshot:h}))))}(this.rootComponentType,this.config,M=>this.serializeUrl(M),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,f.b)(M=>{if("eager"===this.urlUpdateStrategy){if(!M.extras.skipLocationChange){const V=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);this.setBrowserUrl(V,M)}this.browserUrlTree=M.urlAfterRedirects}const L=new Ue(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);r.next(L)}));if(T&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:L,extractedUrl:V,source:J,restoredState:ve,extras:Re}=m,He=new S(L,this.serializeUrl(V),J,ve);r.next(He);const ct=Ib(V,this.rootComponentType).snapshot;return ut(Object.assign(Object.assign({},m),{targetSnapshot:ct,urlAfterRedirects:V,extras:Object.assign(Object.assign({},Re),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,m.resolve(null),Dr.E}),xy(m=>{const{targetSnapshot:v,id:T,extractedUrl:A,rawUrl:M,extras:{skipLocationChange:L,replaceUrl:V}}=m;return this.hooks.beforePreactivation(v,{navigationId:T,appliedUrlTree:A,rawUrlTree:M,skipLocationChange:!!L,replaceUrl:!!V})}),(0,f.b)(m=>{const v=new Qe(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(v)}),(0,Xe.U)(m=>Object.assign(Object.assign({},m),{guards:v1(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function LS(n,e){return(0,qn.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:l,canDeactivateChecks:h}}=t;return 0===h.length&&0===l.length?ut(Object.assign(Object.assign({},t),{guardsResult:!0})):function Bb(n,e,t,r){return(0,An.D)(n).pipe((0,qn.z)(i=>function C1(n,e,t,r,i){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?ut(l.map(m=>{const v=Zg(m,e,i);let T;if(function PS(n){return n&&qu(n.canDeactivate)}(v))T=ta(v.canDeactivate(n,e,t,r));else{if(!qu(v))throw new Error("Invalid CanDeactivate guard");T=ta(v(n,e,t,r))}return T.pipe(_())})).pipe(Gg()):ut(!0)}(i.component,i.route,t,e,r)),_(i=>!0!==i,!0))}(h,r,i,n).pipe((0,qn.z)(m=>m&&function MS(n){return"boolean"==typeof n}(m)?function VS(n,e,t,r){return(0,An.D)(e).pipe(Hl(i=>jl(function Ay(n,e){return null!==n&&e&&e(new Sd(n)),ut(!0)}(i.route.parent,r),function E1(n,e){return null!==n&&e&&e(new Ef(n)),ut(!0)}(i.route,r),function T1(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(h=>function Vb(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(h)).filter(h=>null!==h).map(h=>Mg(()=>ut(h.guards.map(v=>{const T=Zg(v,h.node,t);let A;if(function kS(n){return n&&qu(n.canActivateChild)}(T))A=ta(T.canActivateChild(r,n));else{if(!qu(T))throw new Error("Invalid CanActivateChild guard");A=ta(T(r,n))}return A.pipe(_())})).pipe(Gg())));return ut(l).pipe(Gg())}(n,i.path,t),function Ub(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ut(!0);const i=r.map(l=>Mg(()=>{const h=Zg(l,e,t);let m;if(function RS(n){return n&&qu(n.canActivate)}(h))m=ta(h.canActivate(e,n));else{if(!qu(h))throw new Error("Invalid CanActivate guard");m=ta(h(e,n))}return m.pipe(_())}));return ut(i).pipe(Gg())}(n,i.route,t))),_(i=>!0!==i,!0))}(r,l,n,e):ut(m)),(0,Xe.U)(m=>Object.assign(Object.assign({},t),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,f.b)(m=>{if(Od(m.guardsResult)){const T=Cf(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw T.url=m.guardsResult,T}const v=new gt(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(v)}),fn(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),xy(m=>{if(m.guards.canActivateChecks.length)return ut(m).pipe((0,f.b)(v=>{const T=new it(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(T)}),hr(v=>{let T=!1;return ut(v).pipe(function Wb(n,e){return(0,qn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ut(t);let l=0;return(0,An.D)(i).pipe(Hl(h=>function O1(n,e,t,r){return function M1(n,e,t,r){const i=zb(n);if(0===i.length)return ut({});const l={};return(0,An.D)(i).pipe((0,qn.z)(h=>function My(n,e,t,r){const i=Zg(n,e,r);return ta(i.resolve?i.resolve(e,t):i(e,t))}(n[h],e,t,r).pipe((0,f.b)(m=>{l[h]=m}))),Hu(1),(0,qn.z)(()=>zb(l).length===i.length?ut(l):Dr.E))}(n._resolve,n,e,r).pipe((0,Xe.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),py(n,t).resolve),null)))}(h.route,r,n,e)),(0,f.b)(()=>l++),Hu(1),(0,qn.z)(h=>l===i.length?ut(t):Dr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,f.b)({next:()=>T=!0,complete:()=>{T||(this.restoreHistory(v),this.cancelNavigationTransition(v,"At least one route resolver didn't emit any value."))}}))}),(0,f.b)(v=>{const T=new Cn(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(T)}))}),xy(m=>{const{targetSnapshot:v,id:T,extractedUrl:A,rawUrl:M,extras:{skipLocationChange:L,replaceUrl:V}}=m;return this.hooks.afterPreactivation(v,{navigationId:T,appliedUrlTree:A,rawUrlTree:M,skipLocationChange:!!L,replaceUrl:!!V})}),(0,Xe.U)(m=>{const v=function Ja(n,e,t){const r=Ku(n,e._root,t?t._root:void 0);return new Cb(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:v})}),(0,f.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,Xe.U)(r=>(new p1(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,f.b)({next(){l=!0},complete(){l=!0}}),function g(n){return(0,Br.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var m;l||h||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===i.id&&(this.currentNavigation=null)}),qi(m=>{if(h=!0,function If(n){return n&&n[$u]}(m)){const v=Od(m.url);v||(this.navigated=!0,this.restoreHistory(i,!0));const T=new W(i.id,this.serializeUrl(i.extractedUrl),m.message);r.next(T),v?setTimeout(()=>{const A=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),M={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Hf(i.source)};this.scheduleNavigation(A,"imperative",null,M,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const v=new ue(i.id,this.serializeUrl(i.extractedUrl),m);r.next(v);try{i.resolve(this.errorHandler(m))}catch(T){i.reject(T)}}return Dr.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const l={replaceUrl:!0},h=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(h){const v=Object.assign({},h);delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(l.state=v)}const m=this.parseUrl(t.url);this.scheduleNavigation(m,r,h,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Dy(t),this.config=t.map(ra),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:l,fragment:h,queryParamsHandling:m,preserveFragment:v}=r,T=i||this.routerState.root,A=v?this.currentUrlTree.fragment:h;let M=null;switch(m){case"merge":M=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=l||null}return null!==M&&(M=this.removeEmptyProps(M)),function NS(n,e,t,r,i){if(0===t.length)return Nd(e.root,e.root,e,r,i);const l=function yy(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Ug(!0,0,n);let e=0,t=!1;const r=n.reduce((i,l,h)=>{if("object"==typeof l&&null!=l){if(l.outlets){const m={};return Er(l.outlets,(v,T)=>{m[T]="string"==typeof v?v.split("/"):v}),[...i,{outlets:m}]}if(l.segmentPath)return[...i,l.segmentPath]}return"string"!=typeof l?[...i,l]:0===h?(l.split("/").forEach((m,v)=>{0==v&&"."===m||(0==v&&""===m?t=!0:".."===m?e++:""!=m&&i.push(m))}),i):[...i,l]},[]);return new Ug(t,e,r)}(t);if(l.toRoot())return Nd(e.root,new Pt([],{}),e,r,i);const h=function OS(n,e,t){if(n.isAbsolute)return new Lf(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new Lf(l,l===e.root,0)}const r=Pf(n.commands[0])?0:1;return function c1(n,e,t){let r=n,i=e,l=t;for(;l>i;){if(l-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Lf(r,!1,i-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,e,n),m=h.processChildren?jg(h.segmentGroup,h.index,l.commands):Nb(h.segmentGroup,h.index,l.commands);return Nd(h.segmentGroup,m,e,r,i)}(T,this.currentUrlTree,t,M,null!=A?A:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Od(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function qb(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},jS):!1===r?Object.assign({},P1):r,Od(t))return $l(this.currentUrlTree,t,i);const l=this.parseUrl(t);return $l(this.currentUrlTree,l,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const l=t[i];return null!=l&&(r[i]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new x(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,l,h){var m,v,T;if(this.disposed)return Promise.resolve(!1);const A=this.transitions.value,M=Hf(r)&&A&&!Hf(A.source),L=A.rawUrl.toString()===t.toString(),V=A.id===(null===(m=this.currentNavigation)||void 0===m?void 0:m.id);if(M&&L&&V)return Promise.resolve(!0);let ve,Re,He;h?(ve=h.resolve,Re=h.reject,He=h.promise):He=new Promise((Dt,Yt)=>{ve=Dt,Re=Yt});const ct=++this.navigationId;let Zt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),Zt=i&&i.\u0275routerPageId?i.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(v=this.browserPageId)&&void 0!==v?v:0:(null!==(T=this.browserPageId)&&void 0!==T?T:0)+1):Zt=0,this.setTransition({id:ct,targetPageId:Zt,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:ve,reject:Re,promise:He,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),He.catch(Dt=>Promise.reject(Dt))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",l):this.location.go(i,"",l)}restoreHistory(t,r=!1){var i,l;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===h?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===h&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new W(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Hf(n){return"imperative"!==n}let kd=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new Tn.x,this.subscription=t.events.subscribe(l=>{l instanceof x&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,l,h){if(0!==t||r||i||l||h||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const m={skipLocationChange:Zi(this.skipLocationChange),replaceUrl:Zi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,m),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Zi(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ni),c.Y36(_t),c.Y36(z))},n.\u0275dir=c.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&c.NdJ("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&c.uIk("target",r.target)("href",r.href,c.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),n})();function Zi(n){return""===n||!!n}class Zb{}class rm{preload(e,t){return ut(null)}}let Fy=(()=>{class n{constructor(t,r,i,l){this.router=t,this.injector=i,this.preloadingStrategy=l,this.loader=new Xg(i,r,v=>t.triggerEvent(new Ai(v)),v=>t.triggerEvent(new Gl(v)))}setUpPreloading(){this.subscription=this.router.events.pipe(fn(t=>t instanceof x),Hl(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(c.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const h=l._loadedConfig;i.push(this.processRoutes(h.module,h.routes))}else l.loadChildren&&!l.canLoad?i.push(this.preloadConfig(t,l)):l.children&&i.push(this.processRoutes(t,l.children));return(0,An.D)(i).pipe((0,Ul.J)(),(0,Xe.U)(l=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?ut(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,qn.z)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ni),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(Zb))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Gf=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof S?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof x&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof xo&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new xo(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Ju=new c.OlP("ROUTER_CONFIGURATION"),sm=new c.OlP("ROUTER_FORROOT_GUARD"),Yb=[Me,{provide:uy,useClass:Lg},{provide:ni,useFactory:function Xb(n,e,t,r,i,l,h={},m,v){const T=new ni(null,n,e,t,r,i,oy(l));return m&&(T.urlHandlingStrategy=m),v&&(T.routeReuseStrategy=v),function Pd(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(h,T),h.enableTracing&&T.events.subscribe(A=>{var M,L;null===(M=console.group)||void 0===M||M.call(console,`Router Event: ${A.constructor.name}`),console.log(A.toString()),console.log(A),null===(L=console.groupEnd)||void 0===L||L.call(console)}),T},deps:[uy,Zu,Me,c.zs3,c.Sil,ky,Ju,[class Py{},new c.FiY],[class x1{},new c.FiY]]},Zu,{provide:_t,useFactory:function ew(n){return n.routerState.root},deps:[ni]},Fy,rm,class HS{preload(e,t){return t().pipe(qi(()=>ut(null)))}},{provide:Ju,useValue:{enableTracing:!1}}];function Jb(){return new c.PXZ("Router",ni)}let Ly=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[Yb,Qb(t),{provide:sm,useFactory:V1,deps:[[ni,new c.FiY,new c.tp0]]},{provide:Ju,useValue:r||{}},{provide:z,useFactory:Vy,deps:[fe,[new c.tBr(ge),new c.FiY],Ju]},{provide:Gf,useFactory:L1,deps:[ni,vl,Ju]},{provide:Zb,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:rm},{provide:c.PXZ,multi:!0,useFactory:Jb},[By,{provide:c.ip1,multi:!0,useFactory:B1,deps:[By]},{provide:tw,useFactory:Fd,deps:[By]},{provide:c.tb,multi:!0,useExisting:tw}]]}}static forChild(t){return{ngModule:n,providers:[Qb(t)]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(sm,8),c.LFG(ni,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function L1(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Gf(n,e,t)}function Vy(n,e,t={}){return t.useHash?new ce(n,e):new Te(n,e)}function V1(n){return"guarded"}function Qb(n){return[{provide:c.deG,multi:!0,useValue:n},{provide:ky,multi:!0,useValue:n}]}let By=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Tn.x}appInitializer(){return this.injector.get(j,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(m=>r=m),l=this.injector.get(ni),h=this.injector.get(Ju);return"disabled"===h.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?ut(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Ju),i=this.injector.get(Fy),l=this.injector.get(Gf),h=this.injector.get(ni),m=this.injector.get(c.z2F);t===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),i.setUpPreloading(),l.init(),h.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function B1(n){return n.appInitializer.bind(n)}function Fd(n){return n.bootstrapListener.bind(n)}const tw=new c.OlP("Router Initializer");class j1{constructor(){this.id=0,this.task="",this.title="",this.tasks={title:"",task:""}}}class Ss{}class om{}class sa{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),l=i.toLowerCase(),h=t.slice(r+1).trim();this.maybeSetNormalizedName(i,l),this.headers.has(l)?this.headers.get(l).push(h):this.headers.set(l,[h])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof sa?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new sa;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof sa?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const l=e.value;if(l){let h=this.headers.get(t);if(!h)return;h=h.filter(m=>-1===l.indexOf(m)),0===h.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,h)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class nw{encodeKey(e){return sw(e)}encodeValue(e){return sw(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const iw=/%(\d[a-f0-9])/gi,H1={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function sw(n){return encodeURIComponent(n).replace(iw,(e,t)=>{var r;return null!==(r=H1[t])&&void 0!==r?r:e})}function ow(n){return`${n}`}class Kl{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new nw,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function rw(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const l=i.indexOf("="),[h,m]=-1==l?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,l)),e.decodeValue(i.slice(l+1))],v=t.get(h)||[];v.push(m),t.set(h,v)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(l=>{t.push({param:r,value:l,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Kl({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(ow(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(ow(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class $S{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function lw(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function uw(n){return"undefined"!=typeof Blob&&n instanceof Blob}function $1(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Qu{constructor(e,t,r,i){let l;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function aw(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,l=i):l=r,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new sa),this.context||(this.context=new $S),this.params){const h=this.params.toString();if(0===h.length)this.urlWithParams=t;else{const m=t.indexOf("?");this.urlWithParams=t+(-1===m?"?":m<t.length-1?"&":"")+h}}else this.params=new Kl,this.urlWithParams=t}serializeBody(){return null===this.body?null:lw(this.body)||uw(this.body)||$1(this.body)||function WS(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Kl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||$1(this.body)?null:uw(this.body)?this.body.type||null:lw(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Kl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,l=e.responseType||this.responseType,h=void 0!==e.body?e.body:this.body,m=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,v=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let T=e.headers||this.headers,A=e.params||this.params;const M=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(T=Object.keys(e.setHeaders).reduce((L,V)=>L.set(V,e.setHeaders[V]),T)),e.setParams&&(A=Object.keys(e.setParams).reduce((L,V)=>L.set(V,e.setParams[V]),A)),new Qu(r,i,h,{params:A,headers:T,context:M,reportProgress:v,responseType:l,withCredentials:m})}}var fr=(()=>((fr=fr||{})[fr.Sent=0]="Sent",fr[fr.UploadProgress=1]="UploadProgress",fr[fr.ResponseHeader=2]="ResponseHeader",fr[fr.DownloadProgress=3]="DownloadProgress",fr[fr.Response=4]="Response",fr[fr.User=5]="User",fr))();class am{constructor(e,t=200,r="OK"){this.headers=e.headers||new sa,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class lm extends am{constructor(e={}){super(e),this.type=fr.ResponseHeader}clone(e={}){return new lm({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Uy extends am{constructor(e={}){super(e),this.type=fr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Uy({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class io extends am{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function cw(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let dw=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let l;if(t instanceof Qu)l=t;else{let v,T;v=i.headers instanceof sa?i.headers:new sa(i.headers),i.params&&(T=i.params instanceof Kl?i.params:new Kl({fromObject:i.params})),l=new Qu(t,r,void 0!==i.body?i.body:null,{headers:v,context:i.context,params:T,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const h=ut(l).pipe(Hl(v=>this.handler.handle(v)));if(t instanceof Qu||"events"===i.observe)return h;const m=h.pipe(fn(v=>v instanceof Uy));switch(i.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return m.pipe((0,Xe.U)(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return m.pipe((0,Xe.U)(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return m.pipe((0,Xe.U)(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));default:return m.pipe((0,Xe.U)(v=>v.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Kl).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,cw(i,r))}post(t,r,i={}){return this.request("POST",t,cw(i,r))}put(t,r,i={}){return this.request("PUT",t,cw(i,r))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ss))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class jy{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const Hy=new c.OlP("HTTP_INTERCEPTORS");let hw=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const z1=/^\)\]\}',?\n/;let gw=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new En.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((V,J)=>i.setRequestHeader(V,J.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const V=t.detectContentTypeHeader();null!==V&&i.setRequestHeader("Content-Type",V)}if(t.responseType){const V=t.responseType.toLowerCase();i.responseType="json"!==V?V:"text"}const l=t.serializeBody();let h=null;const m=()=>{if(null!==h)return h;const V=1223===i.status?204:i.status,J=i.statusText||"OK",ve=new sa(i.getAllResponseHeaders()),Re=function K1(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return h=new lm({headers:ve,status:V,statusText:J,url:Re}),h},v=()=>{let{headers:V,status:J,statusText:ve,url:Re}=m(),He=null;204!==J&&(He=void 0===i.response?i.responseText:i.response),0===J&&(J=He?200:0);let ct=J>=200&&J<300;if("json"===t.responseType&&"string"==typeof He){const Zt=He;He=He.replace(z1,"");try{He=""!==He?JSON.parse(He):null}catch(Dt){He=Zt,ct&&(ct=!1,He={error:Dt,text:He})}}ct?(r.next(new Uy({body:He,headers:V,status:J,statusText:ve,url:Re||void 0})),r.complete()):r.error(new io({error:He,headers:V,status:J,statusText:ve,url:Re||void 0}))},T=V=>{const{url:J}=m(),ve=new io({error:V,status:i.status||0,statusText:i.statusText||"Unknown Error",url:J||void 0});r.error(ve)};let A=!1;const M=V=>{A||(r.next(m()),A=!0);let J={type:fr.DownloadProgress,loaded:V.loaded};V.lengthComputable&&(J.total=V.total),"text"===t.responseType&&!!i.responseText&&(J.partialText=i.responseText),r.next(J)},L=V=>{let J={type:fr.UploadProgress,loaded:V.loaded};V.lengthComputable&&(J.total=V.total),r.next(J)};return i.addEventListener("load",v),i.addEventListener("error",T),i.addEventListener("timeout",T),i.addEventListener("abort",T),t.reportProgress&&(i.addEventListener("progress",M),null!==l&&i.upload&&i.upload.addEventListener("progress",L)),i.send(l),r.next({type:fr.Sent}),()=>{i.removeEventListener("error",T),i.removeEventListener("abort",T),i.removeEventListener("load",v),i.removeEventListener("timeout",T),t.reportProgress&&(i.removeEventListener("progress",M),null!==l&&i.upload&&i.upload.removeEventListener("progress",L)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(en))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Gy=new c.OlP("XSRF_COOKIE_NAME"),$y=new c.OlP("XSRF_HEADER_NAME");class $f{}let Ld=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=mo(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re),c.LFG(c.Lbi),c.LFG(Gy))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Wy=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const l=this.tokenService.getToken();return null!==l&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,l)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG($f),c.LFG($y))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Wf=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(Hy,[]);this.chain=r.reduceRight((i,l)=>new jy(i,l),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(om),c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),zy=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Wy,useClass:hw}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:Gy,useValue:t.cookieName}:[],t.headerName?{provide:$y,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Wy,{provide:Hy,useExisting:Wy,multi:!0},{provide:$f,useClass:Ld},{provide:Gy,useValue:"XSRF-TOKEN"},{provide:$y,useValue:"X-XSRF-TOKEN"}]}),n})(),oa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[dw,{provide:Ss,useClass:Wf},gw,{provide:om,useExisting:gw}],imports:[[zy.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})(),Qa=(()=>{class n{constructor(t){this.http=t}postTask(t){return this.http.post("https://my-task-project-3c8eb-default-rtdb.firebaseio.com/posts.json",t).pipe((0,Xe.U)(r=>r))}getTask(){return this.http.get("https://my-task-project-3c8eb-default-rtdb.firebaseio.com/posts.json").pipe((0,Xe.U)(t=>t))}updateTask(t,r){return this.http.put("https://my-task-project-3c8eb-default-rtdb.firebaseio.com/posts/"+r,t).pipe((0,Xe.U)(i=>i))}deleteTask(t){return this.http.delete("https://my-task-project-3c8eb-default-rtdb.firebaseio.com/posts/"+t).pipe((0,Xe.U)(r=>r))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(dw))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Vd=R(4986),cn=R(5813);function zf(){return(0,Br.e)((n,e)=>{let t,r=!1;n.subscribe(new tn.Q(e,i=>{const l=t;t=i,r&&e.next([l,i]),r=!0}))})}function Bd(n,e){return n===e}var qe,bi=R(2011),Ud=(R(389),R(3942)),_e=R(5861),so=R(9681),el=R(4859),As=R(1877),Mt=R(2090),mw="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},aa={},cm=cm||{},vt=mw||self;function qf(){}function dm(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function jd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var hm="closure_uid_"+(1e9*Math.random()>>>0),Z1=0;function _w(n,e,t){return n.call.apply(n.bind,arguments)}function yw(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function ri(n,e,t){return(ri=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_w:yw).apply(null,arguments)}function fm(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ur(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,l){for(var h=Array(arguments.length-2),m=2;m<arguments.length;m++)h[m-2]=arguments[m];return e.prototype[i].apply(r,h)}}function ql(){this.s=this.s,this.o=this.o}var Y1={};ql.prototype.s=!1,ql.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function q1(n){return Object.prototype.hasOwnProperty.call(n,hm)&&n[hm]||(n[hm]=++Z1)}(this);delete Y1[n]}},ql.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const bw=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},J1=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in i&&e.call(t,i[l],l,n)};function pm(n){return Array.prototype.concat.apply([],arguments)}function Zf(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function gm(n){return/^[\s\xa0]*$/.test(n)}var Oi,X1=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Yi(n,e){return-1!=n.indexOf(e)}function ww(n,e){return n<e?-1:n>e?1:0}e:{var Ky=vt.navigator;if(Ky){var eT=Ky.userAgent;if(eT){Oi=eT;break e}}Oi=""}function qy(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Xu(n){const e={};for(const t in n)e[t]=n[t];return e}var Dw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Zy(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let l=0;l<Dw.length;l++)t=Dw[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Yy(n){return Yy[" "](n),n}Yy[" "]=qf;var _m,n,mm=Yi(Oi,"Opera"),Hd=Yi(Oi,"Trident")||Yi(Oi,"MSIE"),Jy=Yi(Oi,"Edge"),Qy=Jy||Hd,Tw=Yi(Oi,"Gecko")&&!(Yi(Oi.toLowerCase(),"webkit")&&!Yi(Oi,"Edge"))&&!(Yi(Oi,"Trident")||Yi(Oi,"MSIE"))&&!Yi(Oi,"Edge"),tT=Yi(Oi.toLowerCase(),"webkit")&&!Yi(Oi,"Edge");function Cw(){var n=vt.document;return n?n.documentMode:void 0}e:{var ym="",Xy=(n=Oi,Tw?/rv:([^\);]+)(\)|;)/.exec(n):Jy?/Edge\/([\d\.]+)/.exec(n):Hd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):tT?/WebKit\/(\S+)/.exec(n):mm?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Xy&&(ym=Xy?Xy[1]:""),Hd){var vm=Cw();if(null!=vm&&vm>parseFloat(ym)){_m=String(vm);break e}}_m=ym}var Iw={};var nT=vt.document&&Hd&&(Cw()||parseInt(_m,10))||void 0,JS=function(){if(!vt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{vt.addEventListener("test",qf,e),vt.removeEventListener("test",qf,e)}catch(t){}return n}();function pr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Gd(n,e){if(pr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Tw){e:{try{Yy(e.nodeName);var i=!0;break e}catch(l){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:tv[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Gd.Z.h.call(this)}}pr.prototype.h=function(){this.defaultPrevented=!0},Ur(Gd,pr);var tv={2:"touch",3:"pen",4:"mouse"};Gd.prototype.h=function(){Gd.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ec="closure_listenable_"+(1e6*Math.random()|0),rT=0;function nv(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++rT,this.ca=this.fa=!1}function $d(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Yf(n){this.src=n,this.g={},this.h=0}function Aw(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],i=bw(r,e);(l=0<=i)&&Array.prototype.splice.call(r,i,1),l&&($d(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function rv(n,e,t,r){for(var i=0;i<n.length;++i){var l=n[i];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return i}return-1}Yf.prototype.add=function(n,e,t,r,i){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var h=rv(n,e,r,i);return-1<h?(e=n[h],t||(e.fa=!1)):((e=new nv(e,this.src,l,!!r,i)).fa=t,n.push(e)),e};var wm="closure_lm_"+(1e6*Math.random()|0),Dm={};function Nw(n,e,t,r,i){if(r&&r.once)return ov(n,e,t,r,i);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Nw(n,e[l],t,r,i);return null}return t=Qf(t),n&&n[ec]?n.N(e,t,jd(r)?!!r.capture:!!r,i):iv(n,e,t,!1,r,i)}function iv(n,e,t,r,i,l){if(!e)throw Error("Invalid event type");var h=jd(i)?!!i.capture:!!i,m=Em(n);if(m||(n[wm]=m=new Yf(n)),(t=m.add(e,t,r,h,l)).proxy)return t;if(r=function sv(){var e=iT;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)JS||(i=h),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(lv(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function ov(n,e,t,r,i){if(Array.isArray(e)){for(var l=0;l<e.length;l++)ov(n,e[l],t,r,i);return null}return t=Qf(t),n&&n[ec]?n.O(e,t,jd(r)?!!r.capture:!!r,i):iv(n,e,t,!0,r,i)}function av(n,e,t,r,i){if(Array.isArray(e))for(var l=0;l<e.length;l++)av(n,e[l],t,r,i);else r=jd(r)?!!r.capture:!!r,t=Qf(t),n&&n[ec]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=rv(l=n.g[e],t,r,i))&&($d(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=Em(n))&&(e=n.g[e.toString()],n=-1,e&&(n=rv(e,t,r,i)),(t=-1<n?e[n]:null)&&Jf(t))}function Jf(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[ec])Aw(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(lv(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Em(e))?(Aw(t,n),0==t.h&&(t.src=null,e[wm]=null)):$d(n)}}}function lv(n){return n in Dm?Dm[n]:Dm[n]="on"+n}function iT(n,e){if(n.ca)n=!0;else{e=new Gd(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Jf(n),n=t.call(r,e)}return n}function Em(n){return(n=n[wm])instanceof Yf?n:null}var Tm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qf(n){return"function"==typeof n?n:(n[Tm]||(n[Tm]=function(e){return n.handleEvent(e)}),n[Tm])}function Tr(){ql.call(this),this.i=new Yf(this),this.P=this,this.I=null}function ii(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new pr(e,n);else if(e instanceof pr)e.target=e.target||n;else{var i=e;Zy(e=new pr(r,n),i)}if(i=!0,t)for(var l=t.length-1;0<=l;l--){var h=e.g=t[l];i=Xf(h,r,!0,e)&&i}if(i=Xf(h=e.g=n,r,!0,e)&&i,i=Xf(h,r,!1,e)&&i,t)for(l=0;l<t.length;l++)i=Xf(h=e.g=t[l],r,!1,e)&&i}function Xf(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,l=0;l<e.length;++l){var h=e[l];if(h&&!h.ca&&h.capture==t){var m=h.listener,v=h.ia||h.src;h.fa&&Aw(n.i,h),i=!1!==m.call(v,r)&&i}}return i&&!r.defaultPrevented}Ur(Tr,ql),Tr.prototype[ec]=!0,Tr.prototype.removeEventListener=function(n,e,t,r){av(this,n,e,t,r)},Tr.prototype.M=function(){if(Tr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)$d(t[r]);delete n.g[e],n.h--}}this.I=null},Tr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Tr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Cm=vt.JSON.stringify;function uv(){var n=dv;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Am,cv=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Ow,n=>n.reset());class Ow{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Mw(n){vt.setTimeout(()=>{throw n},0)}function Sm(n,e){Am||function xw(){var n=vt.Promise.resolve(void 0);Am=function(){n.then(QS)}}(),Nm||(Am(),Nm=!0),dv.add(n,e)}var Nm=!1,dv=new class Im{constructor(){this.h=this.g=null}add(e,t){const r=cv.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function QS(){for(var n;n=uv();){try{n.h.call(n.g)}catch(t){Mw(t)}var e=cv;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Nm=!1}function Om(n,e){Tr.call(this),this.h=n||1,this.g=e||vt,this.j=ri(this.kb,this),this.l=Date.now()}function hv(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Mm(n,e,t){if("function"==typeof n)t&&(n=ri(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ri(n.handleEvent,n)}return 2147483647<Number(e)?-1:vt.setTimeout(n,e||0)}function Rw(n){n.g=Mm(()=>{n.g=null,n.i&&(n.i=!1,Rw(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ur(Om,Tr),(qe=Om.prototype).da=!1,qe.S=null,qe.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ii(this,"tick"),this.da&&(hv(this),this.start()))}},qe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},qe.M=function(){Om.Z.M.call(this),hv(this),delete this.g};class Cr extends ql{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Rw(this)}M(){super.M(),this.g&&(vt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wd(n){ql.call(this),this.h=n,this.g={}}Ur(Wd,ql);var kw=[];function Pw(n,e,t,r){Array.isArray(t)||(t&&(kw[0]=t.toString()),t=kw);for(var i=0;i<t.length;i++){var l=Nw(e,t[i],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function fv(n){qy(n.g,function(e,t){this.g.hasOwnProperty(t)&&Jf(e)},n),n.g={}}function xm(){this.g=!0}function Po(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function oT(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var l=i[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var h=1;h<i.length;h++)i[h]=""}}}return Cm(t)}catch(m){return e}}(n,t)+(r?" "+r:"")})}Wd.prototype.M=function(){Wd.Z.M.call(this),fv(this)},Wd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},xm.prototype.Aa=function(){this.g=!1},xm.prototype.info=function(){};var Zl={},Vw=null;function ep(){return Vw=Vw||new Tr}function aT(n){pr.call(this,Zl.Ma,n)}function tc(n){const e=ep();ii(e,new aT(e,n))}function Rm(n,e){pr.call(this,Zl.STAT_EVENT,n),this.stat=e}function On(n){const e=ep();ii(e,new Rm(e,n))}function Bw(n,e){pr.call(this,Zl.Na,n),this.size=e}function zd(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return vt.setTimeout(function(){n()},e)}Zl.Ma="serverreachability",Ur(aT,pr),Zl.STAT_EVENT="statevent",Ur(Rm,pr),Zl.Na="timingevent",Ur(Bw,pr);var Ns={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},oo={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Os(){}function gv(){}Os.prototype.h=null;var yv,tp={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function mv(){pr.call(this,"d")}function _v(){pr.call(this,"c")}function Kd(){}function tl(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Wd(this),this.P=jw,this.W=new Om(n=Qy?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Uw}function Uw(){this.i=null,this.g="",this.h=!1}Ur(mv,pr),Ur(_v,pr),Ur(Kd,Os),Kd.prototype.g=function(){return new XMLHttpRequest},Kd.prototype.i=function(){return{}},yv=new Kd;var jw=45e3,vv={},np={};function km(n,e,t){n.K=1,n.v=jm(nl(e)),n.s=t,n.U=!0,rp(n,null)}function rp(n,e){n.F=Date.now(),nc(n),n.A=nl(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),Ev(t.h,"t",r),n.C=0,t=n.l.H,n.h=new Uw,n.g=dp(n.l,t?e:null,!n.s),0<n.O&&(n.L=new Cr(ri(n.Ia,n,n.g),n.O)),Pw(n.V,n.g,"readystatechange",n.gb),e=n.H?Xu(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),tc(1),function Fw(n,e,t,r,i,l){n.info(function(){if(n.g)if(l)for(var h="",m=l.split("&"),v=0;v<m.length;v++){var T=m[v].split("=");if(1<T.length){var A=T[0];T=T[1];var M=A.split("_");h=2<=M.length&&"type"==M[1]?h+(A+"=")+T+"&":h+(A+"=redacted&")}}else h=null;else h=l;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Hw(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function bv(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=Gw(n,t),i==np){4==e&&(n.o=4,On(14),r=!1),Po(n.j,n.m,null,"[Incomplete Response]");break}if(i==vv){n.o=4,On(15),Po(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Po(n.j,n.m,i,null),Pm(n,i)}Hw(n)&&i!=np&&i!=vv&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,On(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),qm(e),e.L=!0,On(11))):(Po(n.j,n.m,t,"[Invalid Chunked Response]"),Yl(n),qd(n))}function Gw(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?np:(t=Number(e.substring(t,r)),isNaN(t)?vv:(r+=1)+t>e.length?np:(e=e.substr(r,t),n.C=r+t,e))}function nc(n){n.Y=Date.now()+n.P,ip(n,n.P)}function ip(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=zd(ri(n.eb,n),e)}function sp(n){n.B&&(vt.clearTimeout(n.B),n.B=null)}function qd(n){0==n.l.G||n.I||vT(n.l,n)}function Yl(n){sp(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,hv(n.W),fv(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Pm(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Xw(t.i,n)))if(t.I=n.N,!n.J&&Xw(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(T){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=zd(ri(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Zm(t),zm(t)}Mv(t),On(18)}if(1>=ac(t.i)&&t.ka){try{t.ka()}catch(T){}t.ka=void 0}}else th(t,11)}else if((n.J||t.g==n)&&Zm(t),!gm(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let T=i[e];if(t.U=T[0],T=T[1],2==t.G)if("c"==T[0]){t.J=T[1],t.la=T[2];const A=T[3];null!=A&&(t.ma=A,t.h.info("VER="+t.ma));const M=T[4];null!=M&&(t.za=M,t.h.info("SVER="+t.za));const L=T[5];null!=L&&"number"==typeof L&&0<L&&(t.K=r=1.5*L,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const V=n.g;if(V){const J=V.g?V.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(J){var l=r.i;!l.g&&(Yi(J,"spdy")||Yi(J,"quic")||Yi(J,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(lp(l,l.h),l.h=null))}if(r.D){const ve=V.g?V.g.getResponseHeader("X-HTTP-Session-Id"):null;ve&&(r.sa=ve,Mn(r.F,r.D,ve))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var h=n;if((r=t).oa=xv(r,r.H?r.la:null,r.W),h.J){pT(r.i,h);var m=h,v=r.K;v&&m.setTimeout(v),m.B&&(sp(m),nc(m)),r.g=h}else Ov(r);0<t.l.length&&Km(t)}else"stop"!=T[0]&&"close"!=T[0]||th(t,7);else 3==t.G&&("stop"==T[0]||"close"==T[0]?"stop"==T[0]?th(t,7):Wm(t):"noop"!=T[0]&&t.j&&t.j.wa(T),t.A=0)}tc(4)}catch(T){}}function Fm(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(dm(n)||"string"==typeof n)J1(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(dm(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function $w(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(dm(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var l=0;l<i;l++)e.call(void 0,r[l],t&&t[l],n)}}function rc(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof rc)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function Lm(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];ic(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)ic(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function ic(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(qe=tl.prototype).setTimeout=function(n){this.P=n},qe.gb=function(n){n=n.target;const e=this.L;e&&3==il(n)?e.l():this.Ia(n)},qe.Ia=function(n){try{if(n==this.g)e:{const A=il(this.g);var e=this.g.Da();const M=this.g.ba();if(!(3>A)&&(3!=A||Qy||this.g&&(this.h.h||this.g.ga()||oD(this.g)))){this.I||4!=A||7==e||tc(8==e||0>=M?3:2),sp(this);var t=this.g.ba();this.N=t;t:if(Hw(this)){var r=oD(this.g);n="";var i=r.length,l=4==il(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Yl(this),qd(this);var h="";break t}this.h.i=new vt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==t,function Lw(n,e,t,r,i,l,h){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+l+" "+h})}(this.j,this.u,this.A,this.m,this.X,A,t),this.i){if(this.$&&!this.J){t:{if(this.g){var m,v=this.g;if((m=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gm(m)){var T=m;break t}}T=null}if(!(t=T)){this.i=!1,this.o=3,On(12),Yl(this),qd(this);break e}Po(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Pm(this,t)}this.U?(bv(this,A,h),Qy&&this.i&&3==A&&(Pw(this.V,this.W,"tick",this.fb),this.W.start())):(Po(this.j,this.m,h,null),Pm(this,h)),4==A&&Yl(this),this.i&&!this.I&&(4==A?vT(this.l,this):(this.i=!1,nc(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,On(12)):(this.o=0,On(13)),Yl(this),qd(this)}}}catch(A){}},qe.fb=function(){if(this.g){var n=il(this.g),e=this.g.ga();this.C<e.length&&(sp(this),bv(this,n,e),this.i&&4!=n&&nc(this))}},qe.cancel=function(){this.I=!0,Yl(this)},qe.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function sT(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(tc(3),On(17)),Yl(this),this.o=2,qd(this)):ip(this,this.Y-n)},(qe=rc.prototype).R=function(){Lm(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},qe.T=function(){return Lm(this),this.g.concat()},qe.get=function(n,e){return ic(this.h,n)?this.h[n]:e},qe.set=function(n,e){ic(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},qe.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],l=this.get(i);n.call(e,l,i,this)}};var Ww=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function sc(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof sc){this.g=void 0!==e?e:n.g,Vm(this,n.j),this.s=n.s,Bm(this,n.i),Um(this,n.m),this.l=n.l,e=n.h;var t=new Zd;t.i=e.i,e.g&&(t.g=new rc(e.g),t.h=e.h),zw(this,t),this.o=n.o}else n&&(t=String(n).match(Ww))?(this.g=!!e,Vm(this,t[1]||"",!0),this.s=op(t[2]||""),Bm(this,t[3]||"",!0),Um(this,t[4]),this.l=op(t[5]||"",!0),zw(this,t[6]||"",!0),this.o=op(t[7]||"")):(this.g=!!e,this.h=new Zd(null,this.g))}function nl(n){return new sc(n)}function Vm(n,e,t){n.j=t?op(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Bm(n,e,t){n.i=t?op(e,!0):e}function Um(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function zw(n,e,t){e instanceof Zd?(n.h=e,function Tv(n,e){e&&!n.j&&(rl(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(wv(this,r),Ev(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=ap(e,Zw)),n.h=new Zd(e,n.g))}function Mn(n,e,t){n.h.set(e,t)}function jm(n){return Mn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function op(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ap(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,dT),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function dT(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}sc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(ap(e,Kw,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(ap(e,Kw,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(ap(t,"/"==t.charAt(0)?qw:hT,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",ap(t,Yw)),n.join("")};var Kw=/[#\/\?@]/g,hT=/[#\?:]/g,qw=/[#\?]/g,Zw=/[#\?@]/g,Yw=/#/g;function Zd(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function rl(n){n.g||(n.g=new rc,n.h=0,n.i&&function lT(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var l=n[t].substring(0,r);i=n[t].substring(r+1)}else l=n[t];e(l,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function wv(n,e){rl(n),e=oc(n,e),ic(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,ic((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Lm(n)))}function Dv(n,e){return rl(n),e=oc(n,e),ic(n.g.h,e)}function Ev(n,e,t){wv(n,e),0<t.length&&(n.i=null,n.g.set(oc(n,e),Zf(t)),n.h+=t.length)}function oc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Jl(n){this.l=n||fT,n=vt.PerformanceNavigationTiming?0<(n=vt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(vt.g&&vt.g.Ea&&vt.g.Ea()&&vt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(qe=Zd.prototype).add=function(n,e){rl(this),this.i=null,n=oc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},qe.forEach=function(n,e){rl(this),this.g.forEach(function(t,r){J1(t,function(i){n.call(e,i,r,this)},this)},this)},qe.T=function(){rl(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],l=0;l<i.length;l++)t.push(e[r]);return t},qe.R=function(n){rl(this);var e=[];if("string"==typeof n)Dv(this,n)&&(e=pm(e,this.g.get(oc(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=pm(e,n[t])}return e},qe.set=function(n,e){return rl(this),this.i=null,Dv(this,n=oc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},qe.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},qe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var h=i;""!==r[l]&&(h+="="+encodeURIComponent(String(r[l]))),n.push(h)}}return this.i=n.join("&")};var fT=10;function Qw(n){return!!n.h||!!n.g&&n.g.size>=n.j}function ac(n){return n.h?1:n.g?n.g.size:0}function Xw(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function lp(n,e){n.g?n.g.add(e):n.h=e}function pT(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Cv(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Zf(n.i)}function Hm(){}function XS(){this.g=new Hm}function pt(n,e,t){const r=t||"";try{Fm(n,function(i,l){let h=i;jd(i)&&(h=Cm(i)),e.push(r+l+"="+encodeURIComponent(h))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Gm(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(l){}}function up(n){this.l=n.$b||null,this.j=n.ib||!1}function lc(n,e){Tr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Iv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Jl.prototype.cancel=function(){if(this.i=Cv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Hm.prototype.stringify=function(n){return vt.JSON.stringify(n,void 0)},Hm.prototype.parse=function(n){return vt.JSON.parse(n,void 0)},Ur(up,Os),up.prototype.g=function(){return new lc(this.l,this.j)},up.prototype.i=function(n){return function(){return n}}({}),Ur(lc,Tr);var Iv=0;function cp(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Ql(n){n.readyState=4,n.l=null,n.j=null,n.A=null,mn(n)}function mn(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(qe=lc.prototype).open=function(n,e){if(this.readyState!=Iv)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,mn(this)},qe.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||vt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},qe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ql(this)),this.readyState=Iv},qe.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,mn(this)),this.g&&(this.readyState=3,mn(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==vt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;cp(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},qe.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Ql(this):mn(this),3==this.readyState&&cp(this)}},qe.Ua=function(n){this.g&&(this.response=this.responseText=n,Ql(this))},qe.Ta=function(n){this.g&&(this.response=n,Ql(this))},qe.ha=function(){this.g&&Ql(this)},qe.setRequestHeader=function(n,e){this.v.append(n,e)},qe.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},qe.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(lc.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var eA=vt.JSON.parse;function or(n){Tr.call(this),this.headers=new rc,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=eD,this.K=this.L=!1}Ur(or,Tr);var eD="",mT=/^https?$/i,tD=["POST","PUT"];function rD(n){return"content-type"==n.toLowerCase()}function Sv(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,iD(n),$m(n)}function iD(n){n.D||(n.D=!0,ii(n,"complete"),ii(n,"error"))}function sD(n){if(n.h&&void 0!==cm&&(!n.C[1]||4!=il(n)||2!=n.ba()))if(n.v&&4==il(n))Mm(n.Fa,0,n);else if(ii(n,"readystatechange"),4==il(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var i=String(n.H).match(Ww)[1]||null;if(!i&&vt.self&&vt.self.location){var l=vt.self.location.protocol;i=l.substr(0,l.length-1)}r=!mT.test(i?i.toLowerCase():"")}t=r}if(t)ii(n,"complete"),ii(n,"success");else{n.m=6;try{var h=2<il(n)?n.g.statusText:""}catch(v){h=""}n.j=h+" ["+n.ba()+"]",iD(n)}}finally{$m(n)}}}function $m(n,e){if(n.g){Yd(n);const t=n.g,r=n.C[0]?qf:null;n.g=null,n.C=null,e||ii(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function Yd(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(vt.clearTimeout(n.A),n.A=null)}function il(n){return n.g?n.g.readyState:0}function oD(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case eD:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Jd(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function _T(n){let e="";return qy(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Mn(n,e,t))}function Qd(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Av(n){this.za=0,this.l=[],this.h=new xm,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Qd("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Qd("baseRetryDelayMs",5e3,n),this.$a=Qd("retryDelaySeedMs",1e4,n),this.Ya=Qd("forwardChannelMaxRetries",2,n),this.ra=Qd("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Jl(n&&n.concurrentRequestLimit),this.Ca=new XS,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Wm(n){if(Xd(n),3==n.G){var e=n.V++,t=nl(n.F);Mn(t,"SID",n.J),Mn(t,"RID",e),Mn(t,"TYPE","terminate"),eh(n,t),(e=new tl(n,n.h,e,void 0)).K=2,e.v=jm(nl(t)),t=!1,vt.navigator&&vt.navigator.sendBeacon&&(t=vt.navigator.sendBeacon(e.v.toString(),"")),!t&&vt.Image&&((new Image).src=e.v,t=!0),t||(e.g=dp(e.l,null),e.g.ea(e.v)),e.F=Date.now(),nc(e)}wT(n)}function zm(n){n.g&&(qm(n),n.g.cancel(),n.g=null)}function Xd(n){zm(n),n.u&&(vt.clearTimeout(n.u),n.u=null),Zm(n),n.i.cancel(),n.m&&("number"==typeof n.m&&vt.clearTimeout(n.m),n.m=null)}function uc(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Km(n)}function Km(n){Qw(n.i)||n.m||(n.m=!0,Sm(n.Ha,n),n.C=0)}function aD(n,e){var t;t=e?e.m:n.V++;const r=nl(n.F);Mn(r,"SID",n.J),Mn(r,"RID",t),Mn(r,"AID",n.U),eh(n,r),n.o&&n.s&&Jd(r,n.o,n.s),t=new tl(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=Nv(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),lp(n.i,t),km(t,r,e)}function eh(n,e){n.j&&Fm({},function(t,r){Mn(e,r,t)})}function Nv(n,e,t){t=Math.min(n.l.length,t);var r=n.j?ri(n.j.Oa,n.j,n):null;e:{var i=n.l;let l=-1;for(;;){const h=["count="+t];-1==l?0<t?(l=i[0].h,h.push("ofs="+l)):l=0:h.push("ofs="+l);let m=!0;for(let v=0;v<t;v++){let T=i[v].h;const A=i[v].g;if(T-=l,0>T)l=Math.max(0,i[v].h-100),m=!1;else try{pt(A,h,"req"+T+"_")}catch(M){r&&r(A)}}if(m){r=h.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function Ov(n){n.g||n.u||(n.Y=1,Sm(n.Ga,n),n.A=0)}function Mv(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=zd(ri(n.Ga,n),bT(n,n.A)),n.A++,0))}function qm(n){null!=n.B&&(vt.clearTimeout(n.B),n.B=null)}function lD(n){n.g=new tl(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=nl(n.oa);Mn(e,"RID","rpc"),Mn(e,"SID",n.J),Mn(e,"CI",n.N?"0":"1"),Mn(e,"AID",n.U),eh(n,e),Mn(e,"TYPE","xmlhttp"),n.o&&n.s&&Jd(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=jm(nl(e)),t.s=null,t.U=!0,rp(t,n)}function Zm(n){null!=n.v&&(vt.clearTimeout(n.v),n.v=null)}function vT(n,e){var t=null;if(n.g==e){Zm(n),qm(n),n.g=null;var r=2}else{if(!Xw(n.i,e))return;t=e.D,pT(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;ii(r=ep(),new Bw(r,t,e,i)),Km(n)}else Ov(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function yT(n,e){return!(ac(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=zd(ri(n.Ha,n,e),bT(n,n.C)),n.C++,0)))}(n,e)||2==r&&Mv(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:th(n,5);break;case 4:th(n,10);break;case 3:th(n,6);break;default:th(n,2)}}function bT(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function th(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=ri(n.jb,n);t||(t=new sc("//www.google.com/images/cleardot.gif"),vt.location&&"http"==vt.location.protocol||Vm(t,"https"),jm(t)),function gT(n,e){const t=new xm;if(vt.Image){const r=new Image;r.onload=fm(Gm,t,r,"TestLoadImage: loaded",!0,e),r.onerror=fm(Gm,t,r,"TestLoadImage: error",!1,e),r.onabort=fm(Gm,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=fm(Gm,t,r,"TestLoadImage: timeout",!1,e),vt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else On(2);n.G=0,n.j&&n.j.va(e),wT(n),Xd(n)}function wT(n){n.G=0,n.I=-1,n.j&&((0!=Cv(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Zf(n.l),n.l.length=0),n.j.ua())}function xv(n,e,t){let r=function uT(n){return n instanceof sc?nl(n):new sc(n,void 0)}(t);if(""!=r.i)e&&Bm(r,e+"."+r.i),Um(r,r.m);else{const i=vt.location;r=function cT(n,e,t,r){var i=new sc(null,void 0);return n&&Vm(i,n),e&&Bm(i,e),t&&Um(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&qy(n.aa,function(i,l){Mn(r,l,i)}),t=n.sa,(e=n.D)&&t&&Mn(r,e,t),Mn(r,"VER",n.ma),eh(n,r),r}function dp(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new or(t&&n.Ba&&!n.qa?new up({ib:!0}):n.qa)).L=n.H,e}function uD(){}function Ym(){if(Hd&&!(10<=Number(nT)))throw Error("Environmental error: no available transport.")}function Ji(n,e){Tr.call(this),this.g=new Av(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!gm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!gm(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new rh(this)}function nh(n){mv.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function cD(){_v.call(this),this.status=1}function rh(n){this.g=n}(qe=or.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():yv.g(),this.C=function pv(n){return n.h||(n.h=n.i())}(this.u?this.u:yv),this.g.onreadystatechange=ri(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void Sv(this,l)}n=t||"";const i=new rc(this.headers);r&&Fm(r,function(l,h){i.set(h,l)}),r=function Q1(n){e:{var e=rD;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=vt.FormData&&n instanceof vt.FormData,!(0<=bw(tD,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(l,h){this.g.setRequestHeader(h,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Yd(this),0<this.B&&((this.K=function nD(n){return Hd&&function ev(){return function Ew(n){var e=Iw;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=X1(String(_m)).split("."),t=X1("9").split("."),r=Math.max(e.length,t.length);for(let h=0;0==n&&h<r;h++){var i=e[h]||"",l=t[h]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==i[0].length&&0==l[0].length)break;n=ww(0==i[1].length?0:parseInt(i[1],10),0==l[1].length?0:parseInt(l[1],10))||ww(0==i[2].length,0==l[2].length)||ww(i[2],l[2]),i=i[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ri(this.pa,this)):this.A=Mm(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){Sv(this,l)}},qe.pa=function(){void 0!==cm&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ii(this,"timeout"),this.abort(8))},qe.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ii(this,"complete"),ii(this,"abort"),$m(this))},qe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$m(this,!0)),or.Z.M.call(this)},qe.Fa=function(){this.s||(this.F||this.v||this.l?sD(this):this.cb())},qe.cb=function(){sD(this)},qe.ba=function(){try{return 2<il(this)?this.g.status:-1}catch(n){return-1}},qe.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},qe.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),eA(e)}},qe.Da=function(){return this.m},qe.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(qe=Av.prototype).ma=8,qe.G=1,qe.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},qe.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new tl(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=Xu(l),Zy(l,this.P)):l=this.P),null===this.o&&(i.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Nv(this,i,e),Mn(t=nl(this.F),"RID",n),Mn(t,"CVER",22),this.D&&Mn(t,"X-HTTP-Session-Id",this.D),eh(this,t),this.o&&l&&Jd(t,this.o,l),lp(this.i,i),this.Ra&&Mn(t,"TYPE","init"),this.ja?(Mn(t,"$req",e),Mn(t,"SID","null"),i.$=!0,km(i,t,null)):km(i,t,e),this.G=2}}else 3==this.G&&(n?aD(this,n):0==this.l.length||Qw(this.i)||aD(this))},qe.Ga=function(){if(this.u=null,lD(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=zd(ri(this.bb,this),n)}},qe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,On(10),zm(this),lD(this))},qe.ab=function(){null!=this.v&&(this.v=null,zm(this),Mv(this),On(19))},qe.jb=function(n){n?(this.h.info("Successfully pinged google.com"),On(2)):(this.h.info("Failed to ping google.com"),On(1))},(qe=uD.prototype).xa=function(){},qe.wa=function(){},qe.va=function(){},qe.ua=function(){},qe.Oa=function(){},Ym.prototype.g=function(n,e){return new Ji(n,e)},Ur(Ji,Tr),Ji.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Sm(ri(n.hb,n,e))),On(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=xv(n,null,n.W),Km(n)},Ji.prototype.close=function(){Wm(this.g)},Ji.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,uc(this.g,e)}else this.v?((e={}).__data__=Cm(n),uc(this.g,e)):uc(this.g,n)},Ji.prototype.M=function(){this.g.j=null,delete this.j,Wm(this.g),delete this.g,Ji.Z.M.call(this)},Ur(nh,mv),Ur(cD,_v),Ur(rh,uD),rh.prototype.xa=function(){ii(this.g,"a")},rh.prototype.wa=function(n){ii(this.g,new nh(n))},rh.prototype.va=function(n){ii(this.g,new cD(n))},rh.prototype.ua=function(){ii(this.g,"b")},Ym.prototype.createWebChannel=Ym.prototype.g,Ji.prototype.send=Ji.prototype.u,Ji.prototype.open=Ji.prototype.m,Ji.prototype.close=Ji.prototype.close,Ns.NO_ERROR=0,Ns.TIMEOUT=8,Ns.HTTP_ERROR=6,oo.COMPLETE="complete",gv.EventType=tp,tp.OPEN="a",tp.CLOSE="b",tp.ERROR="c",tp.MESSAGE="d",Tr.prototype.listen=Tr.prototype.N,or.prototype.listenOnce=or.prototype.O,or.prototype.getLastError=or.prototype.La,or.prototype.getLastErrorCode=or.prototype.Da,or.prototype.getStatus=or.prototype.ba,or.prototype.getResponseJson=or.prototype.Qa,or.prototype.getResponseText=or.prototype.ga,or.prototype.send=or.prototype.ea;var DT=aa.createWebChannelTransport=function(){return new Ym},ET=aa.getStatEventTarget=function(){return ep()},Rv=aa.ErrorCode=Ns,dD=aa.EventType=oo,TT=aa.Event=Zl,hD=aa.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},ih=aa.FetchXmlHttpFactory=up,Jm=aa.WebChannel=gv,fD=aa.XhrIo=or;const pD="@firebase/firestore";class jr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jr.UNAUTHENTICATED=new jr(null),jr.GOOGLE_CREDENTIALS=new jr("google-credentials-uid"),jr.FIRST_PARTY=new jr("first-party-uid"),jr.MOCK_USER=new jr("mock-user");let sh="9.6.5";const sl=new As.Yd("@firebase/firestore");function kv(){return sl.logLevel}function Fe(n,...e){if(sl.logLevel<=As.in.DEBUG){const t=e.map(Fv);sl.debug(`Firestore (${sh}): ${n}`,...t)}}function ar(n,...e){if(sl.logLevel<=As.in.ERROR){const t=e.map(Fv);sl.error(`Firestore (${sh}): ${n}`,...t)}}function oh(n,...e){if(sl.logLevel<=As.in.WARN){const t=e.map(Fv);sl.warn(`Firestore (${sh}): ${n}`,...t)}}function Fv(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function st(n="Unexpected state"){const e=`FIRESTORE (${sh}) INTERNAL ASSERTION FAILED: `+n;throw ar(e),new Error(e)}function yt(n,e){n||st()}function Ge(n,e){return n}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends Mt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Hr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class gD{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(jr.UNAUTHENTICATED))}shutdown(){}}class IT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ST{constructor(e){this.t=e,this.currentUser=jr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const l=T=>this.i!==i?(i=this.i,t(T)):Promise.resolve();let h=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Hr,e.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const T=h;e.enqueueRetryable((0,_e.Z)(function*(){yield T.promise,yield l(r.currentUser)}))},v=T=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=T,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(T=>v(T)),setTimeout(()=>{if(!this.auth){const T=this.t.getImmediate({optional:!0});T?v(T):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Hr)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(yt("string"==typeof r.accessToken),new gD(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return yt(null===e||"string"==typeof e),new jr(e)}}class AT{constructor(e,t,r){this.type="FirstParty",this.user=jr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class NT{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new AT(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(jr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Vv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mD{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=i=>{e.enqueueRetryable(()=>{return null!=(l=i).error&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`),t(l.token);var l})};const r=i=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.g.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.g.getImmediate({optional:!0});i?r(i):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(yt("string"==typeof t.token),new Vv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Ms{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.p(r),this.T=r=>t.writeSequenceNumber(r))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Bv(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Ms.I=-1;class Uv{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Bv(40);for(let l=0;l<i.length;++l)r.length<20&&i[l]<t&&(r+=e.charAt(i[l]%e.length))}return r}}function Ft(n,e){return n<e?-1:n>e?1:0}function ah(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Qm(n){return n+"\0"}class gr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ne(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ne(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ne(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gr.fromMillis(Date.now())}static fromDate(e){return gr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new gr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ft(this.nanoseconds,e.nanoseconds):Ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class wt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new wt(e)}static min(){return new wt(new gr(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Xm(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function cc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function _D(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class dc{constructor(e,t,r){void 0===t?t=0:t>e.length&&st(),void 0===r?r=e.length-t:r>e.length-t&&st(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===dc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof dc?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const l=e.get(i),h=t.get(i);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class nn extends dc{construct(e,t,r){return new nn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new nn(t)}static emptyPath(){return new nn([])}}const yD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class si extends dc{construct(e,t,r){return new si(e,t,r)}static isValidIdentifier(e){return yD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),si.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new si(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const l=()=>{if(0===r.length)throw new Ne(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let h=!1;for(;i<e.length;){const m=e[i];if("\\"===m){if(i+1===e.length)throw new Ne(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[i+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new Ne(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,i+=2}else"`"===m?(h=!h,i++):"."!==m||h?(r+=m,i++):(l(),i++)}if(l(),h)throw new Ne(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new si(t)}static emptyPath(){return new si([])}}class hc{constructor(e){this.fields=e,e.sort(si.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ah(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class mr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new mr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let l=0;l<r.length;++l)i+=String.fromCharCode(r[l]);return i}(e);return new mr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mr.EMPTY_BYTE_STRING=new mr("");const tA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xl(n){if(yt(!!n),"string"==typeof n){let e=0;const t=tA.exec(n);if(yt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xn(n.seconds),nanos:xn(n.nanos)}}function xn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function lh(n){return"string"==typeof n?mr.fromBase64String(n):mr.fromUint8Array(n)}function eu(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function uh(n){const e=n.mapValue.fields.__previous_value__;return eu(e)?uh(e):e}function hp(n){const e=Xl(n.mapValue.fields.__local_write_time__.timestampValue);return new gr(e.seconds,e.nanos)}function ch(n){return null==n}function fp(n){return 0===n&&1/n==-1/0}function vD(n){return"number"==typeof n&&Number.isInteger(n)&&!fp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class tt{constructor(e){this.path=e}static fromPath(e){return new tt(nn.fromString(e))}static fromName(e){return new tt(nn.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===nn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return nn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tt(new nn(e.slice()))}}function fc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?eu(n)?4:10:st()}function la(n,e){if(n===e)return!0;const t=fc(n);if(t!==fc(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return hp(n).isEqual(hp(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const l=Xl(r.timestampValue),h=Xl(i.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,lh(n.bytesValue).isEqual(lh(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return xn(r.geoPointValue.latitude)===xn(i.geoPointValue.latitude)&&xn(r.geoPointValue.longitude)===xn(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return xn(r.integerValue)===xn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const l=xn(r.doubleValue),h=xn(i.doubleValue);return l===h?fp(l)===fp(h):isNaN(l)&&isNaN(h)}return!1}(n,e);case 9:return ah(n.arrayValue.values||[],e.arrayValue.values||[],la);case 10:return function(r,i){const l=r.mapValue.fields||{},h=i.mapValue.fields||{};if(Xm(l)!==Xm(h))return!1;for(const m in l)if(l.hasOwnProperty(m)&&(void 0===h[m]||!la(l[m],h[m])))return!1;return!0}(n,e);default:return st()}var i}function dh(n,e){return void 0!==(n.values||[]).find(t=>la(t,e))}function pc(n,e){if(n===e)return 0;const t=fc(n),r=fc(e);if(t!==r)return Ft(t,r);switch(t){case 0:return 0;case 1:return Ft(n.booleanValue,e.booleanValue);case 2:return function(i,l){const h=xn(i.integerValue||i.doubleValue),m=xn(l.integerValue||l.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1}(n,e);case 3:return e_(n.timestampValue,e.timestampValue);case 4:return e_(hp(n),hp(e));case 5:return Ft(n.stringValue,e.stringValue);case 6:return function(i,l){const h=lh(i),m=lh(l);return h.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(i,l){const h=i.split("/"),m=l.split("/");for(let v=0;v<h.length&&v<m.length;v++){const T=Ft(h[v],m[v]);if(0!==T)return T}return Ft(h.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,l){const h=Ft(xn(i.latitude),xn(l.latitude));return 0!==h?h:Ft(xn(i.longitude),xn(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,l){const h=i.values||[],m=l.values||[];for(let v=0;v<h.length&&v<m.length;++v){const T=pc(h[v],m[v]);if(T)return T}return Ft(h.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,l){const h=i.fields||{},m=Object.keys(h),v=l.fields||{},T=Object.keys(v);m.sort(),T.sort();for(let A=0;A<m.length&&A<T.length;++A){const M=Ft(m[A],T[A]);if(0!==M)return M;const L=pc(h[m[A]],v[T[A]]);if(0!==L)return L}return Ft(m.length,T.length)}(n.mapValue,e.mapValue);default:throw st()}}function e_(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ft(n,e);const t=Xl(n),r=Xl(e),i=Ft(t.seconds,r.seconds);return 0!==i?i:Ft(t.nanos,r.nanos)}function hh(n){return gc(n)}function gc(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Xl(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?lh(n.bytesValue).toBase64():"referenceValue"in n?tt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",l=!0;for(const h of r.values||[])l?l=!1:i+=",",i+=gc(h);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let l="{",h=!0;for(const m of i)h?h=!1:l+=",",l+=`${m}:${gc(r.fields[m])}`;return l+"}"}(n.mapValue):st();var e}function t_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function n_(n){return!!n&&"integerValue"in n}function r_(n){return!!n&&"arrayValue"in n}function bD(n){return!!n&&"nullValue"in n}function wD(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function i_(n){return!!n&&"mapValue"in n}function mc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return cc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=mc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=mc(n.arrayValue.values[t]);return e}return Object.assign({},n)}class wi{constructor(e){this.value=e}static empty(){return new wi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!i_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=mc(t)}setAll(e){let t=si.emptyPath(),r={},i=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const v=this.getFieldsMap(t);this.applyChanges(v,r,i),r={},i=[],t=m.popLast()}h?r[m.lastSegment()]=mc(h):i.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,i)}delete(e){const t=this.field(e.popLast());i_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return la(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];i_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){cc(t,(i,l)=>e[i]=l);for(const i of r)delete e[i]}clone(){return new wi(mc(this.value))}}function xT(n){const e=[];return cc(n.fields,(t,r)=>{const i=new si([t]);if(i_(r)){const l=xT(r.mapValue).fields;if(0===l.length)e.push(i);else for(const h of l)e.push(i.child(h))}else e.push(i)}),new hc(e)}class Rn{constructor(e,t,r,i,l){this.key=e,this.documentType=t,this.version=r,this.data=i,this.documentState=l}static newInvalidDocument(e){return new Rn(e,0,wt.min(),wi.empty(),0)}static newFoundDocument(e,t,r){return new Rn(e,1,t,r,0)}static newNoDocument(e,t){return new Rn(e,2,t,wi.empty(),0)}static newUnknownDocument(e,t){return new Rn(e,3,t,wi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class RT{constructor(e,t=null,r=[],i=[],l=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=l,this.startAt=h,this.endAt=m,this.R=null}}function _c(n,e=null,t=[],r=[],i=null,l=null,h=null){return new RT(n,e,t,r,i,l,h)}function fh(n){const e=Ge(n);if(null===e.R){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>function nA(n){return n.field.canonicalString()+n.op.toString()+hh(n.value)}(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),ch(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=o_(e.startAt)),e.endAt&&(t+="|ub:",t+=o_(e.endAt)),e.R=t}return e.R}function jv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!PT(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!la(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!AD(n.startAt,e.startAt)&&AD(n.endAt,e.endAt)}function pp(n){return tt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Mi extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new DD(e,t,r):"array-contains"===t?new kT(e,r):"in"===t?new TD(e,r):"not-in"===t?new CD(e,r):"array-contains-any"===t?new ID(e,r):new Mi(e,t,r)}static P(e,t,r){return"in"===t?new rA(e,r):new ED(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(pc(t,this.value)):null!==t&&fc(this.value)===fc(t)&&this.v(pc(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return st()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class DD extends Mi{constructor(e,t,r){super(e,t,r),this.key=tt.fromName(r.referenceValue)}matches(e){const t=tt.comparator(e.key,this.key);return this.v(t)}}class rA extends Mi{constructor(e,t){super(e,"in",t),this.keys=s_(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ED extends Mi{constructor(e,t){super(e,"not-in",t),this.keys=s_(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function s_(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>tt.fromName(r.referenceValue))}class kT extends Mi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return r_(t)&&dh(t.arrayValue,this.value)}}class TD extends Mi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&dh(this.value.arrayValue,t)}}class CD extends Mi{constructor(e,t){super(e,"not-in",t)}matches(e){if(dh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!dh(this.value.arrayValue,t)}}class ID extends Mi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!r_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>dh(this.value.arrayValue,r))}}class gp{constructor(e,t){this.position=e,this.before=t}}function o_(n){return`${n.before?"b":"a"}:${n.position.map(e=>hh(e)).join(",")}`}class gh{constructor(e,t="asc"){this.field=e,this.dir=t}}function PT(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function SD(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const l=e[i],h=n.position[i];if(r=l.field.isKeyField()?tt.comparator(tt.fromName(h.referenceValue),t.key):pc(h,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function AD(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!la(n.position[t],e.position[t]))return!1;return!0}class xs{constructor(e,t=null,r=[],i=[],l=null,h="F",m=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=l,this.limitType=h,this.startAt=m,this.endAt=v,this.S=null,this.D=null}}function Hv(n,e,t,r,i,l,h,m){return new xs(n,e,t,r,i,l,h,m)}function yc(n){return new xs(n)}function mp(n){return!ch(n.limit)&&"F"===n.limitType}function _p(n){return!ch(n.limit)&&"L"===n.limitType}function a_(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Gv(n){for(const e of n.filters)if(e.V())return e.field;return null}function $v(n){return null!==n.collectionGroup}function mh(n){const e=Ge(n);if(null===e.S){e.S=[];const t=Gv(e),r=a_(e);if(null!==t&&null===r)t.isKeyField()||e.S.push(new gh(t)),e.S.push(new gh(si.keyField(),"asc"));else{let i=!1;for(const l of e.explicitOrderBy)e.S.push(l),l.field.isKeyField()&&(i=!0);if(!i){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new gh(si.keyField(),l))}}}return e.S}function ao(n){const e=Ge(n);if(!e.D)if("F"===e.limitType)e.D=_c(e.path,e.collectionGroup,mh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of mh(e))t.push(new gh(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new gp(e.endAt.position,!e.endAt.before):null,i=e.startAt?new gp(e.startAt.position,!e.startAt.before):null;e.D=_c(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.D}function ND(n,e,t){return new xs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function yp(n,e){return jv(ao(n),ao(e))&&n.limitType===e.limitType}function OD(n){return`${fh(ao(n))}|lt:${n.limitType}`}function vc(n){return`Query(target=${function ph(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${hh(r.value)}`;var r}).join(", ")}]`),ch(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: "+o_(n.startAt)),n.endAt&&(e+=", endAt: "+o_(n.endAt)),`Target(${e})`}(ao(n))}; limitType=${n.limitType})`}function vp(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):tt.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!SD(t.startAt,mh(t),r)||t.endAt&&SD(t.endAt,mh(t),r)));var t,r}function l_(n){return(e,t)=>{let r=!1;for(const i of mh(n)){const l=ua(i,e,t);if(0!==l)return l;r=r||i.field.isKeyField()}return 0}}function ua(n,e,t){const r=n.field.isKeyField()?tt.comparator(e.key,t.key):function(i,l,h){const m=l.data.field(i),v=h.data.field(i);return null!==m&&null!==v?pc(m,v):st()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return st()}}function MD(n,e){if(n.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fp(e)?"-0":e}}function u_(n){return{integerValue:""+n}}function _h(n,e){return vD(e)?u_(e):MD(n,e)}class c_{constructor(){this._=void 0}}function FT(n,e,t){return n instanceof ol?function(r,i){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(l.fields.__previous_value__=i),{mapValue:l}}(t,e):n instanceof bc?xD(n,e):n instanceof tu?Wv(n,e):function(r,i){const l=bp(r,i),h=zv(l)+zv(r.N);return n_(l)&&n_(r.N)?u_(h):MD(r.k,h)}(n,e)}function LT(n,e,t){return n instanceof bc?xD(n,e):n instanceof tu?Wv(n,e):t}function bp(n,e){return n instanceof nu?n_(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class ol extends c_{}class bc extends c_{constructor(e){super(),this.elements=e}}function xD(n,e){const t=RD(e);for(const r of n.elements)t.some(i=>la(i,r))||t.push(r);return{arrayValue:{values:t}}}class tu extends c_{constructor(e){super(),this.elements=e}}function Wv(n,e){let t=RD(e);for(const r of n.elements)t=t.filter(i=>!la(i,r));return{arrayValue:{values:t}}}class nu extends c_{constructor(e,t){super(),this.k=e,this.N=t}}function zv(n){return xn(n.integerValue||n.doubleValue)}function RD(n){return r_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class wp{constructor(e,t){this.field=e,this.transform=t}}class Kv{constructor(e,t){this.version=e,this.transformResults=t}}class Zn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Zn}static exists(e){return new Zn(void 0,e)}static updateTime(e){return new Zn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dp(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class yh{}function qv(n,e,t){n instanceof vh?function(r,i,l){const h=r.value.clone(),m=Jv(r.fieldTransforms,i,l.transformResults);h.setAll(m),i.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):n instanceof ca?function(r,i,l){if(!Dp(r.precondition,i))return void i.convertToUnknownDocument(l.version);const h=Jv(r.fieldTransforms,i,l.transformResults),m=i.data;m.setAll(Yv(r)),m.setAll(h),i.convertToFoundDocument(l.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Zv(n,e,t){var i;n instanceof vh?function(r,i,l){if(!Dp(r.precondition,i))return;const h=r.value.clone(),m=Qv(r.fieldTransforms,l,i);h.setAll(m),i.convertToFoundDocument(PD(i),h).setHasLocalMutations()}(n,e,t):n instanceof ca?function(r,i,l){if(!Dp(r.precondition,i))return;const h=Qv(r.fieldTransforms,l,i),m=i.data;m.setAll(Yv(r)),m.setAll(h),i.convertToFoundDocument(PD(i),m).setHasLocalMutations()}(n,e,t):Dp(n.precondition,i=e)&&i.convertToNoDocument(wt.min())}function VT(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),l=bp(r.transform,i||null);null!=l&&(null==t&&(t=wi.empty()),t.set(r.field,l))}return t||null}function kD(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&ah(t,r,(i,l)=>function iA(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof bc&&r instanceof bc||t instanceof tu&&r instanceof tu?ah(t.elements,r.elements,la):t instanceof nu&&r instanceof nu?la(t.N,r.N):t instanceof ol&&r instanceof ol);var t,r}(i,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function PD(n){return n.isFoundDocument()?n.version:wt.min()}class vh extends yh{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class ca extends yh{constructor(e,t,r,i,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=l,this.type=1}}function Yv(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Jv(n,e,t){const r=new Map;yt(n.length===t.length);for(let i=0;i<t.length;i++){const l=n[i],h=l.transform,m=e.data.field(l.field);r.set(l.field,LT(h,m,t[i]))}return r}function Qv(n,e,t){const r=new Map;for(const i of n){const l=i.transform,h=t.data.field(i.field);r.set(i.field,FT(l,h,e))}return r}class bh extends yh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Xv extends yh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class FD{constructor(e){this.count=e}}var lr,jt;function e0(n){switch(n){default:return st();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0}}function t0(n){if(void 0===n)return ar("GRPC error has no .code"),he.UNKNOWN;switch(n){case lr.OK:return he.OK;case lr.CANCELLED:return he.CANCELLED;case lr.UNKNOWN:return he.UNKNOWN;case lr.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case lr.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case lr.INTERNAL:return he.INTERNAL;case lr.UNAVAILABLE:return he.UNAVAILABLE;case lr.UNAUTHENTICATED:return he.UNAUTHENTICATED;case lr.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case lr.NOT_FOUND:return he.NOT_FOUND;case lr.ALREADY_EXISTS:return he.ALREADY_EXISTS;case lr.PERMISSION_DENIED:return he.PERMISSION_DENIED;case lr.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case lr.ABORTED:return he.ABORTED;case lr.OUT_OF_RANGE:return he.OUT_OF_RANGE;case lr.UNIMPLEMENTED:return he.UNIMPLEMENTED;case lr.DATA_LOSS:return he.DATA_LOSS;default:return st()}}(jt=lr||(lr={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";class Gt{constructor(e,t){this.comparator=e,this.root=t||oi.EMPTY}insert(e,t){return new Gt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,oi.BLACK,null,null))}remove(e){return new Gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,oi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new al(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new al(this.root,e,this.comparator,!1)}getReverseIterator(){return new al(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new al(this.root,e,this.comparator,!0)}}class al{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class oi{constructor(e,t,r,i,l){this.key=e,this.value=t,this.color=null!=r?r:oi.RED,this.left=null!=i?i:oi.EMPTY,this.right=null!=l?l:oi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,l){return new oi(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const l=r(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===l?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return oi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return oi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,oi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,oi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw st();const e=this.left.check();if(e!==this.right.check())throw st();return e+(this.isRed()?0:1)}}oi.EMPTY=null,oi.RED=!0,oi.BLACK=!1,oi.EMPTY=new class{constructor(){this.size=0}get key(){throw st()}get value(){throw st()}get color(){throw st()}get left(){throw st()}get right(){throw st()}copy(n,e,t,r,i){return this}insert(n,e,t){return new oi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Yn{constructor(e){this.comparator=e,this.data=new Gt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new BT(this.data.getIterator())}getIteratorFrom(e){return new BT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Yn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(i,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Yn(this.comparator);return t.data=e,t}}class BT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Ep=new Gt(tt.comparator);function lo(){return Ep}const n0=new Gt(tt.comparator);function r0(){return n0}const LD=new Gt(tt.comparator);function VD(){return LD}const UT=new Yn(tt.comparator);function rn(...n){let e=UT;for(const t of n)e=e.add(t);return e}const BD=new Yn(Ft);function Tp(){return BD}class ru{constructor(e,t,r,i,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,wc.createSynthesizedTargetChangeForCurrentChange(e,t)),new ru(wt.min(),r,Tp(),lo(),rn())}}class wc{constructor(e,t,r,i,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new wc(mr.EMPTY_BYTE_STRING,t,rn(),rn(),rn())}}class s0{constructor(e,t,r,i){this.$=e,this.removedTargetIds=t,this.key=r,this.O=i}}class o0{constructor(e,t){this.targetId=e,this.M=t}}class UD{constructor(e,t,r=mr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class a0{constructor(){this.F=0,this.L=jD(),this.B=mr.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.F}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=rn(),t=rn(),r=rn();return this.L.forEach((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:st()}}),new wc(this.B,this.U,e,t,r)}H(){this.q=!1,this.L=jD()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.F+=1}Z(){this.F-=1}tt(){this.q=!0,this.U=!0}}class d_{constructor(e){this.et=e,this.nt=new Map,this.st=lo(),this.it=l0(),this.rt=new Yn(Ft)}ot(e){for(const t of e.$)e.O&&e.O.isFoundDocument()?this.ct(t,e.O):this.at(t,e.key,e.O);for(const t of e.removedTargetIds)this.at(t,e.key,e.O)}ut(e){this.forEachTarget(e,t=>{const r=this.ht(t);switch(e.state){case 0:this.lt(t)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||this.removeTarget(t);break;case 3:this.lt(t)&&(r.tt(),r.W(e.resumeToken));break;case 4:this.lt(t)&&(this.ft(t),r.W(e.resumeToken));break;default:st()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((r,i)=>{this.lt(i)&&t(i)})}dt(e){const t=e.targetId,r=e.M.count,i=this.wt(t);if(i){const l=i.target;if(pp(l))if(0===r){const h=new tt(l.path);this.at(t,h,Rn.newNoDocument(h,wt.min()))}else yt(1===r);else this._t(t)!==r&&(this.ft(t),this.rt=this.rt.add(t))}}gt(e){const t=new Map;this.nt.forEach((l,h)=>{const m=this.wt(h);if(m){if(l.current&&pp(m.target)){const v=new tt(m.target.path);null!==this.st.get(v)||this.yt(h,v)||this.at(h,v,Rn.newNoDocument(v,e))}l.j&&(t.set(h,l.G()),l.H())}});let r=rn();this.it.forEach((l,h)=>{let m=!0;h.forEachWhile(v=>{const T=this.wt(v);return!T||2===T.purpose||(m=!1,!1)}),m&&(r=r.add(l))});const i=new ru(e,t,this.rt,this.st,r);return this.st=lo(),this.it=l0(),this.rt=new Yn(Ft),i}ct(e,t){if(!this.lt(e))return;const r=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,r),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}at(e,t,r){if(!this.lt(e))return;const i=this.ht(e);this.yt(e,t)?i.J(t,1):i.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),r&&(this.st=this.st.insert(t,r))}removeTarget(e){this.nt.delete(e)}_t(e){const t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new a0,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new Yn(Ft),this.it=this.it.insert(e,t)),t}lt(e){const t=null!==this.wt(e);return t||Fe("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new a0),this.et.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function l0(){return new Gt(tt.comparator)}function jD(){return new Gt(tt.comparator)}const u0={asc:"ASCENDING",desc:"DESCENDING"},c0={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class sA{constructor(e,t){this.databaseId=e,this.C=t}}function Cp(n,e){return n.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HD(n,e){return n.C?e.toBase64():e.toUint8Array()}function GD(n,e){return Cp(n,e.toTimestamp())}function Ir(n){return yt(!!n),wt.fromTimestamp(function(e){const t=Xl(e);return new gr(t.seconds,t.nanos)}(n))}function d0(n,e){return(t=n,new nn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function h0(n){const e=nn.fromString(n);return yt(KD(e)),e}function wh(n,e){return d0(n.databaseId,e.path)}function da(n,e){const t=h0(e);if(t.get(1)!==n.databaseId.projectId)throw new Ne(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ne(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new tt(g0(t))}function f0(n,e){return d0(n.databaseId,e)}function p0(n){const e=h0(n);return 4===e.length?nn.emptyPath():g0(e)}function Ip(n){return new nn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function g0(n){return yt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function m0(n,e,t){return{name:wh(n,e),fields:t.value.mapValue.fields}}function _0(n,e,t){const r=da(n,e.name),i=Ir(e.updateTime),l=new wi({mapValue:{fields:e.fields}}),h=Rn.newFoundDocument(r,i,l);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function h_(n,e){let t;if(e instanceof vh)t={update:m0(n,e.key,e.value)};else if(e instanceof bh)t={delete:wh(n,e.key)};else if(e instanceof ca)t={update:m0(n,e.key,e.data),updateMask:ZT(e.fieldMask)};else{if(!(e instanceof Xv))return st();t={verify:wh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,l){const h=l.transform;if(h instanceof ol)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof bc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof tu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof nu)return{fieldPath:l.field.canonicalString(),increment:h.N};throw st()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:GD(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:st()),t;var i}function HT(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Zn.updateTime(Ir(i.updateTime)):void 0!==i.exists?Zn.exists(i.exists):Zn.none():Zn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,h){let m=null;"setToServerValue"in h?(yt("REQUEST_TIME"===h.setToServerValue),m=new ol):"appendMissingElements"in h?m=new bc(h.appendMissingElements.values||[]):"removeAllFromArray"in h?m=new tu(h.removeAllFromArray.values||[]):"increment"in h?m=new nu(l,h.increment):st();const v=si.fromServerFormat(h.fieldPath);return new wp(v,m)}(n,i)):[];var i;if(e.update){const i=da(n,e.update.name),l=new wi({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new hc((e.updateMask.fieldPaths||[]).map(T=>si.fromServerFormat(T)));return new ca(i,l,h,t,r)}return new vh(i,l,t,r)}if(e.delete){const i=da(n,e.delete);return new bh(i,t)}if(e.verify){const i=da(n,e.verify);return new Xv(i,t)}return st()}function GT(n,e){return{documents:[f0(n,e.path)]}}function $T(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=f0(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=f0(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(m){if(0===m.length)return;const v=m.map(T=>function(A){if("=="===A.op){if(wD(A.value))return{unaryFilter:{field:Sp(A.field),op:"IS_NAN"}};if(bD(A.value))return{unaryFilter:{field:Sp(A.field),op:"IS_NULL"}}}else if("!="===A.op){if(wD(A.value))return{unaryFilter:{field:Sp(A.field),op:"IS_NOT_NAN"}};if(bD(A.value))return{unaryFilter:{field:Sp(A.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sp(A.field),op:f_(A.op),value:A.value}}}(T));return 1===v.length?v[0]:{compositeFilter:{op:"AND",filters:v}}}(e.filters);i&&(t.structuredQuery.where=i);const l=function(m){if(0!==m.length)return m.map(v=>{return{field:Sp((T=v).field),direction:aA(T.dir)};var T})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const h=(v=e.limit,n.C||ch(v)?v:{value:v});var v;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=KT(e.startAt)),e.endAt&&(t.structuredQuery.endAt=KT(e.endAt)),t}function WT(n){let e=p0(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){yt(1===r);const A=t.from[0];A.allDescendants?i=A.collectionId:e=e.child(A.collectionId)}let l=[];t.where&&(l=zT(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(A=>{return new gh(iu((M=A).field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let m=null;t.limit&&(m=function(A){let M;return M="object"==typeof A?A.value:A,ch(M)?null:M}(t.limit));let v=null;t.startAt&&(v=qT(t.startAt));let T=null;return t.endAt&&(T=qT(t.endAt)),Hv(e,i,h,l,m,"F",v,T)}function zT(n){return n?void 0!==n.unaryFilter?[zD(n)]:void 0!==n.fieldFilter?[Dh(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>zT(e)).reduce((e,t)=>e.concat(t)):st():[]}function KT(n){return{before:n.before,values:n.position}}function qT(n){return new gp(n.values||[],!!n.before)}function aA(n){return u0[n]}function f_(n){return c0[n]}function Sp(n){return{fieldPath:n.canonicalString()}}function iu(n){return si.fromServerFormat(n.fieldPath)}function Dh(n){return Mi.create(iu(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return st()}}(n.fieldFilter.op),n.fieldFilter.value)}function zD(n){switch(n.unaryFilter.op){case"IS_NAN":const e=iu(n.unaryFilter.field);return Mi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=iu(n.unaryFilter.field);return Mi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=iu(n.unaryFilter.field);return Mi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=iu(n.unaryFilter.field);return Mi.create(i,"!=",{nullValue:"NULL_VALUE"});default:return st()}}function ZT(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function KD(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Rs(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=y0(e)),e=qD(n.get(t),e);return y0(e)}function qD(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const l=n.charAt(i);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function y0(n){return n+"\x01\x01"}function ha(n){const e=n.length;if(yt(e>=2),2===e)return yt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),nn.emptyPath();const t=e-2,r=[];let i="";for(let l=0;l<e;){const h=n.indexOf("\x01",l);switch((h<0||h>t)&&st(),n.charAt(h+1)){case"\x01":const m=n.substring(l,h);let v;0===i.length?v=m:(i+=m,v=i,i=""),r.push(v);break;case"\x10":i+=n.substring(l,h),i+="\0";break;case"\x11":i+=n.substring(l,h+1);break;default:st()}l=h+2}return new nn(r)}class lA{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class Qi{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}Qi.store="owner",Qi.key="owner";class Fo{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}Fo.store="mutationQueues",Fo.keyPath="userId";class _n{constructor(e,t,r,i,l){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=l}}_n.store="mutations",_n.keyPath="batchId",_n.userMutationsIndex="userMutationsIndex",_n.userMutationsKeyPath=["userId","batchId"];class xi{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Rs(t)]}static key(e,t,r){return[e,Rs(t),r]}}xi.store="documentMutations",xi.PLACEHOLDER=new xi;class uA{constructor(e,t){this.path=e,this.readTime=t}}class cA{constructor(e,t){this.path=e,this.version=t}}class Jn{constructor(e,t,r,i,l,h){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=i,this.readTime=l,this.parentPath=h}}Jn.store="remoteDocuments",Jn.readTimeIndex="readTimeIndex",Jn.readTimeIndexPath="readTime",Jn.collectionReadTimeIndex="collectionReadTimeIndex",Jn.collectionReadTimeIndexPath=["parentPath","readTime"];class uo{constructor(e){this.byteSize=e}}uo.store="remoteDocumentGlobal",uo.key="remoteDocumentGlobalKey";class Xi{constructor(e,t,r,i,l,h,m){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=l,this.lastLimboFreeSnapshotVersion=h,this.query=m}}Xi.store="targets",Xi.keyPath="targetId",Xi.queryTargetsIndexName="queryTargetsIndex",Xi.queryTargetsKeyPath=["canonicalId","targetId"];class Di{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}Di.store="targetDocuments",Di.keyPath=["targetId","path"],Di.documentTargetsIndex="documentTargetsIndex",Di.documentTargetsKeyPath=["path","targetId"];class ks{constructor(e,t,r,i){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=i}}ks.key="targetGlobalKey",ks.store="targetGlobal";class ll{constructor(e,t){this.collectionId=e,this.parent=t}}ll.store="collectionParents",ll.keyPath=["collectionId","parent"];class ul{constructor(e,t,r,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=i}}ul.store="clientMetadata",ul.keyPath="clientId";class Gr{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}Gr.store="bundles",Gr.keyPath="bundleId";class Eh{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}Eh.store="namedQueries",Eh.keyPath="name";const v0=[Fo.store,_n.store,xi.store,Jn.store,Xi.store,Qi.store,ks.store,Di.store,ul.store,uo.store,ll.store,Gr.store,Eh.store],ZD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&st(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Se((r,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,i)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Se?t:Se.resolve(t)}catch(t){return Se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Se.reject(t)}static resolve(e){return new Se((t,r)=>{t(e)})}static reject(e){return new Se((t,r)=>{r(e)})}static waitFor(e){return new Se((t,r)=>{let i=0,l=0,h=!1;e.forEach(m=>{++i,m.next(()=>{++l,h&&l===i&&t()},v=>r(v))}),h=!0,l===i&&t()})}static or(e){let t=Se.resolve(!1);for(const r of e)t=t.next(i=>i?Se.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,l)=>{r.push(t.call(this,i,l))}),this.waitFor(r)}}class Ap{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.It=new Hr,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{t.error?this.It.reject(new Th(e,t.error)):this.It.resolve()},this.transaction.onerror=r=>{const i=Ps(r.target.error);this.It.reject(new Th(e,i))}}static open(e,t,r,i){try{return new Ap(t,e.transaction(i,r))}catch(l){throw new Th(t,l)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(Fe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new JT(t)}}class co{constructor(e,t,r){this.name=e,this.version=t,this.Rt=r,12.2===co.bt((0,Mt.z$)())&&ar("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Fe("SimpleDb","Removing database:",e),Dc(window.indexedDB.deleteDatabase(e)).toPromise()}static Pt(){if(!(0,Mt.hl)())return!1;if(co.vt())return!0;const e=(0,Mt.z$)(),t=co.bt(e),r=0<t&&t<10,i=co.Vt(e),l=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static vt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.St)}static Dt(e,t){return e.store(t)}static bt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Vt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Ct(e){var t=this;return(0,_e.Z)(function*(){return t.db||(Fe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=h=>{r(h.target.result)},l.onblocked=()=>{i(new Th(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=h=>{const m=h.target.error;i("VersionError"===m.name?new Ne(he.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Ne(he.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new Th(e,m))},l.onupgradeneeded=h=>{Fe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.Rt.Nt(h.target.result,l.transaction,h.oldVersion,t.version).next(()=>{Fe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.kt&&(t.db.onversionchange=r=>t.kt(r)),t.db})()}xt(e){this.kt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var l=this;return(0,_e.Z)(function*(){const h="readonly"===t;let m=0;for(;;){++m;try{l.db=yield l.Ct(e);const v=Ap.open(l.db,e,h?"readonly":"readwrite",r),T=i(v).catch(A=>(v.abort(A),Se.reject(A))).toPromise();return T.catch(()=>{}),yield v.At,T}catch(v){const T="FirebaseError"!==v.name&&m<3;if(Fe("SimpleDb","Transaction failed with error:",v.message,"Retrying:",T),l.close(),!T)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class YT{constructor(e){this.$t=e,this.Ot=!1,this.Mt=null}get isDone(){return this.Ot}get Ft(){return this.Mt}set cursor(e){this.$t=e}done(){this.Ot=!0}Lt(e){this.Mt=e}delete(){return Dc(this.$t.delete())}}class Th extends Ne{constructor(e,t){super(he.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function su(n){return"IndexedDbTransactionError"===n.name}class JT{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Fe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Fe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Dc(r)}add(e){return Fe("SimpleDb","ADD",this.store.name,e,e),Dc(this.store.add(e))}get(e){return Dc(this.store.get(e)).next(t=>(void 0===t&&(t=null),Fe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Fe("SimpleDb","DELETE",this.store.name,e),Dc(this.store.delete(e))}count(){return Fe("SimpleDb","COUNT",this.store.name),Dc(this.store.count())}Bt(e,t){const r=this.cursor(this.options(e,t)),i=[];return this.Ut(r,(l,h)=>{i.push(h)}).next(()=>i)}qt(e,t){Fe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Kt=!1;const i=this.cursor(r);return this.Ut(i,(l,h,m)=>m.delete())}jt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Ut(i,t)}Qt(e){const t=this.cursor({});return new Se((r,i)=>{t.onerror=l=>{const h=Ps(l.target.error);i(h)},t.onsuccess=l=>{const h=l.target.result;h?e(h.primaryKey,h.value).next(m=>{m?h.continue():r()}):r()}})}Ut(e,t){const r=[];return new Se((i,l)=>{e.onerror=h=>{l(h.target.error)},e.onsuccess=h=>{const m=h.target.result;if(!m)return void i();const v=new YT(m),T=t(m.primaryKey,m.value,v);if(T instanceof Se){const A=T.catch(M=>(v.done(),Se.reject(M)));r.push(A)}v.isDone?i():null===v.Ft?m.continue():m.continue(v.Ft)}}).next(()=>Se.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Kt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Dc(n){return new Se((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=Ps(r.target.error);t(i)}})}let p_=!1;function Ps(n){const e=co.bt((0,Mt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ne("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return p_||(p_=!0,setTimeout(()=>{throw r},0)),r}}return n}class JD extends YD{constructor(e,t){super(),this.Wt=e,this.currentSequenceNumber=t}}function Fs(n,e){const t=Ge(n);return co.Dt(t.Wt,e)}class b0{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&qv(l,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Zv(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Zv(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(wt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),rn())}isEqual(e){return this.batchId===e.batchId&&ah(this.mutations,e.mutations,(t,r)=>kD(t,r))&&ah(this.baseMutations,e.baseMutations,(t,r)=>kD(t,r))}}class g_{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){yt(e.mutations.length===r.length);let i=VD();const l=e.mutations;for(let h=0;h<l.length;h++)i=i.insert(l[h].key,r[h].version);return new g_(e,t,r,i)}}class ou{constructor(e,t,r,i,l=wt.min(),h=wt.min(),m=mr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m}withSequenceNumber(e){return new ou(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new ou(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ou(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class QD{constructor(e){this.Gt=e}}function m_(n,e){if(e.document)return _0(n.Gt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=tt.fromSegments(e.noDocument.path),r=Ch(e.noDocument.readTime),i=Rn.newNoDocument(t,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){const t=tt.fromSegments(e.unknownDocument.path),r=Ch(e.unknownDocument.version);return Rn.newUnknownDocument(t,r)}return st()}function XD(n,e,t){const r=eE(t),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){const l={name:wh(m=n.Gt,(v=e).key),fields:v.data.value.mapValue.fields,updateTime:Cp(m,v.version.toTimestamp())};return new Jn(null,null,l,e.hasCommittedMutations,r,i)}var m,v;if(e.isNoDocument()){const l=e.key.path.toArray(),h=Ec(e.version),m=e.hasCommittedMutations;return new Jn(null,new uA(l,h),null,m,r,i)}if(e.isUnknownDocument()){const l=e.key.path.toArray(),h=Ec(e.version);return new Jn(new cA(l,h),null,null,!0,r,i)}return st()}function eE(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function w0(n){const e=new gr(n[0],n[1]);return wt.fromTimestamp(e)}function Ec(n){const e=n.toTimestamp();return new lA(e.seconds,e.nanoseconds)}function Ch(n){const e=new gr(n.seconds,n.nanoseconds);return wt.fromTimestamp(e)}function Ih(n,e){const t=(e.baseMutations||[]).map(l=>HT(n.Gt,l));for(let l=0;l<e.mutations.length-1;++l){const h=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(h.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>HT(n.Gt,l)),i=gr.fromMillis(e.localWriteTimeMs);return new b0(e.batchId,i,t,r)}function Sh(n){const e=Ch(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Ch(n.lastLimboFreeSnapshotVersion):wt.min();let r;var i;return void 0!==n.query.documents?(yt(1===(i=n.query).documents.length),r=ao(yc(p0(i.documents[0])))):r=ao(WT(n.query)),new ou(r,n.targetId,0,n.lastListenSequenceNumber,e,t,mr.fromBase64String(n.resumeToken))}function Ah(n,e){const t=Ec(e.snapshotVersion),r=Ec(e.lastLimboFreeSnapshotVersion);let i;i=pp(e.target)?GT(n.Gt,e.target):$T(n.Gt,e.target);const l=e.resumeToken.toBase64();return new Xi(e.targetId,fh(e.target),t,l,e.sequenceNumber,r,i)}function Np(n){const e=WT({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?ND(e,e.limit,"L"):e}class tE{getBundleMetadata(e,t){return nE(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Ch(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return nE(e).put({bundleId:(r=t).id,createTime:Ec(Ir(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return D0(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:Np(i.bundledQuery),readTime:Ch(i.readTime)};var i})}saveNamedQuery(e,t){return D0(e).put({name:(r=t).name,readTime:Ec(Ir(r.readTime)),bundledQuery:r.bundledQuery});var r}}function nE(n){return Fs(n,Gr.store)}function D0(n){return Fs(n,Eh.store)}class rE{constructor(){this.zt=new E0}addToCollectionParentIndex(e,t){return this.zt.add(t),Se.resolve()}getCollectionParents(e,t){return Se.resolve(this.zt.getEntries(t))}}class E0{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Yn(nn.comparator),l=!i.has(r);return this.index[t]=i.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Yn(nn.comparator)).toArray()}}class QT{constructor(){this.Ht=new E0}addToCollectionParentIndex(e,t){if(!this.Ht.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ht.add(t)});const l={collectionId:r,parent:Rs(i)};return XT(e).put(l)}return Se.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Qm(t),""],!1,!0);return XT(e).Bt(i).next(l=>{for(const h of l){if(h.collectionId!==t)break;r.push(ha(h.parent))}return r})}}function XT(n){return Fs(n,ll.store)}const eC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ri{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ri(e,Ri.DEFAULT_COLLECTION_PERCENTILE,Ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function iE(n,e,t){const r=n.store(_n.store),i=n.store(xi.store),l=[],h=IDBKeyRange.only(t.batchId);let m=0;const v=r.jt({range:h},(A,M,L)=>(m++,L.delete()));l.push(v.next(()=>{yt(1===m)}));const T=[];for(const A of t.mutations){const M=xi.key(e,A.key.path,t.batchId);l.push(i.delete(M)),T.push(A.key)}return Se.waitFor(l).next(()=>T)}function __(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw st();e=n.noDocument}return JSON.stringify(e).length}Ri.DEFAULT_COLLECTION_PERCENTILE=10,Ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ri.DEFAULT=new Ri(41943040,Ri.DEFAULT_COLLECTION_PERCENTILE,Ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ri.DISABLED=new Ri(-1,0,0);class T0{constructor(e,t,r,i){this.userId=e,this.k=t,this.Jt=r,this.referenceDelegate=i,this.Yt={}}static Xt(e,t,r,i){yt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new T0(l,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Tc(e).jt({index:_n.userMutationsIndex,range:r},(i,l,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const l=Op(e),h=Tc(e);return h.add({}).next(m=>{yt("number"==typeof m);const v=new b0(m,t,r,i),T=function(L,V,J){const ve=J.baseMutations.map(He=>h_(L.Gt,He)),Re=J.mutations.map(He=>h_(L.Gt,He));return new _n(V,J.batchId,J.localWriteTime.toMillis(),ve,Re)}(this.k,this.userId,v),A=[];let M=new Yn((L,V)=>Ft(L.canonicalString(),V.canonicalString()));for(const L of i){const V=xi.key(this.userId,L.key.path,m);M=M.add(L.key.path.popLast()),A.push(h.put(T)),A.push(l.put(V,xi.PLACEHOLDER))}return M.forEach(L=>{A.push(this.Jt.addToCollectionParentIndex(e,L))}),e.addOnCommittedListener(()=>{this.Yt[m]=v.keys()}),Se.waitFor(A).next(()=>v)})}lookupMutationBatch(e,t){return Tc(e).get(t).next(r=>r?(yt(r.userId===this.userId),Ih(this.k,r)):null)}Zt(e,t){return this.Yt[t]?Se.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Yt[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Tc(e).jt({index:_n.userMutationsIndex,range:i},(h,m,v)=>{m.userId===this.userId&&(yt(m.batchId>=r),l=Ih(this.k,m)),v.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Tc(e).jt({index:_n.userMutationsIndex,range:t,reverse:!0},(i,l,h)=>{r=l.batchId,h.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Tc(e).Bt(_n.userMutationsIndex,t).next(r=>r.map(i=>Ih(this.k,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=xi.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),l=[];return Op(e).jt({range:i},(h,m,v)=>{const[T,A,M]=h,L=ha(A);if(T===this.userId&&t.path.isEqual(L))return Tc(e).get(M).next(V=>{if(!V)throw st();yt(V.userId===this.userId),l.push(Ih(this.k,V))});v.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Yn(Ft);const i=[];return t.forEach(l=>{const h=xi.prefixForPath(this.userId,l.path),m=IDBKeyRange.lowerBound(h),v=Op(e).jt({range:m},(T,A,M)=>{const[L,V,J]=T,ve=ha(V);L===this.userId&&l.path.isEqual(ve)?r=r.add(J):M.done()});i.push(v)}),Se.waitFor(i).next(()=>this.te(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,l=xi.prefixForPath(this.userId,r),h=IDBKeyRange.lowerBound(l);let m=new Yn(Ft);return Op(e).jt({range:h},(v,T,A)=>{const[M,L,V]=v,J=ha(L);M===this.userId&&r.isPrefixOf(J)?J.length===i&&(m=m.add(V)):A.done()}).next(()=>this.te(e,m))}te(e,t){const r=[],i=[];return t.forEach(l=>{i.push(Tc(e).get(l).next(h=>{if(null===h)throw st();yt(h.userId===this.userId),r.push(Ih(this.k,h))}))}),Se.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return iE(e.Wt,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.ee(t.batchId)}),Se.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Se.resolve();const r=IDBKeyRange.lowerBound(xi.prefixForUser(this.userId)),i=[];return Op(e).jt({range:r},(l,h,m)=>{if(l[0]===this.userId){const v=ha(l[1]);i.push(v)}else m.done()}).next(()=>{yt(0===i.length)})})}containsKey(e,t){return tC(e,this.userId,t)}ne(e){return nC(e).get(this.userId).next(t=>t||new Fo(this.userId,-1,""))}}function tC(n,e,t){const r=xi.prefixForPath(e,t.path),i=r[1],l=IDBKeyRange.lowerBound(r);let h=!1;return Op(n).jt({range:l,Kt:!0},(m,v,T)=>{const[A,M,L]=m;A===e&&M===i&&(h=!0),T.done()}).next(()=>h)}function Tc(n){return Fs(n,_n.store)}function Op(n){return Fs(n,xi.store)}function nC(n){return Fs(n,Fo.store)}class Nh{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new Nh(0)}static re(){return new Nh(-1)}}class rC{constructor(e,t){this.referenceDelegate=e,this.k=t}allocateTargetId(e){return this.oe(e).next(t=>{const r=new Nh(t.highestTargetId);return t.highestTargetId=r.next(),this.ce(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.oe(e).next(t=>wt.fromTimestamp(new gr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.oe(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.oe(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.ce(e,i)))}addTargetData(e,t){return this.ae(e,t).next(()=>this.oe(e).next(r=>(r.targetCount+=1,this.ue(t,r),this.ce(e,r))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>cl(e).delete(t.targetId)).next(()=>this.oe(e)).next(r=>(yt(r.targetCount>0),r.targetCount-=1,this.ce(e,r)))}removeTargets(e,t,r){let i=0;const l=[];return cl(e).jt((h,m)=>{const v=Sh(m);v.sequenceNumber<=t&&null===r.get(v.targetId)&&(i++,l.push(this.removeTargetData(e,v)))}).next(()=>Se.waitFor(l)).next(()=>i)}forEachTarget(e,t){return cl(e).jt((r,i)=>{const l=Sh(i);t(l)})}oe(e){return sE(e).get(ks.key).next(t=>(yt(null!==t),t))}ce(e,t){return sE(e).put(ks.key,t)}ae(e,t){return cl(e).put(Ah(this.k,t))}ue(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.oe(e).next(t=>t.targetCount)}getTargetData(e,t){const r=fh(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return cl(e).jt({range:i,index:Xi.queryTargetsIndexName},(h,m,v)=>{const T=Sh(m);jv(t,T.target)&&(l=T,v.done())}).next(()=>l)}addMatchingKeys(e,t,r){const i=[],l=au(e);return t.forEach(h=>{const m=Rs(h.path);i.push(l.put(new Di(r,m))),i.push(this.referenceDelegate.addReference(e,r,h))}),Se.waitFor(i)}removeMatchingKeys(e,t,r){const i=au(e);return Se.forEach(t,l=>{const h=Rs(l.path);return Se.waitFor([i.delete([r,h]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=au(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=au(e);let l=rn();return i.jt({range:r,Kt:!0},(h,m,v)=>{const T=ha(h[1]),A=new tt(T);l=l.add(A)}).next(()=>l)}containsKey(e,t){const r=Rs(t.path),i=IDBKeyRange.bound([r],[Qm(r)],!1,!0);let l=0;return au(e).jt({index:Di.documentTargetsIndex,Kt:!0,range:i},([h,m],v,T)=>{0!==h&&(l++,T.done())}).next(()=>l>0)}Et(e,t){return cl(e).get(t).next(r=>r?Sh(r):null)}}function cl(n){return Fs(n,Xi.store)}function sE(n){return Fs(n,ks.store)}function au(n){return Fs(n,Di.store)}function lu(n){return dl.apply(this,arguments)}function dl(){return dl=(0,_e.Z)(function*(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==ZD)throw n;Fe("LocalStore","Unexpectedly lost primary lease")}),dl.apply(this,arguments)}function C0([n,e],[t,r]){const i=Ft(n,t);return 0===i?Ft(e,r):i}class I0{constructor(e){this.he=e,this.buffer=new Yn(C0),this.le=0}fe(){return++this.le}de(e){const t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();C0(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class S0{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){var t=this;const r=this.we?3e5:6e4;Fe("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,_e.Z)(function*(){t._e=null,t.we=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){su(i)?Fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield lu(i)}yield t.me(e)}))}}class iC{constructor(e,t){this.ge=e,this.params=t}calculateTargetCount(e,t){return this.ge.ye(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Se.resolve(Ms.I);const r=new I0(t);return this.ge.forEachTarget(e,i=>r.de(i.sequenceNumber)).next(()=>this.ge.pe(e,i=>r.de(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.ge.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.ge.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),Se.resolve(eC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eC):this.Te(e,t))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,t){let r,i,l,h,m,v,T;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),i=this.params.maximumSequenceNumbersToCollect):i=M,h=Date.now(),this.nthSequenceNumber(e,i))).next(M=>(r=M,m=Date.now(),this.removeTargets(e,r,t))).next(M=>(l=M,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(M=>(T=Date.now(),kv()<=As.in.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-A}ms\n\tDetermined least recently used ${i} in `+(m-h)+`ms\n\tRemoved ${l} targets in `+(v-m)+`ms\n\tRemoved ${M} documents in `+(T-v)+`ms\nTotal Duration: ${T-A}ms`),Se.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:M})))}}class A0{constructor(e,t){this.db=e,this.garbageCollector=new iC(this,t)}ye(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Ee(e){let t=0;return this.pe(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pe(e,t){return this.Ie(e,(r,i)=>t(i))}addReference(e,t,r){return Oh(e,r)}removeReference(e,t,r){return Oh(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Oh(e,t)}Ae(e,t){return function(r,i){let l=!1;return nC(r).Qt(h=>tC(r,h,i).next(m=>(m&&(l=!0),Se.resolve(!m)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let l=0;return this.Ie(e,(h,m)=>{if(m<=t){const v=this.Ae(e,h).next(T=>{if(!T)return l++,r.getEntry(e,h).next(()=>(r.removeEntry(h),au(e).delete([0,Rs(h.path)])))});i.push(v)}}).next(()=>Se.waitFor(i)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Oh(e,t)}Ie(e,t){const r=au(e);let i,l=Ms.I;return r.jt({index:Di.documentTargetsIndex},([h,m],{path:v,sequenceNumber:T})=>{0===h?(l!==Ms.I&&t(new tt(ha(i)),l),l=T,i=v):l=Ms.I}).next(()=>{l!==Ms.I&&t(new tt(ha(i)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Oh(n,e){return au(n).put((r=n.currentSequenceNumber,new Di(0,Rs(e.path),r)));var r}class Cc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,l]of r)if(this.equalsFn(i,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0!==i){for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,t]);i.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),!0;return!1}forEach(e){cc(this.inner,(t,r)=>{for(const[i,l]of r)e(i,l)})}isEmpty(){return _D(this.inner)}}class N0{constructor(){this.changes=new Cc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:wt.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Rn.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Se.resolve(r.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class dA{constructor(e,t){this.k=e,this.Jt=t}addEntry(e,t,r){return Ic(e).put(O0(t),r)}removeEntry(e,t){const r=Ic(e),i=O0(t);return r.delete(i)}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Re(e,r)))}getEntry(e,t){return Ic(e).get(O0(t)).next(r=>this.be(t,r))}Pe(e,t){return Ic(e).get(O0(t)).next(r=>({document:this.be(t,r),size:__(r)}))}getEntries(e,t){let r=lo();return this.ve(e,t,(i,l)=>{const h=this.be(i,l);r=r.insert(i,h)}).next(()=>r)}Ve(e,t){let r=lo(),i=new Gt(tt.comparator);return this.ve(e,t,(l,h)=>{const m=this.be(l,h);r=r.insert(l,m),i=i.insert(l,__(h))}).next(()=>({documents:r,Se:i}))}ve(e,t,r){if(t.isEmpty())return Se.resolve();const i=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),l=t.getIterator();let h=l.getNext();return Ic(e).jt({range:i},(m,v,T)=>{const A=tt.fromSegments(m);for(;h&&tt.comparator(h,A)<0;)r(h,null),h=l.getNext();h&&h.isEqual(A)&&(r(h,v),h=l.hasNext()?l.getNext():null),h?T.Lt(h.path.toArray()):T.done()}).next(()=>{for(;h;)r(h,null),h=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r){let i=lo();const l=t.path.length+1,h={};if(r.isEqual(wt.min())){const m=t.path.toArray();h.range=IDBKeyRange.lowerBound(m)}else{const m=t.path.toArray(),v=eE(r);h.range=IDBKeyRange.lowerBound([m,v],!0),h.index=Jn.collectionReadTimeIndex}return Ic(e).jt(h,(m,v,T)=>{if(m.length!==l)return;const A=m_(this.k,v);t.path.isPrefixOf(A.key.path)?vp(t,A)&&(i=i.insert(A.key,A)):T.done()}).next(()=>i)}newChangeBuffer(e){return new hA(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return sC(e).get(uo.key).next(t=>(yt(!!t),t))}Re(e,t){return sC(e).put(uo.key,t)}be(e,t){if(t){const r=m_(this.k,t);if(!r.isNoDocument()||!r.version.isEqual(wt.min()))return r}return Rn.newInvalidDocument(e)}}class hA extends N0{constructor(e,t){super(),this.De=e,this.trackRemovals=t,this.Ce=new Cc(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Yn((l,h)=>Ft(l.canonicalString(),h.canonicalString()));return this.changes.forEach((l,h)=>{const m=this.Ce.get(l);if(h.document.isValidDocument()){const v=XD(this.De.k,h.document,this.getReadTime(l));i=i.add(l.path.popLast()),r+=__(v)-m,t.push(this.De.addEntry(e,l,v))}else if(r-=m,this.trackRemovals){const v=XD(this.De.k,Rn.newNoDocument(l,wt.min()),this.getReadTime(l));t.push(this.De.addEntry(e,l,v))}else t.push(this.De.removeEntry(e,l))}),i.forEach(l=>{t.push(this.De.Jt.addToCollectionParentIndex(e,l))}),t.push(this.De.updateMetadata(e,r)),Se.waitFor(t)}getFromCache(e,t){return this.De.Pe(e,t).next(r=>(this.Ce.set(t,r.size),r.document))}getAllFromCache(e,t){return this.De.Ve(e,t).next(({documents:r,Se:i})=>(i.forEach((l,h)=>{this.Ce.set(l,h)}),r))}}function sC(n){return Fs(n,uo.store)}function Ic(n){return Fs(n,Jn.store)}function O0(n){return n.path.toArray()}class fA{constructor(e){this.k=e}Nt(e,t,r,i){yt(r<i&&r>=0&&i<=11);const l=new Ap("createOrUpgrade",t);var m;r<1&&i>=1&&(e.createObjectStore(Qi.store),(m=e).createObjectStore(Fo.store,{keyPath:Fo.keyPath}),m.createObjectStore(_n.store,{keyPath:_n.keyPath,autoIncrement:!0}).createIndex(_n.userMutationsIndex,_n.userMutationsKeyPath,{unique:!0}),m.createObjectStore(xi.store),oC(e),function(m){m.createObjectStore(Jn.store)}(e));let h=Se.resolve();return r<3&&i>=3&&(0!==r&&(function(m){m.deleteObjectStore(Di.store),m.deleteObjectStore(Xi.store),m.deleteObjectStore(ks.store)}(e),oC(e)),h=h.next(()=>function(m){const v=m.store(ks.store),T=new ks(0,0,wt.min().toTimestamp(),0);return v.put(ks.key,T)}(l))),r<4&&i>=4&&(0!==r&&(h=h.next(()=>function(m,v){return v.store(_n.store).Bt().next(T=>{m.deleteObjectStore(_n.store),m.createObjectStore(_n.store,{keyPath:_n.keyPath,autoIncrement:!0}).createIndex(_n.userMutationsIndex,_n.userMutationsKeyPath,{unique:!0});const A=v.store(_n.store),M=T.map(L=>A.put(L));return Se.waitFor(M)})}(e,l))),h=h.next(()=>{!function(m){m.createObjectStore(ul.store,{keyPath:ul.keyPath})}(e)})),r<5&&i>=5&&(h=h.next(()=>this.Ne(l))),r<6&&i>=6&&(h=h.next(()=>(function(m){m.createObjectStore(uo.store)}(e),this.ke(l)))),r<7&&i>=7&&(h=h.next(()=>this.xe(l))),r<8&&i>=8&&(h=h.next(()=>this.$e(e,l))),r<9&&i>=9&&(h=h.next(()=>{(function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")})(e),function(m){const v=m.objectStore(Jn.store);v.createIndex(Jn.readTimeIndex,Jn.readTimeIndexPath,{unique:!1}),v.createIndex(Jn.collectionReadTimeIndex,Jn.collectionReadTimeIndexPath,{unique:!1})}(t)})),r<10&&i>=10&&(h=h.next(()=>this.Oe(l))),r<11&&i>=11&&(h=h.next(()=>{(function(m){m.createObjectStore(Gr.store,{keyPath:Gr.keyPath})})(e),function(m){m.createObjectStore(Eh.store,{keyPath:Eh.keyPath})}(e)})),h}ke(e){let t=0;return e.store(Jn.store).jt((r,i)=>{t+=__(i)}).next(()=>{const r=new uo(t);return e.store(uo.store).put(uo.key,r)})}Ne(e){const t=e.store(Fo.store),r=e.store(_n.store);return t.Bt().next(i=>Se.forEach(i,l=>{const h=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.Bt(_n.userMutationsIndex,h).next(m=>Se.forEach(m,v=>{yt(v.userId===l.userId);const T=Ih(this.k,v);return iE(e,l.userId,T).next(()=>{})}))}))}xe(e){const t=e.store(Di.store),r=e.store(Jn.store);return e.store(ks.store).get(ks.key).next(i=>{const l=[];return r.jt((h,m)=>{const v=new nn(h),T=[0,Rs(v)];l.push(t.get(T).next(A=>A?Se.resolve():t.put(new Di(0,Rs(v),i.highestListenSequenceNumber))))}).next(()=>Se.waitFor(l))})}$e(e,t){e.createObjectStore(ll.store,{keyPath:ll.keyPath});const r=t.store(ll.store),i=new E0,l=h=>{if(i.add(h)){const m=h.lastSegment(),v=h.popLast();return r.put({collectionId:m,parent:Rs(v)})}};return t.store(Jn.store).jt({Kt:!0},(h,m)=>{const v=new nn(h);return l(v.popLast())}).next(()=>t.store(xi.store).jt({Kt:!0},([h,m,v],T)=>{const A=ha(m);return l(A.popLast())}))}Oe(e){const t=e.store(Xi.store);return t.jt((r,i)=>{const l=Sh(i),h=Ah(this.k,l);return t.put(h)})}}function oC(n){n.createObjectStore(Di.store,{keyPath:Di.keyPath}).createIndex(Di.documentTargetsIndex,Di.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(Xi.store,{keyPath:Xi.keyPath}).createIndex(Xi.queryTargetsIndexName,Xi.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(ks.store)}const y_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class M0{constructor(e,t,r,i,l,h,m,v,T,A){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Me=l,this.window=h,this.document=m,this.Fe=T,this.Le=A,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=M=>Promise.resolve(),!M0.Pt())throw new Ne(he.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new A0(this,i),this.Ge=t+"main",this.k=new QD(v),this.ze=new co(this.Ge,11,new fA(this.k)),this.He=new rC(this.referenceDelegate,this.k),this.Jt=new QT,this.Je=new dA(this.k,this.Jt),this.Ye=new tE,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===A&&ar("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ne(he.FAILED_PRECONDITION,y_);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.He.getHighestSequenceNumber(e))}).then(e=>{this.Be=new Ms(e,this.Fe)}).then(()=>{this.Ue=!0}).catch(e=>(this.ze&&this.ze.close(),Promise.reject(e)))}sn(e){var t=this;return this.We=function(){var r=(0,_e.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt(function(){var t=(0,_e.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Me.enqueueAndForget((0,_e.Z)(function*(){t.started&&(yield t.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>v_(e).put(new ul(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(e).next(t=>{t||(this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(e)).next(t=>this.isPrimary&&!t?this.cn(e).next(()=>!1):!!t&&this.an(e).next(()=>!0))).catch(e=>{if(su(e))return Fe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Fe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Me.enqueueRetryable(()=>this.We(e)),this.isPrimary=e})}rn(e){return Mp(e).get(Qi.key).next(t=>Se.resolve(this.un(t)))}hn(e){return v_(e).delete(this.clientId)}ln(){var e=this;return(0,_e.Z)(function*(){if(e.isPrimary&&!e.fn(e.Qe,18e5)){e.Qe=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Fs(r,ul.store);return i.Bt().next(l=>{const h=e.dn(l,18e5),m=l.filter(v=>-1===h.indexOf(v));return Se.forEach(m,v=>i.delete(v.clientId)).next(()=>m)})}).catch(()=>[]);if(e.Xe)for(const r of t)e.Xe.removeItem(e.wn(r.clientId))}})()}nn(){this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?Se.resolve(!0):Mp(e).get(Qi.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)){if(this.un(t)&&this.networkEnabled)return!0;if(!this.un(t)){if(!t.allowTabSynchronization)throw new Ne(he.FAILED_PRECONDITION,y_);return!1}}return!(!this.networkEnabled||!this.inForeground)||v_(e).Bt().next(r=>void 0===this.dn(r,5e3).find(i=>{if(this.clientId!==i.clientId){const h=!this.inForeground&&i.inForeground,m=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||h&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Fe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,_e.Z)(function*(){e.Ue=!1,e.mn(),e.je&&(e.je.cancel(),e.je=null),e.gn(),e.yn(),yield e.ze.runTransaction("shutdown","readwrite",[Qi.store,ul.store],t=>{const r=new JD(t,Ms.I);return e.cn(r).next(()=>e.hn(r))}),e.ze.close(),e.pn()})()}dn(e,t){return e.filter(r=>this.fn(r.updateTimeMs,t)&&!this._n(r.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",e=>v_(e).Bt().next(t=>this.dn(t,18e5).map(r=>r.clientId)))}get started(){return this.Ue}getMutationQueue(e){return T0.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,t,r){let l;return Fe("IndexedDbPersistence","Starting transaction:",e),this.ze.runTransaction(e,"readonly"===t?"readonly":"readwrite",v0,h=>(l=new JD(h,this.Be?this.Be.next():Ms.I),"readwrite-primary"===t?this.rn(l).next(m=>!!m||this.on(l)).next(m=>{if(!m)throw ar(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)),new Ne(he.FAILED_PRECONDITION,ZD);return r(l)}).next(m=>this.an(l).next(()=>m)):this.En(l).next(()=>r(l)))).then(h=>(l.raiseOnCommittedEvent(),h))}En(e){return Mp(e).get(Qi.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)&&!this.un(t)&&!(this.Le||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ne(he.FAILED_PRECONDITION,y_)})}an(e){const t=new Qi(this.clientId,this.allowTabSynchronization,Date.now());return Mp(e).put(Qi.key,t)}static Pt(){return co.Pt()}cn(e){const t=Mp(e);return t.get(Qi.key).next(r=>this.un(r)?(Fe("IndexedDbPersistence","Releasing primary lease."),t.delete(Qi.key)):Se.resolve())}fn(e,t){const r=Date.now();return!(e<r-t||e>r&&(ar(`Detected an update time that is in the future: ${e} > ${r}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Me.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),(0,Mt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Me.enterRestrictedMode(!0),this.Me.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var t;try{const r=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return Fe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ar("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){ar("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Mp(n){return Fs(n,Qi.store)}function v_(n){return Fs(n,ul.store)}function x0(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class oE{constructor(e,t){this.progress=e,this.In=t}}class R0{constructor(e,t,r){this.Je=e,this.An=t,this.Jt=r}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.bn(e,t,r))}bn(e,t,r){return this.Je.getEntry(e,t).next(i=>{for(const l of r)l.applyToLocalView(i);return i})}Pn(e,t){e.forEach((r,i)=>{for(const l of t)l.applyToLocalView(i)})}vn(e,t){return this.Je.getEntries(e,t).next(r=>this.Vn(e,r).next(()=>r))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Pn(t,r))}getDocumentsMatchingQuery(e,t,r){return tt.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.Sn(e,t.path):$v(t)?this.Dn(e,t,r):this.Cn(e,t,r);var i}Sn(e,t){return this.Rn(e,new tt(t)).next(r=>{let i=r0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Dn(e,t,r){const i=t.collectionGroup;let l=r0();return this.Jt.getCollectionParents(e,i).next(h=>Se.forEach(h,m=>{const v=(T=t,A=m.child(i),new xs(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt));var T,A;return this.Cn(e,v,r).next(T=>{T.forEach((A,M)=>{l=l.insert(A,M)})})}).next(()=>l))}Cn(e,t,r){let i,l;return this.Je.getDocumentsMatchingQuery(e,t,r).next(h=>(i=h,this.An.getAllMutationBatchesAffectingQuery(e,t))).next(h=>(l=h,this.Nn(e,l,i).next(m=>{i=m;for(const v of l)for(const T of v.mutations){const A=T.key;let M=i.get(A);null==M&&(M=Rn.newInvalidDocument(A),i=i.insert(A,M)),Zv(T,M,v.localWriteTime),M.isFoundDocument()||(i=i.remove(A))}}))).next(()=>(i.forEach((h,m)=>{vp(t,m)||(i=i.remove(h))}),i))}Nn(e,t,r){let i=rn();for(const h of t)for(const m of h.mutations)m instanceof ca&&null===r.get(m.key)&&(i=i.add(m.key));let l=r;return this.Je.getEntries(e,i).next(h=>(h.forEach((m,v)=>{v.isFoundDocument()&&(l=l.insert(m,v))}),l))}}class b_{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.kn=r,this.xn=i}static $n(e,t){let r=rn(),i=rn();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new b_(e,t.fromCache,r,i)}}class aE{On(e){this.Mn=e}getDocumentsMatchingQuery(e,t,r,i){return 0===(l=t).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||r.isEqual(wt.min())?this.Fn(e,t):this.Mn.vn(e,i).next(l=>{const h=this.Ln(t,l);return(mp(t)||_p(t))&&this.Bn(t.limitType,h,i,r)?this.Fn(e,t):(kv()<=As.in.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),vc(t)),this.Mn.getDocumentsMatchingQuery(e,t,r).next(m=>(h.forEach(v=>{m=m.insert(v.key,v)}),m)))});var l}Ln(e,t){let r=new Yn(l_(e));return t.forEach((i,l)=>{vp(e,l)&&(r=r.add(l))}),r}Bn(e,t,r,i){if(r.size!==t.size)return!0;const l="F"===e?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}Fn(e,t){return kv()<=As.in.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",vc(t)),this.Mn.getDocumentsMatchingQuery(e,t,wt.min())}}class aC{constructor(e,t,r,i){this.persistence=e,this.Un=t,this.k=i,this.qn=new Gt(Ft),this.Kn=new Cc(l=>fh(l),jv),this.jn=wt.min(),this.An=e.getMutationQueue(r),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new R0(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.On(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qn))}}function k0(n,e,t,r){return new aC(n,e,t,r)}function xp(n,e){return lE.apply(this,arguments)}function lE(){return lE=(0,_e.Z)(function*(n,e){const t=Ge(n);let r=t.An,i=t.Wn;const l=yield t.persistence.runTransaction("Handle user change","readonly",h=>{let m;return t.An.getAllMutationBatches(h).next(v=>(m=v,r=t.persistence.getMutationQueue(e),i=new R0(t.Qn,r,t.persistence.getIndexManager()),r.getAllMutationBatches(h))).next(v=>{const T=[],A=[];let M=rn();for(const L of m){T.push(L.batchId);for(const V of L.mutations)M=M.add(V.key)}for(const L of v){A.push(L.batchId);for(const V of L.mutations)M=M.add(V.key)}return i.vn(h,M).next(L=>({Gn:L,removedBatchIds:T,addedBatchIds:A}))})});return t.An=r,t.Wn=i,t.Un.On(t.Wn),l}),lE.apply(this,arguments)}function uE(n,e){const t=Ge(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),l=t.Qn.newChangeBuffer({trackRemovals:!0});return function(h,m,v,T){const A=v.batch,M=A.keys();let L=Se.resolve();return M.forEach(V=>{L=L.next(()=>T.getEntry(m,V)).next(J=>{const ve=v.docVersions.get(V);yt(null!==ve),J.version.compareTo(ve)<0&&(A.applyToRemoteDocument(J,v),J.isValidDocument()&&T.addEntry(J,v.commitVersion))})}),L.next(()=>h.An.removeMutationBatch(m,A))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.An.performConsistencyCheck(r)).next(()=>t.Wn.vn(r,i))})}function Rp(n){const e=Ge(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.He.getLastRemoteSnapshotVersion(t))}function lC(n,e){const t=Ge(n),r=e.snapshotVersion;let i=t.qn;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.Qn.newChangeBuffer({trackRemovals:!0});i=t.qn;const m=[];e.targetChanges.forEach((T,A)=>{const M=i.get(A);if(!M)return;m.push(t.He.removeMatchingKeys(l,T.removedDocuments,A).next(()=>t.He.addMatchingKeys(l,T.addedDocuments,A)));let L=M.withSequenceNumber(l.currentSequenceNumber);var V,J,ve;e.targetMismatches.has(A)?L=L.withResumeToken(mr.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):T.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(T.resumeToken,r)),i=i.insert(A,L),J=L,ve=T,(0===(V=M).resumeToken.approximateByteSize()||J.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=3e8||ve.addedDocuments.size+ve.modifiedDocuments.size+ve.removedDocuments.size>0)&&m.push(t.He.updateTargetData(l,L))});let v=lo();if(e.documentUpdates.forEach((T,A)=>{e.resolvedLimboDocuments.has(T)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,T))}),m.push(cE(l,h,e.documentUpdates,r,void 0).next(T=>{v=T})),!r.isEqual(wt.min())){const T=t.He.getLastRemoteSnapshotVersion(l).next(A=>t.He.setTargetsMetadata(l,l.currentSequenceNumber,r));m.push(T)}return Se.waitFor(m).next(()=>h.apply(l)).next(()=>t.Wn.Vn(l,v)).next(()=>v)}).then(l=>(t.qn=i,l))}function cE(n,e,t,r,i){let l=rn();return t.forEach(h=>l=l.add(h)),e.getEntries(n,l).next(h=>{let m=lo();return t.forEach((v,T)=>{const A=h.get(v),M=(null==i?void 0:i.get(v))||r;T.isNoDocument()&&T.version.isEqual(wt.min())?(e.removeEntry(v,M),m=m.insert(v,T)):!A.isValidDocument()||T.version.compareTo(A.version)>0||0===T.version.compareTo(A.version)&&A.hasPendingWrites?(e.addEntry(T,M),m=m.insert(v,T)):Fe("LocalStore","Ignoring outdated watch update for ",v,". Current version:",A.version," Watch version:",T.version)}),m})}function uC(n,e){const t=Ge(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.An.getNextMutationBatchAfterBatchId(r,e)))}function Mh(n,e){const t=Ge(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.He.getTargetData(r,e).next(l=>l?(i=l,Se.resolve(i)):t.He.allocateTargetId(r).next(h=>(i=new ou(e,h,0,r.currentSequenceNumber),t.He.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.qn.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.qn=t.qn.insert(r.targetId,r),t.Kn.set(e,r.targetId)),r})}function kp(n,e,t){return P0.apply(this,arguments)}function P0(){return P0=(0,_e.Z)(function*(n,e,t){const r=Ge(n),i=r.qn.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,h=>r.persistence.referenceDelegate.removeTarget(h,i)))}catch(h){if(!su(h))throw h;Fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}r.qn=r.qn.remove(e),r.Kn.delete(i.target)}),P0.apply(this,arguments)}function w_(n,e,t){const r=Ge(n);let i=wt.min(),l=rn();return r.persistence.runTransaction("Execute query","readonly",h=>function(m,v,T){const A=Ge(m),M=A.Kn.get(T);return void 0!==M?Se.resolve(A.qn.get(M)):A.He.getTargetData(v,T)}(r,h,ao(e)).next(m=>{if(m)return i=m.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(h,m.targetId).next(v=>{l=v})}).next(()=>r.Un.getDocumentsMatchingQuery(h,e,t?i:wt.min(),t?l:rn())).next(m=>({documents:m,zn:l})))}function dE(n,e){const t=Ge(n),r=Ge(t.He),i=t.qn.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",l=>r.Et(l,e).next(h=>h?h.target:null))}function hE(n){const e=Ge(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(r,i,l){const h=Ge(r);let m=lo(),v=eE(l);const T=Ic(i),A=IDBKeyRange.lowerBound(v,!0);return T.jt({index:Jn.readTimeIndex,range:A},(M,L)=>{const V=m_(h.k,L);m=m.insert(V.key,V),v=L.readTime}).next(()=>({In:m,readTime:w0(v)}))}(e.Qn,t,e.jn)).then(({In:t,readTime:r})=>(e.jn=r,t))}function F0(){return F0=(0,_e.Z)(function*(n){const e=Ge(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(r){const i=Ic(r);let l=wt.min();return i.jt({index:Jn.readTimeIndex,reverse:!0},(h,m,v)=>{m.readTime&&(l=w0(m.readTime)),v.done()}).next(()=>l)}(t)).then(t=>{e.jn=t})}),F0.apply(this,arguments)}function L0(){return L0=(0,_e.Z)(function*(n,e,t,r){const i=Ge(n);let l=rn(),h=lo(),m=VD();for(const A of t){const M=e.Hn(A.metadata.name);A.document&&(l=l.add(M)),h=h.insert(M,e.Jn(A)),m=m.insert(M,e.Yn(A.metadata.readTime))}const v=i.Qn.newChangeBuffer({trackRemovals:!0}),T=yield Mh(i,(A=r,ao(yc(nn.fromString(`__bundle__/docs/${A}`)))));var A;return i.persistence.runTransaction("Apply bundle documents","readwrite",A=>cE(A,v,h,wt.min(),m).next(M=>(v.apply(A),M)).next(M=>i.He.removeMatchingKeysForTargetId(A,T.targetId).next(()=>i.He.addMatchingKeys(A,l,T.targetId)).next(()=>i.Wn.Vn(A,M)).next(()=>M)))}),L0.apply(this,arguments)}function pA(n,e){return fE.apply(this,arguments)}function fE(){return fE=(0,_e.Z)(function*(n,e,t=rn()){const r=yield Mh(n,ao(Np(e.bundledQuery))),i=Ge(n);return i.persistence.runTransaction("Save named query","readwrite",l=>{const h=Ir(e.readTime);if(r.snapshotVersion.compareTo(h)>=0)return i.Ye.saveNamedQuery(l,e);const m=r.withResumeToken(mr.EMPTY_BYTE_STRING,h);return i.qn=i.qn.insert(m.targetId,m),i.He.updateTargetData(l,m).next(()=>i.He.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>i.He.addMatchingKeys(l,t,r.targetId)).next(()=>i.Ye.saveNamedQuery(l,e))})}),fE.apply(this,arguments)}class gA{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return Se.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var r;return this.Xn.set(t.id,{id:(r=t).id,version:r.version,createTime:Ir(r.createTime)}),Se.resolve()}getNamedQuery(e,t){return Se.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,{name:(r=t).name,query:Np(r.bundledQuery),readTime:Ir(r.readTime)}),Se.resolve();var r}}class pE{constructor(){this.ts=new Yn(ai.es),this.ns=new Yn(ai.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const r=new ai(e,t);this.ts=this.ts.add(r),this.ns=this.ns.add(r)}rs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.os(new ai(e,t))}cs(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new tt(new nn([])),r=new ai(t,e),i=new ai(t,e+1),l=[];return this.ns.forEachInRange([r,i],h=>{this.os(h),l.push(h.key)}),l}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new tt(new nn([])),r=new ai(t,e),i=new ai(t,e+1);let l=rn();return this.ns.forEachInRange([r,i],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new ai(e,0),r=this.ts.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ai{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return tt.comparator(e.key,t.key)||Ft(e.fs,t.fs)}static ss(e,t){return Ft(e.fs,t.fs)||tt.comparator(e.key,t.key)}}class hC{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new Yn(ai.es)}checkEmpty(e){return Se.resolve(0===this.An.length)}addMutationBatch(e,t,r,i){const l=this.ds;this.ds++;const h=new b0(l,t,r,i);this.An.push(h);for(const m of i)this.ws=this.ws.add(new ai(m.key,l)),this.Jt.addToCollectionParentIndex(e,m.key.path.popLast());return Se.resolve(h)}lookupMutationBatch(e,t){return Se.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.gs(t+1),l=i<0?0:i;return Se.resolve(this.An.length>l?this.An[l]:null)}getHighestUnacknowledgedBatchId(){return Se.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return Se.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ai(t,0),i=new ai(t,Number.POSITIVE_INFINITY),l=[];return this.ws.forEachInRange([r,i],h=>{const m=this._s(h.fs);l.push(m)}),Se.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Yn(Ft);return t.forEach(i=>{const l=new ai(i,0),h=new ai(i,Number.POSITIVE_INFINITY);this.ws.forEachInRange([l,h],m=>{r=r.add(m.fs)})}),Se.resolve(this.ys(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let l=r;tt.isDocumentKey(l)||(l=l.child(""));const h=new ai(new tt(l),0);let m=new Yn(Ft);return this.ws.forEachWhile(v=>{const T=v.key.path;return!!r.isPrefixOf(T)&&(T.length===i&&(m=m.add(v.fs)),!0)},h),Se.resolve(this.ys(m))}ys(e){const t=[];return e.forEach(r=>{const i=this._s(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){yt(0===this.ps(t.batchId,"removed")),this.An.shift();let r=this.ws;return Se.forEach(t.mutations,i=>{const l=new ai(i.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ws=r})}ee(e){}containsKey(e,t){const r=new ai(t,0),i=this.ws.firstAfterOrEqual(r);return Se.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return Se.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}class mA{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new Gt(tt.comparator),this.size=0}addEntry(e,t,r){const i=t.key,l=this.docs.get(i),h=l?l.size:0,m=this.Ts(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:m,readTime:r}),this.size+=m-h,this.Jt.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Se.resolve(r?r.document.mutableCopy():Rn.newInvalidDocument(t))}getEntries(e,t){let r=lo();return t.forEach(i=>{const l=this.docs.get(i);r=r.insert(i,l?l.document.mutableCopy():Rn.newInvalidDocument(i))}),Se.resolve(r)}getDocumentsMatchingQuery(e,t,r){let i=lo();const l=new tt(t.path.child("")),h=this.docs.getIteratorFrom(l);for(;h.hasNext();){const{key:m,value:{document:v,readTime:T}}=h.getNext();if(!t.path.isPrefixOf(m.path))break;T.compareTo(r)<=0||vp(t,v)&&(i=i.insert(v.key,v.mutableCopy()))}return Se.resolve(i)}Es(e,t){return Se.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new _A(this)}getSize(e){return Se.resolve(this.size)}}class _A extends N0{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.document.isValidDocument()?t.push(this.De.addEntry(e,i.document,this.getReadTime(r))):this.De.removeEntry(r)}),Se.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class yA{constructor(e){this.persistence=e,this.Is=new Cc(t=>fh(t),jv),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.As=0,this.Rs=new pE,this.targetCount=0,this.bs=Nh.ie()}forEachTarget(e,t){return this.Is.forEach((r,i)=>t(i)),Se.resolve()}getLastRemoteSnapshotVersion(e){return Se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Se.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),Se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.As&&(this.As=t),Se.resolve()}ae(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new Nh(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,Se.resolve()}updateTargetData(e,t){return this.ae(t),Se.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,Se.resolve()}removeTargets(e,t,r){let i=0;const l=[];return this.Is.forEach((h,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Is.delete(h),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),i++)}),Se.waitFor(l).next(()=>i)}getTargetCount(e){return Se.resolve(this.targetCount)}getTargetData(e,t){const r=this.Is.get(t)||null;return Se.resolve(r)}addMatchingKeys(e,t,r){return this.Rs.rs(t,r),Se.resolve()}removeMatchingKeys(e,t,r){this.Rs.cs(t,r);const i=this.persistence.referenceDelegate,l=[];return i&&t.forEach(h=>{l.push(i.markPotentiallyOrphaned(e,h))}),Se.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),Se.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Rs.ls(t);return Se.resolve(r)}containsKey(e,t){return Se.resolve(this.Rs.containsKey(t))}}class vA{constructor(e,t){this.Ps={},this.Be=new Ms(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new yA(this),this.Jt=new rE,this.Je=new mA(this.Jt,r=>this.referenceDelegate.vs(r)),this.k=new QD(t),this.Ye=new gA(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.Ps[e.toKey()];return t||(t=new hC(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,r){Fe("MemoryPersistence","Starting transaction:",e);const i=new s(this.Be.next());return this.referenceDelegate.Vs(),r(i).next(l=>this.referenceDelegate.Ss(i).next(()=>l)).toPromise().then(l=>(i.raiseOnCommittedEvent(),l))}Ds(e,t){return Se.or(Object.values(this.Ps).map(r=>()=>r.containsKey(e,t)))}}class s extends YD{constructor(e){super(),this.currentSequenceNumber=e}}class o{constructor(e){this.persistence=e,this.Cs=new pE,this.Ns=null}static ks(e){return new o(e)}get xs(){if(this.Ns)return this.Ns;throw st()}addReference(e,t,r){return this.Cs.addReference(r,t),this.xs.delete(r.toString()),Se.resolve()}removeReference(e,t,r){return this.Cs.removeReference(r,t),this.xs.add(r.toString()),Se.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Se.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach(i=>this.xs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(l=>this.xs.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Se.forEach(this.xs,r=>{const i=tt.fromPath(r);return this.$s(e,i).next(l=>{l||t.removeEntry(i)})}).next(()=>(this.Ns=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.xs.delete(t.toString()):this.xs.add(t.toString())})}vs(e){return 0}$s(e,t){return Se.or([()=>Se.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}function a(n,e){return`firestore_clients_${n}_${e}`}function u(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function d(n,e){return`firestore_targets_${n}_${e}`}class p{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Os(e,t,r){const i=JSON.parse(r);let l,h="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return h&&i.error&&(h="string"==typeof i.error.message&&"string"==typeof i.error.code,h&&(l=new Ne(i.error.code,i.error.message))),h?new p(e,t,i.state,l):(ar("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class y{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Os(e,t){const r=JSON.parse(t);let i,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(i=new Ne(r.error.code,r.error.message))),l?new y(e,r.state,i):(ar("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class w{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Os(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,l=Tp();for(let h=0;i&&h<r.activeTargetIds.length;++h)i=vD(r.activeTargetIds[h]),l=l.add(r.activeTargetIds[h]);return i?new w(e,l):(ar("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class D{constructor(e,t){this.clientId=e,this.onlineState=t}static Os(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new D(t.clientId,t.onlineState):(ar("SharedClientState",`Failed to parse online state: ${e}`),null)}}class I{constructor(){this.activeTargetIds=Tp()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ms(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class N{constructor(e,t,r,i,l){this.window=e,this.Me=t,this.persistenceKey=r,this.Bs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new Gt(Ft),this.started=!1,this.js=[];const h=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.Qs=a(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new I),this.Gs=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(m){return`firestore_bundle_loaded_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static Pt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,_e.Z)(function*(){const t=yield e.syncEngine.Tn();for(const i of t){if(i===e.Bs)continue;const l=e.getItem(a(e.persistenceKey,i));if(l){const h=w.Os(i,l);h&&(e.Ks=e.Ks.insert(h.clientId,h))}}e.Xs();const r=e.storage.getItem(e.Js);if(r){const i=e.Zs(r);i&&e.ti(i)}for(const i of e.js)e.qs(i);e.js=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(e){let t=!1;return this.Ks.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ni(e,"pending")}updateMutationState(e,t,r){this.ni(e,t,r),this.si(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(d(this.persistenceKey,e));if(r){const i=y.Os(e,r);i&&(t=i.state)}}return this.ii.Fs(e),this.Xs(),t}removeLocalQueryTarget(e){this.ii.Ls(e),this.Xs()}isLocalQueryTarget(e){return this.ii.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(d(this.persistenceKey,e))}updateQueryState(e,t,r){this.ri(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.si(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.oi(e)}notifyBundleLoaded(){this.ci()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Fe("SharedClientState","READ",e,t),t}setItem(e,t){Fe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Fe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}qs(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Fe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Qs)return void ar("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable((0,_e.Z)(function*(){if(t.started){if(null!==r.key)if(t.Gs.test(r.key)){if(null==r.newValue){const i=t.ai(r.key);return t.ui(i,null)}{const i=t.hi(r.key,r.newValue);if(i)return t.ui(i.clientId,i)}}else if(t.zs.test(r.key)){if(null!==r.newValue){const i=t.li(r.key,r.newValue);if(i)return t.fi(i)}}else if(t.Hs.test(r.key)){if(null!==r.newValue){const i=t.di(r.key,r.newValue);if(i)return t.wi(i)}}else if(r.key===t.Js){if(null!==r.newValue){const i=t.Zs(r.newValue);if(i)return t.ti(i)}}else if(r.key===t.Ws){const i=function(l){let h=Ms.I;if(null!=l)try{const m=JSON.parse(l);yt("number"==typeof m),h=m}catch(m){ar("SharedClientState","Failed to read sequence number from WebStorage",m)}return h}(r.newValue);i!==Ms.I&&t.sequenceNumberHandler(i)}else if(r.key===t.Ys)return t.syncEngine._i()}else t.js.push(r)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Ms())}ni(e,t,r){const i=new p(this.currentUser,e,t,r),l=u(this.persistenceKey,this.currentUser,e);this.setItem(l,i.Ms())}si(e){const t=u(this.persistenceKey,this.currentUser,e);this.removeItem(t)}oi(e){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:e}))}ri(e,t,r){const i=d(this.persistenceKey,e),l=new y(e,t,r);this.setItem(i,l.Ms())}ci(){this.setItem(this.Ys,"value-not-used")}ai(e){const t=this.Gs.exec(e);return t?t[1]:null}hi(e,t){const r=this.ai(e);return w.Os(r,t)}li(e,t){const r=this.zs.exec(e),i=Number(r[1]);return p.Os(new jr(void 0!==r[2]?r[2]:null),i,t)}di(e,t){const r=this.Hs.exec(e),i=Number(r[1]);return y.Os(i,t)}Zs(e){return D.Os(e)}fi(e){var t=this;return(0,_e.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.mi(e.batchId,e.state,e.error);Fe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}wi(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}ui(e,t){const r=t?this.Ks.insert(e,t):this.Ks.remove(e),i=this.ei(this.Ks),l=this.ei(r),h=[],m=[];return l.forEach(v=>{i.has(v)||h.push(v)}),i.forEach(v=>{l.has(v)||m.push(v)}),this.syncEngine.yi(h,m).then(()=>{this.Ks=r})}ti(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ei(e){let t=Tp();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class P{constructor(){this.pi=new I,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}updateQueryState(e,t,r){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new I,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class H{Ei(e){}shutdown(){}}class Z{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.bi(),this.Pi=[],this.vi()}Ei(e){this.Pi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Pi)e(0)}bi(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Pi)e(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const ye={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Pe{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Oi(e){this.ki(e)}Mi(e){this.xi(e)}}class je extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,r,i,l){const h=this.Ui(e,t);Fe("RestConnection","Sending: ",h,r);const m={};return this.qi(m,i,l),this.Ki(e,h,m,r).then(v=>(Fe("RestConnection","Received: ",v),v),v=>{throw oh("RestConnection",`${e} failed with error: `,v,"url: ",h,"request:",r),v})}ji(e,t,r,i,l){return this.Bi(e,t,r,i,l)}qi(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+sh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,l)=>e[l]=i),r&&r.headers.forEach((i,l)=>e[l]=i)}Ui(e,t){return`${this.Fi}/v1/${t}:${ye[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,r,i){return new Promise((l,h)=>{const m=new fD;m.listenOnce(dD.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Rv.NO_ERROR:const T=m.getResponseJson();Fe("Connection","XHR received:",JSON.stringify(T)),l(T);break;case Rv.TIMEOUT:Fe("Connection",'RPC "'+e+'" timed out'),h(new Ne(he.DEADLINE_EXCEEDED,"Request time out"));break;case Rv.HTTP_ERROR:const A=m.getStatus();if(Fe("Connection",'RPC "'+e+'" failed with status:',A,"response text:",m.getResponseText()),A>0){const M=m.getResponseJson().error;if(M&&M.status&&M.message){const L=function(V){const J=V.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(J)>=0?J:he.UNKNOWN}(M.status);h(new Ne(L,M.message))}else h(new Ne(he.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new Ne(he.UNAVAILABLE,"Connection failed."));break;default:st()}}finally{Fe("Connection",'RPC "'+e+'" completed.')}});const v=JSON.stringify(i);m.send(t,"POST",v,r,15)})}Qi(e,t,r){const i=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=DT(),h=ET(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new ih({})),this.qi(m.initMessageHeaders,t,r),(0,Mt.uI)()||(0,Mt.b$)()||(0,Mt.d)()||(0,Mt.w1)()||(0,Mt.Mn)()||(0,Mt.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const v=i.join("");Fe("Connection","Creating WebChannel: "+v,m);const T=l.createWebChannel(v,m);let A=!1,M=!1;const L=new Pe({Vi:J=>{M?Fe("Connection","Not sending because WebChannel is closed:",J):(A||(Fe("Connection","Opening WebChannel transport."),T.open(),A=!0),Fe("Connection","WebChannel sending:",J),T.send(J))},Si:()=>T.close()}),V=(J,ve,Re)=>{J.listen(ve,He=>{try{Re(He)}catch(ct){setTimeout(()=>{throw ct},0)}})};return V(T,Jm.EventType.OPEN,()=>{M||Fe("Connection","WebChannel transport opened.")}),V(T,Jm.EventType.CLOSE,()=>{M||(M=!0,Fe("Connection","WebChannel transport closed"),L.Oi())}),V(T,Jm.EventType.ERROR,J=>{M||(M=!0,oh("Connection","WebChannel transport errored:",J),L.Oi(new Ne(he.UNAVAILABLE,"The operation could not be completed")))}),V(T,Jm.EventType.MESSAGE,J=>{var ve;if(!M){const Re=J.data[0];yt(!!Re);const He=Re,ct=He.error||(null===(ve=He[0])||void 0===ve?void 0:ve.error);if(ct){Fe("Connection","WebChannel received error:",ct);const Zt=ct.status;let Dt=function(Jt){const rs=lr[Jt];if(void 0!==rs)return t0(rs)}(Zt),Yt=ct.message;void 0===Dt&&(Dt=he.INTERNAL,Yt="Unknown error status: "+Zt+" with message "+ct.message),M=!0,L.Oi(new Ne(Dt,Yt)),T.close()}else Fe("Connection","WebChannel received:",Re),L.Mi(Re)}}),V(h,TT.STAT_EVENT,J=>{J.stat===hD.PROXY?Fe("Connection","Detected buffering proxy"):J.stat===hD.NOPROXY&&Fe("Connection","Detected no buffering proxy")}),setTimeout(()=>{L.$i()},0),L}}function Ze(){return"undefined"!=typeof window?window:null}function Ee(){return"undefined"!=typeof document?document:null}function rt(n){return new sA(n,!0)}class xt{constructor(e,t,r=1e3,i=1.5,l=6e4){this.Me=e,this.timerId=t,this.Wi=r,this.Gi=i,this.zi=l,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,t-r);i>0&&Fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Hi} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Ji=this.Me.enqueueAfterDelay(this.timerId,i,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class sn{constructor(e,t,r,i,l,h,m,v){this.Me=e,this.nr=r,this.sr=i,this.ir=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=v,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new xt(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return(0,_e.Z)(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return(0,_e.Z)(function*(){if(e.lr())return e.close(0)})()}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}pr(){this.ar&&(this.ar.cancel(),this.ar=null)}close(e,t){var r=this;return(0,_e.Z)(function*(){r.yr(),r.pr(),r.ur.cancel(),r.rr++,4!==e?r.ur.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(ar(t.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),r.ur.Xi()):t&&t.code===he.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Tr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ni(t)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.rr===t&&this.Ir(r,i)},r=>{e(()=>{const i=new Ne(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ar(i)})})}Ir(e,t){const r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di(()=>{r(()=>(this.state=2,this.ar=this.Me.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(i=>{r(()=>this.Ar(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}dr(){var e=this;this.state=5,this.ur.Zi((0,_e.Z)(function*(){e.state=0,e.start()}))}Ar(e){return Fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Me.enqueueAndForget(()=>this.rr===e?t():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ls extends sn{constructor(e,t,r,i,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,h),this.k=l}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();const t=function jT(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:st(),i=e.targetChange.targetIds||[],l=function(v,T){return v.C?(yt(void 0===T||"string"==typeof T),mr.fromBase64String(T||"")):(yt(void 0===T||T instanceof Uint8Array),mr.fromUint8Array(T||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(v){const T=void 0===v.code?he.UNKNOWN:t0(v.code);return new Ne(T,v.message||"")}(h);t=new UD(r,i,l,m||null)}else if("documentChange"in e){const r=e.documentChange,i=da(n,r.document.name),l=Ir(r.document.updateTime),h=new wi({mapValue:{fields:r.document.fields}}),m=Rn.newFoundDocument(i,l,h);t=new s0(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,i=da(n,r.document),l=r.readTime?Ir(r.readTime):wt.min(),h=Rn.newNoDocument(i,l);t=new s0([],r.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const r=e.documentRemove,i=da(n,r.document);t=new s0([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return st();{const r=e.filter,l=new FD(r.count||0);t=new o0(r.targetId,l)}}var v;return t}(this.k,e),r=function(i){if(!("targetChange"in i))return wt.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?wt.min():l.readTime?Ir(l.readTime):wt.min()}(e);return this.listener.br(t,r)}Pr(e){const t={};t.database=Ip(this.k),t.addTarget=function(i,l){let h;const m=l.target;return h=pp(m)?{documents:GT(i,m)}:{query:$T(i,m)},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?h.resumeToken=HD(i,l.resumeToken):l.snapshotVersion.compareTo(wt.min())>0&&(h.readTime=Cp(i,l.snapshotVersion.toTimestamp())),h}(this.k,e);const r=function oA(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return st()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.gr(t)}vr(e){const t={};t.database=Ip(this.k),t.removeTarget=e,this.gr(t)}}class Sc extends sn{constructor(e,t,r,i,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,h),this.k=l,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(yt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=function WD(n,e){return n&&n.length>0?(yt(void 0!==e),n.map(t=>function(r,i){let l=Ir(r.updateTime?r.updateTime:i);return l.isEqual(wt.min())&&(l=Ir(i)),new Kv(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Ir(e.commitTime);return this.listener.Cr(r,t)}return yt(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=Ip(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>h_(this.k,r))};this.gr(t)}}class V0 extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=r,this.k=i,this.$r=!1}Or(){if(this.$r)throw new Ne(he.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,r){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.ir.Bi(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ne(he.UNKNOWN,i.toString())})}ji(e,t,r){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.ir.ji(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ne(he.UNKNOWN,i.toString())})}terminate(){this.$r=!0}}class B0{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}Br(){0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(ar(t),this.Lr=!1):Fe("OnlineStateTracker",t)}jr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class U0{constructor(e,t,r,i,l){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=l,this.Hr.Ei(m=>{r.enqueueAndForget((0,_e.Z)(function*(){var v;Rh(h)&&(Fe("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,_e.Z)(function*(T){const A=Ge(T);A.Gr.add(4),yield uu(A),A.Jr.set("Unknown"),A.Gr.delete(4),yield Ac(A)}),function(T){return v.apply(this,arguments)})(h))}))}),this.Jr=new B0(r,i)}}function Ac(n){return Pp.apply(this,arguments)}function Pp(){return Pp=(0,_e.Z)(function*(n){if(Rh(n))for(const e of n.zr)yield e(!0)}),Pp.apply(this,arguments)}function uu(n){return Fp.apply(this,arguments)}function Fp(){return Fp=(0,_e.Z)(function*(n){for(const e of n.zr)yield e(!1)}),Fp.apply(this,arguments)}function xh(n,e){const t=Ge(n);t.Wr.has(e.targetId)||(t.Wr.set(e.targetId,e),gC(t)?pC(t):E_(t).lr()&&fC(t,e))}function Nc(n,e){const t=Ge(n),r=E_(t);t.Wr.delete(e),r.lr()&&bA(t,e),0===t.Wr.size&&(r.lr()?r._r():Rh(t)&&t.Jr.set("Unknown"))}function fC(n,e){n.Yr.X(e.targetId),E_(n).Pr(e)}function bA(n,e){n.Yr.X(e),E_(n).vr(e)}function pC(n){n.Yr=new d_({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Wr.get(e)||null}),E_(n).start(),n.Jr.Br()}function gC(n){return Rh(n)&&!E_(n).hr()&&n.Wr.size>0}function Rh(n){return 0===Ge(n).Gr.size}function wA(n){n.Yr=void 0}function yx(n){return mC.apply(this,arguments)}function mC(){return mC=(0,_e.Z)(function*(n){n.Wr.forEach((e,t)=>{fC(n,e)})}),mC.apply(this,arguments)}function vx(n,e){return _C.apply(this,arguments)}function _C(){return _C=(0,_e.Z)(function*(n,e){wA(n),gC(n)?(n.Jr.Kr(e),pC(n)):n.Jr.set("Unknown")}),_C.apply(this,arguments)}function bx(n,e,t){return yC.apply(this,arguments)}function yC(){return yC=(0,_e.Z)(function*(n,e,t){if(n.Jr.set("Online"),e instanceof UD&&2===e.state&&e.cause)try{yield(r=(0,_e.Z)(function*(i,l){const h=l.cause;for(const m of l.targetIds)i.Wr.has(m)&&(yield i.remoteSyncer.rejectListen(m,h),i.Wr.delete(m),i.Yr.removeTarget(m))}),function(i,l){return r.apply(this,arguments)})(n,e)}catch(r){Fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield gE(n,r)}else if(e instanceof s0?n.Yr.ot(e):e instanceof o0?n.Yr.dt(e):n.Yr.ut(e),!t.isEqual(wt.min()))try{const r=yield Rp(n.localStore);t.compareTo(r)>=0&&(yield function(i,l){const h=i.Yr.gt(l);return h.targetChanges.forEach((m,v)=>{if(m.resumeToken.approximateByteSize()>0){const T=i.Wr.get(v);T&&i.Wr.set(v,T.withResumeToken(m.resumeToken,l))}}),h.targetMismatches.forEach(m=>{const v=i.Wr.get(m);if(!v)return;i.Wr.set(m,v.withResumeToken(mr.EMPTY_BYTE_STRING,v.snapshotVersion)),bA(i,m);const T=new ou(v.target,m,1,v.sequenceNumber);fC(i,T)}),i.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(r){Fe("RemoteStore","Failed to raise snapshot:",r),yield gE(n,r)}var r}),yC.apply(this,arguments)}function gE(n,e,t){return vC.apply(this,arguments)}function vC(){return vC=(0,_e.Z)(function*(n,e,t){if(!su(e))throw e;n.Gr.add(1),yield uu(n),n.Jr.set("Offline"),t||(t=()=>Rp(n.localStore)),n.asyncQueue.enqueueRetryable((0,_e.Z)(function*(){Fe("RemoteStore","Retrying IndexedDB access"),yield t(),n.Gr.delete(1),yield Ac(n)}))}),vC.apply(this,arguments)}function DA(n,e){return e().catch(t=>gE(n,t,e))}function D_(n){return bC.apply(this,arguments)}function bC(){return bC=(0,_e.Z)(function*(n){const e=Ge(n),t=kh(e);let r=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;wx(e);)try{const i=yield uC(e.localStore,r);if(null===i){0===e.Qr.length&&t._r();break}r=i.batchId,Dx(e,i)}catch(i){yield gE(e,i)}EA(e)&&TA(e)}),bC.apply(this,arguments)}function wx(n){return Rh(n)&&n.Qr.length<10}function Dx(n,e){n.Qr.push(e);const t=kh(n);t.lr()&&t.Sr&&t.Dr(e.mutations)}function EA(n){return Rh(n)&&!kh(n).hr()&&n.Qr.length>0}function TA(n){kh(n).start()}function Ex(n){return wC.apply(this,arguments)}function wC(){return wC=(0,_e.Z)(function*(n){kh(n).kr()}),wC.apply(this,arguments)}function Tx(n){return DC.apply(this,arguments)}function DC(){return DC=(0,_e.Z)(function*(n){const e=kh(n);for(const t of n.Qr)e.Dr(t.mutations)}),DC.apply(this,arguments)}function Cx(n,e,t){return EC.apply(this,arguments)}function EC(){return EC=(0,_e.Z)(function*(n,e,t){const r=n.Qr.shift(),i=g_.from(r,e,t);yield DA(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield D_(n)}),EC.apply(this,arguments)}function Ix(n,e){return TC.apply(this,arguments)}function TC(){return TC=(0,_e.Z)(function*(n,e){var t;e&&kh(n).Sr&&(yield(t=(0,_e.Z)(function*(r,i){if(e0(l=i.code)&&l!==he.ABORTED){const h=r.Qr.shift();kh(r).wr(),yield DA(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,i)),yield D_(r)}var l}),function(r,i){return t.apply(this,arguments)})(n,e)),EA(n)&&TA(n)}),TC.apply(this,arguments)}function CA(n,e){return CC.apply(this,arguments)}function CC(){return CC=(0,_e.Z)(function*(n,e){const t=Ge(n);t.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");const r=Rh(t);t.Gr.add(3),yield uu(t),r&&t.Jr.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Gr.delete(3),yield Ac(t)}),CC.apply(this,arguments)}function IC(n,e){return SC.apply(this,arguments)}function SC(){return SC=(0,_e.Z)(function*(n,e){const t=Ge(n);e?(t.Gr.delete(2),yield Ac(t)):e||(t.Gr.add(2),yield uu(t),t.Jr.set("Unknown"))}),SC.apply(this,arguments)}function E_(n){return n.Xr||(n.Xr=function(e,t,r){const i=Ge(e);return i.Or(),new Ls(t,i.ir,i.authCredentials,i.appCheckCredentials,i.k,r)}(n.datastore,n.asyncQueue,{Di:yx.bind(null,n),Ni:vx.bind(null,n),br:bx.bind(null,n)}),n.zr.push(function(){var e=(0,_e.Z)(function*(t){t?(n.Xr.wr(),gC(n)?pC(n):n.Jr.set("Unknown")):(yield n.Xr.stop(),wA(n))});return function(t){return e.apply(this,arguments)}}())),n.Xr}function kh(n){return n.Zr||(n.Zr=function(e,t,r){const i=Ge(e);return i.Or(),new Sc(t,i.ir,i.authCredentials,i.appCheckCredentials,i.k,r)}(n.datastore,n.asyncQueue,{Di:Ex.bind(null,n),Ni:Ix.bind(null,n),Nr:Tx.bind(null,n),Cr:Cx.bind(null,n)}),n.zr.push(function(){var e=(0,_e.Z)(function*(t){t?(n.Zr.wr(),yield D_(n)):(yield n.Zr.stop(),n.Qr.length>0&&(Fe("RemoteStore",`Stopping write stream with ${n.Qr.length} pending writes`),n.Qr=[]))});return function(t){return e.apply(this,arguments)}}())),n.Zr}class AC{constructor(e,t,r,i,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=l,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,r,i,l){const h=Date.now()+r,m=new AC(e,t,h,i,l);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ne(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function T_(n,e){if(ar("AsyncQueue",`${e}: ${n}`),su(n))return new Ne(he.UNAVAILABLE,`${e}: ${n}`);throw n}class C_{constructor(e){this.comparator=e?(t,r)=>e(t,r)||tt.comparator(t.key,r.key):(t,r)=>tt.comparator(t.key,r.key),this.keyedMap=r0(),this.sortedSet=new Gt(this.comparator)}static emptySet(e){return new C_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof C_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new C_;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class IA{constructor(){this.eo=new Gt(tt.comparator)}track(e){const t=e.doc.key,r=this.eo.get(t);r?0!==e.type&&3===r.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==r.type?this.eo=this.eo.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.eo=this.eo.remove(t):1===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):st():this.eo=this.eo.insert(t,e)}no(){const e=[];return this.eo.inorderTraversal((t,r)=>{e.push(r)}),e}}class I_{constructor(e,t,r,i,l,h,m,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=v}static fromInitialDocuments(e,t,r,i){const l=[];return t.forEach(h=>{l.push({type:0,doc:h})}),new I_(e,t,C_.emptySet(t),l,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Sx{constructor(){this.so=void 0,this.listeners=[]}}class Ax{constructor(){this.queries=new Cc(e=>OD(e),yp),this.onlineState="Unknown",this.io=new Set}}function NC(n,e){return OC.apply(this,arguments)}function OC(){return OC=(0,_e.Z)(function*(n,e){const t=Ge(n),r=e.query;let i=!1,l=t.queries.get(r);if(l||(i=!0,l=new Sx),i)try{l.so=yield t.onListen(r)}catch(h){const m=T_(h,`Initialization of query '${vc(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,l),l.listeners.push(e),e.ro(t.onlineState),l.so&&e.oo(l.so)&&RC(t)}),OC.apply(this,arguments)}function MC(n,e){return xC.apply(this,arguments)}function xC(){return xC=(0,_e.Z)(function*(n,e){const t=Ge(n),r=e.query;let i=!1;const l=t.queries.get(r);if(l){const h=l.listeners.indexOf(e);h>=0&&(l.listeners.splice(h,1),i=0===l.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),xC.apply(this,arguments)}function Nx(n,e){const t=Ge(n);let r=!1;for(const i of e){const h=t.queries.get(i.query);if(h){for(const m of h.listeners)m.oo(i)&&(r=!0);h.so=i}}r&&RC(t)}function Ox(n,e,t){const r=Ge(n),i=r.queries.get(e);if(i)for(const l of i.listeners)l.onError(t);r.queries.delete(e)}function RC(n){n.io.forEach(e=>{e.next()})}class kC{constructor(e,t,r){this.query=e,this.co=t,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}oo(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new I_(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.ao?this.ho(e)&&(this.co.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.co.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){return!e.fromCache||!(this.options.wo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=I_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}class Mx{constructor(e,t){this.payload=e,this.byteLength=t}_o(){return"metadata"in this.payload}}class SA{constructor(e){this.k=e}Hn(e){return da(this.k,e)}Jn(e){return e.metadata.exists?_0(this.k,e.document,!1):Rn.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return Ir(e)}}class xx{constructor(e,t,r){this.mo=e,this.localStore=t,this.k=r,this.queries=[],this.documents=[],this.progress=AA(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}po(e){const t=new Map,r=new SA(this.k);for(const i of e)if(i.metadata.queries){const l=r.Hn(i.metadata.name);for(const h of i.metadata.queries){const m=(t.get(h)||rn()).add(l);t.set(h,m)}}return t}complete(){var e=this;return(0,_e.Z)(function*(){const t=yield function dC(n,e,t,r){return L0.apply(this,arguments)}(e.localStore,new SA(e.k),e.documents,e.mo.id),r=e.po(e.documents);for(const i of e.queries)yield pA(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",new oE(Object.assign({},e.progress),t)})()}}function AA(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class NA{constructor(e){this.key=e}}class OA{constructor(e){this.key=e}}class MA{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=rn(),this.mutatedKeys=rn(),this.Ao=l_(e),this.Ro=new C_(this.Ao)}get bo(){return this.To}Po(e,t){const r=t?t.vo:new IA,i=t?t.Ro:this.Ro;let l=t?t.mutatedKeys:this.mutatedKeys,h=i,m=!1;const v=mp(this.query)&&i.size===this.query.limit?i.last():null,T=_p(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((A,M)=>{const L=i.get(A),V=vp(this.query,M)?M:null,J=!!L&&this.mutatedKeys.has(L.key),ve=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let Re=!1;L&&V?L.data.isEqual(V.data)?J!==ve&&(r.track({type:3,doc:V}),Re=!0):this.Vo(L,V)||(r.track({type:2,doc:V}),Re=!0,(v&&this.Ao(V,v)>0||T&&this.Ao(V,T)<0)&&(m=!0)):!L&&V?(r.track({type:0,doc:V}),Re=!0):L&&!V&&(r.track({type:1,doc:L}),Re=!0,(v||T)&&(m=!0)),Re&&(V?(h=h.add(V),l=ve?l.add(A):l.delete(A)):(h=h.delete(A),l=l.delete(A)))}),mp(this.query)||_p(this.query))for(;h.size>this.query.limit;){const A=mp(this.query)?h.last():h.first();h=h.delete(A.key),l=l.delete(A.key),r.track({type:1,doc:A})}return{Ro:h,vo:r,Bn:m,mutatedKeys:l}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const l=e.vo.no();l.sort((T,A)=>function(M,L){const V=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return st()}};return V(M)-V(L)}(T.type,A.type)||this.Ao(T.doc,A.doc)),this.So(r);const h=t?this.Do():[],m=0===this.Io.size&&this.current?1:0,v=m!==this.Eo;return this.Eo=m,0!==l.length||v?{snapshot:new I_(this.query,e.Ro,i,l,e.mutatedKeys,0===m,v,!1),Co:h}:{Co:h}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new IA,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(t=>this.To=this.To.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.To=this.To.delete(t)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=rn(),this.Ro.forEach(r=>{this.No(r.key)&&(this.Io=this.Io.add(r.key))});const t=[];return e.forEach(r=>{this.Io.has(r)||t.push(new OA(r))}),this.Io.forEach(r=>{e.has(r)||t.push(new NA(r))}),t}ko(e){this.To=e.zn,this.Io=rn();const t=this.Po(e.documents);return this.applyChanges(t,!0)}xo(){return I_.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class Rx{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class kx{constructor(e){this.key=e,this.$o=!1}}class Px{constructor(e,t,r,i,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Oo={},this.Mo=new Cc(m=>OD(m),yp),this.Fo=new Map,this.Lo=new Set,this.Bo=new Gt(tt.comparator),this.Uo=new Map,this.qo=new pE,this.Ko={},this.jo=new Map,this.Qo=Nh.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function Fx(n,e){return PC.apply(this,arguments)}function PC(){return PC=(0,_e.Z)(function*(n,e){const t=iI(n);let r,i;const l=t.Mo.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),i=l.view.xo();else{const h=yield Mh(t.localStore,ao(e)),m=t.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,i=yield FC(t,e,r,"current"===m),t.isPrimaryClient&&xh(t.remoteStore,h)}return i}),PC.apply(this,arguments)}function FC(n,e,t,r){return LC.apply(this,arguments)}function LC(){return LC=(0,_e.Z)(function*(n,e,t,r){n.Go=(A,M,L)=>{return(V=(0,_e.Z)(function*(J,ve,Re,He){let ct=ve.view.Po(Re);ct.Bn&&(ct=yield w_(J.localStore,ve.query,!1).then(({documents:Yt})=>ve.view.Po(Yt,ct)));const Zt=He&&He.targetChanges.get(ve.targetId),Dt=ve.view.applyChanges(ct,J.isPrimaryClient,Zt);return KC(J,ve.targetId,Dt.Co),Dt.snapshot}),function(J,ve,Re,He){return V.apply(this,arguments)})(n,A,M,L);var V};const i=yield w_(n.localStore,e,!0),l=new MA(e,i.zn),h=l.Po(i.documents),m=wc.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),v=l.applyChanges(h,n.isPrimaryClient,m);KC(n,t,v.Co);const T=new Rx(e,t,l);return n.Mo.set(e,T),n.Fo.has(t)?n.Fo.get(t).push(e):n.Fo.set(t,[e]),v.snapshot}),LC.apply(this,arguments)}function Lx(n,e){return VC.apply(this,arguments)}function VC(){return VC=(0,_e.Z)(function*(n,e){const t=Ge(n),r=t.Mo.get(e),i=t.Fo.get(r.targetId);if(i.length>1)return t.Fo.set(r.targetId,i.filter(l=>!yp(l,e))),void t.Mo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield kp(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Nc(t.remoteStore,r.targetId),S_(t,r.targetId)}).catch(lu))):(S_(t,r.targetId),yield kp(t.localStore,r.targetId,!0))}),VC.apply(this,arguments)}function BC(){return BC=(0,_e.Z)(function*(n,e,t){const r=sI(n);try{const i=yield function(l,h){const m=Ge(l),v=gr.now(),T=h.reduce((M,L)=>M.add(L.key),rn());let A;return m.persistence.runTransaction("Locally write mutations","readwrite",M=>m.Wn.vn(M,T).next(L=>{A=L;const V=[];for(const J of h){const ve=VT(J,A.get(J.key));null!=ve&&V.push(new ca(J.key,ve,xT(ve.value.mapValue),Zn.exists(!0)))}return m.An.addMutationBatch(M,v,V,h)})).then(M=>(M.applyToLocalDocumentSet(A),{batchId:M.batchId,changes:A}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,h,m){let v=l.Ko[l.currentUser.toKey()];v||(v=new Gt(Ft)),v=v.insert(h,m),l.Ko[l.currentUser.toKey()]=v}(r,i.batchId,t),yield Oc(r,i.changes),yield D_(r.remoteStore)}catch(i){const l=T_(i,"Failed to persist write");t.reject(l)}}),BC.apply(this,arguments)}function xA(n,e){return UC.apply(this,arguments)}function UC(){return UC=(0,_e.Z)(function*(n,e){const t=Ge(n);try{const r=yield lC(t.localStore,e);e.targetChanges.forEach((i,l)=>{const h=t.Uo.get(l);h&&(yt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?h.$o=!0:i.modifiedDocuments.size>0?yt(h.$o):i.removedDocuments.size>0&&(yt(h.$o),h.$o=!1))}),yield Oc(t,r,e)}catch(r){yield lu(r)}}),UC.apply(this,arguments)}function RA(n,e,t){const r=Ge(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.Mo.forEach((l,h)=>{const m=h.view.ro(e);m.snapshot&&i.push(m.snapshot)}),function(l,h){const m=Ge(l);m.onlineState=h;let v=!1;m.queries.forEach((T,A)=>{for(const M of A.listeners)M.ro(h)&&(v=!0)}),v&&RC(m)}(r.eventManager,e),i.length&&r.Oo.br(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Bx(n,e,t){return jC.apply(this,arguments)}function jC(){return jC=(0,_e.Z)(function*(n,e,t){const r=Ge(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Uo.get(e),l=i&&i.key;if(l){let h=new Gt(tt.comparator);h=h.insert(l,Rn.newNoDocument(l,wt.min()));const m=rn().add(l),v=new ru(wt.min(),new Map,new Yn(Ft),h,m);yield xA(r,v),r.Bo=r.Bo.remove(l),r.Uo.delete(e),qC(r)}else yield kp(r.localStore,e,!1).then(()=>S_(r,e,t)).catch(lu)}),jC.apply(this,arguments)}function Ux(n,e){return HC.apply(this,arguments)}function HC(){return HC=(0,_e.Z)(function*(n,e){const t=Ge(n),r=e.batch.batchId;try{const i=yield uE(t.localStore,e);zC(t,r,null),WC(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Oc(t,i)}catch(i){yield lu(i)}}),HC.apply(this,arguments)}function jx(n,e,t){return GC.apply(this,arguments)}function GC(){return GC=(0,_e.Z)(function*(n,e,t){const r=Ge(n);try{const i=yield function(l,h){const m=Ge(l);return m.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let T;return m.An.lookupMutationBatch(v,h).next(A=>(yt(null!==A),T=A.keys(),m.An.removeMutationBatch(v,A))).next(()=>m.An.performConsistencyCheck(v)).next(()=>m.Wn.vn(v,T))})}(r.localStore,e);zC(r,e,t),WC(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Oc(r,i)}catch(i){yield lu(i)}}),GC.apply(this,arguments)}function $C(){return $C=(0,_e.Z)(function*(n,e){const t=Ge(n);Rh(t.remoteStore)||Fe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const h=Ge(l);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>h.An.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const i=t.jo.get(r)||[];i.push(e),t.jo.set(r,i)}catch(r){const i=T_(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),$C.apply(this,arguments)}function WC(n,e){(n.jo.get(e)||[]).forEach(t=>{t.resolve()}),n.jo.delete(e)}function zC(n,e,t){const r=Ge(n);let i=r.Ko[r.currentUser.toKey()];if(i){const l=i.get(e);l&&(t?l.reject(t):l.resolve(),i=i.remove(e)),r.Ko[r.currentUser.toKey()]=i}}function S_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Fo.get(e))n.Mo.delete(r),t&&n.Oo.zo(r,t);n.Fo.delete(e),n.isPrimaryClient&&n.qo.us(e).forEach(r=>{n.qo.containsKey(r)||kA(n,r)})}function kA(n,e){n.Lo.delete(e.path.canonicalString());const t=n.Bo.get(e);null!==t&&(Nc(n.remoteStore,t),n.Bo=n.Bo.remove(e),n.Uo.delete(t),qC(n))}function KC(n,e,t){for(const r of t)r instanceof NA?(n.qo.addReference(r.key,e),Gx(n,r)):r instanceof OA?(Fe("SyncEngine","Document no longer in limbo: "+r.key),n.qo.removeReference(r.key,e),n.qo.containsKey(r.key)||kA(n,r.key)):st()}function Gx(n,e){const t=e.key,r=t.path.canonicalString();n.Bo.get(t)||n.Lo.has(r)||(Fe("SyncEngine","New document in limbo: "+t),n.Lo.add(r),qC(n))}function qC(n){for(;n.Lo.size>0&&n.Bo.size<n.maxConcurrentLimboResolutions;){const e=n.Lo.values().next().value;n.Lo.delete(e);const t=new tt(nn.fromString(e)),r=n.Qo.next();n.Uo.set(r,new kx(t)),n.Bo=n.Bo.insert(t,r),xh(n.remoteStore,new ou(ao(yc(t.path)),r,2,Ms.I))}}function Oc(n,e,t){return ZC.apply(this,arguments)}function ZC(){return ZC=(0,_e.Z)(function*(n,e,t){const r=Ge(n),i=[],l=[],h=[];var m;r.Mo.isEmpty()||(r.Mo.forEach((m,v)=>{h.push(r.Go(v,e,t).then(T=>{if(T){r.isPrimaryClient&&r.sharedClientState.updateQueryState(v.targetId,T.fromCache?"not-current":"current"),i.push(T);const A=b_.$n(v.targetId,T);l.push(A)}}))}),yield Promise.all(h),r.Oo.br(i),yield(m=(0,_e.Z)(function*(v,T){const A=Ge(v);try{yield A.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>Se.forEach(T,L=>Se.forEach(L.kn,V=>A.persistence.referenceDelegate.addReference(M,L.targetId,V)).next(()=>Se.forEach(L.xn,V=>A.persistence.referenceDelegate.removeReference(M,L.targetId,V)))))}catch(M){if(!su(M))throw M;Fe("LocalStore","Failed to update sequence numbers: "+M)}for(const M of T){const L=M.targetId;if(!M.fromCache){const V=A.qn.get(L),ve=V.withLastLimboFreeSnapshotVersion(V.snapshotVersion);A.qn=A.qn.insert(L,ve)}}}),function(v,T){return m.apply(this,arguments)})(r.localStore,l))}),ZC.apply(this,arguments)}function $x(n,e){return YC.apply(this,arguments)}function YC(){return YC=(0,_e.Z)(function*(n,e){const t=Ge(n);if(!t.currentUser.isEqual(e)){Fe("SyncEngine","User change. New user:",e.toKey());const r=yield xp(t.localStore,e);t.currentUser=e,(i=t).jo.forEach(h=>{h.forEach(m=>{m.reject(new Ne(he.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.jo.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Oc(t,r.Gn)}var i}),YC.apply(this,arguments)}function Wx(n,e){const t=Ge(n),r=t.Uo.get(e);if(r&&r.$o)return rn().add(r.key);{let i=rn();const l=t.Fo.get(e);if(!l)return i;for(const h of l){const m=t.Mo.get(h);i=i.unionWith(m.view.bo)}return i}}function zx(n,e){return JC.apply(this,arguments)}function JC(){return JC=(0,_e.Z)(function*(n,e){const t=Ge(n),r=yield w_(t.localStore,e.query,!0),i=e.view.ko(r);return t.isPrimaryClient&&KC(t,e.targetId,i.Co),i}),JC.apply(this,arguments)}function Kx(n){return QC.apply(this,arguments)}function QC(){return QC=(0,_e.Z)(function*(n){const e=Ge(n);return hE(e.localStore).then(t=>Oc(e,t))}),QC.apply(this,arguments)}function qx(n,e,t,r){return XC.apply(this,arguments)}function XC(){return XC=(0,_e.Z)(function*(n,e,t,r){const i=Ge(n),l=yield function(h,m){const v=Ge(h),T=Ge(v.An);return v.persistence.runTransaction("Lookup mutation documents","readonly",A=>T.Zt(A,m).next(M=>M?v.Wn.vn(A,M):Se.resolve(null)))}(i.localStore,e);var m;null!==l?("pending"===t?yield D_(i.remoteStore):"acknowledged"===t||"rejected"===t?(zC(i,e,r||null),WC(i,e),m=e,Ge(Ge(i.localStore).An).ee(m)):st(),yield Oc(i,l)):Fe("SyncEngine","Cannot apply mutation batch with id: "+e)}),XC.apply(this,arguments)}function eI(){return eI=(0,_e.Z)(function*(n,e){const t=Ge(n);if(iI(t),sI(t),!0===e&&!0!==t.Wo){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield PA(t,r.toArray());t.Wo=!0,yield IC(t.remoteStore,!0);for(const l of i)xh(t.remoteStore,l)}else if(!1===e&&!1!==t.Wo){const r=[];let i=Promise.resolve();t.Fo.forEach((l,h)=>{t.sharedClientState.isLocalQueryTarget(h)?r.push(h):i=i.then(()=>(S_(t,h),kp(t.localStore,h,!0))),Nc(t.remoteStore,h)}),yield i,yield PA(t,r),function(l){const h=Ge(l);h.Uo.forEach((m,v)=>{Nc(h.remoteStore,v)}),h.qo.hs(),h.Uo=new Map,h.Bo=new Gt(tt.comparator)}(t),t.Wo=!1,yield IC(t.remoteStore,!1)}}),eI.apply(this,arguments)}function PA(n,e,t){return tI.apply(this,arguments)}function tI(){return tI=(0,_e.Z)(function*(n,e,t){const r=Ge(n),i=[],l=[];for(const h of e){let m;const v=r.Fo.get(h);if(v&&0!==v.length){m=yield Mh(r.localStore,ao(v[0]));for(const T of v){const A=r.Mo.get(T),M=yield zx(r,A);M.snapshot&&l.push(M.snapshot)}}else{const T=yield dE(r.localStore,h);m=yield Mh(r.localStore,T),yield FC(r,FA(T),h,!1)}i.push(m)}return r.Oo.br(l),i}),tI.apply(this,arguments)}function FA(n){return Hv(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Yx(n){const e=Ge(n);return Ge(Ge(e.localStore).persistence).Tn()}function Jx(n,e,t,r){return nI.apply(this,arguments)}function nI(){return nI=(0,_e.Z)(function*(n,e,t,r){const i=Ge(n);if(i.Wo)Fe("SyncEngine","Ignoring unexpected query state notification.");else if(i.Fo.has(e))switch(t){case"current":case"not-current":{const l=yield hE(i.localStore),h=ru.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Oc(i,l,h);break}case"rejected":yield kp(i.localStore,e,!0),S_(i,e,r);break;default:st()}}),nI.apply(this,arguments)}function Qx(n,e,t){return rI.apply(this,arguments)}function rI(){return rI=(0,_e.Z)(function*(n,e,t){const r=iI(n);if(r.Wo){for(const i of e){if(r.Fo.has(i)){Fe("SyncEngine","Adding an already active target "+i);continue}const l=yield dE(r.localStore,i),h=yield Mh(r.localStore,l);yield FC(r,FA(l),h.targetId,!1),xh(r.remoteStore,h)}for(const i of t)r.Fo.has(i)&&(yield kp(r.localStore,i,!1).then(()=>{Nc(r.remoteStore,i),S_(r,i)}).catch(lu))}}),rI.apply(this,arguments)}function iI(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=xA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Bx.bind(null,e),e.Oo.br=Nx.bind(null,e.eventManager),e.Oo.zo=Ox.bind(null,e.eventManager),e}function sI(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ux.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jx.bind(null,e),e}class LA{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,_e.Z)(function*(){t.k=rt(e.databaseInfo.databaseId),t.sharedClientState=t.Jo(e),t.persistence=t.Yo(e),yield t.persistence.start(),t.gcScheduler=t.Xo(e),t.localStore=t.Zo(e)})()}Xo(e){return null}Zo(e){return k0(this.persistence,new aE,e.initialUser,this.k)}Yo(e){return new vA(o.ks,this.k)}Jo(e){return new P}terminate(){var e=this;return(0,_e.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class VA extends LA{constructor(e,t,r){super(),this.tc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,_e.Z)(function*(){yield t().call(r,e),yield function cC(n){return F0.apply(this,arguments)}(r.localStore),yield r.tc.initialize(r,e),yield sI(r.tc.syncEngine),yield D_(r.tc.remoteStore),yield r.persistence.sn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Zo(e){return k0(this.persistence,new aE,e.initialUser,this.k)}Xo(e){return new S0(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Yo(e){const t=x0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Ri.withCacheSize(this.cacheSizeBytes):Ri.DEFAULT;return new M0(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Ze(),Ee(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new P}}class eR extends VA{constructor(e,t){super(e,t,!1),this.tc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,_e.Z)(function*(){yield t().call(r,e);const i=r.tc.syncEngine;r.sharedClientState instanceof N&&(r.sharedClientState.syncEngine={mi:qx.bind(null,i),gi:Jx.bind(null,i),yi:Qx.bind(null,i),Tn:Yx.bind(null,i),_i:Kx.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.sn(function(){var l=(0,_e.Z)(function*(h){yield function Zx(n,e){return eI.apply(this,arguments)}(r.tc.syncEngine,h),r.gcScheduler&&(h&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):h||r.gcScheduler.stop())});return function(h){return l.apply(this,arguments)}}())})()}Jo(e){const t=Ze();if(!N.Pt(t))throw new Ne(he.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=x0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new N(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class oI{initialize(e,t){var r=this;return(0,_e.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>RA(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=$x.bind(null,r.syncEngine),yield IC(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Ax}createDatastore(e){const t=rt(e.databaseInfo.databaseId),r=new je(e.databaseInfo);return new V0(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,l=m=>RA(this.syncEngine,m,0),h=Z.Pt()?new Z:new H,new U0(t,r,i,l,h);var t,r,i,l,h}createSyncEngine(e,t){return function(r,i,l,h,m,v,T){const A=new Px(r,i,l,h,m,v);return T&&(A.Wo=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,_e.Z)(function*(t){const r=Ge(t);Fe("RemoteStore","RemoteStore shutting down."),r.Gr.add(5),yield uu(r),r.Hr.shutdown(),r.Jr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function BA(n,e=10240){let t=0;return{read:()=>(0,_e.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,_e.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class mE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ec(this.observer.next,e)}error(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}nc(){this.muted=!0}ec(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class tR{constructor(e,t){this.sc=e,this.k=t,this.metadata=new Hr,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then(r=>{r&&r._o()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.sc.cancel()}getMetadata(){var e=this;return(0,_e.Z)(function*(){return e.metadata.promise})()}Ho(){var e=this;return(0,_e.Z)(function*(){return yield e.getMetadata(),e.rc()})()}rc(){var e=this;return(0,_e.Z)(function*(){const t=yield e.oc();if(null===t)return null;const r=e.ic.decode(t),i=Number(r);isNaN(i)&&e.cc(`length string (${r}) is not valid number`);const l=yield e.ac(i);return new Mx(JSON.parse(l),t.length+i)})()}uc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}oc(){var e=this;return(0,_e.Z)(function*(){for(;e.uc()<0&&!(yield e.hc()););if(0===e.buffer.length)return null;const t=e.uc();t<0&&e.cc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ac(e){var t=this;return(0,_e.Z)(function*(){for(;t.buffer.length<e;)(yield t.hc())&&t.cc("Reached the end of bundle when more is expected.");const r=t.ic.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}cc(e){throw this.sc.cancel(),new Error(`Invalid bundle format: ${e}`)}hc(){var e=this;return(0,_e.Z)(function*(){const t=yield e.sc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class nR{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,_e.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ne(he.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,_e.Z)(function*(l,h){const m=Ge(l),v=Ip(m.k)+"/documents",T={documents:h.map(V=>wh(m.k,V))},A=yield m.ji("BatchGetDocuments",v,T),M=new Map;A.forEach(V=>{const J=function $D(n,e){return"found"in e?function(t,r){yt(!!r.found);const i=da(t,r.found.name),l=Ir(r.found.updateTime),h=new wi({mapValue:{fields:r.found.fields}});return Rn.newFoundDocument(i,l,h)}(n,e):"missing"in e?function(t,r){yt(!!r.missing),yt(!!r.readTime);const i=da(t,r.missing),l=Ir(r.readTime);return Rn.newNoDocument(i,l)}(n,e):st()}(m.k,V);M.set(J.key.toString(),J)});const L=[];return h.forEach(V=>{const J=M.get(V.toString());yt(!!J),L.push(J)}),L}),function(l,h){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new bh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,_e.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const l=tt.fromPath(i);e.mutations.push(new Xv(l,e.precondition(l)))}),yield(r=(0,_e.Z)(function*(i,l){const h=Ge(i),m=Ip(h.k)+"/documents",v={writes:l.map(T=>h_(h.k,T))};yield h.Bi("Commit",m,v)}),function(i,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw st();t=wt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ne(he.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Zn.updateTime(t):Zn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(wt.min()))throw new Ne(he.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Zn.updateTime(t)}return Zn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class rR{constructor(e,t,r,i){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=i,this.lc=5,this.ur=new xt(this.asyncQueue,"transaction_retry")}run(){this.lc-=1,this.fc()}fc(){var e=this;this.ur.Zi((0,_e.Z)(function*(){const t=new nR(e.datastore),r=e.dc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(l=>{e.wc(l)}))}).catch(i=>{e.wc(i)})}))}dc(e){try{const t=this.updateFunction(e);return!ch(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}wc(e){this.lc>0&&this._c(e)?(this.lc-=1,this.asyncQueue.enqueueAndForget(()=>(this.fc(),Promise.resolve()))):this.deferred.reject(e)}_c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!e0(t)}return!1}}class iR{constructor(e,t,r,i){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=jr.UNAUTHENTICATED,this.clientId=Uv.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var h=(0,_e.Z)(function*(m){Fe("FirestoreClient","Received user=",m.uid),yield l.authCredentialListener(m),l.user=m});return function(m){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(r,h=>(Fe("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}getConfiguration(){var e=this;return(0,_e.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ne(he.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=T_(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function UA(n,e){return aI.apply(this,arguments)}function aI(){return aI=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,_e.Z)(function*(l){r.isEqual(l)||(yield xp(e.localStore,l),r=l)});return function(l){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),aI.apply(this,arguments)}function jA(n,e){return lI.apply(this,arguments)}function lI(){return lI=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield uI(n);Fe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>CA(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,l)=>CA(e.remoteStore,l)),n.onlineComponents=e}),lI.apply(this,arguments)}function uI(n){return cI.apply(this,arguments)}function cI(){return cI=(0,_e.Z)(function*(n){return n.offlineComponents||(Fe("FirestoreClient","Using default OfflineComponentProvider"),yield UA(n,new LA)),n.offlineComponents}),cI.apply(this,arguments)}function _E(n){return dI.apply(this,arguments)}function dI(){return dI=(0,_e.Z)(function*(n){return n.onlineComponents||(Fe("FirestoreClient","Using default OnlineComponentProvider"),yield jA(n,new oI)),n.onlineComponents}),dI.apply(this,arguments)}function HA(n){return uI(n).then(e=>e.persistence)}function hI(n){return uI(n).then(e=>e.localStore)}function GA(n){return _E(n).then(e=>e.remoteStore)}function fI(n){return _E(n).then(e=>e.syncEngine)}function A_(n){return pI.apply(this,arguments)}function pI(){return pI=(0,_e.Z)(function*(n){const e=yield _E(n),t=e.eventManager;return t.onListen=Fx.bind(null,e.syncEngine),t.onUnlisten=Lx.bind(null,e.syncEngine),t}),pI.apply(this,arguments)}function $A(n,e,t={}){const r=new Hr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(i,l,h,m,v){const T=new mE({next:M=>{l.enqueueAndForget(()=>MC(i,A));const L=M.docs.has(h);!L&&M.fromCache?v.reject(new Ne(he.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&M.fromCache&&m&&"server"===m.source?v.reject(new Ne(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(M)},error:M=>v.reject(M)}),A=new kC(yc(h.path),T,{includeMetadataChanges:!0,wo:!0});return NC(i,A)}(yield A_(n),n.asyncQueue,e,t,r)})),r.promise}function WA(n,e,t={}){const r=new Hr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(i,l,h,m,v){const T=new mE({next:M=>{l.enqueueAndForget(()=>MC(i,A)),M.fromCache&&"server"===m.source?v.reject(new Ne(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(M)},error:M=>v.reject(M)}),A=new kC(h,T,{includeMetadataChanges:!0,wo:!0});return NC(i,A)}(yield A_(n),n.asyncQueue,e,t,r)})),r.promise}class fR{constructor(e,t,r,i,l,h,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.useFetchStreams=v}}class N_{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof N_&&e.projectId===this.projectId&&e.database===this.database}}const zA=new Map;function gI(n,e,t){if(!t)throw new Ne(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function KA(n,e,t,r){if(!0===e&&!0===r)throw new Ne(he.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function qA(n){if(!tt.isDocumentKey(n))throw new Ne(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ZA(n){if(tt.isDocumentKey(n))throw new Ne(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function yE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":st()}function $t(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ne(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=yE(n);throw new Ne(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function YA(n,e){if(e<=0)throw new Ne(he.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class JA{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ne(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ne(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,KA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class j0{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JA({}),this._settingsFrozen=!1,e instanceof N_?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Ne(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new N_(i.options.projectId)}(e))}get app(){if(!this._app)throw new Ne(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ne(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JA(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new CT;switch(t.type){case"gapi":const r=t.client;return yt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new NT(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ne(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=zA.get(e);t&&(Fe("ComponentProvider","Removing Datastore"),zA.delete(e),t.terminate())}(this),Promise.resolve()}}class Vn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vn(this.firestore,e,this._key)}}class es{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new es(this.firestore,e,this._query)}}class cu extends es{constructor(e,t,r){super(e,t,yc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vn(this.firestore,null,new tt(e))}withConverter(e){return new cu(this.firestore,e,this._path)}}function QA(n,e,...t){if(n=(0,Mt.m9)(n),gI("collection","path",e),n instanceof j0){const r=nn.fromString(e,...t);return ZA(r),new cu(n,null,r)}{if(!(n instanceof Vn||n instanceof cu))throw new Ne(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(nn.fromString(e,...t));return ZA(r),new cu(n.firestore,null,r)}}function vE(n,e,...t){if(n=(0,Mt.m9)(n),1===arguments.length&&(e=Uv.A()),gI("doc","path",e),n instanceof j0){const r=nn.fromString(e,...t);return qA(r),new Vn(n,null,new tt(r))}{if(!(n instanceof Vn||n instanceof cu))throw new Ne(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(nn.fromString(e,...t));return qA(r),new Vn(n.firestore,n instanceof cu?n.converter:null,new tt(r))}}function XA(n,e){return n=(0,Mt.m9)(n),e=(0,Mt.m9)(e),(n instanceof Vn||n instanceof cu)&&(e instanceof Vn||e instanceof cu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function eN(n,e){return n=(0,Mt.m9)(n),e=(0,Mt.m9)(e),n instanceof es&&e instanceof es&&n.firestore===e.firestore&&yp(n._query,e._query)&&n.converter===e.converter}class mR{constructor(){this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new xt(this,"async_queue_retry"),this.bc=()=>{const t=Ee();t&&Fe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ur.er()};const e=Ee();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}get isShuttingDown(){return this.yc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pc(),this.vc(e)}enterRestrictedMode(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;const t=Ee();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}}enqueue(e){if(this.Pc(),this.yc)return new Promise(()=>{});const t=new Hr;return this.vc(()=>this.yc&&this.Ac?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.gc.push(e),this.Vc()))}Vc(){var e=this;return(0,_e.Z)(function*(){if(0!==e.gc.length){try{yield e.gc[0](),e.gc.shift(),e.ur.reset()}catch(t){if(!su(t))throw t;Fe("AsyncQueue","Operation failed with retryable error: "+t)}e.gc.length>0&&e.ur.Zi(()=>e.Vc())}})()}vc(e){const t=this.mc.then(()=>(this.Ic=!0,e().catch(r=>{throw this.Ec=r,this.Ic=!1,ar("INTERNAL UNHANDLED ERROR: ",function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),h}(r)),r}).then(r=>(this.Ic=!1,r))));return this.mc=t,t}enqueueAfterDelay(e,t,r){this.Pc(),this.Rc.indexOf(e)>-1&&(t=0);const i=AC.createAndSchedule(this,e,t,r,l=>this.Sc(l));return this.Tc.push(i),i}Pc(){this.Ec&&st()}verifyOperationInProgress(){}Dc(){var e=this;return(0,_e.Z)(function*(){let t;do{t=e.mc,yield t}while(t!==e.mc)})()}Cc(e){for(const t of this.Tc)if(t.timerId===e)return!0;return!1}Nc(e){return this.Dc().then(()=>{this.Tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Dc()})}kc(e){this.Rc.push(e)}Sc(e){const t=this.Tc.indexOf(e);this.Tc.splice(t,1)}}function mI(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class _R{constructor(){this._progressObserver={},this._taskCompletionResolver=new Hr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Qn extends j0{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new mR,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||tN(this),this._firestoreClient.terminate()}}function $r(n){return n._firestoreClient||tN(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function tN(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new fR(n._databaseId,l,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var l,m;n._firestoreClient=new iR(n._authCredentials,n._appCheckCredentials,n._queue,r)}function nN(n,e,t){const r=new Hr;return n.asyncQueue.enqueue((0,_e.Z)(function*(){try{yield UA(n,t),yield jA(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(l=i).name?l.code===he.FAILED_PRECONDITION||l.code===he.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var l})).then(()=>r.promise)}function rN(n){if(n._initialized||n._terminated)throw new Ne(he.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Mc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ne(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new si(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class du{constructor(e){this._byteString=e}static fromBase64String(e){try{return new du(mr.fromBase64String(e))}catch(t){throw new Ne(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new du(mr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Lp{constructor(e){this._methodName=e}}class bE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ne(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ne(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ft(this._lat,e._lat)||Ft(this._long,e._long)}}const SR=/^__.*__$/;class AR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new ca(e,this.data,this.fieldMask,t,this.fieldTransforms):new vh(e,this.data,t,this.fieldTransforms)}}class iN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ca(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function sN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw st()}}class wE{constructor(e,t,r,i,l,h){this.settings=e,this.databaseId=t,this.k=r,this.ignoreUndefinedProperties=i,void 0===l&&this.xc(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get $c(){return this.settings.$c}Oc(e){return new wE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Oc({path:r,Fc:!1});return i.Lc(e),i}Bc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Oc({path:r,Fc:!1});return i.xc(),i}Uc(e){return this.Oc({path:void 0,Fc:!0})}qc(e){return TE(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}Lc(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(sN(this.$c)&&SR.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}class NR{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=r||rt(e)}Qc(e,t,r,i=!1){return new wE({$c:e,methodName:t,jc:r,path:si.emptyPath(),Fc:!1,Kc:i},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function Vp(n){const e=n._freezeSettings(),t=rt(n._databaseId);return new NR(n._databaseId,!!e.ignoreUndefinedProperties,t)}function DE(n,e,t,r,i,l={}){const h=n.Qc(l.merge||l.mergeFields?2:0,e,t,i);bI("Data must be an object, but it was:",h,r);const m=lN(r,h);let v,T;if(l.merge)v=new hc(h.fieldMask),T=h.fieldTransforms;else if(l.mergeFields){const A=[];for(const M of l.mergeFields){const L=wI(e,M,t);if(!h.contains(L))throw new Ne(he.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);cN(A,L)||A.push(L)}v=new hc(A),T=h.fieldTransforms.filter(M=>v.covers(M.field))}else v=null,T=h.fieldTransforms;return new AR(new wi(m),v,T)}class H0 extends Lp{_toFieldTransform(e){if(2!==e.$c)throw e.qc(1===e.$c?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof H0}}function oN(n,e,t){return new wE({$c:3,jc:e.settings.jc,methodName:n._methodName,Fc:t},e.databaseId,e.k,e.ignoreUndefinedProperties)}class _I extends Lp{_toFieldTransform(e){return new wp(e.path,new ol)}isEqual(e){return e instanceof _I}}class OR extends Lp{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=oN(this,e,!0),r=this.Wc.map(l=>Bp(l,t)),i=new bc(r);return new wp(e.path,i)}isEqual(e){return this===e}}class MR extends Lp{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=oN(this,e,!0),r=this.Wc.map(l=>Bp(l,t)),i=new tu(r);return new wp(e.path,i)}isEqual(e){return this===e}}class xR extends Lp{constructor(e,t){super(e),this.Gc=t}_toFieldTransform(e){const t=new nu(e.k,_h(e.k,this.Gc));return new wp(e.path,t)}isEqual(e){return this===e}}function yI(n,e,t,r){const i=n.Qc(1,e,t);bI("Data must be an object, but it was:",i,r);const l=[],h=wi.empty();cc(r,(v,T)=>{const A=EE(e,v,t);T=(0,Mt.m9)(T);const M=i.Bc(A);if(T instanceof H0)l.push(A);else{const L=Bp(T,M);null!=L&&(l.push(A),h.set(A,L))}});const m=new hc(l);return new iN(h,m,i.fieldTransforms)}function vI(n,e,t,r,i,l){const h=n.Qc(1,e,t),m=[wI(e,r,t)],v=[i];if(l.length%2!=0)throw new Ne(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let L=0;L<l.length;L+=2)m.push(wI(e,l[L])),v.push(l[L+1]);const T=[],A=wi.empty();for(let L=m.length-1;L>=0;--L)if(!cN(T,m[L])){const V=m[L];let J=v[L];J=(0,Mt.m9)(J);const ve=h.Bc(V);if(J instanceof H0)T.push(V);else{const Re=Bp(J,ve);null!=Re&&(T.push(V),A.set(V,Re))}}const M=new hc(T);return new iN(A,M,h.fieldTransforms)}function aN(n,e,t,r=!1){return Bp(t,n.Qc(r?4:3,e))}function Bp(n,e){if(uN(n=(0,Mt.m9)(n)))return bI("Unsupported field value:",e,n),lN(n,e);if(n instanceof Lp)return function(t,r){if(!sN(r.$c))throw r.qc(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.qc(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Fc&&4!==e.$c)throw e.qc("Nested arrays are not supported");return function(t,r){const i=[];let l=0;for(const h of t){let m=Bp(h,r.Uc(l));null==m&&(m={nullValue:"NULL_VALUE"}),i.push(m),l++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Mt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return _h(r.k,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=gr.fromDate(t);return{timestampValue:Cp(r.k,i)}}if(t instanceof gr){const i=new gr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Cp(r.k,i)}}if(t instanceof bE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof du)return{bytesValue:HD(r.k,t._byteString)};if(t instanceof Vn){const i=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(i))throw r.qc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:d0(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.qc(`Unsupported field value: ${yE(t)}`)}(n,e)}function lN(n,e){const t={};return _D(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cc(n,(r,i)=>{const l=Bp(i,e.Mc(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function uN(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof gr||n instanceof bE||n instanceof du||n instanceof Vn||n instanceof Lp)}function bI(n,e,t){if(!uN(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=yE(t);throw e.qc("an object"===r?n+" a custom object":n+" "+r)}var r}function wI(n,e,t){if((e=(0,Mt.m9)(e))instanceof Mc)return e._internalPath;if("string"==typeof e)return EE(n,e);throw TE("Field path arguments must be of type string or ",n,!1,void 0,t)}const RR=new RegExp("[~\\*/\\[\\]]");function EE(n,e,t){if(e.search(RR)>=0)throw TE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Mc(...e.split("."))._internalPath}catch(r){throw TE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function TE(n,e,t,r,i){const l=r&&!r.isEmpty(),h=void 0!==i;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let v="";return(l||h)&&(v+=" (found",l&&(v+=` in field ${r}`),h&&(v+=` in document ${i}`),v+=")"),new Ne(he.INVALID_ARGUMENT,m+n+v)}function cN(n,e){return n.some(t=>t.isEqual(e))}class G0{constructor(e,t,r,i,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Vn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new kR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(CE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class kR extends G0{data(){return super.data()}}function CE(n,e){return"string"==typeof e?EE(n,e):e instanceof Mc?e._internalPath:e._delegate._internalPath}class Up{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xc extends G0{constructor(e,t,r,i,l,h){super(e,t,r,i,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new $0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(CE("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class $0 extends xc{data(e={}){return super.data(e)}}class Ph{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Up(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new $0(this._firestore,this._userDataWriter,r.key,r,new Up(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ne(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(h=>({type:"added",doc:new $0(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Up(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>i||3!==h.type).map(h=>{const m=new $0(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Up(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let v=-1,T=-1;return 0!==h.type&&(v=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),1!==h.type&&(l=l.add(h.doc),T=l.indexOf(h.doc.key)),{type:PR(h.type),doc:m,oldIndex:v,newIndex:T}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function PR(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return st()}}function dN(n,e){return n instanceof xc&&e instanceof xc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Ph&&e instanceof Ph&&n._firestore===e._firestore&&eN(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function hN(n){if(_p(n)&&0===n.explicitOrderBy.length)throw new Ne(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class W0{}function Fh(n,...e){for(const t of e)n=t._apply(n);return n}class FR extends W0{constructor(e,t,r){super(),this.zc=e,this.Hc=t,this.Jc=r,this.type="where"}_apply(e){const t=Vp(e.firestore),r=function(i,l,h,m,v,T,A){let M;if(v.isKeyField()){if("array-contains"===T||"array-contains-any"===T)throw new Ne(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if("in"===T||"not-in"===T){yN(A,T);const V=[];for(const J of A)V.push(_N(m,i,J));M={arrayValue:{values:V}}}else M=_N(m,i,A)}else"in"!==T&&"not-in"!==T&&"array-contains-any"!==T||yN(A,T),M=aN(h,"where",A,"in"===T||"not-in"===T);const L=Mi.create(v,T,M);return function(V,J){if(J.V()){const Re=Gv(V);if(null!==Re&&!Re.isEqual(J.field))throw new Ne(he.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Re.toString()}' and '${J.field.toString()}'`);const He=a_(V);null!==He&&vN(0,J.field,He)}const ve=function(Re,He){for(const ct of Re.filters)if(He.indexOf(ct.op)>=0)return ct.op;return null}(V,function(Re){switch(Re){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(J.op));if(null!==ve)throw new Ne(he.INVALID_ARGUMENT,ve===J.op?`Invalid query. You cannot use more than one '${J.op.toString()}' filter.`:`Invalid query. You cannot use '${J.op.toString()}' filters with '${ve.toString()}' filters.`)}(i,L),L}(e._query,0,t,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new es(e.firestore,e.converter,function(i,l){const h=i.filters.concat([l]);return new xs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),h,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class VR extends W0{constructor(e,t){super(),this.zc=e,this.Yc=t,this.type="orderBy"}_apply(e){const t=function(r,i,l){if(null!==r.startAt)throw new Ne(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ne(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new gh(i,l);return function(m,v){if(null===a_(m)){const T=Gv(m);null!==T&&vN(0,T,v.field)}}(r,h),h}(e._query,this.zc,this.Yc);return new es(e.firestore,e.converter,function(r,i){const l=r.explicitOrderBy.concat([i]);return new xs(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class fN extends W0{constructor(e,t,r){super(),this.type=e,this.Xc=t,this.Zc=r}_apply(e){return new es(e.firestore,e.converter,ND(e._query,this.Xc,this.Zc))}}class pN extends W0{constructor(e,t,r){super(),this.type=e,this.ta=t,this.ea=r}_apply(e){const t=mN(e,this.type,this.ta,this.ea);return new es(e.firestore,e.converter,(i=t,new xs((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class gN extends W0{constructor(e,t,r){super(),this.type=e,this.ta=t,this.ea=r}_apply(e){const t=mN(e,this.type,this.ta,this.ea);return new es(e.firestore,e.converter,(i=t,new xs((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function mN(n,e,t,r){if(t[0]=(0,Mt.m9)(t[0]),t[0]instanceof G0)return function(i,l,h,m,v){if(!m)throw new Ne(he.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const T=[];for(const A of mh(i))if(A.field.isKeyField())T.push(t_(l,m.key));else{const M=m.data.field(A.field);if(eu(M))throw new Ne(he.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+A.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const L=A.field.canonicalString();throw new Ne(he.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${L}' (used as the orderBy) does not exist.`)}T.push(M)}return new gp(T,v)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Vp(n.firestore);return function(l,h,m,v,T,A){const M=l.explicitOrderBy;if(T.length>M.length)throw new Ne(he.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const L=[];for(let V=0;V<T.length;V++){const J=T[V];if(M[V].field.isKeyField()){if("string"!=typeof J)throw new Ne(he.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof J}`);if(!$v(l)&&-1!==J.indexOf("/"))throw new Ne(he.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${J}' contains a slash.`);const ve=l.path.child(nn.fromString(J));if(!tt.isDocumentKey(ve))throw new Ne(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${ve}' is not because it contains an odd number of segments.`);const Re=new tt(ve);L.push(t_(h,Re))}else{const ve=aN(m,v,J);L.push(ve)}}return new gp(L,A)}(n._query,n.firestore._databaseId,i,e,t,r)}}function _N(n,e,t){if("string"==typeof(t=(0,Mt.m9)(t))){if(""===t)throw new Ne(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$v(e)&&-1!==t.indexOf("/"))throw new Ne(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(nn.fromString(t));if(!tt.isDocumentKey(r))throw new Ne(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return t_(n,new tt(r))}if(t instanceof Vn)return t_(n,t._key);throw new Ne(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yE(t)}.`)}function yN(n,e){if(!Array.isArray(n)||0===n.length)throw new Ne(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ne(he.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function vN(n,e,t){if(!t.isEqual(e))throw new Ne(he.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class DI{convertValue(e,t="none"){switch(fc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(lh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw st()}}convertObject(e,t){const r={};return cc(e.fields,(i,l)=>{r[i]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new bE(xn(e.latitude),xn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=uh(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(hp(e));default:return null}}convertTimestamp(e){const t=Xl(e);return new gr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=nn.fromString(e);yt(KD(r));const i=new N_(r.get(1),r.get(3)),l=new tt(r.popFirst(5));return i.isEqual(t)||ar(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function IE(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class zR extends DI{constructor(e){super(),this.firestore=e}convertBytes(e){return new du(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vn(this.firestore,null,t)}}class bN{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Vp(e)}set(e,t,r){this._verifyNotCommitted();const i=Lh(e,this._firestore),l=IE(i.converter,t,r),h=DE(this._dataReader,"WriteBatch.set",i._key,l,null!==i.converter,r);return this._mutations.push(h.toMutation(i._key,Zn.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const l=Lh(e,this._firestore);let h;return h="string"==typeof(t=(0,Mt.m9)(t))||t instanceof Mc?vI(this._dataReader,"WriteBatch.update",l._key,t,r,i):yI(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(h.toMutation(l._key,Zn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Lh(e,this._firestore);return this._mutations=this._mutations.concat(new bh(t._key,Zn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ne(he.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Lh(n,e){if((n=(0,Mt.m9)(n)).firestore!==e)throw new Ne(he.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class jp extends DI{constructor(e){super(),this.firestore=e}convertBytes(e){return new du(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vn(this.firestore,null,t)}}function wN(n,e,t){n=$t(n,Vn);const r=$t(n.firestore,Qn),i=IE(n.converter,e,t);return O_(r,[DE(Vp(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Zn.none())])}function DN(n,e,t,...r){n=$t(n,Vn);const i=$t(n.firestore,Qn),l=Vp(i);let h;return h="string"==typeof(e=(0,Mt.m9)(e))||e instanceof Mc?vI(l,"updateDoc",n._key,e,t,r):yI(l,"updateDoc",n._key,e),O_(i,[h.toMutation(n._key,Zn.exists(!0))])}function EN(n,...e){var t,r,i;n=(0,Mt.m9)(n);let l={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||mI(e[h])||(l=e[h],h++);const m={includeMetadataChanges:l.includeMetadataChanges};if(mI(e[h])){const M=e[h];e[h]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[h+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),e[h+2]=null===(i=M.complete)||void 0===i?void 0:i.bind(M)}let v,T,A;if(n instanceof Vn)T=$t(n.firestore,Qn),A=yc(n._key.path),v={next:M=>{e[h]&&e[h](EI(T,n,M))},error:e[h+1],complete:e[h+2]};else{const M=$t(n,es);T=$t(M.firestore,Qn),A=M._query;const L=new jp(T);v={next:V=>{e[h]&&e[h](new Ph(T,L,M,V))},error:e[h+1],complete:e[h+2]},hN(n._query)}return function(M,L,V,J){const ve=new mE(J),Re=new kC(L,ve,V);return M.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return NC(yield A_(M),Re)})),()=>{ve.nc(),M.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return MC(yield A_(M),Re)}))}}($r(T),A,m,v)}function O_(n,e){return function(t,r){const i=new Hr;return t.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function Vx(n,e,t){return BC.apply(this,arguments)}(yield fI(t),r,i)})),i.promise}($r(n),e)}function EI(n,e,t){const r=t.docs.get(e._key),i=new jp(n);return new xc(n,i,e._key,r,new Up(t.hasPendingWrites,t.fromCache),e.converter)}class nk extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Vp(e)}get(e){const t=Lh(e,this._firestore),r=new zR(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return st();const l=i[0];if(l.isFoundDocument())return new G0(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new G0(this._firestore,r,t._key,null,t.converter);throw st()})}set(e,t,r){const i=Lh(e,this._firestore),l=IE(i.converter,t,r),h=DE(this._dataReader,"Transaction.set",i._key,l,null!==i.converter,r);return this._transaction.set(i._key,h),this}update(e,t,r,...i){const l=Lh(e,this._firestore);let h;return h="string"==typeof(t=(0,Mt.m9)(t))||t instanceof Mc?vI(this._dataReader,"Transaction.update",l._key,t,r,i):yI(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,h),this}delete(e){const t=Lh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Lh(e,this._firestore),r=new jp(this._firestore);return super.get(e).then(i=>new xc(this._firestore,r,t._key,i._document,new Up(!1,!1),t.converter))}}function CI(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ne("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function CN(){if("undefined"==typeof Uint8Array)throw new Ne("unimplemented","Uint8Arrays are not available in this environment.")}function IN(){if(!function MT(){return"undefined"!=typeof atob}())throw new Ne("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){sh=so.SDK_VERSION,(0,so._registerComponent)(new el.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),l=new Qn(i,new ST(t.getProvider("auth-internal")),new mD(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,so.registerVersion)(pD,"3.4.4",n),(0,so.registerVersion)(pD,"3.4.4","esm2017")}();class z0{constructor(e){this._delegate=e}static fromBase64String(e){return IN(),new z0(du.fromBase64String(e))}static fromUint8Array(e){return CN(),new z0(du.fromUint8Array(e))}toBase64(){return IN(),this._delegate.toBase64()}toUint8Array(){return CN(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function II(n){return function dk(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class hk{enableIndexedDbPersistence(e,t){return function vR(n,e){rN(n=$t(n,Qn));const t=$r(n),r=n._freezeSettings(),i=new oI;return nN(t,i,new VA(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function bR(n){rN(n=$t(n,Qn));const e=$r(n),t=n._freezeSettings(),r=new oI;return nN(e,r,new eR(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function wR(n){if(n._initialized&&!n._terminated)throw new Ne(he.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Hr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{yield(t=(0,_e.Z)(function*(r){if(!co.Pt())return Promise.resolve();const i=r+"main";yield co.delete(i)}),function(r){return t.apply(this,arguments)})(x0(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class SN{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof N_||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&oh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function pR(n,e,t,r={}){var i;const l=(n=$t(n,j0))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&oh("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let h,m;if("string"==typeof r.mockUserToken)h=r.mockUserToken,m=jr.MOCK_USER;else{h=(0,Mt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Ne(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new jr(v)}n._authCredentials=new IT(new gD(h,m))}}(this._delegate,e,t,r)}enableNetwork(){return function ER(n){return function sR(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield HA(n),t=yield GA(n);return e.setNetworkEnabled(!0),function(r){const i=Ge(r);return i.Gr.delete(0),Ac(i)}(t)}))}($r(n=$t(n,Qn)))}(this._delegate)}disableNetwork(){return function TR(n){return function oR(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield HA(n),t=yield GA(n);return e.setNetworkEnabled(!1),(r=(0,_e.Z)(function*(i){const l=Ge(i);l.Gr.add(0),yield uu(l),l.Jr.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}($r(n=$t(n,Qn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,KA("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function DR(n){return function(e){const t=new Hr;return e.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function Hx(n,e){return $C.apply(this,arguments)}(yield fI(e),t)})),t.promise}($r(n=$t(n,Qn)))}(this._delegate)}onSnapshotsInSync(e){return function tk(n,e){return function uR(n,e){const t=new mE(e);return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return r=yield A_(n),i=t,Ge(r).io.add(i),void i.next();var r,i})),()=>{t.nc(),n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return r=yield A_(n),i=t,void Ge(r).io.delete(i);var r,i}))}}($r(n=$t(n,Qn)),mI(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ne("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new M_(this,QA(this._delegate,e))}catch(t){throw Vs(t,"collection()","Firestore.collection()")}}doc(e){try{return new fa(this,vE(this._delegate,e))}catch(t){throw Vs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Bs(this,function gR(n,e){if(n=$t(n,j0),gI("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ne(he.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new es(n,null,(t=e,new xs(nn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Vs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function rk(n,e){return function cR(n,e){const t=new Hr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){const r=yield(i=n,_E(i).then(l=>l.datastore));var i;new rR(n.asyncQueue,r,e,t).run()})),t.promise}($r(n=$t(n,Qn)),t=>e(new nk(n,t)))}(this._delegate,t=>e(new AN(this,t)))}batch(){return $r(this._delegate),new NN(new bN(this._delegate,e=>O_(this._delegate,e)))}loadBundle(e){return function CR(n,e){const t=$r(n=$t(n,Qn)),r=new _R;return function dR(n,e,t,r){const i=function(l,h){let m;return m="string"==typeof l?(new TextEncoder).encode(l):l,v=function(v,T){if(v instanceof Uint8Array)return BA(v,T);if(v instanceof ArrayBuffer)return BA(new Uint8Array(v),T);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new tR(v,h);var v}(t,rt(e));n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){!function Xx(n,e,t){const r=Ge(n);var i;(i=(0,_e.Z)(function*(l,h,m){try{const v=yield h.getMetadata();if(yield function(L,V){const J=Ge(L),ve=Ir(V.createTime);return J.persistence.runTransaction("hasNewerBundle","readonly",Re=>J.Ye.getBundleMetadata(Re,V.id)).then(Re=>!!Re&&Re.createTime.compareTo(ve)>=0)}(l.localStore,v))return yield h.close(),void m._completeWith((L=v,{taskState:"Success",documentsLoaded:L.totalDocuments,bytesLoaded:L.totalBytes,totalDocuments:L.totalDocuments,totalBytes:L.totalBytes}));m._updateProgress(AA(v));const T=new xx(v,l.localStore,h.k);let A=yield h.Ho();for(;A;){const L=yield T.yo(A);L&&m._updateProgress(L),A=yield h.Ho()}const M=yield T.complete();yield Oc(l,M.In,void 0),yield function(L,V){const J=Ge(L);return J.persistence.runTransaction("Save bundle","readwrite",ve=>J.Ye.saveBundleMetadata(ve,V))}(l.localStore,v),m._completeWith(M.progress)}catch(v){oh("SyncEngine",`Loading bundle failed with ${v}`),m._failWith(v)}var L}),function(l,h,m){return i.apply(this,arguments)})(r,e,t).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield fI(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function IR(n,e){return function hR(n,e){return n.asyncQueue.enqueue((0,_e.Z)(function*(){return function(t,r){const i=Ge(t);return i.persistence.runTransaction("Get named query","readonly",l=>i.Ye.getNamedQuery(l,r))}(yield hI(n),e)}))}($r(n=$t(n,Qn)),e).then(t=>t?new es(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Bs(this,t):null)}}class SE extends DI{constructor(e){super(),this.firestore=e}convertBytes(e){return new z0(new du(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return fa.forKey(t,this.firestore,null)}}class AN{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new SE(e)}get(e){const t=Gp(e);return this._delegate.get(t).then(r=>new K0(this._firestore,new xc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Gp(e);return r?(CI("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=Gp(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=Gp(e);return this._delegate.delete(t),this}}class NN{constructor(e){this._delegate=e}set(e,t,r){const i=Gp(e);return r?(CI("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=Gp(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=Gp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Hp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new $0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new q0(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Hp.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let l=i.get(t);return l||(l=new Hp(e,new SE(e),t),i.set(t,l)),l}}Hp.INSTANCES=new WeakMap;class fa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new SE(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ne("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new fa(t,new Vn(t._delegate,r,new tt(e)))}static forKey(e,t,r){return new fa(t,new Vn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new M_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new M_(this.firestore,QA(this._delegate,e))}catch(t){throw Vs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Mt.m9)(e))instanceof Vn&&XA(this._delegate,e)}set(e,t){t=CI("DocumentReference.set",t);try{return t?wN(this._delegate,e,t):wN(this._delegate,e)}catch(r){throw Vs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?DN(this._delegate,e):DN(this._delegate,e,t,...r)}catch(i){throw Vs(i,"updateDoc()","DocumentReference.update()")}}delete(){return function XR(n){return O_($t(n.firestore,Qn),[new bh(n._key,Zn.none())])}(this._delegate)}onSnapshot(...e){const t=ON(e),r=MN(e,i=>new K0(this.firestore,new xc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return EN(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function qR(n){n=$t(n,Vn);const e=$t(n.firestore,Qn),t=$r(e),r=new jp(e);return function aR(n,e){const t=new Hr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(r=(0,_e.Z)(function*(i,l,h){try{const m=yield function(v,T){const A=Ge(v);return A.persistence.runTransaction("read document","readonly",M=>A.Wn.Rn(M,T))}(i,l);m.isFoundDocument()?h.resolve(m):m.isNoDocument()?h.resolve(null):h.reject(new Ne(he.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const v=T_(m,`Failed to get document '${l} from cache`);h.reject(v)}}),function(i,l,h){return r.apply(this,arguments)})(yield hI(n),e,t);var r})),t.promise}(t,n._key).then(i=>new xc(e,r,n._key,i,new Up(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function ZR(n){n=$t(n,Vn);const e=$t(n.firestore,Qn);return $A($r(e),n._key,{source:"server"}).then(t=>EI(e,n,t))}(this._delegate):function KR(n){n=$t(n,Vn);const e=$t(n.firestore,Qn);return $A($r(e),n._key).then(t=>EI(e,n,t))}(this._delegate),t.then(r=>new K0(this.firestore,new xc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new fa(this.firestore,this._delegate.withConverter(e?Hp.getInstance(this.firestore,e):null))}}function Vs(n,e,t){return n.message=n.message.replace(e,t),n}function ON(n){for(const e of n)if("object"==typeof e&&!II(e))return e;return{}}function MN(n,e){var t,r;let i;return i=II(n[0])?n[0]:II(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{i.next&&i.next(e(l))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class K0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new fa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return dN(this._delegate,e._delegate)}}class q0 extends K0{data(e){const t=this._delegate.data(e);return function Lv(n,e){n||st()}(void 0!==t),t}}class Bs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new SE(e)}where(e,t,r){try{return new Bs(this.firestore,Fh(this._delegate,function LR(n,e,t){const r=e,i=CE("where",n);return new FR(i,r,t)}(e,t,r)))}catch(i){throw Vs(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Bs(this.firestore,Fh(this._delegate,function BR(n,e="asc"){const t=e,r=CE("orderBy",n);return new VR(r,t)}(e,t)))}catch(r){throw Vs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Bs(this.firestore,Fh(this._delegate,function UR(n){return YA("limit",n),new fN("limit",n,"F")}(e)))}catch(t){throw Vs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Bs(this.firestore,Fh(this._delegate,function jR(n){return YA("limitToLast",n),new fN("limitToLast",n,"L")}(e)))}catch(t){throw Vs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Bs(this.firestore,Fh(this._delegate,function HR(...n){return new pN("startAt",n,!0)}(...e)))}catch(t){throw Vs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Bs(this.firestore,Fh(this._delegate,function GR(...n){return new pN("startAfter",n,!1)}(...e)))}catch(t){throw Vs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Bs(this.firestore,Fh(this._delegate,function $R(...n){return new gN("endBefore",n,!0)}(...e)))}catch(t){throw Vs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Bs(this.firestore,Fh(this._delegate,function WR(...n){return new gN("endAt",n,!1)}(...e)))}catch(t){throw Vs(t,"endAt()","Query.endAt()")}}isEqual(e){return eN(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function JR(n){n=$t(n,es);const e=$t(n.firestore,Qn),t=$r(e),r=new jp(e);return function lR(n,e){const t=new Hr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(r=(0,_e.Z)(function*(i,l,h){try{const m=yield w_(i,l,!0),v=new MA(l,m.zn),T=v.Po(m.documents),A=v.applyChanges(T,!1);h.resolve(A.snapshot)}catch(m){const v=T_(m,`Failed to execute query '${l} against cache`);h.reject(v)}}),function(i,l,h){return r.apply(this,arguments)})(yield hI(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Ph(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function QR(n){n=$t(n,es);const e=$t(n.firestore,Qn),t=$r(e),r=new jp(e);return WA(t,n._query,{source:"server"}).then(i=>new Ph(e,r,n,i))}(this._delegate):function YR(n){n=$t(n,es);const e=$t(n.firestore,Qn),t=$r(e),r=new jp(e);return hN(n._query),WA(t,n._query).then(i=>new Ph(e,r,n,i))}(this._delegate),t.then(r=>new SI(this.firestore,new Ph(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=ON(e),r=MN(e,i=>new SI(this.firestore,new Ph(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return EN(this._delegate,t,r)}withConverter(e){return new Bs(this.firestore,this._delegate.withConverter(e?Hp.getInstance(this.firestore,e):null))}}class pk{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new q0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class SI{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Bs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new q0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new pk(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new q0(this._firestore,r))})}isEqual(e){return dN(this._delegate,e._delegate)}}class M_ extends Bs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new fa(this.firestore,e):null}doc(e){try{return new fa(this.firestore,void 0===e?vE(this._delegate):vE(this._delegate,e))}catch(t){throw Vs(t,"doc()","CollectionReference.doc()")}}add(e){return function ek(n,e){const t=$t(n.firestore,Qn),r=vE(n),i=IE(n.converter,e);return O_(t,[DE(Vp(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Zn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new fa(this.firestore,t))}isEqual(e){return XA(this._delegate,e._delegate)}withConverter(e){return new M_(this.firestore,this._delegate.withConverter(e?Hp.getInstance(this.firestore,e):null))}}function Gp(n){return $t(n,Vn)}class AI{constructor(...e){this._delegate=new Mc(...e)}static documentId(){return new AI(si.keyField().canonicalString())}isEqual(e){return(e=(0,Mt.m9)(e))instanceof Mc&&this._delegate._internalPath.isEqual(e._internalPath)}}class $p{constructor(e){this._delegate=e}static serverTimestamp(){const e=function sk(){return new _I("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new $p(e)}static delete(){const e=function ik(){return new H0("deleteField")}();return e._methodName="FieldValue.delete",new $p(e)}static arrayUnion(...e){const t=function ok(...n){return new OR("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new $p(t)}static arrayRemove(...e){const t=function ak(...n){return new MR("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new $p(t)}static increment(e){const t=function lk(n){return new xR("increment",n)}(e);return t._methodName="FieldValue.increment",new $p(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const gk={Firestore:SN,GeoPoint:bE,Timestamp:gr,Blob:z0,Transaction:AN,WriteBatch:NN,DocumentReference:fa,DocumentSnapshot:K0,Query:Bs,QueryDocumentSnapshot:q0,QuerySnapshot:SI,CollectionReference:M_,FieldPath:AI,FieldValue:$p,setLogLevel:function fk(n){!function Pv(n){sl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function _k(n){(function mk(n,e){n.INTERNAL.registerComponent(new el.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},gk)))})(n,(e,t)=>new SN(e,t,new hk)),n.registerVersion("@firebase/firestore-compat","0.1.13")}(Ud.Z);var yk=R(6451),AE=R(5363),vk=R(6063);class bk extends Tn.x{constructor(e=1/0,t=1/0,r=vk.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:l,_windowTime:h}=this;t||(r.push(e),!i&&r.push(l.now()+h)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,l=i.slice();for(let h=0;h<l.length&&!e.closed;h+=r?1:2)e.next(l[h]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,l=(i?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!i){const h=t.now();let m=0;for(let v=1;v<r.length&&r[v]<=h;v+=2)m=v;m&&r.splice(0,m+1)}}}var wk=R(3099);function xN(n,e,t){var r,i;let l,h=!1;return n&&"object"==typeof n?(l=null!==(r=n.bufferSize)&&void 0!==r?r:1/0,e=null!==(i=n.windowTime)&&void 0!==i?i:1/0,h=!!n.refCount,t=n.scheduler):l=null!=n?n:1/0,(0,wk.B)({connector:()=>new bk(l,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:h})}function RN(n,e){return(0,ro.m)(e)?hr(()=>n,e):hr(()=>n)}var NI=R(9468);R(5867);const PN=new Map,Ik={activated:!1,tokenObservers:[]},Sk={initialized:!1,enabled:!1};function Ei(n){return PN.get(n)||Ik}function hl(n,e){PN.set(n,e)}function OE(){return Sk}class xk{constructor(e,t,r,i,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=i,i>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,_e.Z)(function*(){t.stop();try{t.pending=new Mt.BH,yield function Rk(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Mt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Us=new Mt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function LN(n){if(!Ei(n).activated)throw Us.create("use-before-activation",{appName:n.name})}function RI(n,e){return kI.apply(this,arguments)}function kI(){return kI=(0,_e.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const l={method:"POST",body:JSON.stringify(e),headers:r};let h,m;try{h=yield fetch(n,l)}catch(M){throw Us.create("fetch-network-error",{originalErrorMessage:M.message})}if(200!==h.status)throw Us.create("fetch-status-error",{httpStatus:h.status});try{m=yield h.json()}catch(M){throw Us.create("fetch-parse-error",{originalErrorMessage:M.message})}const v=m.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw Us.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const T=1e3*Number(v[1]),A=Date.now();return{token:m.attestationToken,expireTimeMillis:A+T,issuedAtTimeMillis:A}}),kI.apply(this,arguments)}function Vk(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Z0="firebase-app-check-store";let RE=null;function BN(){return RE||(RE=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Us.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Z0,{keyPath:"compositeKey"})}}catch(t){e(Us.create("storage-open",{originalErrorMessage:t.message}))}}),RE)}function PI(){return PI=(0,_e.Z)(function*(n,e){const r=(yield BN()).transaction(Z0,"readwrite"),l=r.objectStore(Z0).put({compositeKey:n,value:e});return new Promise((h,m)=>{l.onsuccess=v=>{h()},r.onerror=v=>{var T;m(Us.create("storage-set",{originalErrorMessage:null===(T=v.target.error)||void 0===T?void 0:T.message}))}})}),PI.apply(this,arguments)}const Y0=new As.Yd("@firebase/app-check");function GN(n,e){return(0,Mt.hl)()?function Hk(n,e){return function UN(n,e){return PI.apply(this,arguments)}(function HN(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Y0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function $N(){return OE().enabled}function WN(){return BI.apply(this,arguments)}function BI(){return BI=(0,_e.Z)(function*(){const n=OE();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),BI.apply(this,arguments)}const qk={error:"UNKNOWN_ERROR"};function Zk(n){return Mt.US.encodeString(JSON.stringify(n),!1)}function kE(n){return UI.apply(this,arguments)}function UI(){return UI=(0,_e.Z)(function*(n,e=!1){const t=n.app;LN(t);const r=Ei(t);let l,i=r.token;if(!i){const v=yield r.cachedTokenPromise;v&&PE(v)&&(i=v)}if(!e&&i&&PE(i))return{token:i.token};let m,h=!1;if($N()){r.exchangeTokenPromise||(r.exchangeTokenPromise=RI(Vk(t,yield WN()),n.platformLoggerProvider).then(T=>(r.exchangeTokenPromise=void 0,T)),h=!0);const v=yield r.exchangeTokenPromise;return yield GN(t,v),hl(t,Object.assign(Object.assign({},r),{token:v})),{token:v.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(v=>(r.exchangeTokenPromise=void 0,v)),h=!0),i=yield r.exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?Y0.warn(v.message):Y0.error(v),l=v}return i?(m={token:i.token},hl(t,Object.assign(Object.assign({},r),{token:i})),yield GN(t,i)):m=Jk(l),h&&KN(t,m),m}),UI.apply(this,arguments)}function HI(n,e){const t=Ei(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),hl(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function zN(n){const{app:e}=n,t=Ei(e);let r=t.tokenRefresher;r||(r=function Yk(n){const{app:e}=n;return new xk((0,_e.Z)(function*(){let r;if(r=Ei(e).token?yield kE(n,!0):yield kE(n),r.error)throw r.error}),()=>!0,()=>{const t=Ei(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),hl(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function KN(n,e){const t=Ei(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function PE(n){return n.expireTimeMillis-Date.now()>0}function Jk(n){return{token:Zk(qk),error:n}}class Qk{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=Ei(this.app);for(const t of e)HI(this.app,t.next);return Promise.resolve()}}const tO="app-check-internal";!function hP(){(0,so._registerComponent)(new el.wA("app-check",n=>function Xk(n,e){return new Qk(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(tO).initialize()})),(0,so._registerComponent)(new el.wA(tO,n=>function eP(n){return{getToken:e=>kE(n,e),addTokenListener:e=>function jI(n,e,t,r){const{app:i}=n,l=Ei(i),h={next:t,error:r,type:e};if(hl(i,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,h]})),l.token&&PE(l.token)){const m=l.token;Promise.resolve().then(()=>{t({token:m.token}),zN(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>zN(n))}(n,"INTERNAL",e),removeTokenListener:e=>HI(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,so.registerVersion)("@firebase/app-check","0.5.3")}();class zI{constructor(){return(0,cn.vb)("app-check")}}"undefined"!=typeof window&&window;var _P=R(127);const rO=new c.OlP("angularfire2.auth.use-emulator"),iO=new c.OlP("angularfire2.auth.settings"),sO=new c.OlP("angularfire2.auth.tenant-id"),oO=new c.OlP("angularfire2.auth.langugage-code"),aO=new c.OlP("angularfire2.auth.use-device-language"),lO=new c.OlP("angularfire.auth.persistence"),uO=(n,e,t,r,i,l,h,m)=>(0,bi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),r&&(v.tenantId=r),v.languageCode=i,l&&v.useDeviceLanguage(),h)for(const[T,A]of Object.entries(h))v.settings[T]=A;return m&&v.setPersistence(m),v},[t,r,i,l,h,m]);let cO=(()=>{class n{constructor(t,r,i,l,h,m,v,T,A,M,L,V){const J=new Tn.x,ve=ut(void 0).pipe((0,AE.Q)(h.outsideAngular),hr(()=>l.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,389)))),(0,Xe.U)(()=>(0,bi.on)(t,l,r)),(0,Xe.U)(Re=>uO(Re,l,m,T,A,M,v,L)),xN({bufferSize:1,refCount:!1}));if(vr(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ut(null);else{ve.pipe(_()).subscribe();const He=ve.pipe(hr(Dt=>Dt.getRedirectResult().then(Yt=>Yt,()=>null)),cn.iC,xN({bufferSize:1,refCount:!1})),ct=ve.pipe(hr(Dt=>new En.y(Yt=>({unsubscribe:l.runOutsideAngular(()=>Dt.onAuthStateChanged(Jt=>Yt.next(Jt),Jt=>Yt.error(Jt),()=>Yt.complete()))})))),Zt=ve.pipe(hr(Dt=>new En.y(Yt=>({unsubscribe:l.runOutsideAngular(()=>Dt.onIdTokenChanged(Jt=>Yt.next(Jt),Jt=>Yt.error(Jt),()=>Yt.complete()))}))));this.authState=He.pipe(RN(ct),(0,NI.R)(h.outsideAngular),(0,AE.Q)(h.insideAngular)),this.user=He.pipe(RN(Zt),(0,NI.R)(h.outsideAngular),(0,AE.Q)(h.insideAngular)),this.idToken=this.user.pipe(hr(Dt=>Dt?(0,An.D)(Dt.getIdToken()):ut(null))),this.idTokenResult=this.user.pipe(hr(Dt=>Dt?(0,An.D)(Dt.getIdTokenResult()):ut(null))),this.credential=(0,yk.T)(He,J,this.authState.pipe(fn(Dt=>!Dt))).pipe((0,Xe.U)(Dt=>(null==Dt?void 0:Dt.user)?Dt:null),(0,NI.R)(h.outsideAngular),(0,AE.Q)(h.insideAngular))}return(0,bi.pX)(this,ve,l,{spy:{apply:(Re,He,ct)=>{(Re.startsWith("signIn")||Re.startsWith("createUser"))&&ct.then(Zt=>J.next(Zt))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(bi.Dh),c.LFG(bi.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(cn.HU),c.LFG(rO,8),c.LFG(iO,8),c.LFG(sO,8),c.LFG(oO,8),c.LFG(aO,8),c.LFG(lO,8),c.LFG(zI,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function dO(n,e){return function vP(n,e=Vd.z){return new En.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function qI(n,e){return dO(n,e).pipe((0,Xe.U)(t=>({payload:t,type:"query"})))}function LE(n,e){return qI(n,e).pipe(Mo(void 0),zf(),(0,Xe.U)(([t,r])=>{const i=r.payload.docChanges(),l=i.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((h,m)=>{const v=i.find(A=>A.doc.ref.isEqual(h.ref)),T=null==t?void 0:t.payload.docs.find(A=>A.ref.isEqual(h.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(h.metadata)||!v&&T&&JSON.stringify(T.metadata)===JSON.stringify(h.metadata)||l.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:h}})}),l}))}function hO(n,e,t){return LE(n,t).pipe(ju((r,i)=>function wP(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function DP(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return ZI(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return ZI(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return ZI(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(l=>l.payload),e),[]),function Xa(n,e=Ki.y){return n=null!=n?n:Bd,(0,Br.e)((t,r)=>{let i,l=!0;t.subscribe(new tn.Q(r,h=>{const m=e(h);(l||!n(i,m))&&(l=!1,i=m,r.next(h))}))})}(),(0,Xe.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function ZI(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function fO(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class pO{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=LE(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Xe.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Mo(void 0),zf(),fn(([r,i])=>i.length>0||!r),(0,Xe.U)(([r,i])=>i),cn.iC)}auditTrail(e){return this.stateChanges(e).pipe(ju((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=fO(e);return hO(this.query,t,this.afs.schedulers.outsideAngular).pipe(cn.iC)}valueChanges(e={}){return qI(this.query,this.afs.schedulers.outsideAngular).pipe((0,Xe.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),cn.iC)}get(e){return(0,An.D)(this.query.get(e)).pipe(cn.iC)}add(e){return this.ref.add(e)}doc(e){return new gO(this.ref.doc(e),this.afs)}}class gO{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:l}=yO(r,t);return new pO(i,l,this.afs)}snapshotChanges(){return function bP(n,e){return dO(n,e).pipe(Mo(void 0),zf(),(0,Xe.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(cn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Xe.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,An.D)(this.ref.get(e)).pipe(cn.iC)}}class EP{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?LE(this.query,this.afs.schedulers.outsideAngular).pipe((0,Xe.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),fn(t=>t.length>0),cn.iC):LE(this.query,this.afs.schedulers.outsideAngular).pipe(cn.iC)}auditTrail(e){return this.stateChanges(e).pipe(ju((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=fO(e);return hO(this.query,t,this.afs.schedulers.outsideAngular).pipe(cn.iC)}valueChanges(e={}){return qI(this.query,this.afs.schedulers.outsideAngular).pipe((0,Xe.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),cn.iC)}get(e){return(0,An.D)(this.query.get(e)).pipe(cn.iC)}}const mO=new c.OlP("angularfire2.enableFirestorePersistence"),_O=new c.OlP("angularfire2.firestore.persistenceSettings"),TP=new c.OlP("angularfire2.firestore.settings"),CP=new c.OlP("angularfire2.firestore.use-emulator");function yO(n,e=(t=>t)){return{query:e(n),ref:n}}let vO=(()=>{class n{constructor(t,r,i,l,h,m,v,T,A,M,L,V,J,ve,Re,He,ct){this.schedulers=v;const Zt=(0,bi.on)(t,m,r),Dt=A;M&&uO(Zt,m,L,J,ve,Re,V,He),[this.firestore,this.persistenceEnabled$]=(0,bi.cc)(`${Zt.name}.firestore`,"AngularFirestore",Zt.name,()=>{const Yt=m.runOutsideAngular(()=>Zt.firestore());if(l&&Yt.settings(l),Dt&&Yt.useEmulator(...Dt),i&&!vr(h)){const Jt=()=>{try{return(0,An.D)(Yt.enablePersistence(T||void 0).then(()=>!0,()=>!1))}catch(rs){return"undefined"!=typeof console&&console.warn(rs),ut(!1)}};return[Yt,m.runOutsideAngular(Jt)]}return[Yt,ut(!1)]},[l,Dt,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:h}=yO(i,r),m=this.schedulers.ngZone.run(()=>l);return new pO(m,h,this)}collectionGroup(t,r){const i=r||(h=>h),l=this.firestore.collectionGroup(t);return new EP(i(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new gO(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(bi.Dh),c.LFG(bi.xv,8),c.LFG(mO,8),c.LFG(TP,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(cn.HU),c.LFG(_O,8),c.LFG(CP,8),c.LFG(cO,8),c.LFG(rO,8),c.LFG(iO,8),c.LFG(sO,8),c.LFG(oO,8),c.LFG(aO,8),c.LFG(lO,8),c.LFG(zI,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),IP=(()=>{class n{constructor(){_P.Z.registerVersion("angularfire",cn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:mO,useValue:!0},{provide:_O,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[vO]}),n})(),YI=(()=>{class n{constructor(t,r,i){this.firestore=t,this.http=r,this.router=i,this.form=new Jo({title:new Fl(""),task:new Fl("")})}createTask(t){return new Promise((r,i)=>{this.firestore.collection("posts").add(t).then(l=>{this.form.reset(),this.router.navigate([""]),alert("Added successfully")},l=>i(l))})}getTask(){return this.firestore.collection("posts").snapshotChanges()}UpdateTask(t){return this.firestore.collection("posts").doc(t.payload.doc.id).set({completed:!0},{merge:!0})}deleteTask(t){return this.firestore.collection("posts").doc(t.payload.doc.id).delete()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(vO),c.LFG(dw),c.LFG(ni))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SP=(()=>{class n{constructor(t,r,i,l){this.formbuilder=t,this.Api=r,this.newtaskdat=i,this.router=l,this.tasks={title:"",task:""},this.taskOpject=new j1}ngOnInit(){this.newtaskform=this.newtaskdat.form}cancel(){this.router.navigate([""])}post(){this.tasks.title=this.newtaskdat.form.value.title,this.tasks.task=this.newtaskdat.form.value.task,this.newtaskdat.createTask(this.tasks)}onEdit(t){this.newtaskform.controls.title.setValue(t.title),this.newtaskform.controls.task.setValue(t.task)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Vr),c.Y36(Qa),c.Y36(YI),c.Y36(ni))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-new-task"]],decls:15,vars:1,consts:[[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle","mb-2","text-muted"],[3,"formGroup","ngSubmit"],[1,"card__input"],["formControlName","title","name","title","type","text","placeholder","title","aria-label","default input example",1,"form-control"],["formControlName","task","name","task","type","textarea","placeholder","task","aria-label","default input example",1,"form-control"],[1,"btn-group"],["type","submit",1,"btn","btn-primary"],["type","submit",1,"btn","btn-danger",3,"click"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"h5",2),c._uU(3,"New task"),c.qZA(),c.TgZ(4,"h6",3),c._uU(5,"subtitle"),c.qZA(),c.TgZ(6,"form",4),c.NdJ("ngSubmit",function(){return r.post()}),c.TgZ(7,"div",5),c._UZ(8,"input",6),c._UZ(9,"textarea",7),c.TgZ(10,"div",8),c.TgZ(11,"button",9),c._uU(12,"Post"),c.qZA(),c.TgZ(13,"button",10),c.NdJ("click",function(){return r.cancel()}),c._uU(14,"Cancel"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.xp6(6),c.Q6J("formGroup",r.newtaskform))},directives:[md,Ao,yd,eo,Nu,df],styles:[""]}),n})();function AP(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",2),c.TgZ(1,"div",3),c.TgZ(2,"div",4),c.TgZ(3,"div"),c.TgZ(4,"h5",5),c._uU(5),c.qZA(),c.TgZ(6,"p",6),c._uU(7),c.qZA(),c.qZA(),c.TgZ(8,"div",7),c.TgZ(9,"a",8),c.NdJ("click",function(){const l=c.CHM(t).$implicit;return c.oxw().onEdit(l)}),c._uU(10,"Edit"),c.qZA(),c.TgZ(11,"a",9),c.NdJ("click",function(){const l=c.CHM(t).$implicit;return c.oxw().deleteTask(l)}),c._uU(12," Delete"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&n){const t=e.$implicit;c.xp6(5),c.Oqu(t.payload.doc.data().title),c.xp6(2),c.Oqu(t.payload.doc.data().task)}}const NP=[{path:"NewTask",component:SP},{path:"",component:(()=>{class n{constructor(t,r,i){this.Api=t,this.router=r,this.newtaskdat=i}ngOnInit(){this.getAlltask()}getAlltask(){this.newtaskdat.getTask().subscribe(t=>{this.taskData=t})}deleteTask(t){this.newtaskdat.deleteTask(t)}onEdit(t){this.newtaskdat.UpdateTask(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Qa),c.Y36(ni),c.Y36(YI))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-edit-task"]],decls:2,vars:1,consts:[[1,"row"],["class","col-lg-3 col-md-4 col-sm-6",4,"ngFor","ngForOf"],[1,"col-lg-3","col-md-4","col-sm-6"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"btns"],["routerLink","/NewTask",1,"btn","btn-edit",3,"click"],[1,"btn","btn-red",3,"click"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c.YNc(1,AP,13,2,"div",1),c.qZA()),2&t&&(c.xp6(1),c.Q6J("ngForOf",r.taskData))},directives:[dn,kd],styles:[".btn[_ngcontent-%COMP%]{margin-left:.4rem}.row[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:100%;text-align:left;height:13rem}.card-body[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.btns[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-end}.btn-edit[_ngcontent-%COMP%]{margin-bottom:.4rem;color:green}.btn-red[_ngcontent-%COMP%]{color:red}@media screen and (min-width: 768px){.card-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.btns[_ngcontent-%COMP%]{display:block}.btn-edit[_ngcontent-%COMP%]{margin-bottom:0}}"]}),n})()}];let OP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Ly.forRoot(NP)],Ly]}),n})();var MP=R(1144);const xP=["addListener","removeListener"],RP=["addEventListener","removeEventListener"],kP=["on","off"];function js(n,e,t,r){if((0,ro.m)(t)&&(r=t,t=void 0),r)return js(n,e,t).pipe(Sl(r));const[i,l]=function LP(n){return(0,ro.m)(n.addEventListener)&&(0,ro.m)(n.removeEventListener)}(n)?RP.map(h=>m=>n[h](e,m,t)):function PP(n){return(0,ro.m)(n.addListener)&&(0,ro.m)(n.removeListener)}(n)?xP.map(bO(n,e)):function FP(n){return(0,ro.m)(n.on)&&(0,ro.m)(n.off)}(n)?kP.map(bO(n,e)):[];if(!i&&(0,MP.z)(n))return(0,qn.z)(h=>js(h,e,t))((0,kt.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new En.y(h=>{const m=(...v)=>h.next(1<v.length?v:v[0]);return i(m),()=>l(m)})}function bO(n,e){return t=>r=>n[t](e,r)}var VP=R(3532);const{isArray:UP}=Array;function wO(n){return 1===n.length&&UP(n[0])?n[0]:n}var VE=R(5032);function BE(...n){const e=(0,Ui.jO)(n),t=wO(n);return t.length?new En.y(r=>{let i=t.map(()=>[]),l=t.map(()=>!1);r.add(()=>{i=l=null});for(let h=0;!r.closed&&h<t.length;h++)(0,kt.Xf)(t[h]).subscribe(new tn.Q(r,m=>{if(i[h].push(m),i.every(v=>v.length)){const v=i.map(T=>T.shift());r.next(e?e(...v):v),i.some((T,A)=>!T.length&&l[A])&&r.complete()}},()=>{l[h]=!0,!i[h].length&&r.complete()}));return()=>{i=l=null}}):Dr.E}function li(n){return(0,Br.e)((e,t)=>{(0,kt.Xf)(n).subscribe(new tn.Q(t,()=>t.complete(),VE.Z)),!t.closed&&e.subscribe(t)})}function QI(...n){const e=(0,Ui.jO)(n);return(0,Br.e)((t,r)=>{const i=n.length,l=new Array(i);let h=n.map(()=>!1),m=!1;for(let v=0;v<i;v++)(0,kt.Xf)(n[v]).subscribe(new tn.Q(r,T=>{l[v]=T,!m&&!h[v]&&(h[v]=!0,(m=h.every(Ki.y))&&(h=null))},VE.Z));t.subscribe(new tn.Q(r,v=>{if(m){const T=[v,...l];r.next(e?e(...T):T)}}))})}new En.y(VE.Z);const eF=["*"],yF=["dialog"];function Wp(n){return null!=n}function x_(n){return(n||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.closest=function(n){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(n))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const IO={animation:!0,transitionTimerDelayMs:5},fL=()=>{},{transitionTimerDelayMs:pL}=IO,J0=new Map,ts=(n,e,t,r)=>{let i=r.context||{};const l=J0.get(e);if(l)switch(r.runningTransition){case"continue":return Dr.E;case"stop":n.run(()=>l.transition$.complete()),i=Object.assign(l.context,i),J0.delete(e)}const h=t(e,r.animation,i)||fL;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>h()),ut(void 0).pipe(function dL(n){return e=>new En.y(t=>e.subscribe({next:h=>n.run(()=>t.next(h)),error:h=>n.run(()=>t.error(h)),complete:()=>n.run(()=>t.complete())}))}(n));const m=new Tn.x,v=new Tn.x,T=m.pipe(function HP(...n){return e=>jl(e,ut(...n))}(!0));J0.set(e,{transition$:m,complete:()=>{v.next(),v.complete()},context:i});const A=function hL(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const M=js(e,"transitionend").pipe(li(T),fn(({target:V})=>V===e));(function DO(...n){return 1===(n=wO(n)).length?(0,kt.Xf)(n[0]):new En.y(function jP(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push((0,kt.Xf)(n[r]).subscribe(new tn.Q(e,i=>{if(t){for(let l=0;l<t.length;l++)l!==r&&t[l].unsubscribe();t=null}e.next(i)})))}}(n))})(function JI(n=0,e,t=Vd.P){let r=-1;return null!=e&&((0,VP.K)(e)?t=e:r=e),new En.y(i=>{let l=function BP(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;l<0&&(l=0);let h=0;return t.schedule(function(){i.closed||(i.next(h++),0<=r?this.schedule(void 0,r):i.complete())},l)})}(A+pL).pipe(li(T)),M,v).pipe(li(T)).subscribe(()=>{J0.delete(e),n.run(()=>{h(),m.next(),m.complete()})})}),m.asObservable()},tS=(n,e,t)=>{let{direction:r,maxHeight:i}=t;const{classList:l}=n;function h(){l.add("collapse"),"show"===r?l.add("show"):l.remove("show")}if(e)return i||(i=function mL(n){if("undefined"==typeof navigator)return"0px";const{classList:e}=n,t=e.contains("show");t||e.add("show"),n.style.height="";const r=n.getBoundingClientRect().height+"px";return t||e.remove("show"),r}(n),t.maxHeight=i,n.style.height="show"!==r?i:"0px",l.remove("collapse"),l.remove("collapsing"),l.remove("show"),x_(n),l.add("collapsing")),n.style.height="show"===r?i:"0px",()=>{h(),l.remove("collapsing"),n.style.height=""};h()};let Q0=(()=>{class n{constructor(){this.animation=IO.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[vn]]}),n})(),xO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[vn]]}),n})(),kO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),LO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[vn]]}),n})(),IL=(()=>{class n{constructor(t){this._ngbConfig=t}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Q0))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SL=(()=>{class n{constructor(t,r,i){this._element=t,this._zone=i,this.collapsed=!1,this.ngbCollapseChange=new c.vpe,this.shown=new c.vpe,this.hidden=new c.vpe,this.animation=r.animation}ngOnInit(){this._runTransition(this.collapsed,!1)}ngOnChanges({collapsed:t}){t.firstChange||this._runTransitionWithEvents(this.collapsed,this.animation)}toggle(t=this.collapsed){this.collapsed=!t,this.ngbCollapseChange.next(this.collapsed),this._runTransitionWithEvents(this.collapsed,this.animation)}_runTransition(t,r){return ts(this._zone,this._element.nativeElement,tS,{animation:r,runningTransition:"stop",context:{direction:t?"hide":"show"}})}_runTransitionWithEvents(t,r){this._runTransition(t,r).subscribe(()=>{t?this.hidden.emit():this.shown.emit()})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(IL),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngbCollapse",""]],inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"]},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],features:[c.TTD]}),n})(),VO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();var ui=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(ui||(ui={})),ui))();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const UO=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function jO(n){const e=Array.from(n.querySelectorAll(UO)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new class VL{getAllStyles(e){return window.getComputedStyle(e)}getStyle(e,t){return this.getAllStyles(e)[t]}isStaticPositioned(e){return"static"===(this.getStyle(e,"position")||"static")}offsetParent(e){let t=e.offsetParent||document.documentElement;for(;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement}position(e,t=!0){let r,i={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(e,"position"))r=e.getBoundingClientRect(),r={top:r.top,bottom:r.bottom,left:r.left,right:r.right,height:r.height,width:r.width};else{const l=this.offsetParent(e);r=this.offset(e,!1),l!==document.documentElement&&(i=this.offset(l,!1)),i.top+=l.clientTop,i.left+=l.clientLeft}return r.top-=i.top,r.bottom-=i.top,r.left-=i.left,r.right-=i.left,t&&(r.top=Math.round(r.top),r.bottom=Math.round(r.bottom),r.left=Math.round(r.left),r.right=Math.round(r.right)),r}offset(e,t=!0){const r=e.getBoundingClientRect(),i_top=window.scrollY-document.documentElement.clientTop,i_left=window.scrollX-document.documentElement.clientLeft;let l={height:r.height||e.offsetHeight,width:r.width||e.offsetWidth,top:r.top+i_top,bottom:r.bottom+i_top,left:r.left+i_left,right:r.right+i_left};return t&&(l.height=Math.round(l.height),l.width=Math.round(l.width),l.top=Math.round(l.top),l.bottom=Math.round(l.bottom),l.left=Math.round(l.left),l.right=Math.round(l.right)),l}positionElements(e,t,r,i){const[l="top",h="center"]=r.split("-"),m=i?this.offset(e,!1):this.position(e,!1),v=this.getAllStyles(t),T=parseFloat(v.marginTop),A=parseFloat(v.marginBottom),M=parseFloat(v.marginLeft),L=parseFloat(v.marginRight);let V=0,J=0;switch(l){case"top":V=m.top-(t.offsetHeight+T+A);break;case"bottom":V=m.top+m.height;break;case"left":J=m.left-(t.offsetWidth+M+L);break;case"right":J=m.left+m.width}switch(h){case"top":V=m.top;break;case"bottom":V=m.top+m.height-t.offsetHeight;break;case"left":J=m.left;break;case"right":J=m.left+m.width-t.offsetWidth;break;case"center":"top"===l||"bottom"===l?J=m.left+m.width/2-t.offsetWidth/2:V=m.top+m.height/2-t.offsetHeight/2}t.style.transform=`translate(${Math.round(J)}px, ${Math.round(V)}px)`;const ve=t.getBoundingClientRect(),Re=document.documentElement,He=window.innerHeight||Re.clientHeight,ct=window.innerWidth||Re.clientWidth;return ve.left>=0&&ve.top>=0&&ve.right<=ct&&ve.bottom<=He}},new Date(1882,10,12),new Date(2174,10,25);let qO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[vn,Ng]]}),n})(),lS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["",8,"navbar"]]}),n})(),JO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();class Zp{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let JL=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Ht.q)(1)).subscribe(()=>{ts(this._zone,this._el.nativeElement,(t,r)=>{r&&x_(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return ts(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,r){2&t&&(c.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),c.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class QO{close(e){}dismiss(e){}}class QL{constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new Tn.x,this._dismissed=new Tn.x,this._hidden=new Tn.x,e.instance.dismissEvent.subscribe(l=>{this.dismiss(l)}),this.result=new Promise((l,h)=>{this._resolve=l,this._reject=h}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(li(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(li(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function uL(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():ut(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),BE(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var nb=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(nb||(nb={})),nb))();let XL=(()=>{class n{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new Tn.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new c.vpe,this.shown=new Tn.x,this.hidden=new Tn.x}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Ht.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},h=BE(ts(this._zone,t,()=>t.classList.remove("show"),r),ts(this._zone,this._dialogEl.nativeElement,()=>{},r));return h.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),h}_show(){const t={animation:this.animation,runningTransition:"continue"};BE(ts(this._zone,this._elRef.nativeElement,(l,h)=>{h&&x_(l),l.classList.add("show")},t),ts(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{js(t,"keydown").pipe(li(this._closed$),fn(i=>i.which===ui.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(nb.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;js(this._dialogEl.nativeElement,"mousedown").pipe(li(this._closed$),(0,f.b)(()=>r=!1),hr(()=>js(t,"mouseup").pipe(li(this._closed$),(0,Ht.q)(1))),fn(({target:i})=>t===i)).subscribe(()=>{r=!0}),js(t,"click").pipe(li(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(nb.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=jO(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&ts(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(re),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&c.Gf(yF,7),2&t){let i;c.iGM(i=c.CRH())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(c.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),c.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),c.ekj("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:eF,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(c.F$t(),c.TgZ(0,"div",0,1),c.TgZ(2,"div",2),c.Hsn(3),c.qZA(),c.qZA()),2&t&&c.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})();const e2=()=>{};let t2=(()=>{class n{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):e2}_adjustBody(t){const r=this._document.body,i=r.style.paddingRight,l=parseFloat(window.getComputedStyle(r)["padding-right"]);return r.style["padding-right"]=`${l+t}px`,()=>r.style["padding-right"]=i}_isPresent(t){const r=this._document.body.getBoundingClientRect();return window.innerWidth-(r.left+r.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const r=this._document.body;r.appendChild(t);const i=t.getBoundingClientRect().width-t.clientWidth;return r.removeChild(t),i}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),n2=(()=>{class n{constructor(t,r,i,l,h,m){this._applicationRef=t,this._injector=r,this._document=i,this._scrollBar=l,this._rendererFactory=h,this._ngZone=m,this._activeWindowCmptHasChanged=new Tn.x,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new c.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const v=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const i=js(e,"focusin").pipe(li(t),(0,Xe.U)(l=>l.target));js(e,"keydown").pipe(li(t),fn(l=>l.which===ui.Tab),QI(i)).subscribe(([l,h])=>{const[m,v]=jO(e);(h===m||h===e)&&l.shiftKey&&(v.focus(),l.preventDefault()),h===v&&!l.shiftKey&&(m.focus(),l.preventDefault())}),r&&js(e,"click").pipe(li(t),QI(i),(0,Xe.U)(l=>l[1])).subscribe(l=>l.focus())})})(0,v.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(v.location.nativeElement)}})}open(t,r,i,l){const h=l.container instanceof HTMLElement?l.container:Wp(l.container)?this._document.querySelector(l.container):this._document.body,m=this._rendererFactory.createRenderer(null,null),v=this._scrollBar.compensate(),T=()=>{this._modalRefs.length||(m.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!h)throw new Error(`The specified modal container "${l.container||"body"}" was not found in the DOM.`);const A=new QO,M=this._getContentRef(t,l.injector||r,i,A,l);let L=!1!==l.backdrop?this._attachBackdrop(t,h):void 0,V=this._attachWindowComponent(t,h,M),J=new QL(V,M,L,l.beforeDismiss);return this._registerModalRef(J),this._registerWindowCmpt(V),J.result.then(v,v),J.result.then(T,T),A.close=ve=>{J.close(ve)},A.dismiss=ve=>{J.dismiss(ve)},this._applyWindowOptions(V.instance,l),1===this._modalRefs.length&&m.addClass(this._document.body,"modal-open"),L&&L.instance&&(this._applyBackdropOptions(L.instance,l),L.changeDetectorRef.detectChanges()),V.changeDetectorRef.detectChanges(),J}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,r){let l=t.resolveComponentFactory(JL).create(this._injector);return this._applicationRef.attachView(l.hostView),r.appendChild(l.location.nativeElement),l}_attachWindowComponent(t,r,i){let h=t.resolveComponentFactory(XL).create(this._injector,i.nodes);return this._applicationRef.attachView(h.hostView),r.appendChild(h.location.nativeElement),h}_applyWindowOptions(t,r){this._windowAttributes.forEach(i=>{Wp(r[i])&&(t[i]=r[i])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(i=>{Wp(r[i])&&(t[i]=r[i])})}_getContentRef(t,r,i,l,h){return i?i instanceof c.Rgc?this._createFromTemplateRef(i,l):function CO(n){return"string"==typeof n}(i)?this._createFromString(i):this._createFromComponent(t,r,i,l,h):new Zp([])}_createFromTemplateRef(t,r){const l=t.createEmbeddedView({$implicit:r,close(h){r.close(h)},dismiss(h){r.dismiss(h)}});return this._applicationRef.attachView(l),new Zp([l.rootNodes],l)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new Zp([[r]])}_createFromComponent(t,r,i,l,h){const m=t.resolveComponentFactory(i),v=c.zs3.create({providers:[{provide:QO,useValue:l}],parent:r}),T=m.create(v),A=T.location.nativeElement;return h.scrollable&&A.classList.add("component-host-scrollable"),this._applicationRef.attachView(T.hostView),new Zp([[A]],T.hostView,T)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.z2F),c.LFG(c.zs3),c.LFG(re),c.LFG(t2),c.LFG(c.FYo),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),r2=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Q0))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),s2=(()=>{class n{constructor(t,r,i,l){this._moduleCFR=t,this._injector=r,this._modalStack=i,this._config=l}open(t,r={}){const i=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._moduleCFR,this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c._Vd),c.LFG(c.zs3),c.LFG(n2),c.LFG(r2))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[s2]}),n})(),rM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[vn]]}),n})(),dM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[vn]]}),n})(),fM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[vn]]}),n})(),pM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[vn]]}),n})(),gM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[vn]]}),n})(),mM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[vn]]}),n})(),_M=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[vn]]}),n})(),yM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();new c.OlP("live announcer delay",{providedIn:"root",factory:function y2(){return 100}});let vM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[vn]]}),n})();const v2=[MO,xO,kO,LO,VO,qO,JO,XO,rM,dM,fM,pM,gM,mM,_M,yM,vM];let b2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[v2,MO,xO,kO,LO,VO,qO,JO,XO,rM,dM,fM,pM,gM,mM,_M,yM,vM]}),n})(),w2=(()=>{class n{constructor(){this.isCollapsed=!0}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-nav-bar"]],decls:14,vars:2,consts:[[1,"navbar","navbar-expand-lg","navbar-light"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse","justify-content-end",3,"ngbCollapse"],[1,"navbar-nav"],[1,"nav-item"],["aria-current","page","routerLink","/",1,"nav-link","active"],["type","button",1,"btn","btn-outline-primary"],["routerLink","/NewTask"]],template:function(t,r){1&t&&(c.TgZ(0,"nav",0),c.TgZ(1,"div",1),c.TgZ(2,"a",2),c._uU(3,"FirstSite"),c.qZA(),c.TgZ(4,"button",3),c.NdJ("click",function(){return r.isCollapsed=!r.isCollapsed}),c._UZ(5,"span",4),c.qZA(),c.TgZ(6,"div",5),c.TgZ(7,"ul",6),c.TgZ(8,"li",7),c.TgZ(9,"a",8),c._uU(10,"Home"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(11,"button",9),c.TgZ(12,"a",10),c._uU(13,"New Task"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.xp6(4),c.uIk("arr-expanded",!r.isCollapsed),c.xp6(2),c.Q6J("ngbCollapse",r.isCollapsed))},directives:[lS,SL,kd],styles:['@import"https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&display=swap";.navbar-brand[_ngcontent-%COMP%]{font-family:Space Mono,monospace;font-weight:700}.container-fluid[_ngcontent-%COMP%]{padding:0 6%}a[_ngcontent-%COMP%]{text-decoration:none;color:#b667f1}a[_ngcontent-%COMP%]:hover{color:#fbf8f1}.btn-outline-primary[_ngcontent-%COMP%]:hover{background-color:#b667f1;border-color:#fbf8f1}.btn-outline-primary[_ngcontent-%COMP%]{border-color:#b667f1}']}),n})(),D2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"container"]],template:function(t,r){1&t&&(c._UZ(0,"app-nav-bar"),c.TgZ(1,"div",0),c._UZ(2,"router-outlet"),c.qZA())},directives:[w2,wy],styles:[""]}),n})();const bM_firebase={apiKey:"AIzaSyB71civMACTzBm7mrWDPF0t1mHD59KXpLM",authDomain:"my-task-project-3c8eb.firebaseapp.com",projectId:"my-task-project-3c8eb",storageBucket:"my-task-project-3c8eb.appspot.com",messagingSenderId:"569547331901",appId:"1:569547331901:web:cb54e0aad4108e14044d54",measurementId:"G-C5TZ2GE0YF"};let E2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[vn]]}),n})();R(655);const kc=function T2(n){var e=typeof n;return null!=n&&("object"==e||"function"==e)},wM="object"==typeof global&&global&&global.Object===Object&&global;var I2="object"==typeof self&&self&&self.Object===Object&&self;const pl=wM||I2||Function("return this")(),k_=pl.Symbol;var DM=Object.prototype,F2=DM.hasOwnProperty,L2=DM.toString,rb=k_?k_.toStringTag:void 0;var j2=Object.prototype.toString;var EM=k_?k_.toStringTag:void 0;const Yp=function z2(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":EM&&EM in Object(n)?function V2(n){var e=F2.call(n,rb),t=n[rb];try{n[rb]=void 0;var r=!0}catch(l){}var i=L2.call(n);return r&&(e?n[rb]=t:delete n[rb]),i}(n):function H2(n){return j2.call(n)}(n)},Bh=function K2(n){return null!=n&&"object"==typeof n};parseInt,Math,Math;const IM=function hV(n,e){return n===e||n!=n&&e!=e},ZE=function fV(n,e){for(var t=n.length;t--;)if(IM(n[t][0],e))return t;return-1};var gV=Array.prototype.splice;function P_(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}P_.prototype.clear=function cV(){this.__data__=[],this.size=0},P_.prototype.delete=function mV(n){var e=this.__data__,t=ZE(e,n);return!(t<0||(t==e.length-1?e.pop():gV.call(e,t,1),--this.size,0))},P_.prototype.get=function yV(n){var e=this.__data__,t=ZE(e,n);return t<0?void 0:e[t][1]},P_.prototype.has=function bV(n){return ZE(this.__data__,n)>-1},P_.prototype.set=function DV(n,e){var t=this.__data__,r=ZE(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this};const YE=P_,fS=pl["__core-js_shared__"];var AM=function(){var n=/[^.]+$/.exec(fS&&fS.keys&&fS.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();var jV=Function.prototype.toString;const Jp=function HV(n){if(null!=n){try{return jV.call(n)}catch(e){}try{return n+""}catch(e){}}return""};var $V=/^\[object .+?Constructor\]$/,ZV=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const JV=function YV(n){return!(!kc(n)||function VV(n){return!!AM&&AM in n}(n))&&(function FV(n){if(!kc(n))return!1;var e=Yp(n);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}(n)?ZV:$V).test(Jp(n))},Qp=function eB(n,e){var t=function QV(n,e){return null==n?void 0:n[e]}(n,e);return JV(t)?t:void 0},ib=Qp(pl,"Map"),sb=Qp(Object,"create");var uB=Object.prototype.hasOwnProperty;var fB=Object.prototype.hasOwnProperty;function F_(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}F_.prototype.clear=function rB(){this.__data__=sb?sb(null):{},this.size=0},F_.prototype.delete=function sB(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e},F_.prototype.get=function cB(n){var e=this.__data__;if(sb){var t=e[n];return"__lodash_hash_undefined__"===t?void 0:t}return uB.call(e,n)?e[n]:void 0},F_.prototype.has=function pB(n){var e=this.__data__;return sb?void 0!==e[n]:fB.call(e,n)},F_.prototype.set=function _B(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=sb&&void 0===e?"__lodash_hash_undefined__":e,this};const NM=F_,JE=function EB(n,e){var t=n.__data__;return function wB(n){var e=typeof n;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==n:null===n}(e)?t["string"==typeof e?"string":"hash"]:t.map};function L_(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}L_.prototype.clear=function vB(){this.size=0,this.__data__={hash:new NM,map:new(ib||YE),string:new NM}},L_.prototype.delete=function TB(n){var e=JE(this,n).delete(n);return this.size-=e?1:0,e},L_.prototype.get=function IB(n){return JE(this,n).get(n)},L_.prototype.has=function AB(n){return JE(this,n).has(n)},L_.prototype.set=function OB(n,e){var t=JE(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this};const xB=L_;function V_(n){var e=this.__data__=new YE(n);this.size=e.size}V_.prototype.clear=function TV(){this.__data__=new YE,this.size=0},V_.prototype.delete=function IV(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t},V_.prototype.get=function AV(n){return this.__data__.get(n)},V_.prototype.has=function OV(n){return this.__data__.has(n)},V_.prototype.set=function kB(n,e){var t=this.__data__;if(t instanceof YE){var r=t.__data__;if(!ib||r.length<199)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new xB(r)}return t.set(n,e),this.size=t.size,this},function(){try{Qp(Object,"defineProperty")({},"",{})}catch(e){}}();!function qB(n){Bh(n)&&Yp(n)}(function(){return arguments}()),"object"==typeof exports&&exports&&!exports.nodeType&&exports&&"object"==typeof module&&module&&!module.nodeType&&module;var Bn={};Bn["[object Float32Array]"]=Bn["[object Float64Array]"]=Bn["[object Int8Array]"]=Bn["[object Int16Array]"]=Bn["[object Int32Array]"]=Bn["[object Uint8Array]"]=Bn["[object Uint8ClampedArray]"]=Bn["[object Uint16Array]"]=Bn["[object Uint32Array]"]=!0,Bn["[object Arguments]"]=Bn["[object Array]"]=Bn["[object ArrayBuffer]"]=Bn["[object Boolean]"]=Bn["[object DataView]"]=Bn["[object Date]"]=Bn["[object Error]"]=Bn["[object Function]"]=Bn["[object Map]"]=Bn["[object Number]"]=Bn["[object Object]"]=Bn["[object RegExp]"]=Bn["[object Set]"]=Bn["[object String]"]=Bn["[object WeakMap]"]=!1;const gS=function LU(n){return function(e){return n(e)}};var UM="object"==typeof exports&&exports&&!exports.nodeType&&exports,ob=UM&&"object"==typeof module&&module&&!module.nodeType&&module,mS=ob&&ob.exports===UM&&wM.process;const B_=function(){try{return ob&&ob.require&&ob.require("util").types||mS&&mS.binding&&mS.binding("util")}catch(e){}}();var jM=B_&&B_.isTypedArray;jM&&gS(jM);const GM=function KU(n,e){return function(t){return n(e(t))}};GM(Object.keys,Object),"object"==typeof exports&&exports&&!exports.nodeType&&exports&&"object"==typeof module&&module&&!module.nodeType&&module,GM(Object.getPrototypeOf,Object);const DS=Qp(pl,"DataView"),ES=Qp(pl,"Promise"),TS=Qp(pl,"Set"),CS=Qp(pl,"WeakMap");var ex="[object Map]",tx="[object Promise]",nx="[object Set]",rx="[object WeakMap]",ix="[object DataView]",Hj=Jp(DS),Gj=Jp(ib),$j=Jp(ES),Wj=Jp(TS),zj=Jp(CS),Xp=Yp;(DS&&Xp(new DS(new ArrayBuffer(1)))!=ix||ib&&Xp(new ib)!=ex||ES&&Xp(ES.resolve())!=tx||TS&&Xp(new TS)!=nx||CS&&Xp(new CS)!=rx)&&(Xp=function(n){var e=Yp(n),t="[object Object]"==e?n.constructor:void 0,r=t?Jp(t):"";if(r)switch(r){case Hj:return ix;case Gj:return ex;case $j:return tx;case Wj:return nx;case zj:return rx}return e});var ux=B_&&B_.isMap;ux&&gS(ux);var cx=B_&&B_.isSet;cx&&gS(cx);var kn={};kn["[object Arguments]"]=kn["[object Array]"]=kn["[object ArrayBuffer]"]=kn["[object DataView]"]=kn["[object Boolean]"]=kn["[object Date]"]=kn["[object Float32Array]"]=kn["[object Float64Array]"]=kn["[object Int8Array]"]=kn["[object Int16Array]"]=kn["[object Int32Array]"]=kn["[object Map]"]=kn["[object Number]"]=kn["[object Object]"]=kn["[object RegExp]"]=kn["[object Set]"]=kn["[object String]"]=kn["[object Symbol]"]=kn["[object Uint8Array]"]=kn["[object Uint8ClampedArray]"]=kn["[object Uint16Array]"]=kn["[object Uint32Array]"]=!0,kn["[object Error]"]=kn["[object Function]"]=kn["[object WeakMap]"]=!1,Function.prototype.toString.call(Object),new Array(256).fill(0).map((n,e)=>("0"+e.toString(16)).slice(-2));let LG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Ng,vn]]}),n})(),VG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[D2]}),n.\u0275inj=c.cJS({providers:[Qa,YI],imports:[[bu,OP,b2,Ng,ey,oa,bi.hO.initializeApp(bM_firebase),IP,E2,LG]]}),n})();(0,c.G48)(),Jc().bootstrapModule(VG).catch(n=>console.error(n))},5867:(et,we,R)=>{"use strict";R.d(we,{Mq:()=>c.getApp,C6:()=>c.getApps});var c=R(9681);(0,c.registerVersion)("firebase","9.6.6","app")},127:(et,we,R)=>{"use strict";R.d(we,{Z:()=>c.Z});var c=R(3942);c.Z.registerVersion("firebase","9.6.6","app-compat")},389:(et,we,R)=>{"use strict";R.r(we);var c=R(5861),Y=R(3942),k=R(2090),le=R(9681),te=R(655),pe=R(1877),re=R(4859);const Oe=function Be(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ve=function Ie(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},z=new k.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ge=new pe.Yd("@firebase/auth");function Te(_,...f){ge.logLevel<=pe.in.ERROR&&ge.error(`Auth (${le.SDK_VERSION}): ${_}`,...f)}function ce(_,...f){throw $e(_,...f)}function Me(_,...f){return $e(_,...f)}function Ce(_,f,g){const b=Object.assign(Object.assign({},Ve()),{[f]:g});return new k.LL("auth","Firebase",b).create(f,{appName:_.name})}function Ke(_,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&ce(_,"argument-error"),Ce(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $e(_,...f){if("string"!=typeof _){const g=f[0],b=[...f.slice(1)];return b[0]&&(b[0].appName=_.name),_._errorFactory.create(g,...b)}return z.create(_,...f)}function se(_,f,...g){if(!_)throw $e(f,...g)}function q(_){const f="INTERNAL ASSERTION FAILED: "+_;throw Te(f),new Error(f)}function ie(_,f){_||q(f)}const me=new Map;function oe(_){ie(_ instanceof Function,"Expected a class definition");let f=me.get(_);return f?(ie(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,me.set(_,f),f)}function mt(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function Bt(){return"http:"===Pn()||"https:"===Pn()}function Pn(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Un{constructor(f,g){this.shortDelay=f,this.longDelay=g,ie(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}get(){return function nt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Bt()||(0,k.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qt(_,f){ie(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class _r{static initialize(f,g,b){this.fetchImpl=f,g&&(this.headersImpl=g),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void q("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void q("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void q("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Wt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ki=new Un(3e4,6e4);function zt(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function Nt(_,f,g,b){return is.apply(this,arguments)}function is(){return(is=(0,c.Z)(function*(_,f,g,b,S={}){return ur(_,S,(0,c.Z)(function*(){let x={},W={};b&&("GET"===f?W=b:x={body:JSON.stringify(b)});const ue=(0,k.xO)(Object.assign({key:_.config.apiKey},W)).slice(1),Ue=yield _._getAdditionalHeaders();return Ue["Content-Type"]="application/json",_.languageCode&&(Ue["X-Firebase-Locale"]=_.languageCode),_r.fetch()(Gs(_,_.config.apiHost,g,ue),Object.assign({method:f,headers:Ue,referrerPolicy:"no-referrer"},x))}))})).apply(this,arguments)}function ur(_,f,g){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,c.Z)(function*(_,f,g){_._canInitEmulator=!1;const b=Object.assign(Object.assign({},Wt),f);try{const S=new ci(_),x=yield Promise.race([g(),S.promise]);S.clearNetworkTimeout();const W=yield x.json();if("needConfirmation"in W)throw Fi(_,"account-exists-with-different-credential",W);if(x.ok&&!("errorMessage"in W))return W;{const ue=x.ok?W.errorMessage:W.error.message,[Ue,Qe]=ue.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ue)throw Fi(_,"credential-already-in-use",W);if("EMAIL_EXISTS"===Ue)throw Fi(_,"email-already-in-use",W);const gt=b[Ue]||Ue.toLowerCase().replace(/[_\s]+/g,"-");if(Qe)throw Ce(_,gt,Qe);ce(_,gt)}}catch(S){if(S instanceof k.ZR)throw S;ce(_,"network-request-failed")}})).apply(this,arguments)}function Sr(_,f,g,b){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,c.Z)(function*(_,f,g,b,S={}){const x=yield Nt(_,f,g,b,S);return"mfaPendingCredential"in x&&ce(_,"multi-factor-auth-required",{_serverResponse:x}),x})).apply(this,arguments)}function Gs(_,f,g,b){const S=`${f}${g}?${b}`;return _.config.emulator?Qt(_.config,S):`${_.config.apiScheme}://${S}`}class ci{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,b)=>{this.timer=setTimeout(()=>b(Me(this.auth,"network-request-failed")),ki.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fi(_,f,g){const b={appName:_.name};g.email&&(b.email=g.email),g.phoneNumber&&(b.phoneNumber=g.phoneNumber);const S=Me(_,f,b);return S.customData._tokenResponse=g,S}function Wr(){return(Wr=(0,c.Z)(function*(_,f){return Nt(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function jn(_,f){return In.apply(this,arguments)}function In(){return(In=(0,c.Z)(function*(_,f){return Nt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function fo(_,f){return ft.apply(this,arguments)}function ft(){return(ft=(0,c.Z)(function*(_,f){return Nt(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Ye(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function yr(){return(yr=(0,c.Z)(function*(_,f=!1){const g=(0,k.m9)(_),b=yield g.getIdToken(f),S=Je(b);se(S&&S.exp&&S.auth_time&&S.iat,g.auth,"internal-error");const x="object"==typeof S.firebase?S.firebase:void 0,W=null==x?void 0:x.sign_in_provider;return{claims:S,token:b,authTime:Ye(St(S.auth_time)),issuedAtTime:Ye(St(S.iat)),expirationTime:Ye(St(S.exp)),signInProvider:W||null,signInSecondFactor:(null==x?void 0:x.sign_in_second_factor)||null}})).apply(this,arguments)}function St(_){return 1e3*Number(_)}function Je(_){const[f,g,b]=_.split(".");if(void 0===f||void 0===g||void 0===b)return Te("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,k.tV)(g);return S?JSON.parse(S):(Te("Failed to decode base64 JWT payload"),null)}catch(S){return Te("Caught error parsing JWT payload as JSON",S),null}}function Ti(_,f){return ss.apply(this,arguments)}function ss(){return(ss=(0,c.Z)(function*(_,f,g=!1){if(g)return f;try{return yield f}catch(b){throw b instanceof k.ZR&&Rt(b)&&_.auth.currentUser===_&&(yield _.auth.signOut()),b}})).apply(this,arguments)}function Rt({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class pa{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const S=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const b=this.getInterval(f);this.timerId=setTimeout((0,c.Z)(function*(){yield g.iteration()}),b)}iteration(){var f=this;return(0,c.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&f.schedule(!0))}f.schedule()})()}}class zr{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ye(this.lastLoginAt),this.creationTime=Ye(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function di(_){return B.apply(this,arguments)}function B(){return(B=(0,c.Z)(function*(_){var f;const g=_.auth,b=yield _.getIdToken(),S=yield Ti(_,fo(g,{idToken:b}));se(null==S?void 0:S.users.length,g,"internal-error");const x=S.users[0];_._notifyReloadListener(x);const W=(null===(f=x.providerUserInfo)||void 0===f?void 0:f.length)?X(x.providerUserInfo):[],ue=be(_.providerData,W),gt=!!_.isAnonymous&&!(_.email&&x.passwordHash||(null==ue?void 0:ue.length)),it={uid:x.localId,displayName:x.displayName||null,photoURL:x.photoUrl||null,email:x.email||null,emailVerified:x.emailVerified||!1,phoneNumber:x.phoneNumber||null,tenantId:x.tenantId||null,providerData:ue,metadata:new zr(x.createdAt,x.lastLoginAt),isAnonymous:gt};Object.assign(_,it)})).apply(this,arguments)}function $(){return($=(0,c.Z)(function*(_){const f=(0,k.m9)(_);yield di(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function be(_,f){return[..._.filter(b=>!f.some(S=>S.providerId===b.providerId)),...f]}function X(_){return _.map(f=>{var{providerId:g}=f,b=(0,te._T)(f,["providerId"]);return{providerId:g,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function ht(){return(ht=(0,c.Z)(function*(_,f){const g=yield ur(_,{},(0,c.Z)(function*(){const b=(0,k.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:S,apiKey:x}=_.config,W=Gs(_,S,"/v1/token",`key=${x}`),ue=yield _._getAdditionalHeaders();return ue["Content-Type"]="application/x-www-form-urlencoded",_r.fetch()(W,{method:"POST",headers:ue,body:b})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Xt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){se(f.idToken,"internal-error"),se(void 0!==f.idToken,"internal-error"),se(void 0!==f.refreshToken,"internal-error");const g="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function at(_){const f=Je(_);return se(f,"internal-error"),se(void 0!==f.exp,"internal-error"),se(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var b=this;return(0,c.Z)(function*(){return se(!b.accessToken||b.refreshToken,f,"user-token-expired"),g||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(f,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var b=this;return(0,c.Z)(function*(){const{accessToken:S,refreshToken:x,expiresIn:W}=yield function We(_,f){return ht.apply(this,arguments)}(f,g);b.updateTokensAndExpiration(S,x,Number(W))})()}updateTokensAndExpiration(f,g,b){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(f,g){const{refreshToken:b,accessToken:S,expirationTime:x}=g,W=new Xt;return b&&(se("string"==typeof b,"internal-error",{appName:f}),W.refreshToken=b),S&&(se("string"==typeof S,"internal-error",{appName:f}),W.accessToken=S),x&&(se("number"==typeof x,"internal-error",{appName:f}),W.expirationTime=x),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Xt,this.toJSON())}_performRefresh(){return q("not implemented")}}function an(_,f){se("string"==typeof _||void 0===_,"internal-error",{appName:f})}class un{constructor(f){var{uid:g,auth:b,stsTokenManager:S}=f,x=(0,te._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pa(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=b,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=x.displayName||null,this.email=x.email||null,this.emailVerified=x.emailVerified||!1,this.phoneNumber=x.phoneNumber||null,this.photoURL=x.photoURL||null,this.isAnonymous=x.isAnonymous||!1,this.tenantId=x.tenantId||null,this.providerData=x.providerData?[...x.providerData]:[],this.metadata=new zr(x.createdAt||void 0,x.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,c.Z)(function*(){const b=yield Ti(g,g.stsTokenManager.getToken(g.auth,f));return se(b,g.auth,"internal-error"),g.accessToken!==b&&(g.accessToken=b,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),b})()}getIdTokenResult(f){return function ln(_){return yr.apply(this,arguments)}(this,f)}reload(){return function G(_){return $.apply(this,arguments)}(this)}_assign(f){this!==f&&(se(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new un(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var b=this;return(0,c.Z)(function*(){let S=!1;f.idToken&&f.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(f),S=!0),g&&(yield di(b)),yield b.auth._persistUserIfCurrent(b),S&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var f=this;return(0,c.Z)(function*(){const g=yield f.getIdToken();return yield Ti(f,function dt(_,f){return Wr.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var b,S,x,W,ue,Ue,Qe,gt;const it=null!==(b=g.displayName)&&void 0!==b?b:void 0,Cn=null!==(S=g.email)&&void 0!==S?S:void 0,Ai=null!==(x=g.phoneNumber)&&void 0!==x?x:void 0,Gl=null!==(W=g.photoURL)&&void 0!==W?W:void 0,Sd=null!==(ue=g.tenantId)&&void 0!==ue?ue:void 0,Gu=null!==(Ue=g._redirectEventId)&&void 0!==Ue?Ue:void 0,Ef=null!==(Qe=g.createdAt)&&void 0!==Qe?Qe:void 0,iy=null!==(gt=g.lastLoginAt)&&void 0!==gt?gt:void 0,{uid:xo,emailVerified:Tt,isAnonymous:Tf,providerData:Xo,stsTokenManager:$u}=g;se(xo&&$u,f,"internal-error");const Cf=Xt.fromJSON(this.name,$u);se("string"==typeof xo,f,"internal-error"),an(it,f.name),an(Cn,f.name),se("boolean"==typeof Tt,f,"internal-error"),se("boolean"==typeof Tf,f,"internal-error"),an(Ai,f.name),an(Gl,f.name),an(Sd,f.name),an(Gu,f.name),an(Ef,f.name),an(iy,f.name);const If=new un({uid:xo,auth:f,email:Cn,emailVerified:Tt,displayName:it,isAnonymous:Tf,photoURL:Gl,phoneNumber:Ai,tenantId:Sd,stsTokenManager:Cf,createdAt:Ef,lastLoginAt:iy});return Xo&&Array.isArray(Xo)&&(If.providerData=Xo.map(sy=>Object.assign({},sy))),Gu&&(If._redirectEventId=Gu),If}static _fromIdTokenResponse(f,g,b=!1){return(0,c.Z)(function*(){const S=new Xt;S.updateFromServerResponse(g);const x=new un({uid:g.localId,auth:f,stsTokenManager:S,isAnonymous:b});return yield di(x),x})()}}const Ct=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(g,b){var S=this;return(0,c.Z)(function*(){S.storage[g]=b})()}_get(g){var b=this;return(0,c.Z)(function*(){const S=b.storage[g];return void 0===S?null:S})()}_remove(g){var b=this;return(0,c.Z)(function*(){delete b.storage[g]})()}_addListener(g,b){}_removeListener(g,b){}}return _.type="NONE",_})();function Hn(_,f,g){return`firebase:${_}:${f}:${g}`}class Ar{constructor(f,g,b){this.persistence=f,this.auth=g,this.userKey=b;const{config:S,name:x}=this.auth;this.fullUserKey=Hn(this.userKey,S.apiKey,x),this.fullPersistenceKey=Hn("persistence",S.apiKey,x),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,c.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?un._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,c.Z)(function*(){if(g.persistence===f)return;const b=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,b?g.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,b="authUser"){return(0,c.Z)(function*(){if(!g.length)return new Ar(oe(Ct),f,b);const S=(yield Promise.all(g.map(function(){var Qe=(0,c.Z)(function*(gt){if(yield gt._isAvailable())return gt});return function(gt){return Qe.apply(this,arguments)}}()))).filter(Qe=>Qe);let x=S[0]||oe(Ct);const W=Hn(b,f.config.apiKey,f.name);let ue=null;for(const Qe of g)try{const gt=yield Qe._get(W);if(gt){const it=un._fromJSON(f,gt);Qe!==x&&(ue=it),x=Qe;break}}catch(gt){}const Ue=S.filter(Qe=>Qe._shouldAllowMigration);return x._shouldAllowMigration&&Ue.length?(x=Ue[0],ue&&(yield x._set(W,ue.toJSON())),yield Promise.all(g.map(function(){var Qe=(0,c.Z)(function*(gt){if(gt!==x)try{yield gt._remove(W)}catch(it){}});return function(gt){return Qe.apply(this,arguments)}}())),new Ar(x,f,b)):new Ar(x,f,b)})()}}function ga(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Gn(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(ma(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(os(f))return"Blackberry";if($n(f))return"Webos";if(gl(f))return"Safari";if((f.includes("chrome/")||_a(f))&&!f.includes("edge/"))return"Chrome";if(Nr(f))return"Android";{const b=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function ma(_=(0,k.z$)()){return/firefox\//i.test(_)}function gl(_=(0,k.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function _a(_=(0,k.z$)()){return/crios\//i.test(_)}function Gn(_=(0,k.z$)()){return/iemobile/i.test(_)}function Nr(_=(0,k.z$)()){return/android/i.test(_)}function os(_=(0,k.z$)()){return/blackberry/i.test(_)}function $n(_=(0,k.z$)()){return/webos/i.test(_)}function qr(_=(0,k.z$)()){return/iphone|ipad|ipod/i.test(_)}function $s(_=(0,k.z$)()){return qr(_)||Nr(_)||$n(_)||os(_)||/windows phone/i.test(_)||Gn(_)}function Lo(_,f=[]){let g;switch(_){case"Browser":g=ga((0,k.z$)());break;case"Worker":g=`${ga((0,k.z$)())}-${_}`;break;default:g=_}const b=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${le.SDK_VERSION}/${b}`}class Zr{constructor(f,g){this.app=f,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Et(this),this.idTokenSubscription=new Et(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=z,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(f,g){var b=this;return g&&(this._popupRedirectResolver=oe(g)),this._initializationPromise=this.queue((0,c.Z)(function*(){var S,x;if(!b._deleted&&(b.persistenceManager=yield Ar.create(b,f),!b._deleted)){if(null===(S=b._popupRedirectResolver)||void 0===S?void 0:S._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch(W){}yield b.initializeCurrentUser(g),b.lastNotifiedUid=(null===(x=b.currentUser)||void 0===x?void 0:x.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,c.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g)}})()}initializeCurrentUser(f){var g=this;return(0,c.Z)(function*(){var b;let S=yield g.assertedPersistence.getCurrentUser();if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const x=null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId,W=null==S?void 0:S._redirectEventId,ue=yield g.tryRedirectSignIn(f);(!x||x===W)&&(null==ue?void 0:ue.user)&&(S=ue.user)}return S?S._redirectEventId?(se(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===S._redirectEventId?g.directlySetCurrentUser(S):g.reloadAndSetCurrentUserOrClear(S)):g.reloadAndSetCurrentUserOrClear(S):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var g=this;return(0,c.Z)(function*(){let b=null;try{b=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch(S){yield g._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,c.Z)(function*(){try{yield di(f)}catch(b){if("auth/network-request-failed"!==b.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function ot(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,c.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,c.Z)(function*(){const b=f?(0,k.m9)(f):null;return b&&se(b.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(b&&b._clone(g))})()}_updateCurrentUser(f){var g=this;return(0,c.Z)(function*(){if(!g._deleted)return f&&se(g.tenantId===f.tenantId,g,"tenant-id-mismatch"),g.queue((0,c.Z)(function*(){yield g.directlySetCurrentUser(f),g.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,c.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var g=this;return this.queue((0,c.Z)(function*(){yield g.assertedPersistence.setPersistence(oe(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new k.LL("auth","Firebase",f())}onAuthStateChanged(f,g,b){return this.registerStateListener(this.authStateSubscription,f,g,b)}onIdTokenChanged(f,g,b){return this.registerStateListener(this.idTokenSubscription,f,g,b)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var b=this;return(0,c.Z)(function*(){const S=yield b.getOrInitRedirectPersistenceManager(g);return null===f?S.removeCurrentUser():S.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,c.Z)(function*(){if(!g.redirectPersistenceManager){const b=f&&oe(f)||g._popupRedirectResolver;se(b,g,"argument-error"),g.redirectPersistenceManager=yield Ar.create(g,[oe(b._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,c.Z)(function*(){var b,S;return g._isInitialized&&(yield g.queue((0,c.Z)(function*(){}))),(null===(b=g._currentUser)||void 0===b?void 0:b._redirectEventId)===f?g._currentUser:(null===(S=g.redirectUser)||void 0===S?void 0:S._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,c.Z)(function*(){if(f===g.currentUser)return g.queue((0,c.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,b,S){if(this._deleted)return()=>{};const x="function"==typeof g?g:g.next.bind(g),W=this._isInitialized?Promise.resolve():this._initializationPromise;return se(W,this,"internal-error"),W.then(()=>x(this.currentUser)),"function"==typeof g?f.addObserver(g,b,S):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,c.Z)(function*(){g.currentUser&&g.currentUser!==f&&(g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh()),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Lo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,c.Z)(function*(){const g={"X-Client-Version":f.clientVersion};return f.app.options.appId&&(g["X-Firebase-gmpid"]=f.app.options.appId),g})()}}function ke(_){return(0,k.m9)(_)}class Et{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,k.ne)(g=>this.observer=g)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Or(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function Sn(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class Ut{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return q("not implemented")}_getIdTokenResponse(f){return q("not implemented")}_linkToIdToken(f,g){return q("not implemented")}_getReauthenticationResolver(f){return q("not implemented")}}function go(_,f){return yn.apply(this,arguments)}function yn(){return(yn=(0,c.Z)(function*(_,f){return Nt(_,"POST","/v1/accounts:resetPassword",zt(_,f))})).apply(this,arguments)}function bt(_,f){return mo.apply(this,arguments)}function mo(){return(mo=(0,c.Z)(function*(_,f){return Nt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Vo(_,f){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,c.Z)(function*(_,f){return Nt(_,"POST","/v1/accounts:update",zt(_,f))})).apply(this,arguments)}function dn(){return(dn=(0,c.Z)(function*(_,f){return Sr(_,"POST","/v1/accounts:signInWithPassword",zt(_,f))})).apply(this,arguments)}function Ws(_,f){return _o.apply(this,arguments)}function _o(){return(_o=(0,c.Z)(function*(_,f){return Nt(_,"POST","/v1/accounts:sendOobCode",zt(_,f))})).apply(this,arguments)}function er(_,f){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,c.Z)(function*(_,f){return Ws(_,f)})).apply(this,arguments)}function Fc(_,f){return yo.apply(this,arguments)}function yo(){return(yo=(0,c.Z)(function*(_,f){return Ws(_,f)})).apply(this,arguments)}function Ci(_,f){return hi.apply(this,arguments)}function hi(){return(hi=(0,c.Z)(function*(_,f){return Ws(_,f)})).apply(this,arguments)}function Lc(_,f){return ml.apply(this,arguments)}function ml(){return(ml=(0,c.Z)(function*(_,f){return Ws(_,f)})).apply(this,arguments)}function fi(){return(fi=(0,c.Z)(function*(_,f){return Sr(_,"POST","/v1/accounts:signInWithEmailLink",zt(_,f))})).apply(this,arguments)}function jo(){return(jo=(0,c.Z)(function*(_,f){return Sr(_,"POST","/v1/accounts:signInWithEmailLink",zt(_,f))})).apply(this,arguments)}class _l extends Ut{constructor(f,g,b,S=null){super("password",b),this._email=f,this._password=g,this._tenantId=S}static _fromEmailAndPassword(f,g){return new _l(f,g,"password")}static _fromEmailAndCode(f,g,b=null){return new _l(f,g,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,c.Z)(function*(){switch(g.signInMethod){case"password":return function Uo(_,f){return dn.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function zs(_,f){return fi.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:ce(f,"internal-error")}})()}_linkToIdToken(f,g){var b=this;return(0,c.Z)(function*(){switch(b.signInMethod){case"password":return bt(f,{idToken:g,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function Uh(_,f){return jo.apply(this,arguments)}(f,{idToken:g,email:b._email,oobCode:b._password});default:ce(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Fn(_,f){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,c.Z)(function*(_,f){return Sr(_,"POST","/v1/accounts:signInWithIdp",zt(_,f))})).apply(this,arguments)}class us extends Ut{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new us(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):ce("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:S}=g,x=(0,te._T)(g,["providerId","signInMethod"]);if(!b||!S)return null;const W=new us(b,S);return W.idToken=x.idToken||void 0,W.accessToken=x.accessToken||void 0,W.secret=x.secret,W.nonce=x.nonce,W.pendingToken=x.pendingToken||null,W}_getIdTokenResponse(f){return Fn(f,this.buildRequest())}_linkToIdToken(f,g){const b=this.buildRequest();return b.idToken=g,Fn(f,b)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Fn(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,k.xO)(g)}return f}}function tg(_,f){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,c.Z)(function*(_,f){return Nt(_,"POST","/v1/accounts:sendVerificationCode",zt(_,f))})).apply(this,arguments)}function va(){return(va=(0,c.Z)(function*(_,f){return Sr(_,"POST","/v1/accounts:signInWithPhoneNumber",zt(_,f))})).apply(this,arguments)}function Uc(){return(Uc=(0,c.Z)(function*(_,f){const g=yield Sr(_,"POST","/v1/accounts:signInWithPhoneNumber",zt(_,f));if(g.temporaryProof)throw Fi(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const rg={USER_NOT_FOUND:"user-not-found"};function jc(){return(jc=(0,c.Z)(function*(_,f){return Sr(_,"POST","/v1/accounts:signInWithPhoneNumber",zt(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),rg)})).apply(this,arguments)}class Go extends Ut{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new Go({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new Go({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function ng(_,f){return va.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function Ho(_,f){return Uc.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function ig(_,f){return jc.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:b,verificationCode:S}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:b,code:S}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:b,phoneNumber:S,temporaryProof:x}=f;return b||g||S||x?new Go({verificationId:g,verificationCode:b,phoneNumber:S,temporaryProof:x}):null}}class cs{constructor(f){var g,b,S,x,W,ue;const Ue=(0,k.zd)((0,k.pd)(f)),Qe=null!==(g=Ue.apiKey)&&void 0!==g?g:null,gt=null!==(b=Ue.oobCode)&&void 0!==b?b:null,it=function sg(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Ue.mode)&&void 0!==S?S:null);se(Qe&&gt&&it,"argument-error"),this.apiKey=Qe,this.operation=it,this.code=gt,this.continueUrl=null!==(x=Ue.continueUrl)&&void 0!==x?x:null,this.languageCode=null!==(W=Ue.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(ue=Ue.tenantId)&&void 0!==ue?ue:null}static parseLink(f){const g=function jh(_){const f=(0,k.zd)((0,k.pd)(_)).link,g=f?(0,k.zd)((0,k.pd)(f)).deep_link_id:null,b=(0,k.zd)((0,k.pd)(_)).deep_link_id;return(b?(0,k.zd)((0,k.pd)(b)).link:null)||b||g||f||_}(f);try{return new cs(g)}catch(b){return null}}}let ba=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,b){return _l._fromEmailAndPassword(g,b)}static credentialWithLink(g,b){const S=cs.parseLink(b);return se(S,"argument-error"),_l._fromEmailAndCode(g,S.code,S.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Ks{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class pi extends Ks{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class vo extends pi{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return se("providerId"in g&&"signInMethod"in g,"argument-error"),us._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return se(f.idToken||f.accessToken,"argument-error"),us._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return vo.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return vo.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:b,oauthTokenSecret:S,pendingToken:x,nonce:W,providerId:ue}=f;if(!b&&!S&&!g&&!x||!ue)return null;try{return new vo(ue)._credential({idToken:g,accessToken:b,nonce:W,pendingToken:x})}catch(Ue){return null}}}let $o=(()=>{class _ extends pi{constructor(){super("facebook.com")}static credential(g){return us._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(b){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Wo=(()=>{class _ extends pi{constructor(){super("google.com"),this.addScope("profile")}static credential(g,b){return us._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:b})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:S}=g;if(!b&&!S)return null;try{return _.credential(b,S)}catch(x){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Hc=(()=>{class _ extends pi{constructor(){super("github.com")}static credential(g){return us._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(b){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class vn extends Ut{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return Fn(f,this.buildRequest())}_linkToIdToken(f,g){const b=this.buildRequest();return b.idToken=g,Fn(f,b)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Fn(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:S,pendingToken:x}=g;return b&&S&&x&&b===S?new vn(b,x):null}static _create(f,g){return new vn(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ds extends Ks{constructor(f){se(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return ds.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return ds.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=vn.fromJSON(f);return se(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:b}=f;if(!g||!b)return null;try{return vn._create(b,g)}catch(S){return null}}}let gi=(()=>{class _ extends pi{constructor(){super("twitter.com")}static credential(g,b){return us._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:b})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:b,oauthTokenSecret:S}=g;if(!b||!S)return null;try{return _.credential(b,S)}catch(x){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function $c(_,f){return dr.apply(this,arguments)}function dr(){return(dr=(0,c.Z)(function*(_,f){return Sr(_,"POST","/v1/accounts:signUp",zt(_,f))})).apply(this,arguments)}class vr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,b,S=!1){return(0,c.Z)(function*(){const x=yield un._fromIdTokenResponse(f,b,S),W=Wc(b);return new vr({user:x,providerId:W,_tokenResponse:b,operationType:g})})()}static _forOperation(f,g,b){return(0,c.Z)(function*(){yield f._updateTokensIfNecessary(b,!0);const S=Wc(b);return new vr({user:f,providerId:S,_tokenResponse:b,operationType:g})})()}}function Wc(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function yl(){return(yl=(0,c.Z)(function*(_){var f;const g=ke(_);if(yield g._initializationPromise,null===(f=g.currentUser)||void 0===f?void 0:f.isAnonymous)return new vr({user:g.currentUser,providerId:null,operationType:"signIn"});const b=yield $c(g,{returnSecureToken:!0}),S=yield vr._fromIdTokenResponse(g,"signIn",b,!0);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class vl extends k.ZR{constructor(f,g,b,S){var x;super(g.code,g.message),this.operationType=b,this.user=S,Object.setPrototypeOf(this,vl.prototype),this.customData={appName:f.name,tenantId:null!==(x=f.tenantId)&&void 0!==x?x:void 0,_serverResponse:g.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(f,g,b,S){return new vl(f,g,b,S)}}function bl(_,f,g,b){return("reauthenticate"===f?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(x=>{throw"auth/multi-factor-auth-required"===x.code?vl._fromErrorAndOperation(_,x,f,b):x})}function fu(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function pu(){return(pu=(0,c.Z)(function*(_,f){const g=(0,k.m9)(_);yield qs(!0,g,f);const{providerUserInfo:b}=yield jn(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),S=fu(b||[]);return g.providerData=g.providerData.filter(x=>S.has(x.providerId)),S.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function en(_,f){return wa.apply(this,arguments)}function wa(){return(wa=(0,c.Z)(function*(_,f,g=!1){const b=yield Ti(_,f._linkToIdToken(_.auth,yield _.getIdToken()),g);return vr._forOperation(_,"link",b)})).apply(this,arguments)}function qs(_,f,g){return qt.apply(this,arguments)}function qt(){return(qt=(0,c.Z)(function*(_,f,g){yield di(f);const S=!1===_?"provider-already-linked":"no-such-provider";se(fu(f.providerData).has(g)===_,f.auth,S)})).apply(this,arguments)}function wl(_,f){return Da.apply(this,arguments)}function Da(){return(Da=(0,c.Z)(function*(_,f,g=!1){const{auth:b}=_,S="reauthenticate";try{const x=yield Ti(_,bl(b,S,f,_),g);se(x.idToken,b,"internal-error");const W=Je(x.idToken);se(W,b,"internal-error");const{sub:ue}=W;return se(_.uid===ue,b,"user-mismatch"),vr._forOperation(_,S,x)}catch(x){throw"auth/user-not-found"===(null==x?void 0:x.code)&&ce(b,"user-mismatch"),x}})).apply(this,arguments)}function bo(_,f){return tr.apply(this,arguments)}function tr(){return(tr=(0,c.Z)(function*(_,f,g=!1){const b="signIn",S=yield bl(_,b,f),x=yield vr._fromIdTokenResponse(_,b,S);return g||(yield _._updateCurrentUser(x.user)),x})).apply(this,arguments)}function Dl(_,f){return bn.apply(this,arguments)}function bn(){return(bn=(0,c.Z)(function*(_,f){return bo(ke(_),f)})).apply(this,arguments)}function fs(_,f){return nr.apply(this,arguments)}function nr(){return(nr=(0,c.Z)(function*(_,f){const g=(0,k.m9)(_);return yield qs(!1,g,f.providerId),en(g,f)})).apply(this,arguments)}function zo(_,f){return Li.apply(this,arguments)}function Li(){return(Li=(0,c.Z)(function*(_,f){return wl((0,k.m9)(_),f)})).apply(this,arguments)}function gu(_,f){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,c.Z)(function*(_,f){return Sr(_,"POST","/v1/accounts:signInWithCustomToken",zt(_,f))})).apply(this,arguments)}function Ys(){return(Ys=(0,c.Z)(function*(_,f){const g=ke(_),b=yield gu(g,{token:f,returnSecureToken:!0}),S=yield vr._fromIdTokenResponse(g,"signIn",b);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class lt{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?Ea._fromServerResponse(f,g):ce(f,"internal-error")}}class Ea extends lt{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new Ea(g)}}function Ta(_,f,g){var b;se((null===(b=g.url)||void 0===b?void 0:b.length)>0,_,"invalid-continue-uri"),se(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(se(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(se(g.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function Ca(){return(Ca=(0,c.Z)(function*(_,f,g){const b=(0,k.m9)(_),S={requestType:"PASSWORD_RESET",email:f};g&&Ta(b,S,g),yield Fc(b,S)})).apply(this,arguments)}function Ia(){return(Ia=(0,c.Z)(function*(_,f,g){yield go((0,k.m9)(_),{oobCode:f,newPassword:g})})).apply(this,arguments)}function De(){return(De=(0,c.Z)(function*(_,f){yield Vo((0,k.m9)(_),{oobCode:f})})).apply(this,arguments)}function At(_,f){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,c.Z)(function*(_,f){const g=(0,k.m9)(_),b=yield go(g,{oobCode:f}),S=b.requestType;switch(se(S,g,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":se(b.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":se(b.mfaInfo,g,"internal-error");default:se(b.email,g,"internal-error")}let x=null;return b.mfaInfo&&(x=lt._fromServerResponse(ke(g),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:x},operation:S}})).apply(this,arguments)}function Js(){return(Js=(0,c.Z)(function*(_,f){const{data:g}=yield At((0,k.m9)(_),f);return g.email})).apply(this,arguments)}function Mr(){return(Mr=(0,c.Z)(function*(_,f,g){const b=ke(_),S=yield $c(b,{returnSecureToken:!0,email:f,password:g}),x=yield vr._fromIdTokenResponse(b,"signIn",S);return yield b._updateCurrentUser(x.user),x})).apply(this,arguments)}function qc(){return(qc=(0,c.Z)(function*(_,f,g){const b=(0,k.m9)(_),S={requestType:"EMAIL_SIGNIN",email:f};se(g.handleCodeInApp,b,"argument-error"),g&&Ta(b,S,g),yield Ci(b,S)})).apply(this,arguments)}function Ko(){return(Ko=(0,c.Z)(function*(_,f,g){const b=(0,k.m9)(_),S=ba.credentialWithLink(f,g||mt());return se(S._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Dl(b,S)})).apply(this,arguments)}function Wn(_,f){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,c.Z)(function*(_,f){return Nt(_,"POST","/v1/accounts:createAuthUri",zt(_,f))})).apply(this,arguments)}function Vi(){return(Vi=(0,c.Z)(function*(_,f){const b={identifier:f,continueUri:Bt()?mt():"http://localhost"},{signinMethods:S}=yield Wn((0,k.m9)(_),b);return S||[]})).apply(this,arguments)}function Oa(){return(Oa=(0,c.Z)(function*(_,f){const g=(0,k.m9)(_),S={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&Ta(g.auth,S,f);const{email:x}=yield er(g.auth,S);x!==_.email&&(yield _.reload())})).apply(this,arguments)}function Ma(){return(Ma=(0,c.Z)(function*(_,f,g){const b=(0,k.m9)(_),x={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};g&&Ta(b.auth,x,g);const{email:W}=yield Lc(b.auth,x);W!==_.email&&(yield _.reload())})).apply(this,arguments)}function Jc(_,f){return wo.apply(this,arguments)}function wo(){return(wo=(0,c.Z)(function*(_,f){return Nt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function xa(){return(xa=(0,c.Z)(function*(_,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const b=(0,k.m9)(_),x={idToken:yield b.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},W=yield Ti(b,Jc(b.auth,x));b.displayName=W.displayName||null,b.photoURL=W.photoUrl||null;const ue=b.providerData.find(({providerId:Ue})=>"password"===Ue);ue&&(ue.displayName=b.displayName,ue.photoURL=b.photoURL),yield b._updateTokensIfNecessary(W)})).apply(this,arguments)}function El(_,f,g){return Do.apply(this,arguments)}function Do(){return(Do=(0,c.Z)(function*(_,f,g){const{auth:b}=_,x={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(x.email=f),g&&(x.password=g);const W=yield Ti(_,bt(b,x));yield _._updateTokensIfNecessary(W,!0)})).apply(this,arguments)}class Eo{constructor(f,g,b={}){this.isNewUser=f,this.providerId=g,this.profile=b}}class Qc extends Eo{constructor(f,g,b,S){super(f,g,b),this.username=S}}class Gh extends Eo{constructor(f,g){super(f,"facebook.com",g)}}class qo extends Qc{constructor(f,g){super(f,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class Bi extends Eo{constructor(f,g){super(f,"google.com",g)}}class $h extends Qc{constructor(f,g,b){super(f,"twitter.com",g,b)}}function rr(_){const{user:f,_tokenResponse:g}=_;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Du(_){var f,g;if(!_)return null;const{providerId:b}=_,S=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},x=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!b&&(null==_?void 0:_.idToken)){const W=null===(g=null===(f=Je(_.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(W)return new Eo(x,"anonymous"!==W&&"custom"!==W?W:null)}if(!b)return null;switch(b){case"facebook.com":return new Gh(x,S);case"github.com":return new qo(x,S);case"google.com":return new Bi(x,S);case"twitter.com":return new $h(x,S,_.screenName||null);case"custom":case"anonymous":return new Eo(x,null);default:return new Eo(x,b,S)}}(g)}class ms{constructor(f,g){this.type=f,this.credential=g}static _fromIdtoken(f){return new ms("enroll",f)}static _fromMfaPendingCredential(f){return new ms("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,b;if(null==f?void 0:f.multiFactorSession){if(null===(g=f.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return ms._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(b=f.multiFactorSession)||void 0===b?void 0:b.idToken)return ms._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Ra{constructor(f,g,b){this.session=f,this.hints=g,this.signInResolver=b}static _fromError(f,g){const b=ke(f),S=g.customData._serverResponse,x=(S.mfaInfo||[]).map(ue=>lt._fromServerResponse(b,ue));se(S.mfaPendingCredential,b,"internal-error");const W=ms._fromMfaPendingCredential(S.mfaPendingCredential);return new Ra(W,x,function(){var ue=(0,c.Z)(function*(Ue){const Qe=yield Ue._process(b,W);delete S.mfaInfo,delete S.mfaPendingCredential;const gt=Object.assign(Object.assign({},S),{idToken:Qe.idToken,refreshToken:Qe.refreshToken});switch(g.operationType){case"signIn":const it=yield vr._fromIdTokenResponse(b,g.operationType,gt);return yield b._updateCurrentUser(it.user),it;case"reauthenticate":return se(g.user,b,"internal-error"),vr._forOperation(g.user,g.operationType,gt);default:ce(b,"internal-error")}});return function(Ue){return ue.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,c.Z)(function*(){return g.signInResolver(f)})()}}function Tl(_,f){return Nt(_,"POST","/v2/accounts/mfaEnrollment:start",zt(_,f))}class _s{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(b=>lt._fromServerResponse(f.auth,b)))})}static _fromUser(f){return new _s(f)}getSession(){var f=this;return(0,c.Z)(function*(){return ms._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,g){var b=this;return(0,c.Z)(function*(){const S=f,x=yield b.getSession(),W=yield Ti(b.user,S._process(b.user.auth,x,g));return yield b.user._updateTokensIfNecessary(W),b.user.reload()})()}unenroll(f){var g=this;return(0,c.Z)(function*(){const b="string"==typeof f?f:f.uid,S=yield g.user.getIdToken(),x=yield Ti(g.user,function zh(_,f){return Nt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",zt(_,f))}(g.user.auth,{idToken:S,mfaEnrollmentId:b}));g.enrolledFactors=g.enrolledFactors.filter(({uid:W})=>W!==b),yield g.user._updateTokensIfNecessary(x);try{yield g.user.reload()}catch(W){if("auth/user-token-expired"!==W.code)throw W}})()}}const Zo=new WeakMap,ka="__sak";class Pa{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(ka,"1"),this.storage.removeItem(ka),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const En=(()=>{class _ extends Pa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,b)=>this.onStorageEvent(g,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Cl(){const _=(0,k.z$)();return gl(_)||qr(_)}()&&function cr(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=$s(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const b of Object.keys(this.listeners)){const S=this.storage.getItem(b),x=this.localCache[b];S!==x&&g(b,x,S)}}onStorageEvent(g,b=!1){if(!g.key)return void this.forAllChangedKeys((ue,Ue,Qe)=>{this.notifyListeners(ue,Qe)});const S=g.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ue=this.storage.getItem(S);if(g.newValue!==ue)null!==g.newValue?this.storage.setItem(S,g.newValue):this.storage.removeItem(S);else if(this.localCache[S]===g.newValue&&!b)return}const x=()=>{const ue=this.storage.getItem(S);!b&&this.localCache[S]===ue||this.notifyListeners(S,ue)},W=this.storage.getItem(S);!function ya(){return(0,k.w1)()&&10===document.documentMode}()||W===g.newValue||g.newValue===g.oldValue?x():setTimeout(x,10)}notifyListeners(g,b){this.localCache[g]=b;const S=this.listeners[g];if(S)for(const x of Array.from(S))x(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,b,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:b,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,b){var S=()=>super._set,x=this;return(0,c.Z)(function*(){yield S().call(x,g,b),x.localCache[g]=JSON.stringify(b)})()}_get(g){var b=()=>super._get,S=this;return(0,c.Z)(function*(){const x=yield b().call(S,g);return S.localCache[g]=JSON.stringify(x),x})()}_remove(g){var b=()=>super._remove,S=this;return(0,c.Z)(function*(){yield b().call(S,g),delete S.localCache[g]})()}}return _.type="LOCAL",_})(),ys=(()=>{class _ extends Pa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,b){}_removeListener(g,b){}}return _.type="SESSION",_})();let Il=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const b=this.receivers.find(x=>x.isListeningto(g));if(b)return b;const S=new _(g);return this.receivers.push(S),S}isListeningto(g){return this.eventTarget===g}handleEvent(g){var b=this;return(0,c.Z)(function*(){const S=g,{eventId:x,eventType:W,data:ue}=S.data,Ue=b.handlersMap[W];if(!(null==Ue?void 0:Ue.size))return;S.ports[0].postMessage({status:"ack",eventId:x,eventType:W});const Qe=Array.from(Ue).map(function(){var it=(0,c.Z)(function*(Cn){return Cn(S.origin,ue)});return function(Cn){return it.apply(this,arguments)}}()),gt=yield function Cu(_){return Promise.all(_.map(function(){var f=(0,c.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(b){return{fulfilled:!1,reason:b}}});return function(g){return f.apply(this,arguments)}}()))}(Qe);S.ports[0].postMessage({status:"done",eventId:x,eventType:W,response:gt})})()}_subscribe(g,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(b)}_unsubscribe(g,b){this.handlersMap[g]&&b&&this.handlersMap[g].delete(b),(!b||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Qs(_="",f=10){let g="";for(let b=0;b<f;b++)g+=Math.floor(10*Math.random());return _+g}class ed{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,b=50){var S=this;return(0,c.Z)(function*(){const x="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!x)throw new Error("connection_unavailable");let W,ue;return new Promise((Ue,Qe)=>{const gt=Qs("",20);x.port1.start();const it=setTimeout(()=>{Qe(new Error("unsupported_event"))},b);ue={messageChannel:x,onMessage(Cn){const Ai=Cn;if(Ai.data.eventId===gt)switch(Ai.data.status){case"ack":clearTimeout(it),W=setTimeout(()=>{Qe(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),Ue(Ai.data.response);break;default:clearTimeout(it),clearTimeout(W),Qe(new Error("invalid_response"))}}},S.handlers.add(ue),x.port1.addEventListener("message",ue.onMessage),S.target.postMessage({eventType:f,eventId:gt,data:g},[x.port2])}).finally(()=>{ue&&S.removeMessageHandler(ue)})})()}}function kt(){return window}function tn(){return void 0!==kt().WorkerGlobalScope&&"function"==typeof kt().importScripts}function To(){return(To=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const Al="firebaseLocalStorageDb",Fa="firebaseLocalStorage",xr="fbase_key";class Ln{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Xs(_,f){return _.transaction([Fa],f?"readwrite":"readonly").objectStore(Fa)}function Rr(){const _=indexedDB.open(Al,1);return new Promise((f,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const b=_.result;try{b.createObjectStore(Fa,{keyPath:xr})}catch(S){g(S)}}),_.addEventListener("success",(0,c.Z)(function*(){const b=_.result;b.objectStoreNames.contains(Fa)?f(b):(b.close(),yield function La(){const _=indexedDB.deleteDatabase(Al);return new Ln(_).toPromise()}(),f(yield Rr()))}))})}function Iu(_,f,g){return Va.apply(this,arguments)}function Va(){return(Va=(0,c.Z)(function*(_,f,g){const b=Xs(_,!0).put({[xr]:f,value:g});return new Ln(b).toPromise()})).apply(this,arguments)}function mi(){return(mi=(0,c.Z)(function*(_,f){const g=Xs(_,!1).get(f),b=yield new Ln(g).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Ba(_,f){const g=Xs(_,!0).delete(f);return new Ln(g).toPromise()}const vs=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,c.Z)(function*(){return g.db||(g.db=yield Rr()),g.db})()}_withRetries(g){var b=this;return(0,c.Z)(function*(){let S=0;for(;;)try{const x=yield b._openDb();return yield g(x)}catch(x){if(S++>3)throw x;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,c.Z)(function*(){return tn()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,c.Z)(function*(){g.receiver=Il._getInstance(function Sl(){return tn()?self:null}()),g.receiver._subscribe("keyChanged",function(){var b=(0,c.Z)(function*(S,x){return{keyProcessed:(yield g._poll()).includes(x.key)}});return function(S,x){return b.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var b=(0,c.Z)(function*(S,x){return["keyChanged"]});return function(S,x){return b.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,c.Z)(function*(){var b,S;if(g.activeServiceWorker=yield function Xe(){return To.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new ed(g.activeServiceWorker);const x=yield g.sender._send("ping",{},800);!x||(null===(b=x[0])||void 0===b?void 0:b.fulfilled)&&(null===(S=x[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var b=this;return(0,c.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function td(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:g},b.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Rr();return yield Iu(g,ka,"1"),yield Ba(g,ka),!0}catch(g){}return!1})()}_withPendingWrite(g){var b=this;return(0,c.Z)(function*(){b.pendingWrites++;try{yield g()}finally{b.pendingWrites--}})()}_set(g,b){var S=this;return(0,c.Z)(function*(){return S._withPendingWrite((0,c.Z)(function*(){return yield S._withRetries(x=>Iu(x,g,b)),S.localCache[g]=b,S.notifyServiceWorker(g)}))})()}_get(g){var b=this;return(0,c.Z)(function*(){const S=yield b._withRetries(x=>function eo(_,f){return mi.apply(this,arguments)}(x,g));return b.localCache[g]=S,S})()}_remove(g){var b=this;return(0,c.Z)(function*(){return b._withPendingWrite((0,c.Z)(function*(){return yield b._withRetries(S=>Ba(S,g)),delete b.localCache[g],b.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,c.Z)(function*(){const b=yield g._withRetries(W=>{const ue=Xs(W,!1).getAll();return new Ln(ue).toPromise()});if(!b)return[];if(0!==g.pendingWrites)return[];const S=[],x=new Set;for(const{fbase_key:W,value:ue}of b)x.add(W),JSON.stringify(g.localCache[W])!==JSON.stringify(ue)&&(g.notifyListeners(W,ue),S.push(W));for(const W of Object.keys(g.localCache))g.localCache[W]&&!x.has(W)&&(g.notifyListeners(W,null),S.push(W));return S})()}notifyListeners(g,b){this.localCache[g]=b;const S=this.listeners[g];if(S)for(const x of Array.from(S))x(b)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function rd(_,f){return Nt(_,"POST","/v2/accounts/mfaSignIn:start",zt(_,f))}function bs(){return(bs=(0,c.Z)(function*(_){return(yield Nt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ha(_){return new Promise((f,g)=>{const b=document.createElement("script");b.setAttribute("src",_),b.onload=f,b.onerror=S=>{const x=Me("internal-error");x.customData=S,g(x)},b.type="text/javascript",b.charset="UTF-8",function ja(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(b)})}function Co(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Hi=1e12;class Ga{constructor(f){this.auth=f,this.counter=Hi,this._widgets=new Map}render(f,g){const b=this.counter;return this._widgets.set(b,new Au(f,this.auth.name,g||{})),this.counter++,b}reset(f){var g;const b=f||Hi;null===(g=this._widgets.get(b))||void 0===g||g.delete(),this._widgets.delete(b)}getResponse(f){var g;return(null===(g=this._widgets.get(f||Hi))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,c.Z)(function*(){var b;return null===(b=g._widgets.get(f||Hi))||void 0===b||b.execute(),""})()}}class Au{constructor(f,g,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof f?document.getElementById(f):f;se(S,"argument-error",{appName:g}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function So(_){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<_;b++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const id=Co("rcb"),Nl=new Un(3e4,6e4);class sd{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!kt().grecaptcha}load(f,g=""){return se(function cg(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(g),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(kt().grecaptcha):new Promise((b,S)=>{const x=kt().setTimeout(()=>{S(Me(f,"network-request-failed"))},Nl.get());kt()[id]=()=>{kt().clearTimeout(x),delete kt()[id];const ue=kt().grecaptcha;if(!ue)return void S(Me(f,"internal-error"));const Ue=ue.render;ue.render=(Qe,gt)=>{const it=Ue(Qe,gt);return this.counter++,it},this.hostLanguage=g,b(ue)},Ha(`https://www.google.com/recaptcha/api.js??${(0,k.xO)({onload:id,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(x),S(Me(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!kt().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Zh{load(f){return(0,c.Z)(function*(){return new Ga(f)})()}clearedOneInstance(){}}const od="recaptcha",ad={theme:"light",type:"image"};class ld{constructor(f,g=Object.assign({},ad),b){this.parameters=g,this.type=od,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ke(b),this.isInvisible="invisible"===this.parameters.size,se("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof f?document.getElementById(f):f;se(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Zh:new sd,this.validateStartingState()}verify(){var f=this;return(0,c.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),b=f.getAssertedRecaptcha();return b.getResponse(g)||new Promise(x=>{const W=ue=>{!ue||(f.tokenChangeListeners.delete(W),x(ue))};f.tokenChangeListeners.add(W),f.isInvisible&&b.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){se(!this.parameters.sitekey,this.auth,"argument-error"),se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),se("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(b=>b(g)),"function"==typeof f)f(g);else if("string"==typeof f){const b=kt()[f];"function"==typeof b&&b(g)}}}assertNotDestroyed(){se(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,c.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const b=document.createElement("div");g.appendChild(b),g=b}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,c.Z)(function*(){se(Bt()&&!tn(),f.auth,"internal-error"),yield function ud(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function Ua(_){return bs.apply(this,arguments)}(f.auth);se(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Gi{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=Go._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function gn(){return(gn=(0,c.Z)(function*(_,f,g){const b=ke(_),S=yield Pr(b,f,(0,k.m9)(g));return new Gi(S,x=>Dl(b,x))})).apply(this,arguments)}function kr(){return(kr=(0,c.Z)(function*(_,f,g){const b=(0,k.m9)(_);yield qs(!1,b,"phone");const S=yield Pr(b.auth,f,(0,k.m9)(g));return new Gi(S,x=>fs(b,x))})).apply(this,arguments)}function Ml(){return(Ml=(0,c.Z)(function*(_,f,g){const b=(0,k.m9)(_),S=yield Pr(b.auth,f,(0,k.m9)(g));return new Gi(S,x=>zo(b,x))})).apply(this,arguments)}function Pr(_,f,g){return Si.apply(this,arguments)}function Si(){return(Si=(0,c.Z)(function*(_,f,g){var b;const S=yield g.verify();try{let x;if(se("string"==typeof S,_,"argument-error"),se(g.type===od,_,"argument-error"),x="string"==typeof f?{phoneNumber:f}:f,"session"in x){const W=x.session;if("phoneNumber"in x)return se("enroll"===W.type,_,"internal-error"),(yield Tl(_,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:x.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{se("signin"===W.type,_,"internal-error");const ue=(null===(b=x.multiFactorHint)||void 0===b?void 0:b.uid)||x.multiFactorUid;return se(ue,_,"missing-multi-factor-info"),(yield rd(_,{mfaPendingCredential:W.credential,mfaEnrollmentId:ue,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield tg(_,{phoneNumber:x.phoneNumber,recaptchaToken:S});return W}}finally{g._reset()}})).apply(this,arguments)}function Ao(){return(Ao=(0,c.Z)(function*(_,f){yield en((0,k.m9)(_),f)})).apply(this,arguments)}let Qr=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=ke(g)}verifyPhoneNumber(g,b){return Pr(this.auth,g,(0,k.m9)(b))}static credential(g,b){return Go._fromVerification(g,b)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:b,temporaryProof:S}=g;return b&&S?Go._fromTokenResponse(b,S):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Xr(_,f){return f?oe(f):(se(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class $a extends Ut{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Fn(f,this._buildIdpRequest())}_linkToIdToken(f,g){return Fn(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return Fn(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function Wa(_){return bo(_.auth,new $a(_),_.bypassAuthState)}function cd(_){const{auth:f,user:g}=_;return se(g,f,"internal-error"),wl(g,new $a(_),_.bypassAuthState)}function Jh(_){return za.apply(this,arguments)}function za(){return(za=(0,c.Z)(function*(_){const{auth:f,user:g}=_;return se(g,f,"internal-error"),en(g,new $a(_),_.bypassAuthState)})).apply(this,arguments)}class yi{constructor(f,g,b,S,x=!1){this.auth=f,this.resolver=b,this.user=S,this.bypassAuthState=x,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,c.Z)(function*(b,S){f.pendingPromise={resolve:b,reject:S};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(x){f.reject(x)}});return function(b,S){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,c.Z)(function*(){const{urlResponse:b,sessionId:S,postBody:x,tenantId:W,error:ue,type:Ue}=f;if(ue)return void g.reject(ue);const Qe={auth:g.auth,requestUri:b,sessionId:S,tenantId:W||void 0,postBody:x||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ue)(Qe))}catch(gt){g.reject(gt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Wa;case"linkViaPopup":case"linkViaRedirect":return Jh;case"reauthViaPopup":case"reauthViaRedirect":return cd;default:ce(this.auth,"internal-error")}}resolve(f){ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Qh=new Un(2e3,1e4);function Xh(){return(Xh=(0,c.Z)(function*(_,f,g){const b=ke(_);Ke(_,f,Ks);const S=Xr(b,g);return new Mu(b,"signInViaPopup",f,S).executeNotNull()})).apply(this,arguments)}function ws(){return(ws=(0,c.Z)(function*(_,f,g){const b=(0,k.m9)(_);Ke(b.auth,f,Ks);const S=Xr(b.auth,g);return new Mu(b.auth,"reauthViaPopup",f,S,b).executeNotNull()})).apply(this,arguments)}function Ou(){return(Ou=(0,c.Z)(function*(_,f,g){const b=(0,k.m9)(_);Ke(b.auth,f,Ks);const S=Xr(b.auth,g);return new Mu(b.auth,"linkViaPopup",f,S,b).executeNotNull()})).apply(this,arguments)}let Mu=(()=>{class _ extends yi{constructor(g,b,S,x,W){super(g,b,x,W),this.provider=S,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,c.Z)(function*(){const b=yield g.execute();return se(b,g.auth,"internal-error"),b})()}onExecution(){var g=this;return(0,c.Z)(function*(){ie(1===g.filter.length,"Popup operations only handle one event");const b=Qs();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],b),g.authWindow.associatedEvent=b,g.resolver._originValidation(g.auth).catch(S=>{g.reject(S)}),g.resolver._isIframeWebStorageSupported(g.auth,S=>{S||g.reject(Me(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var b,S;this.pollId=(null===(S=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===S?void 0:S.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Me(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Qh.get())};g()}}return _.currentPopupAction=null,_})();const Ds=new Map;class vi extends yi{constructor(f,g,b=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,b),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,c.Z)(function*(){let b=Ds.get(g.auth._key());if(!b){try{const x=(yield function Yo(_,f){return ef.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;b=()=>Promise.resolve(x)}catch(S){b=()=>Promise.reject(S)}Ds.set(g.auth._key(),b)}return g.bypassAuthState||Ds.set(g.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,b=this;return(0,c.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(b,f);if("unknown"!==f.type){if(f.eventId){const S=yield b.auth._redirectUserForId(f.eventId);if(S)return b.user=S,g().call(b,f);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function ef(){return(ef=(0,c.Z)(function*(_,f){const g=E(f),b=tf(_);if(!(yield b._isAvailable()))return!1;const S="true"===(yield b._get(g));return yield b._remove(g),S})).apply(this,arguments)}function Wi(_,f){return to.apply(this,arguments)}function to(){return(to=(0,c.Z)(function*(_,f){return tf(_)._set(E(f),"true")})).apply(this,arguments)}function tf(_){return oe(_._redirectPersistence)}function E(_){return Hn("pendingRedirect",_.config.apiKey,_.name)}function F(){return(F=(0,c.Z)(function*(_,f,g){const b=ke(_);Ke(_,f,Ks);const S=Xr(b,g);return yield Wi(S,b),S._openRedirect(b,f,"signInViaRedirect")})).apply(this,arguments)}function Ae(){return(Ae=(0,c.Z)(function*(_,f,g){const b=(0,k.m9)(_);Ke(b.auth,f,Ks);const S=Xr(b.auth,g);yield Wi(S,b.auth);const x=yield no(b);return S._openRedirect(b.auth,f,"reauthViaRedirect",x)})).apply(this,arguments)}function Ot(){return(Ot=(0,c.Z)(function*(_,f,g){const b=(0,k.m9)(_);Ke(b.auth,f,Ks);const S=Xr(b.auth,g);yield qs(!1,b,f.providerId),yield Wi(S,b.auth);const x=yield no(b);return S._openRedirect(b.auth,f,"linkViaRedirect",x)})).apply(this,arguments)}function zn(){return(zn=(0,c.Z)(function*(_,f){return yield ke(_)._initializationPromise,sr(_,f,!1)})).apply(this,arguments)}function sr(_,f){return hn.apply(this,arguments)}function hn(){return(hn=(0,c.Z)(function*(_,f,g=!1){const b=ke(_),S=Xr(b,f),W=yield new vi(b,S,g).execute();return W&&!g&&(delete W.user._redirectEventId,yield b._persistUserIfCurrent(W.user),yield b._setRedirectUser(null,f)),W})).apply(this,arguments)}function no(_){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,c.Z)(function*(_){const f=Qs(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class Es{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(f,b)&&(g=!0,this.sendToConsumer(f,b),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function fd(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kl(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var b;if(f.error&&!kl(f)){const S=(null===(b=f.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";g.onError(Me(this.auth,S))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const b=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&b}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Lr(f))}saveEventToCache(f){this.cachedEventUids.add(Lr(f)),this.lastProcessedEventTime=Date.now()}}function Lr(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function kl({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===(null==f?void 0:f.code)}function xu(_){return No.apply(this,arguments)}function No(){return(No=(0,c.Z)(function*(_,f={}){return Nt(_,"GET","/v1/projects",f)})).apply(this,arguments)}const pd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gd=/^https?/;function Oo(){return(Oo=(0,c.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield xu(_);for(const g of f)try{if(Pl(g))return}catch(b){}ce(_,"unauthorized-domain")})).apply(this,arguments)}function Pl(_){const f=mt(),{protocol:g,hostname:b}=new URL(f);if(_.startsWith("chrome-extension://")){const W=new URL(_);return""===W.hostname&&""===b?"chrome-extension:"===g&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&W.hostname===b}if(!gd.test(g))return!1;if(pd.test(_))return b===_;const S=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(b)}const hg=new Un(3e4,6e4);function nf(){const _=kt().___jsl;if(null==_?void 0:_.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let Jo=null;function H_(_){return Jo=Jo||function Fl(_){return new Promise((f,g)=>{var b,S,x;function W(){nf(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{nf(),g(Me(_,"network-request-failed"))},timeout:hg.get()})}if(null===(S=null===(b=kt().gapi)||void 0===b?void 0:b.iframes)||void 0===S?void 0:S.Iframe)f(gapi.iframes.getContext());else{if(!(null===(x=kt().gapi)||void 0===x?void 0:x.load)){const ue=Co("iframefcb");return kt()[ue]=()=>{gapi.load?W():g(Me(_,"network-request-failed"))},Ha(`https://apis.google.com/js/api.js?onload=${ue}`).catch(Ue=>g(Ue))}W()}}).catch(f=>{throw Jo=null,f})}(_),Jo}const G_=new Un(5e3,15e3),ku={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pu(_){const f=_.config;se(f.authDomain,_,"auth-domain-config-required");const g=f.emulator?Qt(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,b={apiKey:f.apiKey,appName:_.name,v:le.SDK_VERSION},S=fg.get(_.config.apiHost);S&&(b.eid=S);const x=_._getFrameworks();return x.length&&(b.fw=x.join(",")),`${g}?${(0,k.xO)(b).slice(1)}`}function pg(){return pg=(0,c.Z)(function*(_){const f=yield H_(_),g=kt().gapi;return se(g,_,"internal-error"),f.open({where:document.body,url:Pu(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ku,dontclear:!0},b=>new Promise(function(){var S=(0,c.Z)(function*(x,W){yield b.restyle({setHideOnLeave:!1});const ue=Me(_,"network-request-failed"),Ue=kt().setTimeout(()=>{W(ue)},G_.get());function Qe(){kt().clearTimeout(Ue),x(b)}b.ping(Qe).then(Qe,()=>{W(ue)})});return function(x,W){return S.apply(this,arguments)}}()))}),pg.apply(this,arguments)}const cb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class md{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function _d(_,f,g,b,S,x){se(_.config.authDomain,_,"auth-domain-config-required"),se(_.config.apiKey,_,"invalid-api-key");const W={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:b,v:le.SDK_VERSION,eventId:S};if(f instanceof Ks){f.setDefaultLanguage(_.languageCode),W.providerId=f.providerId||"",(0,k.xb)(f.getCustomParameters())||(W.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Ue,Qe]of Object.entries(x||{}))W[Ue]=Qe}if(f instanceof pi){const Ue=f.getScopes().filter(Qe=>""!==Qe);Ue.length>0&&(W.scopes=Ue.join(","))}_.tenantId&&(W.tid=_.tenantId);const ue=W;for(const Ue of Object.keys(ue))void 0===ue[Ue]&&delete ue[Ue];return`${function W_({config:_}){return _.emulator?Qt(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,k.xO)(ue).slice(1)}`}const Ts="webStorageSupport";class yg extends class _g{constructor(f){this.factorId=f}_process(f,g,b){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,b);case"signin":return this._finalizeSignIn(f,g.credential);default:return q("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new yg(f)}_finalizeEnroll(f,g,b){return function ir(_,f){return Nt(_,"POST","/v2/accounts/mfaEnrollment:finalize",zt(_,f))}(f,{idToken:g,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function Su(_,f){return Nt(_,"POST","/v2/accounts/mfaSignIn:finalize",zt(_,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let z_=(()=>{class _{constructor(){}static assertion(g){return yg._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var K_="@firebase/auth";class vg{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,c.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(b=>{var S;f((null===(S=b)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);!g||(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Qo(){return window}function Ll(){return(Ll=(0,c.Z)(function*(_,f,g){var b;const{BuildInfo:S}=Qo();ie(f.sessionId,"AuthEvent did not contain a session ID");const x=yield fb(f.sessionId),W={};return qr()?W.ibi=S.packageName:Nr()?W.apn=S.packageName:ce(_,"operation-not-supported-in-this-environment"),S.displayName&&(W.appDisplayName=S.displayName),W.sessionId=x,_d(_,g,f.type,void 0,null!==(b=f.eventId)&&void 0!==b?b:void 0,W)})).apply(this,arguments)}function zi(){return(zi=(0,c.Z)(function*(_){const{BuildInfo:f}=Qo(),g={};qr()?g.iosBundleId=f.packageName:Nr()?g.androidPackageName=f.packageName:ce(_,"operation-not-supported-in-this-environment"),yield xu(_,g)})).apply(this,arguments)}function vd(){return(vd=(0,c.Z)(function*(_,f,g){const{cordova:b}=Qo();let S=()=>{};try{yield new Promise((x,W)=>{let ue=null;function Ue(){var it;x();const Cn=null===(it=b.plugins.browsertab)||void 0===it?void 0:it.close;"function"==typeof Cn&&Cn(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function Qe(){ue||(ue=window.setTimeout(()=>{W(Me(_,"redirect-cancelled-by-user"))},2e3))}function gt(){"visible"===(null==document?void 0:document.visibilityState)&&Qe()}f.addPassiveListener(Ue),document.addEventListener("resume",Qe,!1),Nr()&&document.addEventListener("visibilitychange",gt,!1),S=()=>{f.removePassiveListener(Ue),document.removeEventListener("resume",Qe,!1),document.removeEventListener("visibilitychange",gt,!1),ue&&window.clearTimeout(ue)}})}finally{S()}})).apply(this,arguments)}function fb(_){return Z_.apply(this,arguments)}function Z_(){return(Z_=(0,c.Z)(function*(_){const f=Dg(_),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Dg(_){if(ie(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),g=new Uint8Array(f);for(let b=0;b<_.length;b++)g[b]=_.charCodeAt(b);return g}!function q_(_){(0,le._registerComponent)(new re.wA("auth",(f,{options:g})=>{const b=f.getProvider("app").getImmediate(),{apiKey:S,authDomain:x}=b.options;return(W=>{se(S&&!S.includes(":"),"invalid-api-key",{appName:W.name}),se(!(null==x?void 0:x.includes(":")),"argument-error",{appName:W.name});const ue={apiKey:S,authDomain:x,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Lo(_)},Ue=new Zr(W,ue);return function de(_,f){const g=(null==f?void 0:f.persistence)||[],b=(Array.isArray(g)?g:[g]).map(oe);(null==f?void 0:f.errorMap)&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(b,null==f?void 0:f.popupRedirectResolver)}(Ue,g),Ue})(b)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,b)=>{f.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new re.wA("auth-internal",f=>{const g=ke(f.getProvider("auth").getImmediate());return new vg(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)(K_,"0.19.8",function cf(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,le.registerVersion)(K_,"0.19.8","esm2017")}("Browser");class bd extends Es{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,c.Z)(function*(){yield f.initPromise})()}}function Vl(_){return wd.apply(this,arguments)}function wd(){return(wd=(0,c.Z)(function*(_){const f=yield Dd()._get(mf(_));return f&&(yield Dd()._remove(mf(_))),f})).apply(this,arguments)}function J_(){const _=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const b=Math.floor(Math.random()*f.length);_.push(f.charAt(b))}return _.join("")}function Dd(){return oe(En)}function mf(_){return Hn("authEvent",_.config.apiKey,_.name)}function Vu(_){if(!(null==_?void 0:_.includes("?")))return{};const[f,...g]=_.split("?");return(0,k.zd)(g.join("?"))}function yf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Me("no-auth-event")}}function vf(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function X_(_=(0,k.z$)()){return!("file:"!==vf()&&"ionic:"!==vf()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function Vr(){try{const _=self.localStorage,f=Qs();if(_)return _.setItem(f,"1"),_.removeItem(f),!function Bu(_=(0,k.z$)()){return function Ng(){return(0,k.w1)()&&11===(null==document?void 0:document.documentMode)}()||function ey(_=(0,k.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,k.hl)()}catch(_){return Td()&&(0,k.hl)()}return!1}function Td(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function ut(){return(function pb(){return"http:"===vf()||"https:"===vf()}()||(0,k.ru)()||X_())&&!function Ag(){return(0,k.b$)()||(0,k.UG)()}()&&Vr()&&!Td()}function Tn(){return X_()&&"undefined"!=typeof document}function Ki(){return(Ki=(0,c.Z)(function*(){return!!Tn()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const ei={LOCAL:"local",NONE:"none",SESSION:"session"},Uu=se,Cd="persistence";function qa(_){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,c.Z)(function*(_){yield _._initializationPromise;const f=jl(),g=Hn(Cd,_.config.apiKey,_.name);f&&f.setItem(g,_._getPersistence())})).apply(this,arguments)}function jl(){var _;try{return(null===(_=function bf(){return"undefined"!=typeof window?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch(f){return null}}const Mg=se;class Dr{constructor(){this.browserResolver=oe(class Lu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ys,this._completeRedirectFn=sr}_openPopup(f,g,b,S){var x=this;return(0,c.Z)(function*(){var W;ie(null===(W=x.eventManagers[f._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const ue=_d(f,g,b,mt(),S);return function gg(_,f,g,b=500,S=600){const x=Math.max((window.screen.availHeight-S)/2,0).toString(),W=Math.max((window.screen.availWidth-b)/2,0).toString();let ue="";const Ue=Object.assign(Object.assign({},cb),{width:b.toString(),height:S.toString(),top:x,left:W}),Qe=(0,k.z$)().toLowerCase();g&&(ue=_a(Qe)?"_blank":g),ma(Qe)&&(f=f||"http://localhost",Ue.scrollbars="yes");const gt=Object.entries(Ue).reduce((Cn,[Ai,Gl])=>`${Cn}${Ai}=${Gl},`,"");if(function po(_=(0,k.z$)()){var f;return qr(_)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(Qe)&&"_self"!==ue)return function mg(_,f){const g=document.createElement("a");g.href=_,g.target=f;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(b)}(f||"",ue),new md(null);const it=window.open(f||"",ue,gt);se(it,_,"popup-blocked");try{it.focus()}catch(Cn){}return new md(it)}(f,ue,Qs())})()}_openRedirect(f,g,b,S){var x=this;return(0,c.Z)(function*(){return yield x._originValidation(f),function Ui(_){kt().location.href=_}(_d(f,g,b,mt(),S)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:S,promise:x}=this.eventManagers[g];return S?Promise.resolve(S):(ie(x,"If manager is not set, promise should be"),x)}const b=this.initAndGetManager(f);return this.eventManagers[g]={promise:b},b.catch(()=>{delete this.eventManagers[g]}),b}initAndGetManager(f){var g=this;return(0,c.Z)(function*(){const b=yield function ub(_){return pg.apply(this,arguments)}(f),S=new Es(f);return b.register("authEvent",x=>(se(null==x?void 0:x.authEvent,f,"invalid-auth-event"),{status:S.onEvent(x.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:S},g.iframes[f._key()]=b,S})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(Ts,{type:Ts},S=>{var x;const W=null===(x=null==S?void 0:S[0])||void 0===x?void 0:x[Ts];void 0!==W&&g(!!W),ce(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function dg(_){return Oo.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return $s()||gl()||qr()}}),this.cordovaResolver=oe(class Cg{constructor(){this._redirectPersistence=ys,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=sr}_initialize(f){var g=this;return(0,c.Z)(function*(){const b=f._key();let S=g.eventManagers.get(b);return S||(S=new bd(f),g.eventManagers.set(b,S),g.attachCallbackListeners(f,S)),S})()}_openPopup(f){ce(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,b,S){var x=this;return(0,c.Z)(function*(){!function ff(_){var f,g,b,S,x,W,ue,Ue,Qe,gt;const it=Qo();se("function"==typeof(null===(f=null==it?void 0:it.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),se(void 0!==(null===(g=null==it?void 0:it.BuildInfo)||void 0===g?void 0:g.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),se("function"==typeof(null===(x=null===(S=null===(b=null==it?void 0:it.cordova)||void 0===b?void 0:b.plugins)||void 0===S?void 0:S.browsertab)||void 0===x?void 0:x.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),se("function"==typeof(null===(Ue=null===(ue=null===(W=null==it?void 0:it.cordova)||void 0===W?void 0:W.plugins)||void 0===ue?void 0:ue.browsertab)||void 0===Ue?void 0:Ue.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),se("function"==typeof(null===(gt=null===(Qe=null==it?void 0:it.cordova)||void 0===Qe?void 0:Qe.InAppBrowser)||void 0===gt?void 0:gt.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const W=yield x._initialize(f);yield W.initialized(),W.resetRedirect(),function Rl(){Ds.clear()}(),yield x._originValidation(f);const ue=function gf(_,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:J_(),postBody:null,tenantId:_.tenantId,error:Me(_,"no-auth-event")}}(f,b,S);yield function Y_(_,f){return Dd()._set(mf(_),f)}(f,ue);const Ue=yield function df(_,f,g){return Ll.apply(this,arguments)}(f,ue,g),Qe=yield function Ka(_){const{cordova:f}=Qo();return new Promise(g=>{f.plugins.browsertab.isAvailable(b=>{let S=null;b?f.plugins.browsertab.openUrl(_):S=f.InAppBrowser.open(_,function Pc(_=(0,k.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),g(S)})})}(Ue);return function wg(_,f,g){return vd.apply(this,arguments)}(f,W,Qe)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function hf(_){return zi.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:b,handleOpenURL:S,BuildInfo:x}=Qo(),W=setTimeout((0,c.Z)(function*(){yield Vl(f),g.onEvent(yf())}),500),ue=function(){var gt=(0,c.Z)(function*(it){clearTimeout(W);const Cn=yield Vl(f);let Ai=null;Cn&&(null==it?void 0:it.url)&&(Ai=function Eg(_,f){var g,b;const S=function Bl(_){const f=Vu(_),g=f.link?decodeURIComponent(f.link):void 0,b=Vu(g).link,S=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Vu(S).link||S||b||g||_}(f);if(S.includes("/__/auth/callback")){const x=Vu(S),W=x.firebaseError?function Tg(_){try{return JSON.parse(_)}catch(f){return null}}(decodeURIComponent(x.firebaseError)):null,ue=null===(b=null===(g=null==W?void 0:W.code)||void 0===g?void 0:g.split("auth/"))||void 0===b?void 0:b[1],Ue=ue?Me(ue):null;return Ue?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Ue,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:S,postBody:null}}return null}(Cn,it.url)),g.onEvent(Ai||yf())});return function(Cn){return gt.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,ue);const Ue=S,Qe=`${x.packageName.toLowerCase()}://`;Qo().handleOpenURL=function(){var gt=(0,c.Z)(function*(it){if(it.toLowerCase().startsWith(Qe)&&ue({url:it}),"function"==typeof Ue)try{Ue(it)}catch(Cn){console.error(Cn)}});return function(it){return gt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=ys,this._completeRedirectFn=sr}_initialize(f){var g=this;return(0,c.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,b,S){var x=this;return(0,c.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._openPopup(f,g,b,S)})()}_openRedirect(f,g,b,S){var x=this;return(0,c.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._openRedirect(f,g,b,S)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Tn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Mg(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,c.Z)(function*(){if(f.underlyingResolver)return;const g=yield function Vt(){return Ki.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function wf(_){return _.unwrap()}function Id(_){return hr(_)}function hr(_){const{_tokenResponse:f}=_ instanceof k.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof k.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Qr.credentialFromResult(_);const g=f.providerId;if(!g||"password"===g)return null;let b;switch(g){case"google.com":b=Wo;break;case"facebook.com":b=$o;break;case"github.com":b=Hc;break;case"twitter.com":b=gi;break;default:const{oauthIdToken:S,oauthAccessToken:x,oauthTokenSecret:W,pendingToken:ue,nonce:Ue}=f;return x||W||S||ue?ue?g.startsWith("saml.")?vn._create(g,ue):us._fromParams({providerId:g,signInMethod:g,pendingToken:ue,idToken:S,accessToken:x}):new vo(g).credential({idToken:S,accessToken:x,rawNonce:Ue}):null}return _ instanceof k.ZR?b.credentialFromError(_):b.credentialFromResult(_)}function Ht(_,f){return f.catch(g=>{throw g instanceof k.ZR&&function ny(_,f){var g;const b=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new ju(_,function Tu(_,f){var g;const b=(0,k.m9)(_),S=f;return se(f.customData.operationType,b,"argument-error"),se(null===(g=S.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,b,"argument-error"),Ra._fromError(b,S)}(_,f));else if(b){const S=hr(f),x=f;S&&(x.credential=S,x.tenantId=b.tenantId||void 0,x.email=b.email||void 0,x.phoneNumber=b.phoneNumber||void 0)}}(_,g),g}).then(g=>{const S=g.user;return{operationType:g.operationType,credential:Id(g),additionalUserInfo:rr(g),user:fn.getOrCreate(S)}})}function Mo(_,f){return Df.apply(this,arguments)}function Df(){return(Df=(0,c.Z)(function*(_,f){const g=yield f;return{verificationId:g.verificationId,confirm:b=>Ht(_,g.confirm(b))}})).apply(this,arguments)}class ju{constructor(f,g){this.resolver=g,this.auth=function Br(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Ht(wf(this.auth),this.resolver.resolveSignIn(f))}}class fn{constructor(f){this._delegate=f,this.multiFactor=function lg(_){const f=(0,k.m9)(_);return Zo.has(f)||Zo.set(f,_s._fromUser(f)),Zo.get(f)}(f)}static getOrCreate(f){return fn.USER_MAP.has(f)||fn.USER_MAP.set(f,new fn(f)),fn.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,c.Z)(function*(){return Ht(g.auth,fs(g._delegate,f))})()}linkWithPhoneNumber(f,g){var b=this;return(0,c.Z)(function*(){return Mo(b.auth,function Ol(_,f,g){return kr.apply(this,arguments)}(b._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,c.Z)(function*(){return Ht(g.auth,function hd(_,f,g){return Ou.apply(this,arguments)}(g._delegate,f,Dr))})()}linkWithRedirect(f){var g=this;return(0,c.Z)(function*(){return yield qa(ke(g.auth)),function Le(_,f,g){return function ze(_,f,g){return Ot.apply(this,arguments)}(_,f,g)}(g._delegate,f,Dr)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,c.Z)(function*(){return Ht(g.auth,zo(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return Mo(this.auth,function Jr(_,f,g){return Ml.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return Ht(this.auth,function dd(_,f,g){return ws.apply(this,arguments)}(this._delegate,f,Dr))}reauthenticateWithRedirect(f){var g=this;return(0,c.Z)(function*(){return yield qa(ke(g.auth)),function K(_,f,g){return function ne(_,f,g){return Ae.apply(this,arguments)}(_,f,g)}(g._delegate,f,Dr)})()}sendEmailVerification(f){return function ps(_,f){return Oa.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,c.Z)(function*(){return yield function hs(_,f){return pu.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function wu(_,f){return El((0,k.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function ag(_,f){return El((0,k.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function Nu(_,f){return Ao.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function bu(_,f){return xa.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function Yc(_,f,g){return Ma.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}fn.USER_MAP=new WeakMap;const qi=se;let qn=(()=>{class _{constructor(g,b){if(this.app=g,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=g.options;qi(S,"invalid-api-key",{appName:g.name}),qi(S,"invalid-api-key",{appName:g.name});const x="undefined"!=typeof window?Dr:void 0;this._delegate=b.initialize({options:{persistence:Hl(S,g.name),popupRedirectResolver:x}}),this._delegate._updateErrorMap(Oe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?fn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,b){!function on(_,f,g){const b=ke(_);se(b._canInitEmulator,b,"emulator-config-failed"),se(/^https?:\/\//.test(f),b,"invalid-emulator-scheme");const S=!!(null==g?void 0:g.disableWarnings),x=Or(f),{host:W,port:ue}=function as(_){const f=Or(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!g)return{host:"",port:null};const b=g[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(b);if(S){const x=S[1];return{host:x,port:Sn(b.substr(x.length+1))}}{const[x,W]=b.split(":");return{host:x,port:Sn(W)}}}(f);b.config.emulator={url:`${x}//${W}${null===ue?"":`:${ue}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:W,port:ue,protocol:x.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function ls(){function _(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,g,b)}applyActionCode(g){return function Hh(_,f){return De.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return At(this._delegate,g)}confirmPasswordReset(g,b){return function mu(_,f,g){return Ia.apply(this,arguments)}(this._delegate,g,b)}createUserWithEmailAndPassword(g,b){var S=this;return(0,c.Z)(function*(){return Ht(S._delegate,function Aa(_,f,g){return Mr.apply(this,arguments)}(S._delegate,g,b))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function vu(_,f){return Vi.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Zc(_,f){const g=cs.parseLink(f);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,c.Z)(function*(){qi(ut(),g._delegate,"operation-not-supported-in-this-environment");const b=yield function Lt(_,f){return zn.apply(this,arguments)}(g._delegate,Dr);return b?Ht(g._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function Q_(_,f){ke(_)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,b,S){const{next:x,error:W,complete:ue}=ro(g,b,S);return this._delegate.onAuthStateChanged(x,W,ue)}onIdTokenChanged(g,b,S){const{next:x,error:W,complete:ue}=ro(g,b,S);return this._delegate.onIdTokenChanged(x,W,ue)}sendSignInLinkToEmail(g,b){return function yu(_,f,g){return qc.apply(this,arguments)}(this._delegate,g,b)}sendPasswordResetEmail(g,b){return function Kc(_,f,g){return Ca.apply(this,arguments)}(this._delegate,g,b||void 0)}setPersistence(g){var b=this;return(0,c.Z)(function*(){let S;switch(function ty(_,f){Uu(Object.values(ei).includes(f),_,"invalid-persistence-type"),(0,k.b$)()?Uu(f!==ei.SESSION,_,"unsupported-persistence-type"):(0,k.UG)()?Uu(f===ei.NONE,_,"unsupported-persistence-type"):Td()?Uu(f===ei.NONE||f===ei.LOCAL&&(0,k.hl)(),_,"unsupported-persistence-type"):Uu(f===ei.NONE||Vr(),_,"unsupported-persistence-type")}(b._delegate,g),g){case ei.SESSION:S=ys;break;case ei.LOCAL:S=(yield oe(vs)._isAvailable())?vs:En;break;case ei.NONE:S=Ct;break;default:return ce("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Ht(this._delegate,function zc(_){return yl.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Ht(this._delegate,Dl(this._delegate,g))}signInWithCustomToken(g){return Ht(this._delegate,function Zs(_,f){return Ys.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,b){return Ht(this._delegate,function _u(_,f,g){return Dl((0,k.m9)(_),ba.credential(f,g))}(this._delegate,g,b))}signInWithEmailLink(g,b){return Ht(this._delegate,function Na(_,f,g){return Ko.apply(this,arguments)}(this._delegate,g,b))}signInWithPhoneNumber(g,b){return Mo(this._delegate,function Yh(_,f,g){return gn.apply(this,arguments)}(this._delegate,g,b))}signInWithPopup(g){var b=this;return(0,c.Z)(function*(){return qi(ut(),b._delegate,"operation-not-supported-in-this-environment"),Ht(b._delegate,function xl(_,f,g){return Xh.apply(this,arguments)}(b._delegate,g,Dr))})()}signInWithRedirect(g){var b=this;return(0,c.Z)(function*(){return qi(ut(),b._delegate,"operation-not-supported-in-this-environment"),yield qa(b._delegate),function C(_,f,g){return function O(_,f,g){return F.apply(this,arguments)}(_,f,g)}(b._delegate,g,Dr)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function wn(_,f){return Js.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=ei,_})();function ro(_,f,g){let b=_;"function"!=typeof _&&({next:b,error:f,complete:g}=_);const S=b;return{next:W=>S(W&&fn.getOrCreate(W)),error:f,complete:g}}function Hl(_,f){const g=function Og(_,f){const g=jl();if(!g)return[];const b=Hn(Cd,_,f);switch(g.getItem(b)){case ei.NONE:return[Ct];case ei.LOCAL:return[vs,ys];case ei.SESSION:return[ys];default:return[]}}(_,f);if("undefined"!=typeof self&&!g.includes(vs)&&g.push(vs),"undefined"!=typeof window)for(const b of[En,ys])g.includes(b)||g.push(b);return g.includes(Ct)||g.push(Ct),g}class Hu{constructor(){this.providerId="phone",this._delegate=new Qr(wf(Y.Z.auth()))}static credential(f,g){return Qr.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}Hu.PHONE_SIGN_IN_METHOD=Qr.PHONE_SIGN_IN_METHOD,Hu.PROVIDER_ID=Qr.PROVIDER_ID;const xg=se;class Rg{constructor(f,g,b=Y.Z.app()){var S;xg(null===(S=b.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new ld(f,g,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ry(_){_.INTERNAL.registerComponent(new re.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),b=f.getProvider("auth");return new qn(g,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ba,FacebookAuthProvider:$o,GithubAuthProvider:Hc,GoogleAuthProvider:Wo,OAuthProvider:vo,SAMLAuthProvider:ds,PhoneAuthProvider:Hu,PhoneMultiFactorGenerator:z_,RecaptchaVerifier:Rg,TwitterAuthProvider:gi,Auth:qn,AuthCredential:Ut,Error:k.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.8")}(Y.Z)},2940:function(et,we){!function(R){"use strict";function c(z){return Array.prototype.slice.call(z)}function Y(z){return new Promise(function(ee,ge){z.onsuccess=function(){ee(z.result)},z.onerror=function(){ge(z.error)}})}function k(z,ee,ge){var Te,ce=new Promise(function(Me,Ce){Y(Te=z[ee].apply(z,ge)).then(Me,Ce)});return ce.request=Te,ce}function le(z,ee,ge){var Te=k(z,ee,ge);return Te.then(function(ce){if(ce)return new j(ce,Te.request)})}function te(z,ee,ge){ge.forEach(function(Te){Object.defineProperty(z.prototype,Te,{get:function(){return this[ee][Te]},set:function(ce){this[ee][Te]=ce}})})}function pe(z,ee,ge,Te){Te.forEach(function(ce){ce in ge.prototype&&(z.prototype[ce]=function(){return k(this[ee],ce,arguments)})})}function re(z,ee,ge,Te){Te.forEach(function(ce){ce in ge.prototype&&(z.prototype[ce]=function(){return this[ee][ce].apply(this[ee],arguments)})})}function fe(z,ee,ge,Te){Te.forEach(function(ce){ce in ge.prototype&&(z.prototype[ce]=function(){return le(this[ee],ce,arguments)})})}function ae(z){this._index=z}function j(z,ee){this._cursor=z,this._request=ee}function U(z){this._store=z}function Q(z){this._tx=z,this.complete=new Promise(function(ee,ge){z.oncomplete=function(){ee()},z.onerror=function(){ge(z.error)},z.onabort=function(){ge(z.error)}})}function Be(z,ee,ge){this._db=z,this.oldVersion=ee,this.transaction=new Q(ge)}function Ie(z){this._db=z}te(ae,"_index",["name","keyPath","multiEntry","unique"]),pe(ae,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),fe(ae,"_index",IDBIndex,["openCursor","openKeyCursor"]),te(j,"_cursor",["direction","key","primaryKey","value"]),pe(j,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(z){z in IDBCursor.prototype&&(j.prototype[z]=function(){var ee=this,ge=arguments;return Promise.resolve().then(function(){return ee._cursor[z].apply(ee._cursor,ge),Y(ee._request).then(function(Te){if(Te)return new j(Te,ee._request)})})})}),U.prototype.createIndex=function(){return new ae(this._store.createIndex.apply(this._store,arguments))},U.prototype.index=function(){return new ae(this._store.index.apply(this._store,arguments))},te(U,"_store",["name","keyPath","indexNames","autoIncrement"]),pe(U,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),fe(U,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),re(U,"_store",IDBObjectStore,["deleteIndex"]),Q.prototype.objectStore=function(){return new U(this._tx.objectStore.apply(this._tx,arguments))},te(Q,"_tx",["objectStoreNames","mode"]),re(Q,"_tx",IDBTransaction,["abort"]),Be.prototype.createObjectStore=function(){return new U(this._db.createObjectStore.apply(this._db,arguments))},te(Be,"_db",["name","version","objectStoreNames"]),re(Be,"_db",IDBDatabase,["deleteObjectStore","close"]),Ie.prototype.transaction=function(){return new Q(this._db.transaction.apply(this._db,arguments))},te(Ie,"_db",["name","version","objectStoreNames"]),re(Ie,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(z){[U,ae].forEach(function(ee){z in ee.prototype&&(ee.prototype[z.replace("open","iterate")]=function(){var ge=c(arguments),Te=ge[ge.length-1],ce=this._store||this._index,Me=ce[z].apply(ce,ge.slice(0,-1));Me.onsuccess=function(){Te(Me.result)}})})}),[ae,U].forEach(function(z){z.prototype.getAll||(z.prototype.getAll=function(ee,ge){var Te=this,ce=[];return new Promise(function(Me){Te.iterateCursor(ee,function(Ce){Ce?(ce.push(Ce.value),void 0===ge||ce.length!=ge?Ce.continue():Me(ce)):Me(ce)})})})}),R.openDb=function Oe(z,ee,ge){var Te=k(indexedDB,"open",[z,ee]),ce=Te.request;return ce&&(ce.onupgradeneeded=function(Me){ge&&ge(new Be(ce.result,Me.oldVersion,ce.transaction))}),Te.then(function(Me){return new Ie(Me)})},R.deleteDb=function Ve(z){return k(indexedDB,"deleteDatabase",[z])},Object.defineProperty(R,"__esModule",{value:!0})}(we)},8306:(et,we,R)=>{"use strict";R.d(we,{y:()=>j});var c=R(930),Y=R(727),k=R(8822),le=R(4671);var re=R(2416),fe=R(576),ae=R(2806);let j=(()=>{class Ie{constructor(Ve){Ve&&(this._subscribe=Ve)}lift(Ve){const z=new Ie;return z.source=this,z.operator=Ve,z}subscribe(Ve,z,ee){const ge=function Be(Ie){return Ie&&Ie instanceof c.Lv||function Q(Ie){return Ie&&(0,fe.m)(Ie.next)&&(0,fe.m)(Ie.error)&&(0,fe.m)(Ie.complete)}(Ie)&&(0,Y.Nn)(Ie)}(Ve)?Ve:new c.Hp(Ve,z,ee);return(0,ae.x)(()=>{const{operator:Te,source:ce}=this;ge.add(Te?Te.call(ge,ce):ce?this._subscribe(ge):this._trySubscribe(ge))}),ge}_trySubscribe(Ve){try{return this._subscribe(Ve)}catch(z){Ve.error(z)}}forEach(Ve,z){return new(z=U(z))((ee,ge)=>{const Te=new c.Hp({next:ce=>{try{Ve(ce)}catch(Me){ge(Me),Te.unsubscribe()}},error:ge,complete:ee});this.subscribe(Te)})}_subscribe(Ve){var z;return null===(z=this.source)||void 0===z?void 0:z.subscribe(Ve)}[k.L](){return this}pipe(...Ve){return function pe(Ie){return 0===Ie.length?le.y:1===Ie.length?Ie[0]:function(Ve){return Ie.reduce((z,ee)=>ee(z),Ve)}}(Ve)(this)}toPromise(Ve){return new(Ve=U(Ve))((z,ee)=>{let ge;this.subscribe(Te=>ge=Te,Te=>ee(Te),()=>z(ge))})}}return Ie.create=Oe=>new Ie(Oe),Ie})();function U(Ie){var Oe;return null!==(Oe=null!=Ie?Ie:re.v.Promise)&&void 0!==Oe?Oe:Promise}},7579:(et,we,R)=>{"use strict";R.d(we,{x:()=>re});var c=R(8306),Y=R(727);const le=(0,R(3888).d)(ae=>function(){ae(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var te=R(8737),pe=R(2806);let re=(()=>{class ae extends c.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(U){const Q=new fe(this,this);return Q.operator=U,Q}_throwIfClosed(){if(this.closed)throw new le}next(U){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const Q=this.observers.slice();for(const Be of Q)Be.next(U)}})}error(U){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=U;const{observers:Q}=this;for(;Q.length;)Q.shift().error(U)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:U}=this;for(;U.length;)U.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var U;return(null===(U=this.observers)||void 0===U?void 0:U.length)>0}_trySubscribe(U){return this._throwIfClosed(),super._trySubscribe(U)}_subscribe(U){return this._throwIfClosed(),this._checkFinalizedStatuses(U),this._innerSubscribe(U)}_innerSubscribe(U){const{hasError:Q,isStopped:Be,observers:Ie}=this;return Q||Be?Y.Lc:(Ie.push(U),new Y.w0(()=>(0,te.P)(Ie,U)))}_checkFinalizedStatuses(U){const{hasError:Q,thrownError:Be,isStopped:Ie}=this;Q?U.error(Be):Ie&&U.complete()}asObservable(){const U=new c.y;return U.source=this,U}}return ae.create=(j,U)=>new fe(j,U),ae})();class fe extends re{constructor(j,U){super(),this.destination=j,this.source=U}next(j){var U,Q;null===(Q=null===(U=this.destination)||void 0===U?void 0:U.next)||void 0===Q||Q.call(U,j)}error(j){var U,Q;null===(Q=null===(U=this.destination)||void 0===U?void 0:U.error)||void 0===Q||Q.call(U,j)}complete(){var j,U;null===(U=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===U||U.call(j)}_subscribe(j){var U,Q;return null!==(Q=null===(U=this.source)||void 0===U?void 0:U.subscribe(j))&&void 0!==Q?Q:Y.Lc}}},930:(et,we,R)=>{"use strict";R.d(we,{Hp:()=>Be,Lv:()=>Q});var c=R(576),Y=R(727),k=R(2416),le=R(7849),te=R(5032);const pe=ae("C",void 0,void 0);function ae(ee,ge,Te){return{kind:ee,value:ge,error:Te}}var j=R(3410),U=R(2806);class Q extends Y.w0{constructor(ge){super(),this.isStopped=!1,ge?(this.destination=ge,(0,Y.Nn)(ge)&&ge.add(this)):this.destination=z}static create(ge,Te,ce){return new Be(ge,Te,ce)}next(ge){this.isStopped?Ve(function fe(ee){return ae("N",ee,void 0)}(ge),this):this._next(ge)}error(ge){this.isStopped?Ve(function re(ee){return ae("E",void 0,ee)}(ge),this):(this.isStopped=!0,this._error(ge))}complete(){this.isStopped?Ve(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ge){this.destination.next(ge)}_error(ge){try{this.destination.error(ge)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Be extends Q{constructor(ge,Te,ce){let Me;if(super(),(0,c.m)(ge))Me=ge;else if(ge){let Ce;({next:Me,error:Te,complete:ce}=ge),this&&k.v.useDeprecatedNextContext?(Ce=Object.create(ge),Ce.unsubscribe=()=>this.unsubscribe()):Ce=ge,Me=null==Me?void 0:Me.bind(Ce),Te=null==Te?void 0:Te.bind(Ce),ce=null==ce?void 0:ce.bind(Ce)}this.destination={next:Me?Ie(Me):te.Z,error:Ie(null!=Te?Te:Oe),complete:ce?Ie(ce):te.Z}}}function Ie(ee,ge){return(...Te)=>{try{ee(...Te)}catch(ce){k.v.useDeprecatedSynchronousErrorHandling?(0,U.O)(ce):(0,le.h)(ce)}}}function Oe(ee){throw ee}function Ve(ee,ge){const{onStoppedNotification:Te}=k.v;Te&&j.z.setTimeout(()=>Te(ee,ge))}const z={closed:!0,next:te.Z,error:Oe,complete:te.Z}},727:(et,we,R)=>{"use strict";R.d(we,{Lc:()=>pe,w0:()=>te,Nn:()=>re});var c=R(576);const k=(0,R(3888).d)(ae=>function(U){ae(this),this.message=U?`${U.length} errors occurred during unsubscription:\n${U.map((Q,Be)=>`${Be+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=U});var le=R(8737);class te{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:U}=this;if(U)if(this._parentage=null,Array.isArray(U))for(const Ie of U)Ie.remove(this);else U.remove(this);const{initialTeardown:Q}=this;if((0,c.m)(Q))try{Q()}catch(Ie){j=Ie instanceof k?Ie.errors:[Ie]}const{_teardowns:Be}=this;if(Be){this._teardowns=null;for(const Ie of Be)try{fe(Ie)}catch(Oe){j=null!=j?j:[],Oe instanceof k?j=[...j,...Oe.errors]:j.push(Oe)}}if(j)throw new k(j)}}add(j){var U;if(j&&j!==this)if(this.closed)fe(j);else{if(j instanceof te){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._teardowns=null!==(U=this._teardowns)&&void 0!==U?U:[]).push(j)}}_hasParent(j){const{_parentage:U}=this;return U===j||Array.isArray(U)&&U.includes(j)}_addParent(j){const{_parentage:U}=this;this._parentage=Array.isArray(U)?(U.push(j),U):U?[U,j]:j}_removeParent(j){const{_parentage:U}=this;U===j?this._parentage=null:Array.isArray(U)&&(0,le.P)(U,j)}remove(j){const{_teardowns:U}=this;U&&(0,le.P)(U,j),j instanceof te&&j._removeParent(this)}}te.EMPTY=(()=>{const ae=new te;return ae.closed=!0,ae})();const pe=te.EMPTY;function re(ae){return ae instanceof te||ae&&"closed"in ae&&(0,c.m)(ae.remove)&&(0,c.m)(ae.add)&&(0,c.m)(ae.unsubscribe)}function fe(ae){(0,c.m)(ae)?ae():ae.unsubscribe()}},2416:(et,we,R)=>{"use strict";R.d(we,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(et,we,R)=>{"use strict";R.d(we,{E:()=>Y});const Y=new(R(8306).y)(te=>te.complete())},8996:(et,we,R)=>{"use strict";R.d(we,{D:()=>Me});var c=R(8421),Y=R(5363),k=R(9468),pe=R(8306),fe=R(2202),ae=R(576),j=R(9672);function Q(Ce,Ke){if(!Ce)throw new Error("Iterable cannot be null");return new pe.y($e=>{(0,j.f)($e,Ke,()=>{const se=Ce[Symbol.asyncIterator]();(0,j.f)($e,Ke,()=>{se.next().then(q=>{q.done?$e.complete():$e.next(q.value)})},0,!0)})})}var Be=R(3670),Ie=R(8239),Oe=R(1144),Ve=R(6495),z=R(2206),ee=R(4532),ge=R(3260);function Me(Ce,Ke){return Ke?function ce(Ce,Ke){if(null!=Ce){if((0,Be.c)(Ce))return function le(Ce,Ke){return(0,c.Xf)(Ce).pipe((0,k.R)(Ke),(0,Y.Q)(Ke))}(Ce,Ke);if((0,Oe.z)(Ce))return function re(Ce,Ke){return new pe.y($e=>{let se=0;return Ke.schedule(function(){se===Ce.length?$e.complete():($e.next(Ce[se++]),$e.closed||this.schedule())})})}(Ce,Ke);if((0,Ie.t)(Ce))return function te(Ce,Ke){return(0,c.Xf)(Ce).pipe((0,k.R)(Ke),(0,Y.Q)(Ke))}(Ce,Ke);if((0,z.D)(Ce))return Q(Ce,Ke);if((0,Ve.T)(Ce))return function U(Ce,Ke){return new pe.y($e=>{let se;return(0,j.f)($e,Ke,()=>{se=Ce[fe.h](),(0,j.f)($e,Ke,()=>{let q,ie;try{({value:q,done:ie}=se.next())}catch(me){return void $e.error(me)}ie?$e.complete():$e.next(q)},0,!0)}),()=>(0,ae.m)(null==se?void 0:se.return)&&se.return()})}(Ce,Ke);if((0,ge.L)(Ce))return function Te(Ce,Ke){return Q((0,ge.Q)(Ce),Ke)}(Ce,Ke)}throw(0,ee.z)(Ce)}(Ce,Ke):(0,c.Xf)(Ce)}},8421:(et,we,R)=>{"use strict";R.d(we,{Xf:()=>Be});var c=R(655),Y=R(1144),k=R(8239),le=R(8306),te=R(3670),pe=R(2206),re=R(4532),fe=R(6495),ae=R(3260),j=R(576),U=R(7849),Q=R(8822);function Be(ce){if(ce instanceof le.y)return ce;if(null!=ce){if((0,te.c)(ce))return function Ie(ce){return new le.y(Me=>{const Ce=ce[Q.L]();if((0,j.m)(Ce.subscribe))return Ce.subscribe(Me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ce);if((0,Y.z)(ce))return function Oe(ce){return new le.y(Me=>{for(let Ce=0;Ce<ce.length&&!Me.closed;Ce++)Me.next(ce[Ce]);Me.complete()})}(ce);if((0,k.t)(ce))return function Ve(ce){return new le.y(Me=>{ce.then(Ce=>{Me.closed||(Me.next(Ce),Me.complete())},Ce=>Me.error(Ce)).then(null,U.h)})}(ce);if((0,pe.D)(ce))return ee(ce);if((0,fe.T)(ce))return function z(ce){return new le.y(Me=>{for(const Ce of ce)if(Me.next(Ce),Me.closed)return;Me.complete()})}(ce);if((0,ae.L)(ce))return function ge(ce){return ee((0,ae.Q)(ce))}(ce)}throw(0,re.z)(ce)}function ee(ce){return new le.y(Me=>{(function Te(ce,Me){var Ce,Ke,$e,se;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Ce=(0,c.KL)(ce);!(Ke=yield Ce.next()).done;)if(Me.next(Ke.value),Me.closed)return}catch(q){$e={error:q}}finally{try{Ke&&!Ke.done&&(se=Ce.return)&&(yield se.call(Ce))}finally{if($e)throw $e.error}}Me.complete()})})(ce,Me).catch(Ce=>Me.error(Ce))})}},6451:(et,we,R)=>{"use strict";R.d(we,{T:()=>pe});var c=R(8189),Y=R(8421),k=R(515),le=R(3269),te=R(8996);function pe(...re){const fe=(0,le.yG)(re),ae=(0,le._6)(re,1/0),j=re;return j.length?1===j.length?(0,Y.Xf)(j[0]):(0,c.J)(ae)((0,te.D)(j,fe)):k.E}},5403:(et,we,R)=>{"use strict";R.d(we,{Q:()=>Y});var c=R(930);class Y extends c.Lv{constructor(le,te,pe,re,fe){super(le),this.onFinalize=fe,this._next=te?function(ae){try{te(ae)}catch(j){le.error(j)}}:super._next,this._error=re?function(ae){try{re(ae)}catch(j){le.error(j)}finally{this.unsubscribe()}}:super._error,this._complete=pe?function(){try{pe()}catch(ae){le.error(ae)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var le;const{closed:te}=this;super.unsubscribe(),!te&&(null===(le=this.onFinalize)||void 0===le||le.call(this))}}},4004:(et,we,R)=>{"use strict";R.d(we,{U:()=>k});var c=R(4482),Y=R(5403);function k(le,te){return(0,c.e)((pe,re)=>{let fe=0;pe.subscribe(new Y.Q(re,ae=>{re.next(le.call(te,ae,fe++))}))})}},8189:(et,we,R)=>{"use strict";R.d(we,{J:()=>k});var c=R(5577),Y=R(4671);function k(le=1/0){return(0,c.z)(Y.y,le)}},5577:(et,we,R)=>{"use strict";R.d(we,{z:()=>fe});var c=R(4004),Y=R(8421),k=R(4482),le=R(9672),te=R(5403),re=R(576);function fe(ae,j,U=1/0){return(0,re.m)(j)?fe((Q,Be)=>(0,c.U)((Ie,Oe)=>j(Q,Ie,Be,Oe))((0,Y.Xf)(ae(Q,Be))),U):("number"==typeof j&&(U=j),(0,k.e)((Q,Be)=>function pe(ae,j,U,Q,Be,Ie,Oe,Ve){const z=[];let ee=0,ge=0,Te=!1;const ce=()=>{Te&&!z.length&&!ee&&j.complete()},Me=Ke=>ee<Q?Ce(Ke):z.push(Ke),Ce=Ke=>{Ie&&j.next(Ke),ee++;let $e=!1;(0,Y.Xf)(U(Ke,ge++)).subscribe(new te.Q(j,se=>{null==Be||Be(se),Ie?Me(se):j.next(se)},()=>{$e=!0},void 0,()=>{if($e)try{for(ee--;z.length&&ee<Q;){const se=z.shift();Oe?(0,le.f)(j,Oe,()=>Ce(se)):Ce(se)}ce()}catch(se){j.error(se)}}))};return ae.subscribe(new te.Q(j,Me,()=>{Te=!0,ce()})),()=>{null==Ve||Ve()}}(Q,Be,ae,U)))}},5363:(et,we,R)=>{"use strict";R.d(we,{Q:()=>le});var c=R(9672),Y=R(4482),k=R(5403);function le(te,pe=0){return(0,Y.e)((re,fe)=>{re.subscribe(new k.Q(fe,ae=>(0,c.f)(fe,te,()=>fe.next(ae),pe),()=>(0,c.f)(fe,te,()=>fe.complete(),pe),ae=>(0,c.f)(fe,te,()=>fe.error(ae),pe)))})}},3099:(et,we,R)=>{"use strict";R.d(we,{B:()=>pe});var c=R(8996),Y=R(5698),k=R(7579),le=R(930),te=R(4482);function pe(fe={}){const{connector:ae=(()=>new k.x),resetOnError:j=!0,resetOnComplete:U=!0,resetOnRefCountZero:Q=!0}=fe;return Be=>{let Ie=null,Oe=null,Ve=null,z=0,ee=!1,ge=!1;const Te=()=>{null==Oe||Oe.unsubscribe(),Oe=null},ce=()=>{Te(),Ie=Ve=null,ee=ge=!1},Me=()=>{const Ce=Ie;ce(),null==Ce||Ce.unsubscribe()};return(0,te.e)((Ce,Ke)=>{z++,!ge&&!ee&&Te();const $e=Ve=null!=Ve?Ve:ae();Ke.add(()=>{z--,0===z&&!ge&&!ee&&(Oe=re(Me,Q))}),$e.subscribe(Ke),Ie||(Ie=new le.Hp({next:se=>$e.next(se),error:se=>{ge=!0,Te(),Oe=re(ce,j,se),$e.error(se)},complete:()=>{ee=!0,Te(),Oe=re(ce,U),$e.complete()}}),(0,c.D)(Ce).subscribe(Ie))})(Be)}}function re(fe,ae,...j){return!0===ae?(fe(),null):!1===ae?null:ae(...j).pipe((0,Y.q)(1)).subscribe(()=>fe())}},9468:(et,we,R)=>{"use strict";R.d(we,{R:()=>Y});var c=R(4482);function Y(k,le=0){return(0,c.e)((te,pe)=>{pe.add(k.schedule(()=>te.subscribe(pe),le))})}},5698:(et,we,R)=>{"use strict";R.d(we,{q:()=>le});var c=R(515),Y=R(4482),k=R(5403);function le(te){return te<=0?()=>c.E:(0,Y.e)((pe,re)=>{let fe=0;pe.subscribe(new k.Q(re,ae=>{++fe<=te&&(re.next(ae),te<=fe&&re.complete())}))})}},8505:(et,we,R)=>{"use strict";R.d(we,{b:()=>te});var c=R(576),Y=R(4482),k=R(5403),le=R(4671);function te(pe,re,fe){const ae=(0,c.m)(pe)||re||fe?{next:pe,error:re,complete:fe}:pe;return ae?(0,Y.e)((j,U)=>{var Q;null===(Q=ae.subscribe)||void 0===Q||Q.call(ae);let Be=!0;j.subscribe(new k.Q(U,Ie=>{var Oe;null===(Oe=ae.next)||void 0===Oe||Oe.call(ae,Ie),U.next(Ie)},()=>{var Ie;Be=!1,null===(Ie=ae.complete)||void 0===Ie||Ie.call(ae),U.complete()},Ie=>{var Oe;Be=!1,null===(Oe=ae.error)||void 0===Oe||Oe.call(ae,Ie),U.error(Ie)},()=>{var Ie,Oe;Be&&(null===(Ie=ae.unsubscribe)||void 0===Ie||Ie.call(ae)),null===(Oe=ae.finalize)||void 0===Oe||Oe.call(ae)}))}):le.y}},4408:(et,we,R)=>{"use strict";R.d(we,{o:()=>te});var c=R(727);class Y extends c.w0{constructor(re,fe){super()}schedule(re,fe=0){return this}}const k={setInterval(...pe){const{delegate:re}=k;return((null==re?void 0:re.setInterval)||setInterval)(...pe)},clearInterval(pe){const{delegate:re}=k;return((null==re?void 0:re.clearInterval)||clearInterval)(pe)},delegate:void 0};var le=R(8737);class te extends Y{constructor(re,fe){super(re,fe),this.scheduler=re,this.work=fe,this.pending=!1}schedule(re,fe=0){if(this.closed)return this;this.state=re;const ae=this.id,j=this.scheduler;return null!=ae&&(this.id=this.recycleAsyncId(j,ae,fe)),this.pending=!0,this.delay=fe,this.id=this.id||this.requestAsyncId(j,this.id,fe),this}requestAsyncId(re,fe,ae=0){return k.setInterval(re.flush.bind(re,this),ae)}recycleAsyncId(re,fe,ae=0){if(null!=ae&&this.delay===ae&&!1===this.pending)return fe;k.clearInterval(fe)}execute(re,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ae=this._execute(re,fe);if(ae)return ae;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(re,fe){let j,ae=!1;try{this.work(re)}catch(U){ae=!0,j=U||new Error("Scheduled action threw falsy error")}if(ae)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:re,scheduler:fe}=this,{actions:ae}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(ae,this),null!=re&&(this.id=this.recycleAsyncId(fe,re,null)),this.delay=null,super.unsubscribe()}}}},7565:(et,we,R)=>{"use strict";R.d(we,{v:()=>k});var c=R(6063);class Y{constructor(te,pe=Y.now){this.schedulerActionCtor=te,this.now=pe}schedule(te,pe=0,re){return new this.schedulerActionCtor(this,te).schedule(re,pe)}}Y.now=c.l.now;class k extends Y{constructor(te,pe=Y.now){super(te,pe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(te){const{actions:pe}=this;if(this._active)return void pe.push(te);let re;this._active=!0;do{if(re=te.execute(te.state,te.delay))break}while(te=pe.shift());if(this._active=!1,re){for(;te=pe.shift();)te.unsubscribe();throw re}}}},4986:(et,we,R)=>{"use strict";R.d(we,{z:()=>k,P:()=>le});var c=R(4408);const k=new(R(7565).v)(c.o),le=k},6063:(et,we,R)=>{"use strict";R.d(we,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(et,we,R)=>{"use strict";R.d(we,{z:()=>c});const c={setTimeout(...Y){const{delegate:k}=c;return((null==k?void 0:k.setTimeout)||setTimeout)(...Y)},clearTimeout(Y){const{delegate:k}=c;return((null==k?void 0:k.clearTimeout)||clearTimeout)(Y)},delegate:void 0}},2202:(et,we,R)=>{"use strict";R.d(we,{h:()=>Y});const Y=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(et,we,R)=>{"use strict";R.d(we,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(et,we,R)=>{"use strict";R.d(we,{jO:()=>le,yG:()=>te,_6:()=>pe});var c=R(576),Y=R(3532);function k(re){return re[re.length-1]}function le(re){return(0,c.m)(k(re))?re.pop():void 0}function te(re){return(0,Y.K)(k(re))?re.pop():void 0}function pe(re,fe){return"number"==typeof k(re)?re.pop():fe}},8737:(et,we,R)=>{"use strict";function c(Y,k){if(Y){const le=Y.indexOf(k);0<=le&&Y.splice(le,1)}}R.d(we,{P:()=>c})},3888:(et,we,R)=>{"use strict";function c(Y){const le=Y(te=>{Error.call(te),te.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}R.d(we,{d:()=>c})},2806:(et,we,R)=>{"use strict";R.d(we,{x:()=>k,O:()=>le});var c=R(2416);let Y=null;function k(te){if(c.v.useDeprecatedSynchronousErrorHandling){const pe=!Y;if(pe&&(Y={errorThrown:!1,error:null}),te(),pe){const{errorThrown:re,error:fe}=Y;if(Y=null,re)throw fe}}else te()}function le(te){c.v.useDeprecatedSynchronousErrorHandling&&Y&&(Y.errorThrown=!0,Y.error=te)}},9672:(et,we,R)=>{"use strict";function c(Y,k,le,te=0,pe=!1){const re=k.schedule(function(){le(),pe?Y.add(this.schedule(null,te)):this.unsubscribe()},te);if(Y.add(re),!pe)return re}R.d(we,{f:()=>c})},4671:(et,we,R)=>{"use strict";function c(Y){return Y}R.d(we,{y:()=>c})},1144:(et,we,R)=>{"use strict";R.d(we,{z:()=>c});const c=Y=>Y&&"number"==typeof Y.length&&"function"!=typeof Y},2206:(et,we,R)=>{"use strict";R.d(we,{D:()=>Y});var c=R(576);function Y(k){return Symbol.asyncIterator&&(0,c.m)(null==k?void 0:k[Symbol.asyncIterator])}},576:(et,we,R)=>{"use strict";function c(Y){return"function"==typeof Y}R.d(we,{m:()=>c})},3670:(et,we,R)=>{"use strict";R.d(we,{c:()=>k});var c=R(8822),Y=R(576);function k(le){return(0,Y.m)(le[c.L])}},6495:(et,we,R)=>{"use strict";R.d(we,{T:()=>k});var c=R(2202),Y=R(576);function k(le){return(0,Y.m)(null==le?void 0:le[c.h])}},8239:(et,we,R)=>{"use strict";R.d(we,{t:()=>Y});var c=R(576);function Y(k){return(0,c.m)(null==k?void 0:k.then)}},3260:(et,we,R)=>{"use strict";R.d(we,{Q:()=>k,L:()=>le});var c=R(655),Y=R(576);function k(te){return(0,c.FC)(this,arguments,function*(){const re=te.getReader();try{for(;;){const{value:fe,done:ae}=yield(0,c.qq)(re.read());if(ae)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(fe)}}finally{re.releaseLock()}})}function le(te){return(0,Y.m)(null==te?void 0:te.getReader)}},3532:(et,we,R)=>{"use strict";R.d(we,{K:()=>Y});var c=R(576);function Y(k){return k&&(0,c.m)(k.schedule)}},4482:(et,we,R)=>{"use strict";R.d(we,{A:()=>Y,e:()=>k});var c=R(576);function Y(le){return(0,c.m)(null==le?void 0:le.lift)}function k(le){return te=>{if(Y(te))return te.lift(function(pe){try{return le(pe,this)}catch(re){this.error(re)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(et,we,R)=>{"use strict";function c(){}R.d(we,{Z:()=>c})},7849:(et,we,R)=>{"use strict";R.d(we,{h:()=>k});var c=R(2416),Y=R(3410);function k(le){Y.z.setTimeout(()=>{const{onUnhandledError:te}=c.v;if(!te)throw le;te(le)})}},4532:(et,we,R)=>{"use strict";function c(Y){return new TypeError(`You provided ${null!==Y&&"object"==typeof Y?"an invalid object":`'${Y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(we,{z:()=>c})},655:(et,we,R)=>{"use strict";function le(q,ie){var me={};for(var oe in q)Object.prototype.hasOwnProperty.call(q,oe)&&ie.indexOf(oe)<0&&(me[oe]=q[oe]);if(null!=q&&"function"==typeof Object.getOwnPropertySymbols){var xe=0;for(oe=Object.getOwnPropertySymbols(q);xe<oe.length;xe++)ie.indexOf(oe[xe])<0&&Object.prototype.propertyIsEnumerable.call(q,oe[xe])&&(me[oe[xe]]=q[oe[xe]])}return me}function fe(q,ie,me,oe){return new(me||(me=Promise))(function(de,mt){function Bt(ot){try{nt(oe.next(ot))}catch(Un){mt(Un)}}function Pn(ot){try{nt(oe.throw(ot))}catch(Un){mt(Un)}}function nt(ot){ot.done?de(ot.value):function xe(de){return de instanceof me?de:new me(function(mt){mt(de)})}(ot.value).then(Bt,Pn)}nt((oe=oe.apply(q,ie||[])).next())})}function z(q){return this instanceof z?(this.v=q,this):new z(q)}function ee(q,ie,me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var xe,oe=me.apply(q,ie||[]),de=[];return xe={},mt("next"),mt("throw"),mt("return"),xe[Symbol.asyncIterator]=function(){return this},xe;function mt(Qt){oe[Qt]&&(xe[Qt]=function(_r){return new Promise(function(Wt,ki){de.push([Qt,_r,Wt,ki])>1||Bt(Qt,_r)})})}function Bt(Qt,_r){try{!function Pn(Qt){Qt.value instanceof z?Promise.resolve(Qt.value.v).then(nt,ot):Un(de[0][2],Qt)}(oe[Qt](_r))}catch(Wt){Un(de[0][3],Wt)}}function nt(Qt){Bt("next",Qt)}function ot(Qt){Bt("throw",Qt)}function Un(Qt,_r){Qt(_r),de.shift(),de.length&&Bt(de[0][0],de[0][1])}}function Te(q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,ie=q[Symbol.asyncIterator];return ie?ie.call(q):(q=function Q(q){var ie="function"==typeof Symbol&&Symbol.iterator,me=ie&&q[ie],oe=0;if(me)return me.call(q);if(q&&"number"==typeof q.length)return{next:function(){return q&&oe>=q.length&&(q=void 0),{value:q&&q[oe++],done:!q}}};throw new TypeError(ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(q),me={},oe("next"),oe("throw"),oe("return"),me[Symbol.asyncIterator]=function(){return this},me);function oe(de){me[de]=q[de]&&function(mt){return new Promise(function(Bt,Pn){!function xe(de,mt,Bt,Pn){Promise.resolve(Pn).then(function(nt){de({value:nt,done:Bt})},mt)}(Bt,Pn,(mt=q[de](mt)).done,mt.value)})}}}R.d(we,{_T:()=>le,mG:()=>fe,qq:()=>z,FC:()=>ee,KL:()=>Te})},5e3:(et,we,R)=>{"use strict";R.d(we,{deG:()=>sd,tb:()=>ha,AFp:()=>zD,ip1:()=>iu,CZH:()=>Dh,hGG:()=>L0,z2F:()=>Ah,sBO:()=>iE,Sil:()=>uo,_Vd:()=>xn,EJc:()=>_n,SBq:()=>uh,qLn:()=>Ht,vpe:()=>ua,tBr:()=>Fr,XFs:()=>dt,OlP:()=>pn,zs3:()=>Ss,ZZ4:()=>xp,aQg:()=>Rp,soG:()=>Fo,YKP:()=>fh,h0i:()=>_c,PXZ:()=>ou,R0b:()=>Gr,FiY:()=>wr,Lbi:()=>y0,g9A:()=>qD,Qsj:()=>vD,FYo:()=>fp,JOm:()=>ue,tp0:()=>Lr,Rgc:()=>_h,dDg:()=>Th,q4F:()=>pc,GfV:()=>dh,s_b:()=>ol,ifc:()=>St,eFA:()=>m_,G48:()=>QT,Gpc:()=>U,X6Q:()=>E0,_c5:()=>P0,VLi:()=>Dc,c2e:()=>Qi,zSh:()=>Gf,wAp:()=>pt,vHH:()=>Oe,cg1:()=>lp,kL8:()=>Cv,dqk:()=>Rt,sIi:()=>Wf,CqO:()=>av,QGY:()=>sv,F4k:()=>ov,RDi:()=>fu,AaK:()=>fe,qOj:()=>fw,TTD:()=>$o,_Bn:()=>yD,xp6:()=>py,uIk:()=>zf,Tol:()=>zd,ekj:()=>Rm,Suo:()=>Qv,Xpm:()=>an,lG2:()=>gl,Yz7:()=>Wt,cJS:()=>zt,oAB:()=>Ar,Yjl:()=>_a,Y36:()=>pr,_UZ:()=>Yf,qZA:()=>$d,TgZ:()=>nv,EpF:()=>iv,n5z:()=>ja,Ikx:()=>Tv,SDv:()=>OT,QtT:()=>Uv,pQV:()=>Bv,LFG:()=>Le,$8M:()=>Co,$Z:()=>Gd,NdJ:()=>Jf,CRH:()=>bh,oxw:()=>Tr,Hsn:()=>Cm,F$t:()=>Xf,Q6J:()=>tv,s9C:()=>uv,MGl:()=>Im,VKq:()=>TD,WLB:()=>CD,kEZ:()=>ID,iGM:()=>Yv,MAs:()=>_w,CHM:()=>Sa,LSH:()=>Ed,kYT:()=>ga,Udp:()=>tc,YNc:()=>hm,W1O:()=>t0,_uU:()=>Gw,Oqu:()=>nc,hij:()=>ip,Gf:()=>Jv});var c=R(7579),Y=R(727),k=R(8306),le=R(6451),te=R(3099);function pe(s){for(let o in s)if(s[o]===pe)return o;throw Error("Could not find renamed property on target object.")}function re(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function fe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(fe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function ae(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const j=pe({__forward_ref__:pe});function U(s){return s.__forward_ref__=U,s.toString=function(){return fe(this())},s}function Q(s){return Be(s)?s():s}function Be(s){return"function"==typeof s&&s.hasOwnProperty(j)&&s.__forward_ref__===U}class Oe extends Error{constructor(o,a){super(function Ve(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,a)),this.code=o}}function z(s){return"string"==typeof s?s:null==s?"":String(s)}function ee(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():z(s)}function Me(s,o){const a=o?` in ${o}`:"";throw new Oe(-201,`No provider for ${ee(s)} found${a}`)}function ot(s,o,a,u){throw new Error(`ASSERTION ERROR: ${s}`+(null==u?"":` [Expected=> ${a} ${u} ${o} <=Actual]`))}function Wt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function zt(s){return{providers:s.providers||[],imports:s.imports||[]}}function Nt(s){return is(s,Pi)||is(s,ci)}function is(s,o){return s.hasOwnProperty(o)?s[o]:null}function Sr(s){return s&&(s.hasOwnProperty(Gs)||s.hasOwnProperty(Fi))?s[Gs]:null}const Pi=pe({\u0275prov:pe}),Gs=pe({\u0275inj:pe}),ci=pe({ngInjectableDef:pe}),Fi=pe({ngInjectorDef:pe});var dt=(()=>((dt=dt||{})[dt.Default=0]="Default",dt[dt.Host=1]="Host",dt[dt.Self=2]="Self",dt[dt.SkipSelf=4]="SkipSelf",dt[dt.Optional=8]="Optional",dt))();let Wr;function In(s){const o=Wr;return Wr=s,o}function fo(s,o,a){const u=Nt(s);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&dt.Optional?null:void 0!==o?o:void Me(fe(s),"Injector")}function Ye(s){return{toString:s}.toString()}var It=(()=>((It=It||{})[It.OnPush=0]="OnPush",It[It.Default=1]="Default",It))(),St=(()=>{return(s=St||(St={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",St;var s})();const Je="undefined"!=typeof globalThis&&globalThis,at="undefined"!=typeof window&&window,Ti="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Rt=Je||"undefined"!=typeof global&&global||at||Ti,di={},B=[],G=pe({\u0275cmp:pe}),$=pe({\u0275dir:pe}),be=pe({\u0275pipe:pe}),X=pe({\u0275mod:pe}),We=pe({\u0275fac:pe}),ht=pe({__NG_ELEMENT_ID__:pe});let Xt=0;function an(s){return Ye(()=>{const a={},u={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===It.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||B,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||St.Emulated,id:"c",styles:s.styles||B,_:null,setInput:null,schemas:s.schemas||null,tView:null},d=s.directives,p=s.features,y=s.pipes;return u.id+=Xt++,u.inputs=ma(s.inputs,a),u.outputs=ma(s.outputs),p&&p.forEach(w=>w(u)),u.directiveDefs=d?()=>("function"==typeof d?d():d).map(Kr):null,u.pipeDefs=y?()=>("function"==typeof y?y():y).map(Ct):null,u})}function Kr(s){return Gn(s)||function Nr(s){return s[$]||null}(s)}function Ct(s){return function os(s){return s[be]||null}(s)}const Hn={};function Ar(s){return Ye(()=>{const o={type:s.type,bootstrap:s.bootstrap||B,declarations:s.declarations||B,imports:s.imports||B,exports:s.exports||B,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(Hn[s.id]=s.type),o})}function ga(s,o){return Ye(()=>{const a=$n(s,!0);a.declarations=o.declarations||B,a.imports=o.imports||B,a.exports=o.exports||B})}function ma(s,o){if(null==s)return di;const a={};for(const u in s)if(s.hasOwnProperty(u)){let d=s[u],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),a[d]=u,o&&(o[d]=p)}return a}const gl=an;function _a(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Gn(s){return s[G]||null}function $n(s,o){const a=s[X]||null;if(!a&&!0===o)throw new Error(`Type ${fe(s)} does not have '\u0275mod' property.`);return a}function Ci(s){return Array.isArray(s)&&"object"==typeof s[1]}function hi(s){return Array.isArray(s)&&!0===s[1]}function Lc(s){return 0!=(8&s.flags)}function ml(s){return 2==(2&s.flags)}function zs(s){return 1==(1&s.flags)}function fi(s){return null!==s.template}function Uh(s){return 0!=(512&s[2])}function pi(s,o){return s.hasOwnProperty(We)?s[We]:null}class vo{constructor(o,a,u){this.previousValue=o,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function $o(){return Wo}function Wo(s){return s.type.prototype.ngOnChanges&&(s.setInput=og),Hc}function Hc(){const s=Gc(this),o=null==s?void 0:s.current;if(o){const a=s.previous;if(a===di)s.previous=o;else for(let u in o)a[u]=o[u];s.current=null,this.ngOnChanges(o)}}function og(s,o,a,u){const d=Gc(s)||function ds(s,o){return s[vn]=o}(s,{previous:di,current:null}),p=d.current||(d.current={}),y=d.previous,w=this.declaredInputs[a],D=y[w];p[w]=new vo(D&&D.currentValue,o,y===di),s[u]=o}$o.ngInherit=!0;const vn="__ngSimpleChanges__";function Gc(s){return s[vn]||null}let bl;function fu(s){bl=s}function hs(){return void 0!==bl?bl:"undefined"!=typeof document?document:void 0}function en(s){return!!s.listen}const wa={createRenderer:(s,o)=>hs()};function qt(s){for(;Array.isArray(s);)s=s[0];return s}function bo(s,o){return qt(o[s])}function tr(s,o){return qt(o[s.index])}function bn(s,o){return s.data[o]}function nr(s,o){const a=o[s];return Ci(a)?a:a[0]}function zo(s){return 4==(4&s[2])}function Li(s){return 128==(128&s[2])}function Yr(s,o){return null==o?null:s[o]}function Zs(s){s[18]=0}function Ys(s,o){s[5]+=o;let a=s,u=s[3];for(;null!==u&&(1===o&&1===a[5]||-1===o&&0===a[5]);)u[5]+=o,a=u,u=u[3]}const lt={lFrame:Eo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function mu(){return lt.bindingsEnabled}function De(){return lt.lFrame.lView}function At(){return lt.lFrame.tView}function Sa(s){return lt.lFrame.contextLView=s,s[8]}function wn(){let s=Js();for(;null!==s&&64===s.type;)s=s.parent;return s}function Js(){return lt.lFrame.currentTNode}function Aa(){const s=lt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function Mr(s,o){const a=lt.lFrame;a.currentTNode=s,a.isParent=o}function _u(){return lt.lFrame.isParent}function yu(){lt.lFrame.isParent=!1}function Na(){return lt.isInCheckNoChangesMode}function Ko(s){lt.isInCheckNoChangesMode=s}function Wn(){const s=lt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Vi(){return lt.lFrame.bindingIndex++}function ps(s){const o=lt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function Yc(s){lt.lFrame.inI18n=s}function Ma(s,o){const a=lt.lFrame;a.bindingIndex=a.bindingRootIndex=s,wo(o)}function wo(s){lt.lFrame.currentDirectiveIndex=s}function xa(){return lt.lFrame.currentQueryIndex}function wu(s){lt.lFrame.currentQueryIndex=s}function ag(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function El(s,o,a){if(a&dt.SkipSelf){let d=o,p=s;for(;!(d=d.parent,null!==d||a&dt.Host||(d=ag(p),null===d||(p=p[15],10&d.type))););if(null===d)return!1;o=d,s=p}const u=lt.lFrame=Du();return u.currentTNode=o,u.lView=s,!0}function Do(s){const o=Du(),a=s[1];lt.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Du(){const s=lt.lFrame,o=null===s?null:s.child;return null===o?Eo(s):o}function Eo(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Qc(){const s=lt.lFrame;return lt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Gh=Qc;function qo(){const s=Qc();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function rr(){return lt.lFrame.selectedIndex}function gs(s){lt.lFrame.selectedIndex=s}function Dn(){const s=lt.lFrame;return bn(s.tView,s.selectedIndex)}function ms(s,o){for(let a=o.directiveStart,u=o.directiveEnd;a<u;a++){const p=s.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:D,ngAfterViewChecked:I,ngOnDestroy:N}=p;y&&(s.contentHooks||(s.contentHooks=[])).push(-a,y),w&&((s.contentHooks||(s.contentHooks=[])).push(a,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,w)),D&&(s.viewHooks||(s.viewHooks=[])).push(-a,D),I&&((s.viewHooks||(s.viewHooks=[])).push(a,I),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,I)),null!=N&&(s.destroyHooks||(s.destroyHooks=[])).push(a,N)}}function Ra(s,o,a){ir(s,o,3,a)}function Tu(s,o,a,u){(3&s[2])===a&&ir(s,o,a,u)}function Tl(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function ir(s,o,a,u){const p=null!=u?u:-1,y=o.length-1;let w=0;for(let D=void 0!==u?65535&s[18]:0;D<y;D++)if("number"==typeof o[D+1]){if(w=o[D],null!=u&&w>=u)break}else o[D]<0&&(s[18]+=65536),(w<p||-1==p)&&(zh(s,a,o,D),s[18]=(4294901760&s[18])+D+2),D++}function zh(s,o,a,u){const d=a[u]<0,p=a[u+1],w=s[d?-a[u]:a[u]];if(d){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(w)}finally{}}}else try{p.call(w)}finally{}}class Zo{constructor(o,a,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function br(s,o,a){const u=en(s);let d=0;for(;d<a.length;){const p=a[d];if("number"==typeof p){if(0!==p)break;d++;const y=a[d++],w=a[d++],D=a[d++];u?s.setAttribute(o,w,D,y):o.setAttributeNS(y,w,D)}else{const y=p,w=a[++d];Cu(y)?u&&s.setProperty(o,y,w):u?s.setAttribute(o,y,w):o.setAttribute(y,w),d++}}return d}function ys(s){return 3===s||4===s||6===s}function Cu(s){return 64===s.charCodeAt(0)}function Il(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let u=0;u<o.length;u++){const d=o[u];"number"==typeof d?a=d:0===a||Qs(s,a,d,null,-1===a||2===a?o[++u]:null)}}return s}function Qs(s,o,a,u,d){let p=0,y=s.length;if(-1===o)y=-1;else for(;p<s.length;){const w=s[p++];if("number"==typeof w){if(w===o){y=-1;break}if(w>o){y=p-1;break}}}for(;p<s.length;){const w=s[p];if("number"==typeof w)break;if(w===a){if(null===u)return void(null!==d&&(s[p+1]=d));if(u===s[p+1])return void(s[p+2]=d)}p++,null!==u&&p++,null!==d&&p++}-1!==y&&(s.splice(y,0,o),p=y+1),s.splice(p++,0,a),null!==u&&s.splice(p++,0,u),null!==d&&s.splice(p++,0,d)}function ed(s){return-1!==s}function kt(s){return 32767&s}function tn(s,o){let a=function Ui(s){return s>>16}(s),u=o;for(;a>0;)u=u[15],a--;return u}let Xe=!0;function To(s){const o=Xe;return Xe=s,o}let qh=0;function xr(s,o){const a=Xs(s,o);if(-1!==a)return a;const u=o[1];u.firstCreatePass&&(s.injectorIndex=o.length,Ln(u.data,s),Ln(o,null),Ln(u.blueprint,null));const d=La(s,o),p=s.injectorIndex;if(ed(d)){const y=kt(d),w=tn(d,o),D=w[1].data;for(let I=0;I<8;I++)o[p+I]=w[y+I]|D[y+I]}return o[p+8]=d,p}function Ln(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Xs(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function La(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,u=null,d=o;for(;null!==d;){const p=d[1],y=p.type;if(u=2===y?p.declTNode:1===y?d[6]:null,null===u)return-1;if(a++,d=d[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function Rr(s,o,a){!function Fa(s,o,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(ht)&&(u=a[ht]),null==u&&(u=a[ht]=qh++);const d=255&u;o.data[s+(d>>5)]|=1<<d}(s,o,a)}function Va(s,o,a){if(a&dt.Optional)return s;Me(o,"NodeInjector")}function eo(s,o,a,u){if(a&dt.Optional&&void 0===u&&(u=null),0==(a&(dt.Self|dt.Host))){const d=s[9],p=In(void 0);try{return d?d.get(o,u,a&dt.Optional):fo(o,u,a&dt.Optional)}finally{In(p)}}return Va(u,o,a)}function mi(s,o,a,u=dt.Default,d){if(null!==s){const p=function rd(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(ht)?s[ht]:void 0;return"number"==typeof o?o>=0?255&o:Nn:o}(a);if("function"==typeof p){if(!El(o,s,u))return u&dt.Host?Va(d,a,u):eo(o,a,u,d);try{const y=p(u);if(null!=y||u&dt.Optional)return y;Me(a)}finally{Gh()}}else if("number"==typeof p){let y=null,w=Xs(s,o),D=-1,I=u&dt.Host?o[16][6]:null;for((-1===w||u&dt.SkipSelf)&&(D=-1===w?La(s,o):o[w+8],-1!==D&&Ua(u,!1)?(y=o[1],w=kt(D),o=tn(D,o)):w=-1);-1!==w;){const N=o[1];if(Su(p,w,N.data)){const P=ji(w,o,a,y,u,I);if(P!==Ba)return P}D=o[w+8],-1!==D&&Ua(u,o[1].data[w+8]===I)&&Su(p,w,o)?(y=N,w=kt(D),o=tn(D,o)):w=-1}}}return eo(o,a,u,d)}const Ba={};function Nn(){return new bs(wn(),De())}function ji(s,o,a,u,d,p){const y=o[1],w=y.data[s+8],N=nd(w,y,a,null==u?ml(w)&&Xe:u!=y&&0!=(3&w.type),d&dt.Host&&p===w);return null!==N?vs(o,y,N,w):Ba}function nd(s,o,a,u,d){const p=s.providerIndexes,y=o.data,w=1048575&p,D=s.directiveStart,N=p>>20,H=d?w+N:s.directiveEnd;for(let Z=u?w:w+N;Z<H;Z++){const ye=y[Z];if(Z<D&&a===ye||Z>=D&&ye.type===a)return Z}if(d){const Z=y[D];if(Z&&fi(Z)&&Z.type===a)return D}return null}function vs(s,o,a,u){let d=s[a];const p=o.data;if(function lg(s){return s instanceof Zo}(d)){const y=d;y.resolving&&function ge(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Oe(-200,`Circular dependency in DI detected for ${s}${a}`)}(ee(p[a]));const w=To(y.canSeeViewProviders);y.resolving=!0;const D=y.injectImpl?In(y.injectImpl):null;El(s,u,dt.Default);try{d=s[a]=y.factory(void 0,p,s,u),o.firstCreatePass&&a>=u.directiveStart&&function Eu(s,o,a){const{ngOnChanges:u,ngOnInit:d,ngDoCheck:p}=o.type.prototype;if(u){const y=Wo(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,y)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,d),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,p))}(a,p[a],o)}finally{null!==D&&In(D),To(w),y.resolving=!1,Gh()}}return d}function Su(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function Ua(s,o){return!(s&dt.Self||s&dt.Host&&o)}class bs{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,u){return mi(this._tNode,this._lView,o,u,a)}}function ja(s){return Ye(()=>{const o=s.prototype.constructor,a=o[We]||Ha(o),u=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==u;){const p=d[We]||Ha(d);if(p&&p!==a)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function Ha(s){return Be(s)?()=>{const o=Ha(Q(s));return o&&o()}:pi(s)}function Co(s){return function Iu(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const u=a.length;let d=0;for(;d<u;){const p=a[d];if(ys(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<u&&"string"==typeof a[d];)d++;else{if(p===o)return a[d+1];d+=2}}}return null}(wn(),s)}const _i="__parameters__";function So(s,o,a){return Ye(()=>{const u=function Au(s){return function(...a){if(s){const u=s(...a);for(const d in u)this[d]=u[d]}}}(o);function d(...p){if(this instanceof d)return u.apply(this,p),this;const y=new d(...p);return w.annotation=y,w;function w(D,I,N){const P=D.hasOwnProperty(_i)?D[_i]:Object.defineProperty(D,_i,{value:[]})[_i];for(;P.length<=N;)P.push(null);return(P[N]=P[N]||[]).push(y),D}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class pn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Wt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const sd=new pn("AnalyzeForEntryComponents");function Pr(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let u=s[a];Array.isArray(u)?(o===s&&(o=s.slice(0,a)),Pr(u,o)):o!==s&&o.push(u)}return o}function Si(s,o){s.forEach(a=>Array.isArray(a)?Si(a,o):o(a))}function Nu(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function Ao(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Qr(s,o){const a=[];for(let u=0;u<s;u++)a.push(o);return a}function yi(s,o,a){let u=xl(s,o);return u>=0?s[1|u]=a:(u=~u,function Wa(s,o,a,u){let d=s.length;if(d==o)s.push(a,u);else if(1===d)s.push(u,s[0]),s[0]=a;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=a,s[o+1]=u}}(s,u,o,a)),u}function Qh(s,o){const a=xl(s,o);if(a>=0)return s[1|a]}function xl(s,o){return function dd(s,o,a){let u=0,d=s.length>>a;for(;d!==u;){const p=u+(d-u>>1),y=s[p<<a];if(o===y)return p<<a;y>o?d=p:u=p+1}return~(d<<a)}(s,o,1)}const Wi={},to="__NG_DI_FLAG__",Rl="ngTempTokenPath",E=/\n/gm,O="__source",F=pe({provide:String,useValue:pe});let K;function ne(s){const o=K;return K=s,o}function Ae(s,o=dt.Default){if(void 0===K)throw new Oe(203,"");return null===K?fo(s,void 0,o):K.get(s,o&dt.Optional?null:void 0,o)}function Le(s,o=dt.Default){return(function jn(){return Wr}()||Ae)(Q(s),o)}function Lt(s){const o=[];for(let a=0;a<s.length;a++){const u=Q(s[a]);if(Array.isArray(u)){if(0===u.length)throw new Oe(900,"");let d,p=dt.Default;for(let y=0;y<u.length;y++){const w=u[y],D=sr(w);"number"==typeof D?-1===D?d=w.token:p|=D:d=w}o.push(Le(d,p))}else o.push(Le(u))}return o}function zn(s,o){return s[to]=o,s.prototype[to]=o,s}function sr(s){return s[to]}const Fr=zn(So("Inject",s=>({token:s})),-1),wr=zn(So("Optional"),8),Lr=zn(So("SkipSelf"),4);let ku;function Pu(s){var o;return(null===(o=function fg(){if(void 0===ku&&(ku=null,Rt.trustedTypes))try{ku=Rt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return ku}())||void 0===o?void 0:o.createHTML(s))||s}class gg{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Ts(s){return s instanceof gg?s.changingThisBreaksApplicationSecurity:s}class cf{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(Pu(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class q_{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const u=this.inertDocument.createElement("body");a.appendChild(u)}}getInertBodyElement(o){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Pu(o),a;const u=this.inertDocument.createElement("body");return u.innerHTML=Pu(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(o){const a=o.attributes;for(let d=a.length-1;0<d;d--){const y=a.item(d).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&o.removeAttribute(y)}let u=o.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const Qo=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,df=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ll(s){return(s=String(s)).match(Qo)||s.match(df)?s:"unsafe:"+s}function hf(s){return(s=String(s)).split(",").map(o=>Ll(o.trim())).join(", ")}function zi(s){const o={};for(const a of s.split(","))o[a]=!0;return o}function Ka(...s){const o={};for(const a of s)for(const u in a)a.hasOwnProperty(u)&&(o[u]=!0);return o}const wg=zi("area,br,col,hr,img,wbr"),vd=zi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ff=zi("rp,rt"),pf=Ka(wg,Ka(vd,zi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ka(ff,zi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ka(ff,vd)),bd=zi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),gf=zi("srcset"),wd=Ka(bd,gf,zi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),zi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var Kn=(()=>((Kn=Kn||{})[Kn.NONE=0]="NONE",Kn[Kn.HTML=1]="HTML",Kn[Kn.STYLE=2]="STYLE",Kn[Kn.SCRIPT=3]="SCRIPT",Kn[Kn.URL=4]="URL",Kn[Kn.RESOURCE_URL=5]="RESOURCE_URL",Kn))();function Ed(s){const o=function Bu(){const s=De();return s&&s[12]}();return o?o.sanitize(Kn.URL,s)||"":function Lu(s,o){const a=function uf(s){return s instanceof gg&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}(s,"URL")?Ts(s):Ll(z(s))}const Tn="__ngContext__";function Vt(s,o){s[Tn]=o}function bf(s){const o=function Ki(s){return s[Tn]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function Id(s){return s.ngOriginalError}function hr(s,...o){s.error(...o)}class Ht{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o),u=function ny(s){return s&&s.ngErrorLogger||hr}(o);u(this._console,"ERROR",o),a&&u(this._console,"ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&Id(o);for(;a&&Id(a);)a=Id(a);return a||null}}const ju=/^>|^->|<!--|-->|--!>|<!-$/g,fn=/(<|>)/;const Rg=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Rt))();function g(s){return s instanceof Function?s():s}var ue=(()=>((ue=ue||{})[ue.Important=1]="Important",ue[ue.DashCase=2]="DashCase",ue))();let Ue;function Qe(s,o){return Ue(s,o)}function Cn(s){const o=s[3];return hi(o)?o[3]:o}function Sd(s){return Ef(s[13])}function Gu(s){return Ef(s[4])}function Ef(s){for(;null!==s&&!hi(s);)s=s[4];return s}function xo(s,o,a,u,d){if(null!=u){let p,y=!1;hi(u)?p=u:Ci(u)&&(y=!0,u=u[0]);const w=qt(u);0===s&&null!==a?null==d?_b(o,a,w):$l(o,a,w,d||null,!0):1===s&&null!==a?$l(o,a,w,d||null,!0):2===s?bb(o,w,y):3===s&&o.destroyNode(w),null!=p&&function i1(s,o,a,u,d){const p=a[7];p!==qt(a)&&xo(o,s,u,p,d);for(let w=10;w<a.length;w++){const D=a[w];Za(D[1],D,s,o,u,p)}}(o,s,p,a,d)}}function Tt(s,o){return en(s)?s.createText(o):s.createTextNode(o)}function Tf(s,o,a){en(s)?s.setValue(o,a):o.textContent=a}function Xo(s,o){return s.createComment(function qn(s){return s.replace(ju,o=>o.replace(fn,"\u200b$1\u200b"))}(o))}function $u(s,o,a){if(en(s))return s.createElement(o,a);{const u=null!==a?function vl(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(a):null;return null===u?s.createElement(o):s.createElementNS(u,o)}}function oy(s,o){const a=s[9],u=a.indexOf(o),d=o[3];1024&o[2]&&(o[2]&=-1025,Ys(d,-1)),a.splice(u,1)}function Pg(s,o){if(s.length<=10)return;const a=10+o,u=s[a];if(u){const d=u[17];null!==d&&d!==s&&oy(d,u),o>0&&(s[a-1][4]=u[4]);const p=Ao(s,10+o);!function Cf(s,o){Za(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(u[1],u);const y=p[19];null!==y&&y.detachView(p[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function t1(s,o){if(!(256&o[2])){const a=o[11];en(a)&&a.destroyNode&&Za(s,o,a,3,null,null),function e1(s){let o=s[13];if(!o)return Er(s[1],s);for(;o;){let a=null;if(Ci(o))a=o[13];else{const u=o[10];u&&(a=u)}if(!a){for(;o&&!o[4]&&o!==s;)Ci(o)&&Er(o[1],o),o=o[3];null===o&&(o=s),Ci(o)&&Er(o[1],o),a=o&&o[4]}o=a}}(o)}}function Er(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function n1(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let u=0;u<a.length;u+=2){const d=o[a[u]];if(!(d instanceof Zo)){const p=a[u+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const w=d[p[y]],D=p[y+1];try{D.call(w)}finally{}}else try{p.call(d)}finally{}}}}(s,o),function ta(s,o){const a=s.cleanup,u=o[7];let d=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const y=a[p+1],w="function"==typeof y?y(o):qt(o[y]),D=u[d=a[p+2]],I=a[p+3];"boolean"==typeof I?w.removeEventListener(a[p],D,I):I>=0?u[d=I]():u[d=-I].unsubscribe(),p+=2}else{const y=u[d=a[p+1]];a[p].call(y)}if(null!==u){for(let p=d+1;p<u.length;p++)u[p]();o[7]=null}}(s,o),1===o[1].type&&en(o[11])&&o[11].destroy();const a=o[17];if(null!==a&&hi(o[3])){a!==o[3]&&oy(a,o);const u=o[19];null!==u&&u.detachView(s)}}}function mb(s,o,a){return ay(s,o.parent,a)}function ay(s,o,a){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return a[0];if(2&u.flags){const d=s.data[u.directiveStart].encapsulation;if(d===St.None||d===St.Emulated)return null}return tr(u,a)}function $l(s,o,a,u,d){en(s)?s.insertBefore(o,a,u,d):o.insertBefore(a,u,d)}function _b(s,o,a){en(s)?s.appendChild(o,a):o.appendChild(a)}function ly(s,o,a,u,d){null!==u?$l(s,o,a,u,d):_b(s,o,a)}function Sf(s,o){return en(s)?s.parentNode(o):o.parentNode}function Af(s,o,a){return Pt(s,o,a)}function Wl(s,o,a){return 40&s.type?tr(s,a):null}let Wu,Pt=Wl;function vb(s,o){Pt=s,Wu=o}function na(s,o,a,u){const d=mb(s,u,o),p=o[11],w=Af(u.parent||o[6],u,o);if(null!=d)if(Array.isArray(a))for(let D=0;D<a.length;D++)ly(p,d,a[D],w,!1);else ly(p,d,a,w,!1);void 0!==Wu&&Wu(p,u,o,a,d)}function Fg(s,o){if(null!==o){const a=o.type;if(3&a)return tr(o,s);if(4&a)return Lg(-1,s[o.index]);if(8&a){const u=o.child;if(null!==u)return Fg(s,u);{const d=s[o.index];return hi(d)?Lg(-1,d):qt(d)}}if(32&a)return Qe(o,s)()||qt(s[o.index]);{const u=uy(s,o);return null!==u?Array.isArray(u)?u[0]:Fg(Cn(s[16]),u):Fg(s,o.next)}}return null}function uy(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Lg(s,o){const a=10+s+1;if(a<o.length){const u=o[a],d=u[1].firstChild;if(null!==d)return Fg(u,d)}return o[7]}function bb(s,o,a){const u=Sf(s,o);u&&function r1(s,o,a,u){en(s)?s.removeChild(o,a,u):o.removeChild(a)}(s,u,o,a)}function Ad(s,o,a,u,d,p,y){for(;null!=a;){const w=u[a.index],D=a.type;if(y&&0===o&&(w&&Vt(qt(w),u),a.flags|=4),64!=(64&a.flags))if(8&D)Ad(s,o,a.child,u,d,p,!1),xo(o,s,d,w,p);else if(32&D){const I=Qe(a,u);let N;for(;N=I();)xo(o,s,d,N,p);xo(o,s,d,w,p)}else 16&D?Nf(s,o,u,a,d,p):xo(o,s,d,w,p);a=y?a.projectionNext:a.next}}function Za(s,o,a,u,d,p){Ad(a,u,s.firstChild,o,d,p,!1)}function Nf(s,o,a,u,d,p){const y=a[16],D=y[6].projection[u.projection];if(Array.isArray(D))for(let I=0;I<D.length;I++)xo(o,s,d,D[I],p);else Ad(s,o,D,y[3],d,p,!0)}function Of(s,o,a){en(s)?s.setAttribute(o,"style",a):o.style.cssText=a}function Vg(s,o,a){en(s)?""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a):o.className=a}function dy(s,o,a){let u=s.length;for(;;){const d=s.indexOf(o,a);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const p=o.length;if(d+p===u||s.charCodeAt(d+p)<=32)return d}a=d+1}}const Db="ng-template";function s1(s,o,a){let u=0;for(;u<s.length;){let d=s[u++];if(a&&"class"===d){if(d=s[u],-1!==dy(d.toLowerCase(),o,0))return!0}else if(1===d){for(;u<s.length&&"string"==typeof(d=s[u++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function Mf(s){return 4===s.type&&s.value!==Db}function o1(s,o,a){return o===(4!==s.type||a?s.value:Db)}function a1(s,o,a){let u=4;const d=s.attrs||[],p=function hy(s){for(let o=0;o<s.length;o++)if(ys(s[o]))return o;return s.length}(d);let y=!1;for(let w=0;w<o.length;w++){const D=o[w];if("number"!=typeof D){if(!y)if(4&u){if(u=2|1&u,""!==D&&!o1(s,D,a)||""===D&&1===o.length){if(Ro(u))return!1;y=!0}}else{const I=8&u?D:o[++w];if(8&u&&null!==s.attrs){if(!s1(s.attrs,I,a)){if(Ro(u))return!1;y=!0}continue}const P=l1(8&u?"class":D,d,Mf(s),a);if(-1===P){if(Ro(u))return!1;y=!0;continue}if(""!==I){let H;H=P>p?"":d[P+1].toLowerCase();const Z=8&u?H:null;if(Z&&-1!==dy(Z,I,0)||2&u&&I!==H){if(Ro(u))return!1;y=!0}}}}else{if(!y&&!Ro(u)&&!Ro(D))return!1;if(y&&Ro(D))continue;y=!1,u=D|1&u}}return Ro(u)||y}function Ro(s){return 0==(1&s)}function l1(s,o,a,u){if(null===o)return-1;let d=0;if(u||!a){let p=!1;for(;d<o.length;){const y=o[d];if(y===s)return d;if(3===y||6===y)p=!0;else{if(1===y||2===y){let w=o[++d];for(;"string"==typeof w;)w=o[++d];continue}if(4===y)break;if(0===y){d+=4;continue}}d+=p?1:2}return-1}return function fy(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const u=s[a];if("number"==typeof u)return-1;if(u===o)return a;a++}return-1}(o,s)}function Eb(s,o,a=!1){for(let u=0;u<o.length;u++)if(a1(s,o[u],a))return!0;return!1}function Ya(s,o){e:for(let a=0;a<o.length;a++){const u=o[a];if(s.length===u.length){for(let d=0;d<s.length;d++)if(s[d]!==u[d])continue e;return!0}}return!1}function zu(s,o){return s?":not("+o.trim()+")":o}function Cb(s){let o=s[0],a=1,u=2,d="",p=!1;for(;a<s.length;){let y=s[a];if("string"==typeof y)if(2&u){const w=s[++a];d+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&u?d+="."+y:4&u&&(d+=" "+y);else""!==d&&!Ro(y)&&(o+=zu(p,d),d=""),u=y,p=p||!Ro(u);a++}return""!==d&&(o+=zu(p,d)),o}const _t={};function py(s){Sb(At(),De(),rr()+s,Na())}function Sb(s,o,a,u){if(!u)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&Ra(o,p,a)}else{const p=s.preOrderHooks;null!==p&&Tu(o,p,0,a)}gs(a)}function Rf(s,o){return s<<17|o<<2}function Cs(s){return s>>17&32767}function kf(s){return 2|s}function Ja(s){return(131068&s)>>2}function Ku(s,o){return-131069&s|o<<2}function _y(s){return 1|s}function Vf(s,o){const a=s.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const d=a[u],p=a[u+1];if(-1!==p){const y=s.data[p];wu(d),y.contentQueries(2,o[p],p)}}}function Bf(s,o,a,u,d,p,y,w,D,I){const N=o.blueprint.slice();return N[0]=d,N[2]=140|u,Zs(N),N[3]=N[15]=s,N[8]=a,N[10]=y||s&&s[10],N[11]=w||s&&s[11],N[12]=D||s&&s[12]||null,N[9]=I||s&&s[9]||null,N[6]=p,N[16]=2==o.type?s[16]:N,N}function Md(s,o,a,u,d){let p=s.data[o];if(null===p)p=xd(s,o,a,u,d),function Oa(){return lt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=u,p.attrs=d;const y=Aa();p.injectorIndex=null===y?-1:y.injectorIndex}return Mr(p,!0),p}function xd(s,o,a,u,d){const p=Js(),y=_u(),D=s.data[o]=function v1(s,o,a,u,d,p){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,a,o,u,d);return null===s.firstChild&&(s.firstChild=D),null!==p&&(y?null==p.child&&null!==D.parent&&(p.child=D):null===p.next&&(p.next=D)),D}function Yu(s,o,a,u){if(0===a)return-1;const d=o.length;for(let p=0;p<a;p++)o.push(u),s.blueprint.push(u),s.data.push(null);return d}function Rd(s,o,a){Do(o);try{const u=s.viewQuery;null!==u&&em(1,u,a);const d=s.template;null!==d&&Uf(s,o,d,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Vf(s,o),s.staticViewQueries&&em(2,s.viewQuery,a);const p=s.components;null!==p&&function _1(s,o){for(let a=0;a<o.length;a++)xy(s,o[a])}(o,p)}catch(u){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),u}finally{o[2]&=-5,qo()}}function ia(s,o,a,u){const d=o[2];if(256==(256&d))return;Do(o);const p=Na();try{Zs(o),function vu(s){return lt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&Uf(s,o,a,2,u);const y=3==(3&d);if(!p)if(y){const I=s.preOrderCheckHooks;null!==I&&Ra(o,I,null)}else{const I=s.preOrderHooks;null!==I&&Tu(o,I,0,null),Tl(o,0)}if(function M1(s){for(let o=Sd(s);null!==o;o=Gu(o)){if(!o[2])continue;const a=o[9];for(let u=0;u<a.length;u++){const d=a[u],p=d[3];0==(1024&d[2])&&Ys(p,1),d[2]|=1024}}}(o),function O1(s){for(let o=Sd(s);null!==o;o=Gu(o))for(let a=10;a<o.length;a++){const u=o[a],d=u[1];Li(u)&&ia(d,u,d.template,u[8])}}(o),null!==s.contentQueries&&Vf(s,o),!p)if(y){const I=s.contentCheckHooks;null!==I&&Ra(o,I)}else{const I=s.contentHooks;null!==I&&Tu(o,I,1),Tl(o,1)}!function zg(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const d=a[u];if(d<0)gs(~d);else{const p=d,y=a[++u],w=a[++u];Ma(y,p),w(2,o[p])}}}finally{gs(-1)}}(s,o);const w=s.components;null!==w&&function m1(s,o){for(let a=0;a<o.length;a++)zb(s,o[a])}(o,w);const D=s.viewQuery;if(null!==D&&em(2,D,u),!p)if(y){const I=s.viewCheckHooks;null!==I&&Ra(o,I)}else{const I=s.viewHooks;null!==I&&Tu(o,I,2),Tl(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),p||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Ys(o[3],-1))}finally{qo()}}function Fb(s,o,a,u){const d=o[10],p=!Na(),y=zo(o);try{p&&!y&&d.begin&&d.begin(),y&&Rd(s,o,u),ia(s,o,a,u)}finally{p&&!y&&d.end&&d.end()}}function Uf(s,o,a,u,d){const p=rr(),y=2&u;try{gs(-1),y&&o.length>20&&Sb(s,o,20,Na()),a(u,d)}finally{gs(p)}}function Cy(s,o,a){!mu()||(function C1(s,o,a,u){const d=a.directiveStart,p=a.directiveEnd;s.firstCreatePass||xr(a,o),Vt(u,o);const y=a.initialInputs;for(let w=d;w<p;w++){const D=s.data[w],I=fi(D);I&&BS(o,a,D);const N=vs(o,s,w,a);Vt(N,o),null!==y&&Gb(0,w-d,N,D,0,y),I&&(nr(a.index,o)[8]=N)}}(s,o,a,tr(a,o)),128==(128&a.flags)&&function I1(s,o,a){const u=a.directiveStart,d=a.directiveEnd,y=a.index,w=function Jc(){return lt.lFrame.currentDirectiveIndex}();try{gs(y);for(let D=u;D<d;D++){const I=s.data[D],N=o[D];wo(D),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&Ny(I,N)}}finally{gs(-1),wo(w)}}(s,o,a))}function Iy(s,o,a=tr){const u=o.localNames;if(null!==u){let d=o.index+1;for(let p=0;p<u.length;p+=2){const y=u[p+1],w=-1===y?a(o,s):s[y];s[d++]=w}}}function Lb(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Kg(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Kg(s,o,a,u,d,p,y,w,D,I){const N=20+u,P=N+d,H=function y1(s,o){const a=[];for(let u=0;u<o;u++)a.push(u<s?null:_t);return a}(N,P),Z="function"==typeof I?I():I;return H[1]={type:s,blueprint:H,template:a,queries:null,viewQuery:w,declTNode:o,data:H.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:D,consts:Z,incompleteFirstPass:!1}}function jf(s,o,a,u){const d=ni(o);null===a?d.push(u):(d.push(a),s.firstCreatePass&&qb(s).push(u,d.length-1))}function Vb(s,o,a){for(let u in s)if(s.hasOwnProperty(u)){const d=s[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(o,d):a[u]=[o,d]}return a}function ti(s,o,a,u,d,p,y,w){const D=tr(o,a);let N,I=o.inputs;!w&&null!=I&&(N=I[u])?(kd(s,a,N,u,d),ml(o)&&function w1(s,o){const a=nr(o,s);16&a[2]||(a[2]|=64)}(a,o.index)):3&o.type&&(u=function b1(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(u),d=null!=y?y(d,o.value||"",u):d,en(p)?p.setProperty(D,u,d):Cu(u)||(D.setProperty?D.setProperty(u,d):D[u]=d))}function Ay(s,o,a,u){let d=!1;if(mu()){const p=function S1(s,o,a){const u=s.directiveRegistry;let d=null;if(u)for(let p=0;p<u.length;p++){const y=u[p];Eb(a,y.selectors,!1)&&(d||(d=[]),Rr(xr(a,o),s,y.type),fi(y)?(jb(s,a),d.unshift(y)):d.push(y))}return d}(s,o,a),y=null===u?null:{"":-1};if(null!==p){d=!0,Hb(a,s.data.length,p.length);for(let N=0;N<p.length;N++){const P=p[N];P.providersResolver&&P.providersResolver(P)}let w=!1,D=!1,I=Yu(s,o,p.length,null);for(let N=0;N<p.length;N++){const P=p[N];a.mergedAttrs=Il(a.mergedAttrs,P.hostAttrs),Oy(s,a,o,I,P),N1(I,P,y),null!==P.contentQueries&&(a.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(a.flags|=128);const H=P.type.prototype;!w&&(H.ngOnChanges||H.ngOnInit||H.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),w=!0),!D&&(H.ngOnChanges||H.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),D=!0),I++}!function Zg(s,o){const u=o.directiveEnd,d=s.data,p=o.attrs,y=[];let w=null,D=null;for(let I=o.directiveStart;I<u;I++){const N=d[I],P=N.inputs,H=null===p||Mf(o)?null:$b(P,p);y.push(H),w=Vb(P,I,w),D=Vb(N.outputs,I,D)}null!==w&&(w.hasOwnProperty("class")&&(o.flags|=16),w.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=y,o.inputs=w,o.outputs=D}(s,a)}y&&function A1(s,o,a){if(o){const u=s.localNames=[];for(let d=0;d<o.length;d+=2){const p=a[o[d+1]];if(null==p)throw new Oe(-301,!1);u.push(o[d],p)}}}(a,u,y)}return a.mergedAttrs=Il(a.mergedAttrs,a.attrs),d}function Ub(s,o,a,u,d,p){const y=p.hostBindings;if(y){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const D=~o.index;(function T1(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(w)!=D&&w.push(D),w.push(u,d,y)}}function Ny(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function jb(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function N1(s,o,a){if(a){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)a[o.exportAs[u]]=s;fi(o)&&(a[""]=s)}}function Hb(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function Oy(s,o,a,u,d){s.data[u]=d;const p=d.factory||(d.factory=pi(d.type)),y=new Zo(p,fi(d),null);s.blueprint[u]=y,a[u]=y,Ub(s,o,0,u,Yu(s,a,d.hostVars,_t),d)}function BS(s,o,a){const u=tr(o,s),d=Lb(a),p=s[10],y=Qg(s,Bf(s,d,null,a.onPush?64:16,u,o,p,p.createRenderer(u,a),null,null));s[o.index]=y}function Jg(s,o,a,u,d,p,y){if(null==p)en(s)?s.removeAttribute(o,d,a):o.removeAttribute(d);else{const w=null==y?z(p):y(p,u||"",d);en(s)?s.setAttribute(o,d,w,a):a?o.setAttributeNS(a,d,w):o.setAttribute(d,w)}}function Gb(s,o,a,u,d,p){const y=p[o];if(null!==y){const w=u.setInput;for(let D=0;D<y.length;){const I=y[D++],N=y[D++],P=y[D++];null!==w?u.setInput(a,P,I,N):a[N]=P}}}function $b(s,o){let a=null,u=0;for(;u<o.length;){const d=o[u];if(0!==d)if(5!==d){if("number"==typeof d)break;s.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,s[d],o[u+1])),u+=2}else u+=2;else u+=4}return a}function Wb(s,o,a,u){return new Array(s,!0,!1,o,null,0,u,a,null,null)}function zb(s,o){const a=nr(o,s);if(Li(a)){const u=a[1];80&a[2]?ia(u,a,u.template,a[8]):a[5]>0&&My(a)}}function My(s){for(let u=Sd(s);null!==u;u=Gu(u))for(let d=10;d<u.length;d++){const p=u[d];if(1024&p[2]){const y=p[1];ia(y,p,y.template,p[8])}else p[5]>0&&My(p)}const a=s[1].components;if(null!==a)for(let u=0;u<a.length;u++){const d=nr(a[u],s);Li(d)&&d[5]>0&&My(d)}}function xy(s,o){const a=nr(o,s),u=a[1];(function x1(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(u,a),Rd(u,a,a[8])}function Qg(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Ry(s){for(;s;){s[2]|=64;const o=Cn(s);if(Uh(s)&&!o)return s;s=o}return null}function Py(s,o,a){const u=o[10];u.begin&&u.begin();try{ia(s,o,s.template,a)}catch(d){throw tm(o,d),d}finally{u.end&&u.end()}}function Kb(s){!function Xg(s){for(let o=0;o<s.components.length;o++){const a=s.components[o],u=bf(a),d=u[1];Fb(d,u,d.template,a)}}(s[8])}function em(s,o,a){wu(0),o(s,a)}const P1=(()=>Promise.resolve(null))();function ni(s){return s[7]||(s[7]=[])}function qb(s){return s.cleanup||(s.cleanup=[])}function tm(s,o){const a=s[9],u=a?a.get(Ht,null):null;u&&u.handleError(o)}function kd(s,o,a,u,d){for(let p=0;p<a.length;){const y=a[p++],w=a[p++],D=o[y],I=s.data[y];null!==I.setInput?I.setInput(D,d,u,w):D[w]=d}}function nm(s,o,a){let u=a?s.styles:null,d=a?s.classes:null,p=0;if(null!==o)for(let y=0;y<o.length;y++){const w=o[y];"number"==typeof w?p=w:1==p?d=ae(d,w):2==p&&(u=ae(u,w+": "+o[++y]+";"))}a?s.styles=u:s.stylesWithoutHost=u,a?s.classes=d:s.classesWithoutHost=d}const rm=new pn("INJECTOR",-1);class Fy{get(o,a=Wi){if(a===Wi){const u=new Error(`NullInjectorError: No provider for ${fe(o)}!`);throw u.name="NullInjectorError",u}return a}}const Gf=new pn("Set Injector scope."),im={},Ju={};let sm;function Yb(){return void 0===sm&&(sm=new Fy),sm}function Jb(s,o=null,a=null,u){const d=Ly(s,o,a,u);return d._resolveInjectorDefTypes(),d}function Ly(s,o=null,a=null,u){return new L1(s,a,o||Yb(),u)}class L1{constructor(o,a,u,d=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];a&&Si(a,w=>this.processProvider(w,o,a)),Si([o],w=>this.processInjectorType(w,[],p)),this.records.set(rm,Pd(void 0,this));const y=this.records.get(Gf);this.scope=null!=y?y.value:null,this.source=d||("object"==typeof o?null:fe(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,a=Wi,u=dt.Default){this.assertNotDestroyed();const d=ne(this),p=In(void 0);try{if(!(u&dt.SkipSelf)){let w=this.records.get(o);if(void 0===w){const D=function j1(s){return"function"==typeof s||"object"==typeof s&&s instanceof pn}(o)&&Nt(o);w=D&&this.injectableDefInScope(D)?Pd(Vy(o),im):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(u&dt.Self?Yb():this.parent).get(o,a=u&dt.Optional&&a===Wi?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[Rl]=y[Rl]||[]).unshift(fe(o)),d)throw y;return function hn(s,o,a,u){const d=s[Rl];throw o[O]&&d.unshift(o[O]),s.message=function no(s,o,a,u=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let d=fe(o);if(Array.isArray(o))d=o.map(fe).join(" -> ");else if("object"==typeof o){let p=[];for(let y in o)if(o.hasOwnProperty(y)){let w=o[y];p.push(y+":"+("string"==typeof w?JSON.stringify(w):fe(w)))}d=`{${p.join(", ")}}`}return`${a}${u?"("+u+")":""}[${d}]: ${s.replace(E,"\n  ")}`}("\n"+s.message,d,a,u),s.ngTokenPath=d,s[Rl]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{In(p),ne(d)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((u,d)=>o.push(fe(d))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Oe(205,!1)}processInjectorType(o,a,u){if(!(o=Q(o)))return!1;let d=Sr(o);const p=null==d&&o.ngModule||void 0,y=void 0===p?o:p,w=-1!==u.indexOf(y);if(void 0!==p&&(d=Sr(p)),null==d)return!1;if(null!=d.imports&&!w){let N;u.push(y);try{Si(d.imports,P=>{this.processInjectorType(P,a,u)&&(void 0===N&&(N=[]),N.push(P))})}finally{}if(void 0!==N)for(let P=0;P<N.length;P++){const{ngModule:H,providers:Z}=N[P];Si(Z,ye=>this.processProvider(ye,H,Z||B))}}this.injectorDefTypes.add(y);const D=pi(y)||(()=>new y);this.records.set(y,Pd(D,im));const I=d.providers;if(null!=I&&!w){const N=o;Si(I,P=>this.processProvider(P,N,I))}return void 0!==p&&void 0!==o.providers}processProvider(o,a,u){let d=Fd(o=Q(o))?o:Q(o&&o.provide);const p=function Qb(s,o,a){return ew(s)?Pd(void 0,s.useValue):Pd(Xb(s),im)}(o);if(Fd(o)||!0!==o.multi)this.records.get(d);else{let y=this.records.get(d);y||(y=Pd(void 0,im,!0),y.factory=()=>Lt(y.multi),this.records.set(d,y)),d=o,y.multi.push(o)}this.records.set(d,p)}hydrate(o,a){return a.value===im&&(a.value=Ju,a.value=a.factory()),"object"==typeof a.value&&a.value&&function GS(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=Q(o.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function Vy(s){const o=Nt(s),a=null!==o?o.factory:pi(s);if(null!==a)return a;if(s instanceof pn)throw new Oe(204,!1);if(s instanceof Function)return function V1(s){const o=s.length;if(o>0)throw Qr(o,"?"),new Oe(204,!1);const a=function ur(s){const o=s&&(s[Pi]||s[ci]);if(o){const a=function Hs(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new Oe(204,!1)}function Xb(s,o,a){let u;if(Fd(s)){const d=Q(s);return pi(d)||Vy(d)}if(ew(s))u=()=>Q(s.useValue);else if(function B1(s){return!(!s||!s.useFactory)}(s))u=()=>s.useFactory(...Lt(s.deps||[]));else if(function By(s){return!(!s||!s.useExisting)}(s))u=()=>Le(Q(s.useExisting));else{const d=Q(s&&(s.useClass||s.provide));if(!function U1(s){return!!s.deps}(s))return pi(d)||Vy(d);u=()=>new d(...Lt(s.deps))}return u}function Pd(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function ew(s){return null!==s&&"object"==typeof s&&F in s}function Fd(s){return"function"==typeof s}let Ss=(()=>{class s{static create(a,u){var d;if(Array.isArray(a))return Jb({name:""},u,a,"");{const p=null!==(d=a.name)&&void 0!==d?d:"";return Jb({name:p},a.parent,a.providers,p)}}}return s.THROW_IF_NOT_FOUND=Wi,s.NULL=new Fy,s.\u0275prov=Wt({token:s,providedIn:"any",factory:()=>Le(rm)}),s.__NG_ELEMENT_ID__=-1,s})();function zS(s,o){ms(bf(s)[1],wn())}function fw(s){let o=function W1(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const u=[s];for(;o;){let d;if(fi(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Oe(903,"");d=o.\u0275dir}if(d){if(a){u.push(d);const y=s;y.inputs=pw(s.inputs),y.declaredInputs=pw(s.declaredInputs),y.outputs=pw(s.outputs);const w=d.hostBindings;w&&K1(s,w);const D=d.viewQuery,I=d.contentQueries;if(D&&qS(s,D),I&&z1(s,I),re(s.inputs,d.inputs),re(s.declaredInputs,d.declaredInputs),re(s.outputs,d.outputs),fi(d)&&d.data.animation){const N=s.data;N.animation=(N.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let y=0;y<p.length;y++){const w=p[y];w&&w.ngInherit&&w(s),w===fw&&(a=!1)}}o=Object.getPrototypeOf(o)}!function KS(s){let o=0,a=null;for(let u=s.length-1;u>=0;u--){const d=s[u];d.hostVars=o+=d.hostVars,d.hostAttrs=Il(d.hostAttrs,a=Il(a,d.hostAttrs))}}(u)}function pw(s){return s===di?{}:s===B?[]:s}function qS(s,o){const a=s.viewQuery;s.viewQuery=a?(u,d)=>{o(u,d),a(u,d)}:o}function z1(s,o){const a=s.contentQueries;s.contentQueries=a?(u,d,p)=>{o(u,d,p),a(u,d,p)}:o}function K1(s,o){const a=s.hostBindings;s.hostBindings=a?(u,d)=>{o(u,d),a(u,d)}:o}let $f=null;function Ld(){if(!$f){const s=Rt.Symbol;if(s&&s.iterator)$f=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const u=o[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&($f=u)}}}return $f}function Wf(s){return!!zy(s)&&(Array.isArray(s)||!(s instanceof Map)&&Ld()in s)}function zy(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function oa(s,o,a){return s[o]=a}function Ni(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function Qa(s,o,a,u){const d=Ni(s,o,a);return Ni(s,o+1,u)||d}function zf(s,o,a,u){const d=De();return Ni(d,Vi(),o)&&(At(),function ko(s,o,a,u,d,p){const y=tr(s,o);Jg(o[11],y,p,s.value,a,u,d)}(Dn(),d,s,o,a,u)),zf}function Bd(s,o,a,u){return Ni(s,Vi(),a)?o+z(a)+u:_t}function hm(s,o,a,u,d,p,y,w){const D=De(),I=At(),N=s+20,P=I.firstCreatePass?function q1(s,o,a,u,d,p,y,w,D){const I=o.consts,N=Md(o,s,4,y||null,Yr(I,w));Ay(o,a,N,Yr(I,D)),ms(o,N);const P=N.tViews=Kg(2,N,u,d,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,I);return null!==o.queries&&(o.queries.template(o,N),P.queries=o.queries.embeddedTView(N)),N}(N,I,D,o,a,u,d,p,y):I.data[N];Mr(P,!1);const H=D[11].createComment("");na(I,D,H,P),Vt(H,D),Qg(D,D[N]=Wb(H,D,H,P)),zs(P)&&Cy(I,D,P),null!=y&&Iy(D,P,w)}function _w(s){return function fs(s,o){return s[o]}(function Zc(){return lt.lFrame.contextLView}(),20+s)}function pr(s,o=dt.Default){const a=De();return null===a?Le(s,o):mi(wn(),a,Q(s),o)}function Gd(){throw new Error("invalid")}function tv(s,o,a){const u=De();return Ni(u,Vi(),o)&&ti(At(),Dn(),u,s,o,u[11],a,!1),tv}function ec(s,o,a,u,d){const y=d?"class":"style";kd(s,a,o.inputs[y],y,u)}function nv(s,o,a,u){const d=De(),p=At(),y=20+s,w=d[11],D=d[y]=$u(w,o,function Xc(){return lt.lFrame.currentNamespace}()),I=p.firstCreatePass?function rT(s,o,a,u,d,p,y){const w=o.consts,I=Md(o,s,2,d,Yr(w,p));return Ay(o,a,I,Yr(w,y)),null!==I.attrs&&nm(I,I.attrs,!1),null!==I.mergedAttrs&&nm(I,I.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,I),I}(y,p,d,0,o,a,u):p.data[y];Mr(I,!0);const N=I.mergedAttrs;null!==N&&br(w,D,N);const P=I.classes;null!==P&&Vg(w,D,P);const H=I.styles;null!==H&&Of(w,D,H),64!=(64&I.flags)&&na(p,d,D,I),0===function Ta(){return lt.lFrame.elementDepthCount}()&&Vt(D,d),function Kc(){lt.lFrame.elementDepthCount++}(),zs(I)&&(Cy(p,d,I),function Ty(s,o,a){if(Lc(o)){const d=o.directiveEnd;for(let p=o.directiveStart;p<d;p++){const y=s.data[p];y.contentQueries&&y.contentQueries(1,a[p],p)}}}(p,I,d)),null!==u&&Iy(d,I)}function $d(){let s=wn();_u()?yu():(s=s.parent,Mr(s,!1));const o=s;!function Ca(){lt.lFrame.elementDepthCount--}();const a=At();a.firstCreatePass&&(ms(a,s),Lc(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Kh(s){return 0!=(16&s.flags)}(o)&&ec(a,o,De(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function ug(s){return 0!=(32&s.flags)}(o)&&ec(a,o,De(),o.stylesWithoutHost,!1)}function Yf(s,o,a,u){nv(s,o,a,u),$d()}function iv(){return De()}function sv(s){return!!s&&"function"==typeof s.then}function ov(s){return!!s&&"function"==typeof s.subscribe}const av=ov;function Jf(s,o,a,u){const d=De(),p=At(),y=wn();return function Em(s,o,a,u,d,p,y,w){const D=zs(u),N=s.firstCreatePass&&qb(s),P=o[8],H=ni(o);let Z=!0;if(3&u.type||w){const je=tr(u,o),Ze=w?w(je):je,Ee=H.length,rt=w?xt=>w(qt(xt[u.index])):u.index;if(en(a)){let xt=null;if(!w&&D&&(xt=function iT(s,o,a,u){const d=s.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const y=d[p];if(y===a&&d[p+1]===u){const w=o[7],D=d[p+2];return w.length>D?w[D]:null}"string"==typeof y&&(p+=2)}return null}(s,o,d,u.index)),null!==xt)(xt.__ngLastListenerFn__||xt).__ngNextListenerFn__=p,xt.__ngLastListenerFn__=p,Z=!1;else{p=Qf(u,o,P,p,!1);const sn=a.listen(Ze,d,p);H.push(p,sn),N&&N.push(d,rt,Ee,Ee+1)}}else p=Qf(u,o,P,p,!0),Ze.addEventListener(d,p,y),H.push(p),N&&N.push(d,rt,Ee,y)}else p=Qf(u,o,P,p,!1);const ye=u.outputs;let Pe;if(Z&&null!==ye&&(Pe=ye[d])){const je=Pe.length;if(je)for(let Ze=0;Ze<je;Ze+=2){const Ls=o[Pe[Ze]][Pe[Ze+1]].subscribe(p),Sc=H.length;H.push(p,Ls),N&&N.push(d,u.index,Sc,-(Sc+1))}}}(p,d,d[11],y,s,o,!!a,u),Jf}function Tm(s,o,a,u){try{return!1!==a(u)}catch(d){return tm(s,d),!1}}function Qf(s,o,a,u,d){return function p(y){if(y===Function)return u;const w=2&s.flags?nr(s.index,o):o;0==(32&o[2])&&Ry(w);let D=Tm(o,0,u,y),I=p.__ngNextListenerFn__;for(;I;)D=Tm(o,0,I,y)&&D,I=I.__ngNextListenerFn__;return d&&!1===D&&(y.preventDefault(),y.returnValue=!1),D}}function Tr(s=1){return function Bi(s){return(lt.lFrame.contextLView=function $h(s,o){for(;s>0;)o=o[15],s--;return o}(s,lt.lFrame.contextLView))[8]}(s)}function ii(s,o){let a=null;const u=function Tb(s){const o=s.attrs;if(null!=o){const a=o.indexOf(5);if(0==(1&a))return o[a+1]}return null}(s);for(let d=0;d<o.length;d++){const p=o[d];if("*"!==p){if(null===u?Eb(s,p,!0):Ya(u,p))return d}else a=d}return a}function Xf(s){const o=De()[16][6];if(!o.projection){const u=o.projection=Qr(s?s.length:1,null),d=u.slice();let p=o.child;for(;null!==p;){const y=s?ii(p,s):0;null!==y&&(d[y]?d[y].projectionNext=p:u[y]=p,d[y]=p),p=p.next}}}function Cm(s,o=0,a){const u=De(),d=At(),p=Md(d,20+s,16,null,a||null);null===p.projection&&(p.projection=o),yu(),64!=(64&p.flags)&&function wb(s,o,a){Nf(o[11],0,o,a,mb(s,a,o),Af(a.parent||o[6],a,o))}(d,u,p)}function uv(s,o,a){return Im(s,"",o,"",a),uv}function Im(s,o,a,u,d){const p=De(),y=Bd(p,o,a,u);return y!==_t&&ti(At(),Dn(),p,s,y,p[11],d,!1),Im}function Mm(s,o,a,u,d){const p=s[a+1],y=null===o;let w=u?Cs(p):Ja(p),D=!1;for(;0!==w&&(!1===D||y);){const N=s[w+1];Rw(s[w],o)&&(D=!0,s[w+1]=u?_y(N):kf(N)),w=u?Cs(N):Ja(N)}D&&(s[a+1]=u?kf(p):_y(p))}function Rw(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&xl(s,o)>=0}const Cr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Wd(s){return s.substring(Cr.key,Cr.keyEnd)}function fv(s,o){const a=Cr.textEnd;return a===o?-1:(o=Cr.keyEnd=function sT(s,o,a){for(;o<a&&s.charCodeAt(o)>32;)o++;return o}(s,Cr.key=o,a),Po(s,o,a))}function Po(s,o,a){for(;o<a&&s.charCodeAt(o)<=32;)o++;return o}function tc(s,o,a){return oo(s,o,a,!1),tc}function Rm(s,o){return oo(s,o,null,!0),Rm}function zd(s){!function Os(s,o,a,u){const d=At(),p=ps(2);d.firstUpdatePass&&gv(d,null,p,u);const y=De();if(a!==_t&&Ni(y,p,a)){const w=d.data[rr()];if(bv(w,u)&&!pv(d,p)){let D=u?w.classesWithoutHost:w.stylesWithoutHost;null!==D&&(a=ae(D,a||"")),ec(d,w,y,a,u)}else!function vv(s,o,a,u,d,p,y,w){d===_t&&(d=B);let D=0,I=0,N=0<d.length?d[0]:null,P=0<p.length?p[0]:null;for(;null!==N||null!==P;){const H=D<d.length?d[D+1]:void 0,Z=I<p.length?p[I+1]:void 0;let Pe,ye=null;N===P?(D+=2,I+=2,H!==Z&&(ye=P,Pe=Z)):null===P||null!==N&&N<P?(D+=2,ye=N):(I+=2,ye=P,Pe=Z),null!==ye&&np(s,o,a,u,ye,Pe,y,w),N=D<d.length?d[D]:null,P=I<p.length?p[I]:null}}(d,w,y,y[11],y[p+1],y[p+1]=function Uw(s,o,a){if(null==a||""===a)return B;const u=[],d=Ts(a);if(Array.isArray(d))for(let p=0;p<d.length;p++)s(u,d[p],!0);else if("object"==typeof d)for(const p in d)d.hasOwnProperty(p)&&s(u,p,d[p]);else"string"==typeof d&&o(u,d);return u}(s,o,a),u,p)}}(yi,Ns,s,!0)}function Ns(s,o){for(let a=function Pw(s){return function Lw(s){Cr.key=0,Cr.keyEnd=0,Cr.value=0,Cr.valueEnd=0,Cr.textEnd=s.length}(s),fv(s,Po(s,0,Cr.textEnd))}(o);a>=0;a=fv(o,a))yi(s,Wd(o),!0)}function oo(s,o,a,u){const d=De(),p=At(),y=ps(2);p.firstUpdatePass&&gv(p,s,y,u),o!==_t&&Ni(d,y,o)&&np(p,p.data[rr()],d,d[11],s,d[y+1]=function Hw(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=fe(Ts(s)))),s}(o,a),u,y)}function pv(s,o){return o>=s.expandoStartIndex}function gv(s,o,a,u){const d=s.data;if(null===d[a+1]){const p=d[rr()],y=pv(s,a);bv(p,u)&&null===o&&!y&&(o=!1),o=function tp(s,o,a,u){const d=function bu(s){const o=lt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let p=u?o.residualClasses:o.residualStyles;if(null===d)0===(u?o.classBindings:o.styleBindings)&&(a=tl(a=Kd(null,s,o,a,u),o.attrs,u),p=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==d)if(a=Kd(d,s,o,a,u),null===p){let D=function mv(s,o,a){const u=a?o.classBindings:o.styleBindings;if(0!==Ja(u))return s[Cs(u)]}(s,o,u);void 0!==D&&Array.isArray(D)&&(D=Kd(null,s,o,D[1],u),D=tl(D,o.attrs,u),function _v(s,o,a,u){s[Cs(a?o.classBindings:o.styleBindings)]=u}(s,o,u,D))}else p=function yv(s,o,a){let u;const d=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<d;p++)u=tl(u,s[p].hostAttrs,a);return tl(u,o.attrs,a)}(s,o,u)}return void 0!==p&&(u?o.residualClasses=p:o.residualStyles=p),a}(d,p,o,u),function Om(s,o,a,u,d,p){let y=p?o.classBindings:o.styleBindings,w=Cs(y),D=Ja(y);s[u]=a;let N,I=!1;if(Array.isArray(a)){const P=a;N=P[1],(null===N||xl(P,N)>0)&&(I=!0)}else N=a;if(d)if(0!==D){const H=Cs(s[w+1]);s[u+1]=Rf(H,w),0!==H&&(s[H+1]=Ku(s[H+1],u)),s[w+1]=function my(s,o){return 131071&s|o<<17}(s[w+1],u)}else s[u+1]=Rf(w,0),0!==w&&(s[w+1]=Ku(s[w+1],u)),w=u;else s[u+1]=Rf(D,0),0===w?w=u:s[D+1]=Ku(s[D+1],u),D=u;I&&(s[u+1]=kf(s[u+1])),Mm(s,N,u,!0),Mm(s,N,u,!1),function hv(s,o,a,u,d){const p=d?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&xl(p,o)>=0&&(a[u+1]=_y(a[u+1]))}(o,N,s,u,p),y=Rf(w,D),p?o.classBindings=y:o.styleBindings=y}(d,p,o,a,y,u)}}function Kd(s,o,a,u,d){let p=null;const y=a.directiveEnd;let w=a.directiveStylingLast;for(-1===w?w=a.directiveStart:w++;w<y&&(p=o[w],u=tl(u,p.hostAttrs,d),p!==s);)w++;return null!==s&&(a.directiveStylingLast=w),u}function tl(s,o,a){const u=a?1:2;let d=-1;if(null!==o)for(let p=0;p<o.length;p++){const y=o[p];"number"==typeof y?d=y:d===u&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),yi(s,y,!!a||o[++p]))}return void 0===s?null:s}function np(s,o,a,u,d,p,y,w){if(!(3&o.type))return;const D=s.data,I=D[w+1];rp(function Ab(s){return 1==(1&s)}(I)?km(D,o,a,d,Ja(I),y):void 0)||(rp(p)||function gy(s){return 2==(2&s)}(I)&&(p=km(D,null,a,d,w,y)),function cy(s,o,a,u,d){const p=en(s);if(o)d?p?s.addClass(a,u):a.classList.add(u):p?s.removeClass(a,u):a.classList.remove(u);else{let y=-1===u.indexOf("-")?void 0:ue.DashCase;if(null==d)p?s.removeStyle(a,u,y):a.style.removeProperty(u);else{const w="string"==typeof d&&d.endsWith("!important");w&&(d=d.slice(0,-10),y|=ue.Important),p?s.setStyle(a,u,d,y):a.style.setProperty(u,d,w?"important":"")}}}(u,y,bo(rr(),a),d,p))}function km(s,o,a,u,d,p){const y=null===o;let w;for(;d>0;){const D=s[d],I=Array.isArray(D),N=I?D[1]:D,P=null===N;let H=a[d+1];H===_t&&(H=P?B:void 0);let Z=P?Qh(H,u):N===u?H:void 0;if(I&&!rp(Z)&&(Z=Qh(D,u)),rp(Z)&&(w=Z,y))return w;const ye=s[d+1];d=y?Cs(ye):Ja(ye)}if(null!==o){let D=p?o.residualClasses:o.residualStyles;null!=D&&(w=Qh(D,u))}return w}function rp(s){return void 0!==s}function bv(s,o){return 0!=(s.flags&(o?16:32))}function Gw(s,o=""){const a=De(),u=At(),d=s+20,p=u.firstCreatePass?Md(u,d,1,o,null):u.data[d],y=a[d]=Tt(a[11],o);na(u,a,y,p),Mr(p,!1)}function nc(s){return ip("",s,""),nc}function ip(s,o,a){const u=De(),d=Bd(u,s,o,a);return d!==_t&&function Zi(s,o,a){const u=bo(o,s);Tf(s[11],u,a)}(u,rr(),d),ip}function Tv(s,o,a){const u=De();return Ni(u,Vi(),o)&&ti(At(),Dn(),u,s,o,u[11],a,!0),Tv}const Jl=void 0;var Qw=["en",[["a","p"],["AM","PM"],Jl],[["AM","PM"],Jl,Jl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Jl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Jl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Jl,"{1} 'at' {0}",Jl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function fT(s){const a=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let ac={};function lp(s){const o=function gT(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=Hm(o);if(a)return a;const u=o.split("-")[0];if(a=Hm(u),a)return a;if("en"===u)return Qw;throw new Error(`Missing locale data for the locale "${s}".`)}function Cv(s){return lp(s)[pt.PluralCase]}function Hm(s){return s in ac||(ac[s]=Rt.ng&&Rt.ng.common&&Rt.ng.common.locales&&Rt.ng.common.locales[s]),ac[s]}var pt=(()=>((pt=pt||{})[pt.LocaleId=0]="LocaleId",pt[pt.DayPeriodsFormat=1]="DayPeriodsFormat",pt[pt.DayPeriodsStandalone=2]="DayPeriodsStandalone",pt[pt.DaysFormat=3]="DaysFormat",pt[pt.DaysStandalone=4]="DaysStandalone",pt[pt.MonthsFormat=5]="MonthsFormat",pt[pt.MonthsStandalone=6]="MonthsStandalone",pt[pt.Eras=7]="Eras",pt[pt.FirstDayOfWeek=8]="FirstDayOfWeek",pt[pt.WeekendRange=9]="WeekendRange",pt[pt.DateFormat=10]="DateFormat",pt[pt.TimeFormat=11]="TimeFormat",pt[pt.DateTimeFormat=12]="DateTimeFormat",pt[pt.NumberSymbols=13]="NumberSymbols",pt[pt.NumberFormats=14]="NumberFormats",pt[pt.CurrencyCode=15]="CurrencyCode",pt[pt.CurrencySymbol=16]="CurrencySymbol",pt[pt.CurrencyName=17]="CurrencyName",pt[pt.Currencies=18]="Currencies",pt[pt.Directionality=19]="Directionality",pt[pt.PluralCase=20]="PluralCase",pt[pt.ExtraData=21]="ExtraData",pt))();const Gm=["zero","one","two","few","many"],lc="en-US",cp={marker:"element"},Ql={marker:"ICU"};var mn=(()=>((mn=mn||{})[mn.SHIFT=2]="SHIFT",mn[mn.APPEND_EAGERLY=1]="APPEND_EAGERLY",mn[mn.COMMENT=2]="COMMENT",mn))();let or=lc;function tD(s,o,a){const u=o.insertBeforeIndex,d=Array.isArray(u)?u[0]:u;return null===d?Wl(s,0,a):qt(a[d])}function nD(s,o,a,u,d){const p=o.insertBeforeIndex;if(Array.isArray(p)){let y=u,w=null;if(3&o.type||(w=y,y=d),null!==y&&0==(2&o.flags))for(let D=1;D<p.length;D++)$l(s,y,a[p[D]],w,!1)}}function rD(s,o){if(s.push(o),s.length>1)for(let a=s.length-2;a>=0;a--){const u=s[a];Sv(u)||iD(u,o)&&null===sD(u)&&$m(u,o.index)}}function Sv(s){return!(64&s.type)}function iD(s,o){return Sv(o)||s.index>o.index}function sD(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function $m(s,o){const a=s.insertBeforeIndex;Array.isArray(a)?a[0]=o:(vb(tD,nD),s.insertBeforeIndex=o)}function Yd(s,o){const a=s.data[o];return null===a||"string"==typeof a?null:a.hasOwnProperty("currentCaseLViewIndex")?a:a.value}function _T(s,o,a){const u=xd(s,a,64,null,null);return rD(o,u),u}function Jd(s,o){const a=o[s.currentCaseLViewIndex];return null===a?a:a<0?~a:a}function Qd(s){return s>>>17}function Av(s){return(131070&s)>>>1}let Xd=0,uc=0;function eh(s,o,a,u){const d=a[11];let y,p=null;for(let w=0;w<o.length;w++){const D=o[w];if("string"==typeof D){const I=o[++w];null===a[I]&&(a[I]=Tt(d,D))}else if("number"==typeof D)switch(1&D){case 0:const I=Qd(D);let N,P;if(null===p&&(p=I,y=Sf(d,u)),I===p?(N=u,P=y):(N=null,P=qt(a[I])),null!==P){const Pe=Av(D);$l(d,P,a[Pe],N,!1);const Ze=Yd(s,Pe);if(null!==Ze&&"object"==typeof Ze){const Ee=Jd(Ze,a);null!==Ee&&eh(s,Ze.create[Ee],a,a[Ze.anchorIdx])}}break;case 1:const Z=o[++w],ye=o[++w];Jg(d,bo(D>>>1,a),null,null,Z,ye,null)}else switch(D){case Ql:const I=o[++w],N=o[++w];null===a[N]&&Vt(a[N]=Xo(d,I),a);break;case cp:const P=o[++w],H=o[++w];null===a[H]&&Vt(a[H]=$u(d,P,null),a)}}}function Nv(s,o,a,u,d){for(let p=0;p<a.length;p++){const y=a[p],w=a[++p];if(y&d){let D="";for(let I=p+1;I<=p+w;I++){const N=a[I];if("string"==typeof N)D+=N;else if("number"==typeof N)if(N<0)D+=z(o[u-N]);else{const P=N>>>2;switch(3&N){case 1:const H=a[++I],Z=a[++I],ye=s.data[P];"string"==typeof ye?Jg(o[11],o[P],null,ye,H,D,Z):ti(s,ye,o,H,D,o[11],Z,!1);break;case 0:const Pe=o[P];null!==Pe&&Tf(o[11],Pe,D);break;case 2:Mv(s,Yd(s,P),o,D);break;case 3:Ov(s,Yd(s,P),u,o)}}}}else{const D=a[p+1];if(D>0&&3==(3&D)){const N=Yd(s,D>>>2);o[N.currentCaseLViewIndex]<0&&Ov(s,N,u,o)}}p+=w}}function Ov(s,o,a,u){let d=u[o.currentCaseLViewIndex];if(null!==d){let p=Xd;d<0&&(d=u[o.currentCaseLViewIndex]=~d,p=-1),Nv(s,u,o.update[d],a,p)}}function Mv(s,o,a,u){const d=function lD(s,o){let a=s.cases.indexOf(o);if(-1===a)switch(s.type){case 1:{const u=function up(s,o){const a=Cv(o)(parseInt(s,10)),u=Gm[a];return void 0!==u?u:"other"}(o,function mT(){return or}());a=s.cases.indexOf(u),-1===a&&"other"!==u&&(a=s.cases.indexOf("other"));break}case 0:a=s.cases.indexOf("other")}return-1===a?null:a}(o,u);if(Jd(o,a)!==d&&(qm(s,o,a),a[o.currentCaseLViewIndex]=null===d?null:~d,null!==d)){const y=a[o.anchorIdx];y&&eh(s,o.create[d],a,y)}}function qm(s,o,a){let u=Jd(o,a);if(null!==u){const d=o.remove[u];for(let p=0;p<d.length;p++){const y=d[p];if(y>0){const w=bo(y,a);null!==w&&bb(a[11],w)}else qm(s,Yd(s,~y),a)}}}function Zm(){const s=[];let a,u,o=-1;function p(w,D){o=0;const I=Jd(w,D);u=null!==I?w.remove[I]:B}function y(){if(o<u.length){const w=u[o++];return w>0?a[w]:(s.push(o,u),p(a[1].data[~w],a),y())}return 0===s.length?null:(u=s.pop(),o=s.pop(),y())}return function d(w,D){for(a=D;s.length;)s.pop();return p(w.value,D),y}}const dp=/\ufffd(\d+):?\d*\ufffd/gi,Ym=/\ufffd(\d+)\ufffd/,Ji=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,cD=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,rh=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,DT=/\uE500/g;function dD(s,o,a,u,d,p,y){const w=Yu(s,u,1,null);let D=w<<mn.SHIFT,I=Aa();o===I&&(I=null),null===I&&(D|=mn.APPEND_EAGERLY),y&&(D|=mn.COMMENT,function gt(s){void 0===Ue&&(Ue=s())}(Zm)),d.push(D,null===p?"":p);const N=xd(s,w,y?32:1,null===p?"":p,null);rD(a,N);const P=N.index;return Mr(N,!1),null!==I&&o!==I&&function oD(s,o){let a=s.insertBeforeIndex;null===a?(vb(tD,nD),a=s.insertBeforeIndex=[null,o]):(function q(s,o,a){s!=o&&ot(a,s,o,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(o))}(I,P),N}function TT(s,o,a,u,d,p,y){const w=y.match(dp),D=dD(s,o,a,p,u,w?null:y,!1);w&&ih(d,y,D.index,null,0,null)}function ih(s,o,a,u,d,p){const y=s.length,w=y+1;s.push(null,null);const D=y+2,I=o.split(dp);let N=0;for(let P=0;P<I.length;P++){const H=I[P];if(1&P){const Z=d+parseInt(H,10);s.push(-1-Z),N|=fD(Z)}else""!==H&&s.push(H)}return s.push(a<<2|(u?1:0)),u&&s.push(u,p),s[y]=N,s[w]=s.length-D,N}function fD(s){return 1<<Math.min(s,31)}function jr(s){let o,p,a="",u=0,d=!1;for(;null!==(o=cD.exec(s));)d?o[0]===`\ufffd/*${p}\ufffd`&&(u=o.index,d=!1):(a+=s.substring(u,o.index+o[0].length),p=o[1],d=!0);return a+=s.substr(u),a}function sl(s,o,a,u,d,p){let y=0;const w={type:d.type,currentCaseLViewIndex:Yu(s,o,1,null),anchorIdx:p,cases:[],create:[],remove:[],update:[]};(function st(s,o,a){s.push(fD(o.mainBinding),2,-1-o.mainBinding,a<<2|2)})(a,d,p),function il(s,o,a){const u=s.data[o];null===u?s.data[o]=a:u.value=a}(s,p,w);const D=d.values;for(let I=0;I<D.length;I++){const N=D[I],P=[];for(let H=0;H<N.length;H++){const Z=N[H];if("string"!=typeof Z){const ye=P.push(Z)-1;N[H]=`\x3c!--\ufffd${ye}\ufffd--\x3e`}}y=Fe(s,w,o,a,u,d.cases[I],N.join(""),P)|y}y&&function yt(s,o,a){s.push(o,1,a<<2|3)}(a,y,p)}function kv(s){const o=[],a=[];let u=1,d=0;const p=Pv(s=s.replace(Ji,function(y,w,D){return u="select"===D?0:1,d=parseInt(w.substr(1),10),""}));for(let y=0;y<p.length;){let w=p[y++].trim();1===u&&(w=w.replace(/\s*(?:=)?(\w+)\s*/,"$1")),w.length&&o.push(w);const D=Pv(p[y++]);o.length>a.length&&a.push(D)}return{type:u,mainBinding:d,cases:o,values:a}}function Pv(s){if(!s)return[];let o=0;const a=[],u=[],d=/[{}]/g;let p;for(d.lastIndex=0;p=d.exec(s);){const w=p.index;if("}"==p[0]){if(a.pop(),0==a.length){const D=s.substring(o,w);Ji.test(D)?u.push(kv(D)):u.push(D),o=w+1}}else{if(0==a.length){const D=s.substring(o,w);u.push(D),o=w+1}a.push("{")}}const y=s.substring(o);return u.push(y),u}function Fe(s,o,a,u,d,p,y,w){const D=[],I=[],N=[];o.cases.push(p),o.create.push(D),o.remove.push(I),o.update.push(N);const H=function vg(s){const o=new q_(s);return function bg(){try{return!!(new window.DOMParser).parseFromString(Pu(""),"text/html")}catch(s){return!1}}()?new cf(o):o}(hs()).getInertBodyElement(y),Z=function _f(s){return"content"in s&&function Cg(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}(H)||H;return Z?ar(s,o,a,u,D,I,N,Z,d,w,0):0}function ar(s,o,a,u,d,p,y,w,D,I,N){let P=0,H=w.firstChild;for(;H;){const Z=Yu(s,a,1,null);switch(H.nodeType){case Node.ELEMENT_NODE:const ye=H,Pe=ye.tagName.toLowerCase();if(pf.hasOwnProperty(Pe)){Lv(d,cp,Pe,D,Z),s.data[Z]=Pe;const rt=ye.attributes;for(let xt=0;xt<rt.length;xt++){const sn=rt.item(xt),Ls=sn.name.toLowerCase();sn.value.match(dp)?wd.hasOwnProperty(Ls)&&ih(y,sn.value,Z,sn.name,0,bd[Ls]?Ll:gf[Ls]?hf:null):Ge(d,Z,sn)}P=ar(s,o,a,u,d,p,y,H,Z,I,N+1)|P,oh(p,Z,N)}break;case Node.TEXT_NODE:const je=H.textContent||"",Ze=je.match(dp);Lv(d,null,Ze?"":je,D,Z),oh(p,Z,N),Ze&&(P=ih(y,je,Z,null,0,null)|P);break;case Node.COMMENT_NODE:const Ee=Ym.exec(H.textContent||"");if(Ee){const xt=I[parseInt(Ee[1],10)];Lv(d,Ql,"",D,Z),sl(s,a,u,D,xt,Z),Fv(p,Z,N)}}H=H.nextSibling}return P}function oh(s,o,a){0===a&&s.push(o)}function Fv(s,o,a){0===a&&(s.push(~o),s.push(o))}function Lv(s,o,a,u,d){null!==o&&s.push(o),s.push(a,d,function zm(s,o,a){return s|o<<17|a<<1}(0,u,d))}function Ge(s,o,a){s.push(o<<1|1,a.name,a.value)}function Vv(s,o,a=-1){const u=At(),d=De(),p=20+s,y=Yr(u.consts,o),w=Aa();u.firstCreatePass&&function Rv(s,o,a,u,d,p){const y=Aa(),w=[],D=[],I=[[]];d=function sh(s,o){if(function pD(s){return-1===s}(o))return jr(s);{const a=s.indexOf(`:${o}\ufffd`)+2+o.toString().length,u=s.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return jr(s.substring(a,u))}}(d,p);const N=function ET(s){return s.replace(DT," ")}(d).split(rh);for(let P=0;P<N.length;P++){let H=N[P];if(0==(1&P)){const Z=Pv(H);for(let ye=0;ye<Z.length;ye++){let Pe=Z[ye];if(0==(1&ye)){const je=Pe;""!==je&&TT(s,y,I[0],w,D,a,je)}else{const je=Pe;if("object"!=typeof je)throw new Error(`Unable to parse ICU expression in "${d}" message.`);sl(s,a,D,o,je,dD(s,y,I[0],a,w,"",!0).index)}}}else{const Z=47===H.charCodeAt(0),Pe=(H.charCodeAt(Z?1:0),20+Number.parseInt(H.substring(Z?2:1)));if(Z)I.shift(),Mr(Aa(),!1);else{const je=_T(s,I[0],Pe);I.unshift([]),Mr(je,!0)}}}s.data[u]={create:w,update:D}}(u,null===w?0:w.index,d,p,y,a);const D=u.data[p],N=ay(u,w===d[6]?null:w,d);(function aD(s,o,a,u){const d=s[11];for(let p=0;p<o.length;p++){const y=o[p++],w=o[p],D=(y&mn.COMMENT)===mn.COMMENT,I=(y&mn.APPEND_EAGERLY)===mn.APPEND_EAGERLY,N=y>>>mn.SHIFT;let P=s[N];null===P&&(P=s[N]=D?d.createComment(w):Tt(d,w)),I&&null!==a&&$l(d,a,P,u,!1)}})(d,D.create,N,w&&8&w.type?d[w.index]:null),Yc(!0)}function OT(s,o,a){Vv(s,o,a),function mD(){Yc(!1)}()}function Bv(s){return function Km(s){s&&(Xd|=1<<Math.min(uc,31)),uc++}(Ni(De(),Vi(),s)),Bv}function Uv(s){!function yT(s,o,a){if(uc>0){const u=s.data[a];Nv(s,o,Array.isArray(u)?u:u.update,function Ii(){return lt.lFrame.bindingIndex}()-uc-1,Xd)}Xd=0,uc=0}(At(),De(),s+20)}function Qm(s,o,a,u,d){if(s=Q(s),Array.isArray(s))for(let p=0;p<s.length;p++)Qm(s[p],o,a,u,d);else{const p=At(),y=De();let w=Fd(s)?s:Q(s.provide),D=Xb(s);const I=wn(),N=1048575&I.providerIndexes,P=I.directiveStart,H=I.providerIndexes>>20;if(Fd(s)||!s.multi){const Z=new Zo(D,d,pr),ye=Xm(w,o,d?N:N+H,P);-1===ye?(Rr(xr(I,y),p,w),gr(p,s,o.length),o.push(w),I.directiveStart++,I.directiveEnd++,d&&(I.providerIndexes+=1048576),a.push(Z),y.push(Z)):(a[ye]=Z,y[ye]=Z)}else{const Z=Xm(w,o,N+H,P),ye=Xm(w,o,N,N+H),Pe=Z>=0&&a[Z],je=ye>=0&&a[ye];if(d&&!je||!d&&!Pe){Rr(xr(I,y),p,w);const Ze=function nn(s,o,a,u,d){const p=new Zo(s,a,pr);return p.multi=[],p.index=o,p.componentProviders=0,wt(p,d,u&&!a),p}(d?_D:cc,a.length,d,u,D);!d&&je&&(a[ye].providerFactory=Ze),gr(p,s,o.length,0),o.push(w),I.directiveStart++,I.directiveEnd++,d&&(I.providerIndexes+=1048576),a.push(Ze),y.push(Ze)}else gr(p,s,Z>-1?Z:ye,wt(a[d?ye:Z],D,!d&&u));!d&&u&&je&&a[ye].componentProviders++}}}function gr(s,o,a,u){const d=Fd(o),p=function tw(s){return!!s.useClass}(o);if(d||p){const D=(p?Q(o.useClass):o).prototype.ngOnDestroy;if(D){const I=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const N=I.indexOf(a);-1===N?I.push(a,[u,D]):I[N+1].push(u,D)}else I.push(a,D)}}}function wt(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function Xm(s,o,a,u){for(let d=a;d<u;d++)if(o[d]===s)return d;return-1}function cc(s,o,a,u){return dc(this.multi,[])}function _D(s,o,a,u){const d=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=vs(a,a[1],this.providerFactory.index,u);p=w.slice(0,y),dc(d,p);for(let D=y;D<w.length;D++)p.push(w[D])}else p=[],dc(d,p);return p}function dc(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function yD(s,o=[]){return a=>{a.providersResolver=(u,d)=>function ah(s,o,a){const u=At();if(u.firstCreatePass){const d=fi(s);Qm(a,u.data,u.blueprint,d,!0),Qm(o,u.data,u.blueprint,d,!1)}}(u,d?d(s):s,o)}}class hc{}class Xl{resolveComponentFactory(o){throw function MT(s){const o=Error(`No component factory found for ${fe(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let xn=(()=>{class s{}return s.NULL=new Xl,s})();function lh(){return eu(wn(),De())}function eu(s,o){return new uh(tr(s,o))}let uh=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=lh,s})();function hp(s){return s instanceof uh?s.nativeElement:s}class fp{}let vD=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function fc(){const s=De(),a=nr(wn().index,s);return function tt(s){return s[11]}(Ci(a)?a:s)}(),s})(),la=(()=>{class s{}return s.\u0275prov=Wt({token:s,providedIn:"root",factory:()=>null}),s})();class dh{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const pc=new dh("13.2.1"),e_={};function hh(s,o,a,u,d=!1){for(;null!==a;){const p=o[a.index];if(null!==p&&u.push(qt(p)),hi(p))for(let w=10;w<p.length;w++){const D=p[w],I=D[1].firstChild;null!==I&&hh(D[1],D,I,u)}const y=a.type;if(8&y)hh(s,o,a.child,u);else if(32&y){const w=Qe(a,o);let D;for(;D=w();)u.push(D)}else if(16&y){const w=uy(o,a);if(Array.isArray(w))u.push(...w);else{const D=Cn(o[16]);hh(D[1],D,w,u,!0)}}a=d?a.projectionNext:a.next}return u}class gc{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return hh(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(hi(o)){const a=o[8],u=a?a.indexOf(this):-1;u>-1&&(Pg(o,u),Ao(a,u))}this._attachedToViewContainer=!1}t1(this._lView[1],this._lView)}onDestroy(o){jf(this._lView[1],this._lView,null,o)}markForCheck(){Ry(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Py(this._lView[1],this._lView,this.context)}checkNoChanges(){!function R1(s,o,a){Ko(!0);try{Py(s,o,a)}finally{Ko(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Oe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function sy(s,o){Za(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Oe(902,"");this._appRef=o}}class t_ extends gc{constructor(o){super(o),this._view=o}detectChanges(){Kb(this._view)}checkNoChanges(){!function k1(s){Ko(!0);try{Kb(s)}finally{Ko(!1)}}(this._view)}get context(){return null}}class n_ extends xn{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Gn(o);return new mc(a,this.ngModule)}}function r_(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}const wD=new pn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Rg});class mc extends hc{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function Ib(s){return s.map(Cb).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return r_(this.componentDef.inputs)}get outputs(){return r_(this.componentDef.outputs)}create(o,a,u,d){const p=(d=d||this.ngModule)?function i_(s,o){return{get:(a,u,d)=>{const p=s.get(a,e_,d);return p!==e_||u===e_?p:o.get(a,u,d)}}}(o,d.injector):o,y=p.get(fp,wa),w=p.get(la,null),D=y.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",N=u?function Sy(s,o,a){if(en(s))return s.selectRootElement(o,a===St.ShadowDom);let u="string"==typeof o?s.querySelector(o):o;return u.textContent="",u}(D,u,this.componentDef.encapsulation):$u(y.createRenderer(null,this.componentDef),I,function bD(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(I)),P=this.componentDef.onPush?576:528,H=function hw(s,o){return{components:[],scheduler:s||Rg,clean:P1,playerHandler:o||null,flags:0}}(),Z=Kg(0,null,null,1,0,null,null,null,null,null),ye=Bf(null,Z,H,P,null,null,y,D,w,p);let Pe,je;Do(ye);try{const Ze=function jy(s,o,a,u,d,p){const y=a[1];a[20]=s;const D=Md(y,20,2,"#host",null),I=D.mergedAttrs=o.hostAttrs;null!==I&&(nm(D,I,!0),null!==s&&(br(d,s,I),null!==D.classes&&Vg(d,s,D.classes),null!==D.styles&&Of(d,s,D.styles)));const N=u.createRenderer(s,o),P=Bf(a,Lb(o),null,o.onPush?64:16,a[20],D,u,N,p||null,null);return y.firstCreatePass&&(Rr(xr(D,a),y,o.type),jb(y,D),Hb(D,a.length,1)),Qg(a,P),a[20]=P}(N,this.componentDef,ye,y,D);if(N)if(u)br(D,N,["ng-version",pc.full]);else{const{attrs:Ee,classes:rt}=function u1(s){const o=[],a=[];let u=1,d=2;for(;u<s.length;){let p=s[u];if("string"==typeof p)2===d?""!==p&&o.push(p,s[++u]):8===d&&a.push(p);else{if(!Ro(d))break;d=p}u++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);Ee&&br(D,N,Ee),rt&&rt.length>0&&Vg(D,N,rt.join(" "))}if(je=bn(Z,20),void 0!==a){const Ee=je.projection=[];for(let rt=0;rt<this.ngContentSelectors.length;rt++){const xt=a[rt];Ee.push(null!=xt?Array.from(xt):null)}}Pe=function Hy(s,o,a,u,d){const p=a[1],y=function E1(s,o,a){const u=wn();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),Oy(s,u,o,Yu(s,o,1,null),a));const d=vs(o,s,u.directiveStart,u);Vt(d,o);const p=tr(u,o);return p&&Vt(p,o),d}(p,a,o);if(u.components.push(y),s[8]=y,d&&d.forEach(D=>D(y,o)),o.contentQueries){const D=wn();o.contentQueries(1,y,D.directiveStart)}const w=wn();return!p.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(gs(w.index),Ub(a[1],w,0,w.directiveStart,w.directiveEnd,o),Ny(o,y)),y}(Ze,this.componentDef,ye,H,[zS]),Rd(Z,ye,null)}finally{qo()}return new Rn(this.componentType,Pe,eu(je,ye),ye,je)}}class Rn extends class si{}{constructor(o,a,u,d,p){super(),this.location=u,this._rootLView=d,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new t_(d),this.componentType=o}get injector(){return new bs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class _c{}class fh{}const ph=new Map;class ED extends _c{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new n_(this);const u=$n(o);this._bootstrapComponents=g(u.bootstrap),this._r3Injector=Ly(o,a,[{provide:_c,useValue:this},{provide:xn,useValue:this.componentFactoryResolver}],fe(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,a=Ss.THROW_IF_NOT_FOUND,u=dt.Default){return o===Ss||o===_c||o===rm?this:this._r3Injector.get(o,a,u)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class s_ extends fh{constructor(o){super(),this.moduleType=o,null!==$n(o)&&function Mi(s){const o=new Set;!function a(u){const d=$n(u,!0),p=d.id;null!==p&&(function pp(s,o,a){if(o&&o!==a)throw new Error(`Duplicate module registered for ${s} - ${fe(o)} vs ${fe(o.name)}`)}(p,ph.get(p),u),ph.set(p,u));const y=g(d.imports);for(const w of y)o.has(w)||(o.add(w),a(w))}(s)}(o)}create(o){return new ED(this.moduleType,o)}}function TD(s,o,a,u){return function Hv(s,o,a,u,d,p){const y=o+a;return Ni(s,y,d)?oa(s,y+1,p?u.call(p,d):u(d)):xs(s,y+1)}(De(),Wn(),s,o,a,u)}function CD(s,o,a,u,d){return function yc(s,o,a,u,d,p,y){const w=o+a;return Qa(s,w,d,p)?oa(s,w+2,y?u.call(y,d,p):u(d,p)):xs(s,w+2)}(De(),Wn(),s,o,a,u,d)}function ID(s,o,a,u,d,p){return function mp(s,o,a,u,d,p,y,w){const D=o+a;return function Vd(s,o,a,u,d){const p=Qa(s,o,a,u);return Ni(s,o+2,d)||p}(s,D,d,p,y)?oa(s,D+3,w?u.call(w,d,p,y):u(d,p,y)):xs(s,D+3)}(De(),Wn(),s,o,a,u,d,p)}function xs(s,o){const a=s[o];return a===_t?void 0:a}function l_(s){return o=>{setTimeout(s,void 0,o)}}const ua=class vp extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,u){var d,p,y;let w=o,D=a||(()=>null),I=u;if(o&&"object"==typeof o){const P=o;w=null===(d=P.next)||void 0===d?void 0:d.bind(P),D=null===(p=P.error)||void 0===p?void 0:p.bind(P),I=null===(y=P.complete)||void 0===y?void 0:y.bind(P)}this.__isAsync&&(D=l_(D),w&&(w=l_(w)),I&&(I=l_(I)));const N=super.subscribe({next:w,error:D,complete:I});return o instanceof Y.w0&&o.add(N),N}};function MD(){return this._results[Ld()]()}class u_{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Ld(),u=u_.prototype;u[a]||(u[a]=MD)}get changes(){return this._changes||(this._changes=new ua)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const u=this;u.dirty=!1;const d=Pr(o);(this._changesDetected=!function Ml(s,o,a){if(s.length!==o.length)return!1;for(let u=0;u<s.length;u++){let d=s[u],p=o[u];if(a&&(d=a(d),p=a(p)),p!==d)return!1}return!0}(u._results,d,a))&&(u._results=d,u.length=d.length,u.last=d[this.length-1],u.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let _h=(()=>{class s{}return s.__NG_ELEMENT_ID__=LT,s})();const c_=_h,FT=class extends c_{constructor(o,a,u){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(o){const a=this._declarationTContainer.tViews,u=Bf(this._declarationLView,a,o,16,null,a.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(u[19]=p.createEmbeddedView(a)),Rd(a,u,o),new gc(u)}};function LT(){return bp(wn(),De())}function bp(s,o){return 4&s.type?new FT(o,s,eu(s,o)):null}let ol=(()=>{class s{}return s.__NG_ELEMENT_ID__=bc,s})();function bc(){return zv(wn(),De())}const xD=ol,tu=class extends xD{constructor(o,a,u){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=u}get element(){return eu(this._hostTNode,this._hostLView)}get injector(){return new bs(this._hostTNode,this._hostLView)}get parentInjector(){const o=La(this._hostTNode,this._hostLView);if(ed(o)){const a=tn(o,this._hostLView),u=kt(o);return new bs(a[1].data[u+8],a)}return new bs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=Wv(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,u){const d=o.createEmbeddedView(a||{});return this.insert(d,u),d}createComponent(o,a,u,d,p){const y=o&&!function kr(s){return"function"==typeof s}(o);let w;if(y)w=a;else{const P=a||{};w=P.index,u=P.injector,d=P.projectableNodes,p=P.ngModuleRef}const D=y?o:new mc(Gn(o)),I=u||this.parentInjector;if(!p&&null==D.ngModule&&I){const P=I.get(_c,null);P&&(p=P)}const N=D.create(I,d,void 0,p);return this.insert(N.hostView,w),N}insert(o,a){const u=o._lView,d=u[1];if(function gu(s){return hi(s[3])}(u)){const N=this.indexOf(o);if(-1!==N)this.detach(N);else{const P=u[3],H=new tu(P,P[6],P[3]);H.detach(H.indexOf(o))}}const p=this._adjustIndex(a),y=this._lContainer;!function ea(s,o,a,u){const d=10+u,p=a.length;u>0&&(a[d-1][4]=o),u<p-10?(o[4]=a[d],Nu(a,10+u,o)):(a.push(o),o[4]=null),o[3]=a;const y=o[17];null!==y&&a!==y&&function gb(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(y,o);const w=o[19];null!==w&&w.insertView(s),o[2]|=128}(d,u,y,p);const w=Lg(p,y),D=u[11],I=Sf(D,y[7]);return null!==I&&function If(s,o,a,u,d,p){u[0]=d,u[6]=o,Za(s,u,a,1,d,p)}(d,y[6],D,u,I,w),o.attachToViewContainerRef(),Nu(nu(y),p,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=Wv(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),u=Pg(this._lContainer,a);u&&(Ao(nu(this._lContainer),a),t1(u[1],u))}detach(o){const a=this._adjustIndex(o,-1),u=Pg(this._lContainer,a);return u&&null!=Ao(nu(this._lContainer),a)?new gc(u):null}_adjustIndex(o,a=0){return null==o?this.length+a:o}};function Wv(s){return s[8]}function nu(s){return s[8]||(s[8]=[])}function zv(s,o){let a;const u=o[s.index];if(hi(u))a=u;else{let d;if(8&s.type)d=qt(u);else{const p=o[11];d=p.createComment("");const y=tr(s,o);$l(p,Sf(p,y),d,function yb(s,o){return en(s)?s.nextSibling(o):o.nextSibling}(p,y),!1)}o[s.index]=a=Wb(u,o,d,s),Qg(o,a)}return new tu(a,s,o)}class Kv{constructor(o){this.queryList=o,this.matches=null}clone(){return new Kv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Zn{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const u=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let p=0;p<u;p++){const y=a.getByIndex(p);d.push(this.queries[y.indexInDeclarationView].clone())}return new Zn(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==e0(o,a).matches&&this.queries[a].setDirty()}}class Dp{constructor(o,a,u=null){this.predicate=o,this.flags=a,this.read=u}}class yh{constructor(o=[]){this.queries=o}elementStart(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let u=0;u<this.length;u++){const d=null!==a?a.length:0,p=this.getByIndex(u).embeddedTView(o,d);p&&(p.indexInDeclarationView=u,null!==a?a.push(p):a=[p])}return null!==a?new yh(a):null}template(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class qv{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new qv(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let d=0;d<u.length;d++){const p=u[d];this.matchTNodeWithReadOption(o,a,Zv(a,p)),this.matchTNodeWithReadOption(o,a,nd(a,o,p,!1,!1))}else u===_h?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,nd(a,o,u,!1,!1))}matchTNodeWithReadOption(o,a,u){if(null!==u){const d=this.metadata.read;if(null!==d)if(d===uh||d===ol||d===_h&&4&a.type)this.addMatch(a.index,-2);else{const p=nd(a,o,d,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,u)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function Zv(s,o){const a=s.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===o)return a[u+1];return null}function kD(s,o,a,u){return-1===a?function VT(s,o){return 11&s.type?eu(s,o):4&s.type?bp(s,o):null}(o,s):-2===a?function PD(s,o,a){return a===uh?eu(o,s):a===_h?bp(o,s):a===ol?zv(o,s):void 0}(s,o,u):vs(s,s[1],a,o)}function vh(s,o,a,u){const d=o[19].queries[u];if(null===d.matches){const p=s.data,y=a.matches,w=[];for(let D=0;D<y.length;D+=2){const I=y[D];w.push(I<0?null:kD(o,p[I],y[D+1],a.metadata.read))}d.matches=w}return d.matches}function ca(s,o,a,u){const d=s.queries.getByIndex(a),p=d.matches;if(null!==p){const y=vh(s,o,d,a);for(let w=0;w<p.length;w+=2){const D=p[w];if(D>0)u.push(y[w/2]);else{const I=p[w+1],N=o[-D];for(let P=10;P<N.length;P++){const H=N[P];H[17]===H[3]&&ca(H[1],H,I,u)}if(null!==N[9]){const P=N[9];for(let H=0;H<P.length;H++){const Z=P[H];ca(Z[1],Z,I,u)}}}}}return u}function Yv(s){const o=De(),a=At(),u=xa();wu(u+1);const d=e0(a,u);if(s.dirty&&zo(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const p=d.crossesNgTemplate?ca(a,o,u,[]):vh(a,o,d,u);s.reset(p,hp),s.notifyOnChanges()}return!0}return!1}function Jv(s,o,a){const u=At();u.firstCreatePass&&(lr(u,new Dp(s,o,a),-1),2==(2&o)&&(u.staticViewQueries=!0)),FD(u,De(),o)}function Qv(s,o,a,u){const d=At();if(d.firstCreatePass){const p=wn();lr(d,new Dp(o,a,u),p.index),function jt(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(d,s),2==(2&a)&&(d.staticContentQueries=!0)}FD(d,De(),a)}function bh(){return function Xv(s,o){return s[19].queries[o].queryList}(De(),xa())}function FD(s,o,a){const u=new u_(4==(4&a));jf(s,o,u,u.destroy),null===o[19]&&(o[19]=new Zn),o[19].queries.push(new Kv(u))}function lr(s,o,a){null===s.queries&&(s.queries=new yh),s.queries.track(new qv(o,a))}function e0(s,o){return s.queries.getByIndex(o)}function t0(s,o){return bp(s,o)}function f_(...s){}const iu=new pn("Application Initializer");let Dh=(()=>{class s{constructor(a){this.appInits=a,this.resolve=f_,this.reject=f_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,d)=>{this.resolve=u,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(sv(p))a.push(p);else if(av(p)){const y=new Promise((w,D)=>{p.subscribe({complete:w,error:D})});a.push(y)}}Promise.all(a).then(()=>{u()}).catch(d=>{this.reject(d)}),0===a.length&&u(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(Le(iu,8))},s.\u0275prov=Wt({token:s,factory:s.\u0275fac}),s})();const zD=new pn("AppId"),KD={provide:zD,useFactory:function ZT(){return`${Rs()}${Rs()}${Rs()}`},deps:[]};function Rs(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const qD=new pn("Platform Initializer"),y0=new pn("Platform ID"),ha=new pn("appBootstrapListener");let Qi=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Wt({token:s,factory:s.\u0275fac}),s})();const Fo=new pn("LocaleId"),_n=new pn("DefaultCurrencyCode");class Jn{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let uo=(()=>{class s{compileModuleSync(a){return new s_(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),p=g($n(a).declarations).reduce((y,w)=>{const D=Gn(w);return D&&y.push(new mc(D)),y},[]);return new Jn(u,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Wt({token:s,factory:s.\u0275fac}),s})();const ks=(()=>Promise.resolve(0))();function ll(s){"undefined"==typeof Zone?ks.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Gr{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ua(!1),this.onMicrotaskEmpty=new ua(!1),this.onStable=new ua(!1),this.onError=new ua(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!u&&a,d.shouldCoalesceRunChangeDetection=u,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function ul(){let s=Rt.requestAnimationFrame,o=Rt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function YD(s){const o=()=>{!function ZD(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Rt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Se(s),s.isCheckStableRunning=!0,v0(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Se(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,d,p,y,w)=>{try{return Ap(s),a.invokeTask(d,p,y,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),co(s)}},onInvoke:(a,u,d,p,y,w,D)=>{try{return Ap(s),a.invoke(d,p,y,w,D)}finally{s.shouldCoalesceRunChangeDetection&&o(),co(s)}},onHasTask:(a,u,d,p)=>{a.hasTask(d,p),u===d&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,Se(s),v0(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,u,d,p)=>(a.handleError(d,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Gr.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Gr.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,a,u){return this._inner.run(o,a,u)}runTask(o,a,u,d){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+d,o,Eh,f_,f_);try{return p.runTask(y,a,u)}finally{p.cancelTask(y)}}runGuarded(o,a,u){return this._inner.runGuarded(o,a,u)}runOutsideAngular(o){return this._outer.run(o)}}const Eh={};function v0(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Se(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Ap(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function co(s){s._nesting--,v0(s)}class YT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ua,this.onMicrotaskEmpty=new ua,this.onStable=new ua,this.onError=new ua}run(o,a,u){return o.apply(a,u)}runGuarded(o,a,u){return o.apply(a,u)}runOutsideAngular(o){return o()}runTask(o,a,u,d){return o.apply(a,u)}}let Th=(()=>{class s{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Gr.assertNotInAngularZone(),ll(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ll(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,d){let p=-1;u&&u>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:d})}whenStable(a,u,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,u,d){return[]}}return s.\u0275fac=function(a){return new(a||s)(Le(Gr))},s.\u0275prov=Wt({token:s,factory:s.\u0275fac}),s})(),su=(()=>{class s{constructor(){this._applications=new Map,p_.addToWindow(this)}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return p_.findTestabilityInTree(this,a,u)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Wt({token:s,factory:s.\u0275fac}),s})();class JT{addToWindow(o){}findTestabilityInTree(o,a,u){return null}}function Dc(s){p_=s}let Ps,p_=new JT;const g_=new pn("AllowMultipleToken");class ou{constructor(o,a){this.name=o,this.token=a}}function m_(s,o,a=[]){const u=`Platform: ${o}`,d=new pn(u);return(p=[])=>{let y=w0();if(!y||y.injector.get(g_,!1))if(s)s(a.concat(p).concat({provide:d,useValue:!0}));else{const w=a.concat(p).concat({provide:d,useValue:!0},{provide:Gf,useValue:"platform"});!function QD(s){if(Ps&&!Ps.destroyed&&!Ps.injector.get(g_,!1))throw new Oe(400,"");Ps=s.get(Ec);const o=s.get(qD,null);o&&o.forEach(a=>a())}(Ss.create({providers:w,name:u}))}return function XD(s){const o=w0();if(!o)throw new Oe(401,"");return o}()}}function w0(){return Ps&&!Ps.destroyed?Ps:null}let Ec=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const w=function Ch(s,o){let a;return a="noop"===s?new YT:("zone.js"===s?void 0:s)||new Gr({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),a}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),D=[{provide:Gr,useValue:w}];return w.run(()=>{const I=Ss.create({providers:D,parent:this.injector,name:a.moduleType.name}),N=a.create(I),P=N.injector.get(Ht,null);if(!P)throw new Oe(402,"");return w.runOutsideAngular(()=>{const H=w.onError.subscribe({next:Z=>{P.handleError(Z)}});N.onDestroy(()=>{Np(this._modules,N),H.unsubscribe()})}),function Ih(s,o,a){try{const u=a();return sv(u)?u.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):u}catch(u){throw o.runOutsideAngular(()=>s.handleError(u)),u}}(P,w,()=>{const H=N.injector.get(Dh);return H.runInitializers(),H.donePromise.then(()=>(function eD(s){(function nt(s,o){null==s&&ot(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(or=s.toLowerCase().replace(/_/g,"-"))}(N.injector.get(Fo,lc)||lc),this._moduleDoBootstrap(N),N))})})}bootstrapModule(a,u=[]){const d=Sh({},u);return function JD(s,o,a){const u=new s_(a);return Promise.resolve(u)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(a){const u=a.injector.get(Ah);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>u.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Oe(403,"");a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Oe(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(Le(Ss))},s.\u0275prov=Wt({token:s,factory:s.\u0275fac}),s})();function Sh(s,o){return Array.isArray(o)?o.reduce(Sh,s):Object.assign(Object.assign({},s),o)}let Ah=(()=>{class s{constructor(a,u,d,p,y){this._zone=a,this._injector=u,this._exceptionHandler=d,this._componentFactoryResolver=p,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new k.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),D=new k.y(I=>{let N;this._zone.runOutsideAngular(()=>{N=this._zone.onStable.subscribe(()=>{Gr.assertNotInAngularZone(),ll(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const P=this._zone.onUnstable.subscribe(()=>{Gr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{N.unsubscribe(),P.unsubscribe()}});this.isStable=(0,le.T)(w,D.pipe((0,te.B)()))}bootstrap(a,u){if(!this._initStatus.done)throw new Oe(405,"");let d;d=a instanceof hc?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(d.componentType);const p=function b0(s){return s.isBoundToModule}(d)?void 0:this._injector.get(_c),w=d.create(Ss.NULL,[],u||d.selector,p),D=w.location.nativeElement,I=w.injector.get(Th,null),N=I&&w.injector.get(su);return I&&N&&N.registerApplication(D,I),w.onDestroy(()=>{this.detachView(w.hostView),Np(this.components,w),N&&N.unregisterApplication(D)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Oe(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;Np(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(ha,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(a){return new(a||s)(Le(Gr),Le(Ss),Le(Ht),Le(xn),Le(Dh))},s.\u0275prov=Wt({token:s,factory:s.\u0275fac}),s})();function Np(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let D0=!0,rE=!1;function E0(){return rE=!0,D0}function QT(){if(rE)throw new Error("Cannot enable prod mode after platform setup.");D0=!1}let iE=(()=>{class s{}return s.__NG_ELEMENT_ID__=__,s})();function __(s){return function T0(s,o,a){if(ml(s)&&!a){const u=nr(s.index,o);return new gc(u,u)}return 47&s.type?new gc(o[16],o):null}(wn(),De(),16==(16&s))}class y_{constructor(){}supports(o){return Wf(o)}create(o){return new Mp(o)}}const M0=(s,o)=>o;class Mp{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||M0}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,u=this._removalsHead,d=0,p=null;for(;a||u;){const y=!u||a&&a.currentIndex<R0(u,d,p)?a:u,w=R0(y,d,p),D=y.currentIndex;if(y===u)d--,u=u._nextRemoved;else if(a=a._next,null==y.previousIndex)d++;else{p||(p=[]);const I=w-d,N=D-d;if(I!=N){for(let H=0;H<I;H++){const Z=H<p.length?p[H]:p[H]=0,ye=Z+H;N<=ye&&ye<I&&(p[H]=Z+1)}p[y.previousIndex]=N-I}}w!==D&&o(y,w,D)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Wf(o))throw new Oe(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,p,y,a=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)p=o[w],y=this._trackByFn(w,p),null!==a&&Object.is(a.trackById,y)?(u&&(a=this._verifyReinsertion(a,p,y,w)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,y,w),u=!0),a=a._next}else d=0,function YS(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[Ld()]();let u;for(;!(u=a.next()).done;)o(u.value)}}(o,w=>{y=this._trackByFn(d,w),null!==a&&Object.is(a.trackById,y)?(u&&(a=this._verifyReinsertion(a,w,y,d)),Object.is(a.item,w)||this._addIdentityChange(a,w)):(a=this._mismatch(a,w,y,d),u=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,u,d){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,d)):o=this._addAfter(new v_(a,u),p,d),o}_verifyReinsertion(o,a,u,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==p?o=this._reinsertAfter(p,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,p=o._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(o,a,u),this._addToMoves(o,u),o}_moveAfter(o,a,u){return this._unlink(o),this._insertAfter(o,a,u),this._addToMoves(o,u),o}_addAfter(o,a,u){return this._insertAfter(o,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,u){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new oE),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,u=o._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new oE),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class v_{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class x0{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const a=o._prevDup,u=o._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class oE{constructor(){this.map=new Map}put(o){const a=o.trackById;let u=this.map.get(a);u||(u=new x0,this.map.set(a,u)),u.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function R0(s,o,a){const u=s.previousIndex;if(null===u)return u;let d=0;return a&&u<a.length&&(d=a[u]),u+o+d}class b_{constructor(){}supports(o){return o instanceof Map||zy(o)}create(){return new aE}}class aE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||zy(o)))throw new Oe(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(d,u);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const u=o._prev;return a._next=o,a._prev=u,o._prev=a,u&&(u._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const p=d._prev,y=d._next;return p&&(p._next=y),y&&(y._prev=p),d._next=null,d._prev=null,d}const u=new aC(o);return this._records.set(o,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(u=>a(o[u],u))}}class aC{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function k0(){return new xp([new y_])}let xp=(()=>{class s{constructor(a){this.factories=a}static create(a,u){if(null!=u){const d=u.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:u=>s.create(a,u||k0()),deps:[[s,new Lr,new wr]]}}find(a){const u=this.factories.find(d=>d.supports(a));if(null!=u)return u;throw new Oe(901,"")}}return s.\u0275prov=Wt({token:s,providedIn:"root",factory:k0}),s})();function uE(){return new Rp([new b_])}let Rp=(()=>{class s{constructor(a){this.factories=a}static create(a,u){if(u){const d=u.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:u=>s.create(a,u||uE()),deps:[[s,new Lr,new wr]]}}find(a){const u=this.factories.find(p=>p.supports(a));if(u)return u;throw new Oe(901,"")}}return s.\u0275prov=Wt({token:s,providedIn:"root",factory:uE}),s})();const lC=[new b_],uC=new xp([new y_]),Mh=new Rp(lC),P0=m_(null,"core",[{provide:y0,useValue:"unknown"},{provide:Ec,deps:[Ss]},{provide:su,deps:[]},{provide:Qi,deps:[]}]),F0=[{provide:Ah,useClass:Ah,deps:[Gr,Ss,Ht,xn,Dh]},{provide:wD,deps:[Gr],useFactory:function dC(s){let o=[];return s.onStable.subscribe(()=>{for(;o.length;)o.pop()()}),function(a){o.push(a)}}},{provide:Dh,useClass:Dh,deps:[[new wr,iu]]},{provide:uo,useClass:uo,deps:[]},KD,{provide:xp,useFactory:function w_(){return uC},deps:[]},{provide:Rp,useFactory:function dE(){return Mh},deps:[]},{provide:Fo,useFactory:function hE(s){return s||function cC(){return"undefined"!=typeof $localize&&$localize.locale||lc}()},deps:[[new Fr(Fo),new wr,new Lr]]},{provide:_n,useValue:"USD"}];let L0=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(Le(Ah))},s.\u0275mod=Ar({type:s}),s.\u0275inj=zt({providers:F0}),s})()},3942:(et,we,R)=>{"use strict";R.d(we,{Z:()=>Oe});var c=R(2090),Y=R(4859),k=R(9681),le=R(1877);class te{constructor(z,ee){this._delegate=z,this.firebase=ee,(0,k._addComponent)(z,new Y.wA("app-compat",()=>this,"PUBLIC")),this.container=z.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(z){this._delegate.automaticDataCollectionEnabled=z}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(z=>{this._delegate.checkDestroyed(),z()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(z,ee=k._DEFAULT_ENTRY_NAME){var ge;this._delegate.checkDestroyed();const Te=this._delegate.container.getProvider(z);return!Te.isInitialized()&&"EXPLICIT"===(null===(ge=Te.getComponent())||void 0===ge?void 0:ge.instantiationMode)&&Te.initialize(),Te.getImmediate({identifier:ee})}_removeServiceInstance(z,ee=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(z).clearInstance(ee)}_addComponent(z){(0,k._addComponent)(this._delegate,z)}_addOrOverwriteComponent(z){(0,k._addOrOverwriteComponent)(this._delegate,z)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const re=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function ae(){const Ve=function fe(Ve){const z={},ee={__esModule:!0,initializeApp:function ce($e,se={}){const q=k.initializeApp($e,se);if((0,c.r3)(z,q.name))return z[q.name];const ie=new Ve(q,ee);return z[q.name]=ie,ie},app:Te,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function Ce($e){const se=$e.name,q=se.replace("-compat","");if(k._registerComponent($e)&&"PUBLIC"===$e.type){const ie=(me=Te())=>{if("function"!=typeof me[q])throw re.create("invalid-app-argument",{appName:se});return me[q]()};void 0!==$e.serviceProps&&(0,c.ZB)(ie,$e.serviceProps),ee[q]=ie,Ve.prototype[q]=function(...me){return this._getService.bind(this,se).apply(this,$e.multipleInstances?me:[])}}return"PUBLIC"===$e.type?ee[q]:null},removeApp:function ge($e){delete z[$e]},useAsService:function Ke($e,se){return"serverAuth"===se?null:se},modularAPIs:k}};function Te($e){if(!(0,c.r3)(z,$e=$e||k._DEFAULT_ENTRY_NAME))throw re.create("no-app",{appName:$e});return z[$e]}return ee.default=ee,Object.defineProperty(ee,"apps",{get:function Me(){return Object.keys(z).map($e=>z[$e])}}),Te.App=Ve,ee}(te);return Ve.INTERNAL=Object.assign(Object.assign({},Ve.INTERNAL),{createFirebaseNamespace:ae,extendNamespace:function z(ee){(0,c.ZB)(Ve,ee)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Ve}(),U=new le.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){U.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ve=self.firebase.SDK_VERSION;Ve&&Ve.indexOf("LITE")>=0&&U.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Oe=j;!function Ie(Ve){(0,k.registerVersion)("@firebase/app-compat","0.1.17",Ve)}()},9681:(et,we,R)=>{"use strict";R.r(we),R.d(we,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>Sr,_DEFAULT_ENTRY_NAME:()=>Pn,_addComponent:()=>Qt,_addOrOverwriteComponent:()=>_r,_apps:()=>ot,_clearComponents:()=>Nt,_components:()=>Un,_getProvider:()=>ki,_registerComponent:()=>Wt,_removeServiceInstance:()=>zt,deleteApp:()=>Fi,getApp:()=>Gs,getApps:()=>ci,initializeApp:()=>Pi,onLog:()=>jn,registerVersion:()=>Wr,setLogLevel:()=>In});var c=R(5861),Y=R(4859),k=R(1877),le=R(2090);class te{constructor(Ye){this.container=Ye}getPlatformInfoString(){return this.container.getProviders().map(It=>{if(function pe(ft){const Ye=ft.getComponent();return"VERSION"===(null==Ye?void 0:Ye.type)}(It)){const ln=It.getImmediate();return`${ln.library}/${ln.version}`}return null}).filter(It=>It).join(" ")}}const re="@firebase/app",ae=new k.Yd("@firebase/app"),Pn="[DEFAULT]",nt={[re]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ot=new Map,Un=new Map;function Qt(ft,Ye){try{ft.container.addComponent(Ye)}catch(It){ae.debug(`Component ${Ye.name} failed to register with FirebaseApp ${ft.name}`,It)}}function _r(ft,Ye){ft.container.addOrOverwriteComponent(Ye)}function Wt(ft){const Ye=ft.name;if(Un.has(Ye))return ae.debug(`There were multiple attempts to register component ${Ye}.`),!1;Un.set(Ye,ft);for(const It of ot.values())Qt(It,ft);return!0}function ki(ft,Ye){return ft.container.getProvider(Ye)}function zt(ft,Ye,It=Pn){ki(ft,Ye).clearInstance(It)}function Nt(){Un.clear()}const ur=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Hs{constructor(Ye,It,ln){this._isDeleted=!1,this._options=Object.assign({},Ye),this._config=Object.assign({},It),this._name=It.name,this._automaticDataCollectionEnabled=It.automaticDataCollectionEnabled,this._container=ln,this.container.addComponent(new Y.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ye){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ye}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ye){this._isDeleted=Ye}checkDestroyed(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}}const Sr="9.6.6";function Pi(ft,Ye={}){"object"!=typeof Ye&&(Ye={name:Ye});const It=Object.assign({name:Pn,automaticDataCollectionEnabled:!1},Ye),ln=It.name;if("string"!=typeof ln||!ln)throw ur.create("bad-app-name",{appName:String(ln)});const yr=ot.get(ln);if(yr){if((0,le.vZ)(ft,yr.options)&&(0,le.vZ)(It,yr.config))return yr;throw ur.create("duplicate-app",{appName:ln})}const St=new Y.H0(ln);for(const at of Un.values())St.addComponent(at);const Je=new Hs(ft,It,St);return ot.set(ln,Je),Je}function Gs(ft=Pn){const Ye=ot.get(ft);if(!Ye)throw ur.create("no-app",{appName:ft});return Ye}function ci(){return Array.from(ot.values())}function Fi(ft){return dt.apply(this,arguments)}function dt(){return(dt=(0,c.Z)(function*(ft){const Ye=ft.name;ot.has(Ye)&&(ot.delete(Ye),yield Promise.all(ft.container.getProviders().map(It=>It.delete())),ft.isDeleted=!0)})).apply(this,arguments)}function Wr(ft,Ye,It){var ln;let yr=null!==(ln=nt[ft])&&void 0!==ln?ln:ft;It&&(yr+=`-${It}`);const St=yr.match(/\s|\//),Je=Ye.match(/\s|\//);if(St||Je){const at=[`Unable to register library "${yr}" with version "${Ye}":`];return St&&at.push(`library name "${yr}" contains illegal characters (whitespace or "/")`),St&&Je&&at.push("and"),Je&&at.push(`version name "${Ye}" contains illegal characters (whitespace or "/")`),void ae.warn(at.join(" "))}Wt(new Y.wA(`${yr}-version`,()=>({library:yr,version:Ye}),"VERSION"))}function jn(ft,Ye){if(null!==ft&&"function"!=typeof ft)throw ur.create("invalid-log-argument");(0,k.Am)(ft,Ye)}function In(ft){(0,k.Ub)(ft)}!function fo(ft){Wt(new Y.wA("platform-logger",Ye=>new te(Ye),"PRIVATE")),Wr(re,"0.7.16",ft),Wr(re,"0.7.16","esm2017"),Wr("fire-js","")}("")},4859:(et,we,R)=>{"use strict";R.d(we,{wA:()=>k,H0:()=>fe});var c=R(5861),Y=R(2090);class k{constructor(j,U,Q){this.name=j,this.instanceFactory=U,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const le="[DEFAULT]";class te{constructor(j,U){this.name=j,this.container=U,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const U=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(U)){const Q=new Y.BH;if(this.instancesDeferred.set(U,Q),this.isInitialized(U)||this.shouldAutoInitialize())try{const Be=this.getOrInitializeService({instanceIdentifier:U});Be&&Q.resolve(Be)}catch(Be){}}return this.instancesDeferred.get(U).promise}getImmediate(j){var U;const Q=this.normalizeInstanceIdentifier(null==j?void 0:j.identifier),Be=null!==(U=null==j?void 0:j.optional)&&void 0!==U&&U;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(Be)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(Ie){if(Be)return null;throw Ie}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function re(ae){return"EAGER"===ae.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:le})}catch(U){}for(const[U,Q]of this.instancesDeferred.entries()){const Be=this.normalizeInstanceIdentifier(U);try{const Ie=this.getOrInitializeService({instanceIdentifier:Be});Q.resolve(Ie)}catch(Ie){}}}}clearInstance(j=le){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,c.Z)(function*(){const U=Array.from(j.instances.values());yield Promise.all([...U.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...U.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=le){return this.instances.has(j)}getOptions(j=le){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:U={}}=j,Q=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Be=this.getOrInitializeService({instanceIdentifier:Q,options:U});for(const[Ie,Oe]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(Ie)&&Oe.resolve(Be);return Be}onInit(j,U){var Q;const Be=this.normalizeInstanceIdentifier(U),Ie=null!==(Q=this.onInitCallbacks.get(Be))&&void 0!==Q?Q:new Set;Ie.add(j),this.onInitCallbacks.set(Be,Ie);const Oe=this.instances.get(Be);return Oe&&j(Oe,Be),()=>{Ie.delete(j)}}invokeOnInitCallbacks(j,U){const Q=this.onInitCallbacks.get(U);if(Q)for(const Be of Q)try{Be(j,U)}catch(Ie){}}getOrInitializeService({instanceIdentifier:j,options:U={}}){let Q=this.instances.get(j);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(ae=j,ae===le?void 0:ae),options:U}),this.instances.set(j,Q),this.instancesOptions.set(j,U),this.invokeOnInitCallbacks(Q,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,Q)}catch(Be){}var ae;return Q||null}normalizeInstanceIdentifier(j=le){return this.component?this.component.multipleInstances?j:le:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const U=this.getProvider(j.name);if(U.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);U.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const U=new te(j,this);return this.providers.set(j,U),U}getProviders(){return Array.from(this.providers.values())}}},1877:(et,we,R)=>{"use strict";R.d(we,{in:()=>Y,Yd:()=>re,Ub:()=>fe,Am:()=>ae});const c=[];var Y=(()=>{return(j=Y||(Y={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",Y;var j})();const k={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},le=Y.INFO,te={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},pe=(j,U,...Q)=>{if(U<j.logLevel)return;const Be=(new Date).toISOString(),Ie=te[U];if(!Ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${U})`);console[Ie](`[${Be}]  ${j.name}:`,...Q)};class re{constructor(U){this.name=U,this._logLevel=le,this._logHandler=pe,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(U){if(!(U in Y))throw new TypeError(`Invalid value "${U}" assigned to \`logLevel\``);this._logLevel=U}setLogLevel(U){this._logLevel="string"==typeof U?k[U]:U}get logHandler(){return this._logHandler}set logHandler(U){if("function"!=typeof U)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=U}get userLogHandler(){return this._userLogHandler}set userLogHandler(U){this._userLogHandler=U}debug(...U){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...U),this._logHandler(this,Y.DEBUG,...U)}log(...U){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...U),this._logHandler(this,Y.VERBOSE,...U)}info(...U){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...U),this._logHandler(this,Y.INFO,...U)}warn(...U){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...U),this._logHandler(this,Y.WARN,...U)}error(...U){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...U),this._logHandler(this,Y.ERROR,...U)}}function fe(j){c.forEach(U=>{U.setLogLevel(j)})}function ae(j,U){for(const Q of c){let Be=null;U&&U.level&&(Be=k[U.level]),Q.userLogHandler=null===j?null:(Ie,Oe,...Ve)=>{const z=Ve.map(ee=>{if(null==ee)return null;if("string"==typeof ee)return ee;if("number"==typeof ee||"boolean"==typeof ee)return ee.toString();if(ee instanceof Error)return ee.message;try{return JSON.stringify(ee)}catch(ge){return null}}).filter(ee=>ee).join(" ");Oe>=(null!=Be?Be:Ie.logLevel)&&j({level:Y[Oe].toLowerCase(),message:z,args:Ve,type:Ie.name})}}}},5861:(et,we,R)=>{"use strict";function c(k,le,te,pe,re,fe,ae){try{var j=k[fe](ae),U=j.value}catch(Q){return void te(Q)}j.done?le(U):Promise.resolve(U).then(pe,re)}function Y(k){return function(){var le=this,te=arguments;return new Promise(function(pe,re){var fe=k.apply(le,te);function ae(U){c(fe,pe,re,ae,j,"next",U)}function j(U){c(fe,pe,re,ae,j,"throw",U)}ae(void 0)})}}R.d(we,{Z:()=>Y})}},et=>{et(et.s=1675)}]);