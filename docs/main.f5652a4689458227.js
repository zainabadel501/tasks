(self.webpackChunktask=self.webpackChunktask||[]).push([[179],{2011:(et,De,R)=>{"use strict";R.d(De,{hO:()=>Ve,xv:()=>ae,Dh:()=>fe,GT:()=>pe,cc:()=>Ie,on:()=>H,pX:()=>te});var c=R(5e3),Y=R(127),k=R(5813);et=R.hmd(et);const le=["ngOnDestroy"],te=(ee,me,Te,de={})=>new Proxy(ee,{get:(xe,Ce)=>Te.runOutsideAngular(()=>{var qe;if(ee[Ce])return(null===(qe=null==de?void 0:de.spy)||void 0===qe?void 0:qe.get)&&de.spy.get(Ce,ee[Ce]),ee[Ce];if(le.indexOf(Ce)>-1)return()=>{};const Ge=me.toPromise().then(se=>{const Z=se&&se[Ce];return"function"==typeof Z?Z.bind(se):Z&&Z.then?Z.then(ie=>Te.run(()=>ie)):Te.run(()=>Z)});return new Proxy(()=>{},{get:(se,Z)=>Ge[Z],apply:(se,Z,ie)=>Ge.then(_e=>{var oe;const Re=_e&&_e(...ie);return(null===(oe=null==de?void 0:de.spy)||void 0===oe?void 0:oe.apply)&&de.spy.apply(Ce,ie,Re),Re})})})}),pe=(ee,me)=>{me.forEach(Te=>{Object.getOwnPropertyNames(Te.prototype||Te).forEach(de=>{Object.defineProperty(ee.prototype,de,Object.getOwnPropertyDescriptor(Te.prototype||Te,de))})})};class re{constructor(me){return me}}const fe=new c.OlP("angularfire2.app.options"),ae=new c.OlP("angularfire2.app.name");function H(ee,me,Te){const xe="object"==typeof Te&&Te||{};xe.name=xe.name||"string"==typeof Te&&Te||"[DEFAULT]";const qe=Y.Z.apps.filter(Ge=>Ge&&Ge.name===xe.name)[0]||me.runOutsideAngular(()=>Y.Z.initializeApp(ee,xe));try{JSON.stringify(ee)!==JSON.stringify(qe.options)&&U("error",`${qe.name} Firebase App already initialized with different options${et.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ge){}return new re(qe)}const U=(ee,...me)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[ee](...me)},J={provide:re,useFactory:H,deps:[fe,c.R0b,[new c.FiY,ae]]};let Ve=(()=>{class ee{constructor(Te){Y.Z.registerVersion("angularfire",k.q4.full,"core"),Y.Z.registerVersion("angularfire",k.q4.full,"app-compat"),Y.Z.registerVersion("angular",c.q4F.full,Te.toString())}static initializeApp(Te,de){return{ngModule:ee,providers:[{provide:fe,useValue:Te},{provide:ae,useValue:de}]}}}return ee.\u0275fac=function(Te){return new(Te||ee)(c.LFG(c.Lbi))},ee.\u0275mod=c.oAB({type:ee}),ee.\u0275inj=c.cJS({providers:[J]}),ee})();function Ie(ee,me,Te,de,xe){const[,Ce,qe]=globalThis.\u0275AngularfireInstanceCache.find(Ge=>Ge[0]===ee)||[];if(Ce)return function Me(ee,me){try{return ee.toString()===me.toString()}catch(Te){return ee===me}}(xe,qe)||(z("error",`${me} was already initialized on the ${Te} Firebase App with different settings.${Le?" You may need to reload as Firebase is not HMR aware.":""}`),z("warn",{is:xe,was:qe})),Ce;{const Ge=de();return globalThis.\u0275AngularfireInstanceCache.push([ee,Ge,xe]),Ge}}const Le=!!et.hot,z=(ee,...me)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[ee](...me)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(et,De,R)=>{"use strict";R.d(De,{q4:()=>wo,iC:()=>qi,HU:()=>Tu,vb:()=>Kc,JM:()=>Hh});var c=R(5e3),Y=R(5867),k=R(5861),le=R(9681),te=R(2090),pe=R(4859),re=R(1877),fe=R(2940);const ae="@firebase/installations",H="0.5.5",J=`w:${H}`,Ve="FIS_v2",me=new te.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Te(E){return E instanceof te.ZR&&E.code.includes("request-failed")}function de({projectId:E}){return`https://firebaseinstallations.googleapis.com/v1/projects/${E}/installations`}function xe(E){return{token:E.token,requestStatus:2,expiresIn:_e(E.expiresIn),creationTime:Date.now()}}function Ce(E,C){return qe.apply(this,arguments)}function qe(){return(qe=(0,k.Z)(function*(E,C){const F=(yield C.json()).error;return me.create("request-failed",{requestName:E,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function Ge({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function se(E,{refreshToken:C}){const M=Ge(E);return M.append("Authorization",function oe(E){return`${Ve} ${E}`}(C)),M}function Z(E){return ie.apply(this,arguments)}function ie(){return(ie=(0,k.Z)(function*(E){const C=yield E();return C.status>=500&&C.status<600?E():C})).apply(this,arguments)}function _e(E){return Number(E.replace("s","000"))}function Re(E,C){return he.apply(this,arguments)}function he(){return(he=(0,k.Z)(function*(E,{fid:C}){const M=de(E),ne={method:"POST",headers:Ge(E),body:JSON.stringify({fid:C,authVersion:Ve,appId:E.appId,sdkVersion:J})},Ae=yield Z(()=>fetch(M,ne));if(Ae.ok){const Fe=yield Ae.json();return{fid:Fe.fid||C,registrationStatus:2,refreshToken:Fe.refreshToken,authToken:xe(Fe.authToken)}}throw yield Ce("Create Installation",Ae)})).apply(this,arguments)}function mt(E){return new Promise(C=>{setTimeout(C,E)})}const Mn=/^[cdef][\w-]{21}$/;function st(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const M=function kn(E){return function Ut(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return Mn.test(M)?M:""}catch(E){return""}}function Zt(E){return`${E.appName}!${E.appId}`}const dr=new Map;function $t(E,C){const M=Zt(E);Mt(M,C),function os(E,C){const M=function ks(){return!ir&&"BroadcastChannel"in self&&(ir=new BroadcastChannel("[Firebase] FID Change"),ir.onmessage=E=>{Mt(E.data.key,E.data.fid)}),ir}();M&&M.postMessage({key:E,fid:C}),function Dr(){0===dr.size&&ir&&(ir.close(),ir=null)}()}(M,C)}function Mt(E,C){const M=dr.get(E);if(M)for(const F of M)F(C)}let ir=null;const li="firebase-installations-store";let Vi=null;function dt(){return Vi||(Vi=(0,fe.openDb)("firebase-installations-database",1,E=>{0===E.oldVersion&&E.createObjectStore(li)})),Vi}function Ur(E,C){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,k.Z)(function*(E,C){const M=Zt(E),q=(yield dt()).transaction(li,"readwrite"),ne=q.objectStore(li),Ae=yield ne.get(M);return yield ne.put(C,M),yield q.complete,(!Ae||Ae.fid!==C.fid)&&$t(E,C.fid),C})).apply(this,arguments)}function Tn(E){return so.apply(this,arguments)}function so(){return(so=(0,k.Z)(function*(E){const C=Zt(E),F=(yield dt()).transaction(li,"readwrite");yield F.objectStore(li).delete(C),yield F.complete})).apply(this,arguments)}function ft(E,C){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,k.Z)(function*(E,C){const M=Zt(E),q=(yield dt()).transaction(li,"readwrite"),ne=q.objectStore(li),Ae=yield ne.get(M),Fe=C(Ae);return void 0===Fe?yield ne.delete(M):yield ne.put(Fe,M),yield q.complete,Fe&&(!Ae||Ae.fid!==Fe.fid)&&$t(E,Fe.fid),Fe})).apply(this,arguments)}function St(E){return sn.apply(this,arguments)}function sn(){return(sn=(0,k.Z)(function*(E){let C;const M=yield ft(E,F=>{const q=hr(F),ne=At(E,q);return C=ne.registrationPromise,ne.installationEntry});return""===M.fid?{installationEntry:yield C}:{installationEntry:M,registrationPromise:C}})).apply(this,arguments)}function hr(E){return sa(E||{fid:st(),registrationStatus:0})}function At(E,C){if(0===C.registrationStatus){if(!navigator.onLine)return{installationEntry:C,registrationPromise:Promise.reject(me.create("app-offline"))};const M={fid:C.fid,registrationStatus:1,registrationTime:Date.now()},F=function Ye(E,C){return ot.apply(this,arguments)}(E,M);return{installationEntry:M,registrationPromise:F}}return 1===C.registrationStatus?{installationEntry:C,registrationPromise:Ti(E)}:{installationEntry:C}}function ot(){return(ot=(0,k.Z)(function*(E,C){try{return Ur(E,yield Re(E,C))}catch(M){throw Te(M)&&409===M.customData.serverCode?yield Tn(E):yield Ur(E,{fid:C.fid,registrationStatus:0}),M}})).apply(this,arguments)}function Ti(E){return as.apply(this,arguments)}function as(){return(as=(0,k.Z)(function*(E){let C=yield Rt(E);for(;1===C.registrationStatus;)yield mt(100),C=yield Rt(E);if(0===C.registrationStatus){const{installationEntry:M,registrationPromise:F}=yield St(E);return F||M}return C})).apply(this,arguments)}function Rt(E){return ft(E,C=>{if(!C)throw me.create("installation-not-found");return sa(C)})}function sa(E){return function jr(E){return 1===E.registrationStatus&&E.registrationTime+1e4<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function ui(E,C){return B.apply(this,arguments)}function B(){return(B=(0,k.Z)(function*({appConfig:E,platformLoggerProvider:C},M){const F=G(E,M),q=se(E,M),ne=C.getImmediate({optional:!0});ne&&q.append("x-firebase-client",ne.getPlatformInfoString());const Fe={method:"POST",headers:q,body:JSON.stringify({installation:{sdkVersion:J}})},We=yield Z(()=>fetch(F,Fe));if(We.ok)return xe(yield We.json());throw yield Ce("Generate Auth Token",We)})).apply(this,arguments)}function G(E,{fid:C}){return`${de(E)}/${C}/authTokens:generate`}function $(E){return be.apply(this,arguments)}function be(){return(be=(0,k.Z)(function*(E,C=!1){let M;const F=yield ft(E.appConfig,ne=>{if(!on(ne))throw me.create("not-registered");const Ae=ne.authToken;if(!C&&Hr(Ae))return ne;if(1===Ae.requestStatus)return M=X(E,C),ne;{if(!navigator.onLine)throw me.create("app-offline");const Fe=Fn(ne);return M=Kt(E,Fe),Fe}});return M?yield M:F.authToken})).apply(this,arguments)}function X(E,C){return $e.apply(this,arguments)}function $e(){return($e=(0,k.Z)(function*(E,C){let M=yield ht(E.appConfig);for(;1===M.authToken.requestStatus;)yield mt(100),M=yield ht(E.appConfig);const F=M.authToken;return 0===F.requestStatus?$(E,C):F})).apply(this,arguments)}function ht(E){return ft(E,C=>{if(!on(C))throw me.create("not-registered");return function Er(E){return 1===E.requestStatus&&E.requestTime+1e4<Date.now()}(C.authToken)?Object.assign(Object.assign({},C),{authToken:{requestStatus:0}}):C})}function Kt(E,C){return rn.apply(this,arguments)}function rn(){return(rn=(0,k.Z)(function*(E,C){try{const M=yield ui(E,C),F=Object.assign(Object.assign({},C),{authToken:M});return yield Ur(E.appConfig,F),M}catch(M){if(!Te(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const F=Object.assign(Object.assign({},C),{authToken:{requestStatus:0}});yield Ur(E.appConfig,F)}else yield Tn(E.appConfig);throw M}})).apply(this,arguments)}function on(E){return void 0!==E&&2===E.registrationStatus}function Hr(E){return 2===E.requestStatus&&!function Ct(E){const C=Date.now();return C<E.creationTime||E.creationTime+E.expiresIn<C+36e5}(E)}function Fn(E){const C={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:C})}function oa(){return(oa=(0,k.Z)(function*(E){const C=E,{installationEntry:M,registrationPromise:F}=yield St(C.appConfig);return F?F.catch(console.error):$(C).catch(console.error),M.fid})).apply(this,arguments)}function aa(){return(aa=(0,k.Z)(function*(E,C=!1){const M=E;return yield Ln(M.appConfig),(yield $(M,C)).token})).apply(this,arguments)}function Ln(E){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,k.Z)(function*(E){const{registrationPromise:C}=yield St(E);C&&(yield C)})).apply(this,arguments)}function Ro(E){return me.create("missing-app-config-values",{valueName:E})}const $r="installations",wt=E=>{const C=E.getProvider("app").getImmediate(),M=function sr(E){if(!E||!E.options)throw Ro("App Configuration");if(!E.name)throw Ro("App Name");const C=["projectId","apiKey","appId"];for(const M of C)if(!E.options[M])throw Ro(M);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(C);return{app:C,appConfig:M,platformLoggerProvider:(0,le._getProvider)(C,"platform-logger"),_delete:()=>Promise.resolve()}},en=E=>{const C=E.getProvider("app").getImmediate(),M=(0,le._getProvider)(C,$r).getImmediate();return{getId:()=>function sl(E){return oa.apply(this,arguments)}(M),getToken:q=>function ol(E){return aa.apply(this,arguments)}(M,q)}};(function Cr(){(0,le._registerComponent)(new pe.wA($r,wt,"PUBLIC")),(0,le._registerComponent)(new pe.wA("installations-internal",en,"PRIVATE"))})(),(0,le.registerVersion)(ae,H),(0,le.registerVersion)(ae,H,"esm2017");const us="@firebase/remote-config",gn=new te.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Lo{constructor(C,M,F,q){this.client=C,this.storage=M,this.storageCache=F,this.logger=q}isCachedDataFresh(C,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-M,q=F<=C;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${C}. Is cache hit: ${q}.`),q}fetch(C){var M=this;return(0,k.Z)(function*(){const[F,q]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(q&&M.isCachedDataFresh(C.cacheMaxAgeMillis,F))return q;C.eTag=q&&q.eTag;const ne=yield M.client.fetch(C),Ae=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ne.status&&Ae.push(M.storage.setLastSuccessfulFetchResponse(ne)),yield Promise.all(Ae),ne})()}}function ll(E=navigator){return E.languages&&E.languages[0]||E.language}class On{constructor(C,M,F,q,ne,Ae){this.firebaseInstallations=C,this.sdkVersion=M,this.namespace=F,this.projectId=q,this.apiKey=ne,this.appId=Ae}fetch(C){var M=this;return(0,k.Z)(function*(){const[F,q]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),Ae=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,Fe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":C.eTag||"*"},We={sdk_version:M.sdkVersion,app_instance_id:F,app_instance_id_token:q,app_id:M.appId,language_code:ll()},Ot={method:"POST",headers:Fe,body:JSON.stringify(We)},Vt=fetch(Ae,Ot),Hn=new Promise((Ts,xr)=>{C.signal.addEventListener(()=>{const Cl=new Error("The operation was aborted.");Cl.name="AbortError",xr(Cl)})});let Qn;try{yield Promise.race([Vt,Hn]),Qn=yield Vt}catch(Ts){let xr="fetch-client-network";throw"AbortError"===Ts.name&&(xr="fetch-timeout"),gn.create(xr,{originalErrorMessage:Ts.message})}let cn=Qn.status;const Zs=Qn.headers.get("ETag")||void 0;let Or,gr;if(200===Qn.status){let Ts;try{Ts=yield Qn.json()}catch(xr){throw gn.create("fetch-client-parse",{originalErrorMessage:xr.message})}Or=Ts.entries,gr=Ts.state}if("INSTANCE_STATE_UNSPECIFIED"===gr?cn=500:"NO_CHANGE"===gr?cn=304:("NO_TEMPLATE"===gr||"EMPTY_CONFIG"===gr)&&(Or={}),304!==cn&&200!==cn)throw gn.create("fetch-status",{httpStatus:cn});return{status:cn,eTag:Zs,config:Or}})()}}class ds{constructor(C,M){this.client=C,this.storage=M}fetch(C){var M=this;return(0,k.Z)(function*(){const F=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(C,F)})()}attemptFetch(C,{throttleEndTimeMillis:M,backoffCount:F}){var q=this;return(0,k.Z)(function*(){yield function Dc(E,C){return new Promise((M,F)=>{const q=Math.max(C-Date.now(),0),ne=setTimeout(M,q);E.addEventListener(()=>{clearTimeout(ne),F(gn.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(C.signal,M);try{const ne=yield q.client.fetch(C);return yield q.storage.deleteThrottleMetadata(),ne}catch(ne){if(!function rg(E){if(!(E instanceof te.ZR&&E.customData))return!1;const C=Number(E.customData.httpStatus);return 429===C||500===C||503===C||504===C}(ne))throw ne;const Ae={throttleEndTimeMillis:Date.now()+(0,te.$s)(F),backoffCount:F+1};return yield q.storage.setThrottleMetadata(Ae),q.attemptFetch(C,Ae)}})()}}class sg{constructor(C,M,F,q,ne){this.app=C,this._client=M,this._storageCache=F,this._storage=q,this._logger=ne,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ua(E,C){const M=E.target.error||void 0;return gn.create(C,{originalErrorMessage:M&&M.message})}const Vo="app_namespace_store";class Cc{constructor(C,M,F,q=function ag(){return new Promise((E,C)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=F=>{C(ua(F,"storage-open"))},M.onsuccess=F=>{E(F.target.result)},M.onupgradeneeded=F=>{0===F.oldVersion&&F.target.result.createObjectStore(Vo,{keyPath:"compositeKey"})}}catch(M){C(gn.create("storage-open",{originalErrorMessage:M}))}})}()){this.appId=C,this.appName=M,this.namespace=F,this.openDbPromise=q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(C){return this.set("last_fetch_status",C)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(C){return this.set("last_successful_fetch_timestamp_millis",C)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(C){return this.set("last_successful_fetch_response",C)}getActiveConfig(){return this.get("active_config")}setActiveConfig(C){return this.set("active_config",C)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(C){return this.set("active_config_etag",C)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(C){return this.set("throttle_metadata",C)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(C){var M=this;return(0,k.Z)(function*(){const F=yield M.openDbPromise;return new Promise((q,ne)=>{const Fe=F.transaction([Vo],"readonly").objectStore(Vo),We=M.createCompositeKey(C);try{const Ot=Fe.get(We);Ot.onerror=Vt=>{ne(ua(Vt,"storage-get"))},Ot.onsuccess=Vt=>{const Hn=Vt.target.result;q(Hn?Hn.value:void 0)}}catch(Ot){ne(gn.create("storage-get",{originalErrorMessage:Ot&&Ot.message}))}})})()}set(C,M){var F=this;return(0,k.Z)(function*(){const q=yield F.openDbPromise;return new Promise((ne,Ae)=>{const We=q.transaction([Vo],"readwrite").objectStore(Vo),Ot=F.createCompositeKey(C);try{const Vt=We.put({compositeKey:Ot,value:M});Vt.onerror=Hn=>{Ae(ua(Hn,"storage-set"))},Vt.onsuccess=()=>{ne()}}catch(Vt){Ae(gn.create("storage-set",{originalErrorMessage:Vt&&Vt.message}))}})})()}delete(C){var M=this;return(0,k.Z)(function*(){const F=yield M.openDbPromise;return new Promise((q,ne)=>{const Fe=F.transaction([Vo],"readwrite").objectStore(Vo),We=M.createCompositeKey(C);try{const Ot=Fe.delete(We);Ot.onerror=Vt=>{ne(ua(Vt,"storage-delete"))},Ot.onsuccess=()=>{q()}}catch(Ot){ne(gn.create("storage-delete",{originalErrorMessage:Ot&&Ot.message}))}})})()}createCompositeKey(C){return[this.appId,this.appName,this.namespace,C].join()}}class Bo{constructor(C){this.storage=C}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var C=this;return(0,k.Z)(function*(){const M=C.storage.getLastFetchStatus(),F=C.storage.getLastSuccessfulFetchTimestampMillis(),q=C.storage.getActiveConfig(),ne=yield M;ne&&(C.lastFetchStatus=ne);const Ae=yield F;Ae&&(C.lastSuccessfulFetchTimestampMillis=Ae);const Fe=yield q;Fe&&(C.activeConfig=Fe)})()}setLastFetchStatus(C){return this.lastFetchStatus=C,this.storage.setLastFetchStatus(C)}setLastSuccessfulFetchTimestampMillis(C){return this.lastSuccessfulFetchTimestampMillis=C,this.storage.setLastSuccessfulFetchTimestampMillis(C)}setActiveConfig(C){return this.activeConfig=C,this.storage.setActiveConfig(C)}}function N_(){return ca.apply(this,arguments)}function ca(){return(ca=(0,k.Z)(function*(){if(!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch(E){return!1}})).apply(this,arguments)}!function lg(){(0,le._registerComponent)(new pe.wA("remote-config",function E(C,{instanceIdentifier:M}){const F=C.getProvider("app").getImmediate(),q=C.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw gn.create("registration-window");if(!(0,te.hl)())throw gn.create("indexed-db-unavailable");const{projectId:ne,apiKey:Ae,appId:Fe}=F.options;if(!ne)throw gn.create("registration-project-id");if(!Ae)throw gn.create("registration-api-key");if(!Fe)throw gn.create("registration-app-id");const We=new Cc(Fe,F.name,M=M||"firebase"),Ot=new Bo(We),Vt=new re.Yd(us);Vt.logLevel=re.in.ERROR;const Hn=new On(q,le.SDK_VERSION,M,ne,Ae,Fe),Qn=new ds(Hn,We),cn=new Lo(Qn,We,Ot,Vt),Zs=new sg(F,cn,Ot,We,Vt);return function zt(E){const C=(0,te.m9)(E);C._initializePromise||(C._initializePromise=C._storageCache.loadFromStorage().then(()=>{C._isInitializationComplete=!0}))}(Zs),Zs},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(us,"0.3.4"),(0,le.registerVersion)(us,"0.3.4","esm2017")}();const Bs="/firebase-messaging-sw.js",hi="/firebase-cloud-messaging-push-scope",ho="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",jo="google.c.a.c_id",Ic="google.c.a.c_l",ug="google.c.a.ts",In="google.c.a.e";var fs=(()=>{return(E=fs||(fs={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",fs;var E})();function fi(E){const C=new Uint8Array(E);return btoa(String.fromCharCode(...C)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ac(E){const M=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(M),q=new Uint8Array(F.length);for(let ne=0;ne<F.length;++ne)q[ne]=F.charCodeAt(ne);return q}const or="fcm_token_details_db",Nc="fcm_token_object_Store";function Mc(E){return ul.apply(this,arguments)}function ul(){return ul=(0,k.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ne=>ne.name).includes(or))return null;let C=null;return(yield(0,fe.openDb)(or,5,function(){var F=(0,k.Z)(function*(q){var ne;if(q.oldVersion<2||!q.objectStoreNames.contains(Nc))return;const Ae=q.transaction.objectStore(Nc),Fe=yield Ae.index("fcmSenderId").get(E);if(yield Ae.clear(),Fe)if(2===q.oldVersion){const We=Fe;if(!We.auth||!We.p256dh||!We.endpoint)return;C={token:We.fcmToken,createTime:null!==(ne=We.createTime)&&void 0!==ne?ne:Date.now(),subscriptionOptions:{auth:We.auth,p256dh:We.p256dh,endpoint:We.endpoint,swScope:We.swScope,vapidKey:"string"==typeof We.vapidKey?We.vapidKey:fi(We.vapidKey)}}}else if(3===q.oldVersion){const We=Fe;C={token:We.fcmToken,createTime:We.createTime,subscriptionOptions:{auth:fi(We.auth),p256dh:fi(We.p256dh),endpoint:We.endpoint,swScope:We.swScope,vapidKey:fi(We.vapidKey)}}}else if(4===q.oldVersion){const We=Fe;C={token:We.fcmToken,createTime:We.createTime,subscriptionOptions:{auth:fi(We.auth),p256dh:fi(We.p256dh),endpoint:We.endpoint,swScope:We.swScope,vapidKey:fi(We.vapidKey)}}}});return function(q){return F.apply(this,arguments)}}())).close(),yield(0,fe.deleteDb)(or),yield(0,fe.deleteDb)("fcm_vapid_details_db"),yield(0,fe.deleteDb)("undefined"),cl(C)?C:null}),ul.apply(this,arguments)}function cl(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:C}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof C.auth&&C.auth.length>0&&"string"==typeof C.p256dh&&C.p256dh.length>0&&"string"==typeof C.endpoint&&C.endpoint.length>0&&"string"==typeof C.swScope&&C.swScope.length>0&&"string"==typeof C.vapidKey&&C.vapidKey.length>0}const ps="firebase-messaging-store";let au=null;function Yt(){return au||(au=(0,fe.openDb)("firebase-messaging-database",1,E=>{0===E.oldVersion&&E.createObjectStore(ps)})),au}function da(E){return Us.apply(this,arguments)}function Us(){return(Us=(0,k.Z)(function*(E){const C=Zn(E),F=yield(yield Yt()).transaction(ps).objectStore(ps).get(C);if(F)return F;{const q=yield Mc(E.appConfig.senderId);if(q)return yield qt(E,q),q}})).apply(this,arguments)}function qt(E,C){return hl.apply(this,arguments)}function hl(){return(hl=(0,k.Z)(function*(E,C){const M=Zn(E),q=(yield Yt()).transaction(ps,"readwrite");return yield q.objectStore(ps).put(C,M),yield q.complete,C})).apply(this,arguments)}function ha(E){return fo.apply(this,arguments)}function fo(){return(fo=(0,k.Z)(function*(E){const C=Zn(E),F=(yield Yt()).transaction(ps,"readwrite");yield F.objectStore(ps).delete(C),yield F.complete})).apply(this,arguments)}function Zn({appConfig:E}){return E.appId}const mn=new te.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function gs(E,C){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,k.Z)(function*(E,C){const M=yield Hs(E),F=fa(C),q={method:"POST",headers:M,body:JSON.stringify(F)};let ne;try{ne=yield(yield fetch(js(E.appConfig),q)).json()}catch(Ae){throw mn.create("token-subscribe-failed",{errorInfo:Ae})}if(ne.error)throw mn.create("token-subscribe-failed",{errorInfo:ne.error.message});if(!ne.token)throw mn.create("token-subscribe-no-token");return ne.token})).apply(this,arguments)}function Ho(E,C){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,k.Z)(function*(E,C){const M=yield Hs(E),F=fa(C.subscriptionOptions),q={method:"PATCH",headers:M,body:JSON.stringify(F)};let ne;try{ne=yield(yield fetch(`${js(E.appConfig)}/${C.token}`,q)).json()}catch(Ae){throw mn.create("token-update-failed",{errorInfo:Ae})}if(ne.error)throw mn.create("token-update-failed",{errorInfo:ne.error.message});if(!ne.token)throw mn.create("token-update-no-token");return ne.token})).apply(this,arguments)}function lu(E,C){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,k.Z)(function*(E,C){const F={method:"DELETE",headers:yield Hs(E)};try{const ne=yield(yield fetch(`${js(E.appConfig)}/${C}`,F)).json();if(ne.error)throw mn.create("token-unsubscribe-failed",{errorInfo:ne.error.message})}catch(q){throw mn.create("token-unsubscribe-failed",{errorInfo:q})}})).apply(this,arguments)}function js({projectId:E}){return`https://fcmregistrations.googleapis.com/v1/projects/${E}/registrations`}function Hs(E){return at.apply(this,arguments)}function at(){return(at=(0,k.Z)(function*({appConfig:E,installations:C}){const M=yield C.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function fa({p256dh:E,auth:C,endpoint:M,vapidKey:F}){const q={web:{endpoint:M,auth:C,p256dh:E}};return F!==ho&&(q.web.applicationPubKey=F),q}const pa=6048e5;function Oc(E){return ga.apply(this,arguments)}function ga(){return(ga=(0,k.Z)(function*(E){const C=yield _n(E.swRegistration,E.vapidKey),M={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:C.endpoint,auth:fi(C.getKey("auth")),p256dh:fi(C.getKey("p256dh"))},F=yield da(E.firebaseDependencies);if(F){if(ya(F.subscriptionOptions,M))return Date.now()>=F.createTime+pa?Oh(E,{token:F.token,createTime:Date.now(),subscriptionOptions:M}):F.token;try{yield lu(E.firebaseDependencies,F.token)}catch(q){console.warn(q)}return Nt(E.firebaseDependencies,M)}return Nt(E.firebaseDependencies,M)})).apply(this,arguments)}function uu(E){return ma.apply(this,arguments)}function ma(){return(ma=(0,k.Z)(function*(E){const C=yield da(E.firebaseDependencies);C&&(yield lu(E.firebaseDependencies,C.token),yield ha(E.firebaseDependencies));const M=yield E.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function Oh(E,C){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,k.Z)(function*(E,C){try{const M=yield Ho(E.firebaseDependencies,C),F=Object.assign(Object.assign({},C),{token:M,createTime:Date.now()});return yield qt(E.firebaseDependencies,F),M}catch(M){throw yield uu(E),M}})).apply(this,arguments)}function Nt(E,C){return _a.apply(this,arguments)}function _a(){return(_a=(0,k.Z)(function*(E,C){const F={token:yield gs(E,C),createTime:Date.now(),subscriptionOptions:C};return yield qt(E,F),F.token})).apply(this,arguments)}function _n(E,C){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,k.Z)(function*(E,C){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ac(C)})})).apply(this,arguments)}function ya(E,C){return C.vapidKey===E.vapidKey&&C.endpoint===E.endpoint&&C.auth===E.auth&&C.p256dh===E.p256dh}function Ir(E){const C={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function cu(E,C){if(!C.notification)return;E.notification={};const M=C.notification.title;M&&(E.notification.title=M);const F=C.notification.body;F&&(E.notification.body=F);const q=C.notification.image;q&&(E.notification.image=q)}(C,E),function du(E,C){!C.data||(E.data=C.data)}(C,E),function xc(E,C){if(!C.fcmOptions)return;E.fcmOptions={};const M=C.fcmOptions.link;M&&(E.fcmOptions.link=M);const F=C.fcmOptions.analytics_label;F&&(E.fcmOptions.analyticsLabel=F)}(C,E),C}function Rc(E){return"object"==typeof E&&!!E&&jo in E}function va(E,C){const M=[];for(let F=0;F<E.length;F++)M.push(E.charAt(F)),F<C.length&&M.push(C.charAt(F));return M.join("")}function Un(E){return mn.create("missing-app-config-values",{valueName:E})}va("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),va("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ii{constructor(C,M,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const q=function Go(E){if(!E||!E.options)throw Un("App Configuration Object");if(!E.name)throw Un("App Name");const C=["projectId","apiKey","appId","messagingSenderId"],{options:M}=E;for(const F of C)if(!M[F])throw Un(F);return{appName:E.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(C);this.firebaseDependencies={app:C,appConfig:q,installations:M,analyticsProvider:F}}_delete(){return Promise.resolve()}}function hu(E){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,k.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(Bs,{scope:hi}),E.swRegistration.update().catch(()=>{})}catch(C){throw mn.create("failed-service-worker-registration",{browserErrorMessage:C.message})}})).apply(this,arguments)}function ms(E,C){return ba.apply(this,arguments)}function ba(){return(ba=(0,k.Z)(function*(E,C){if(!C&&!E.swRegistration&&(yield hu(E)),C||!E.swRegistration){if(!(C instanceof ServiceWorkerRegistration))throw mn.create("invalid-sw-registration");E.swRegistration=C}})).apply(this,arguments)}function kc(E,C){return wa.apply(this,arguments)}function wa(){return(wa=(0,k.Z)(function*(E,C){C?E.vapidKey=C:E.vapidKey||(E.vapidKey=ho)})).apply(this,arguments)}function po(){return(po=(0,k.Z)(function*(E,C){if(!navigator)throw mn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw mn.create("permission-blocked");return yield kc(E,null==C?void 0:C.vapidKey),yield ms(E,null==C?void 0:C.serviceWorkerRegistration),Oc(E)})).apply(this,arguments)}function fu(E,C,M){return Da.apply(this,arguments)}function Da(){return(Da=(0,k.Z)(function*(E,C,M){const F=pu(C);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:M[jo],message_name:M[Ic],message_time:M[ug],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function pu(E){switch(E){case fs.NOTIFICATION_CLICKED:return"notification_open";case fs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function pl(){return(pl=(0,k.Z)(function*(E,C){const M=C.data;if(!M.isFirebaseMessaging)return;E.onMessageHandler&&M.messageType===fs.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(Ir(M)):E.onMessageHandler.next(Ir(M)));const F=M.data;Rc(F)&&"1"===F[In]&&(yield fu(E,M.messageType,F))})).apply(this,arguments)}const go="@firebase/messaging",mo=E=>{const C=new Ii(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function cg(E,C){return pl.apply(this,arguments)}(C,M)),C},Fc=E=>{const C=E.getProvider("messaging").getImmediate();return{getToken:F=>function Pc(E,C){return po.apply(this,arguments)}(C,F)}};function $o(){return ji.apply(this,arguments)}function ji(){return(ji=(0,k.Z)(function*(){try{yield(0,te.eu)()}catch(E){return!1}return"undefined"!=typeof window&&(0,te.hl)()&&(0,te.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function xh(){(0,le._registerComponent)(new pe.wA("messaging",mo,"PUBLIC")),(0,le._registerComponent)(new pe.wA("messaging-internal",Fc,"PRIVATE")),(0,le.registerVersion)(go,"0.9.8"),(0,le.registerVersion)(go,"0.9.8","esm2017")}();const Lc="analytics",mu="firebase_id",_u="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",gl="https://www.googletagmanager.com/gtag/js",Jn=new re.Yd("@firebase/analytics");function Ph(E){return Promise.all(E.map(C=>C.catch(M=>M)))}function vs(E,C){const M=document.createElement("script");M.src=`${gl}?l=${E}&id=${C}`,M.async=!0,document.head.appendChild(M)}function dg(E,C,M,F,q,ne){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,k.Z)(function*(E,C,M,F,q,ne){const Ae=F[q];try{if(Ae)yield C[Ae];else{const We=(yield Ph(M)).find(Ot=>Ot.measurementId===q);We&&(yield C[We.appId])}}catch(Fe){Jn.error(Fe)}E("config",q,ne)})).apply(this,arguments)}function Ca(E,C,M,F,q){return ml.apply(this,arguments)}function ml(){return(ml=(0,k.Z)(function*(E,C,M,F,q){try{let ne=[];if(q&&q.send_to){let Ae=q.send_to;Array.isArray(Ae)||(Ae=[Ae]);const Fe=yield Ph(M);for(const We of Ae){const Ot=Fe.find(Hn=>Hn.measurementId===We),Vt=Ot&&C[Ot.appId];if(!Vt){ne=[];break}ne.push(Vt)}}0===ne.length&&(ne=Object.values(C)),yield Promise.all(ne),E("event",F,q||{})}catch(ne){Jn.error(ne)}})).apply(this,arguments)}function Sn(){const E=window.document.getElementsByTagName("script");for(const C of Object.values(E))if(C.src&&C.src.includes(gl))return C;return null}const pr=new te.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),$s=new class _l{constructor(C={},M=1e3){this.throttleMetadata=C,this.intervalMillis=M}getThrottleMetadata(C){return this.throttleMetadata[C]}setThrottleMetadata(C,M){this.throttleMetadata[C]=M}deleteThrottleMetadata(C){delete this.throttleMetadata[C]}};function Vc(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function kt(E){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,k.Z)(function*(E){var C;const{appId:M,apiKey:F}=E,q={method:"GET",headers:Vc(F)},ne=_u.replace("{app-id}",M),Ae=yield fetch(ne,q);if(200!==Ae.status&&304!==Ae.status){let Fe="";try{const We=yield Ae.json();(null===(C=We.error)||void 0===C?void 0:C.message)&&(Fe=We.error.message)}catch(We){}throw pr.create("config-fetch-failed",{httpStatus:Ae.status,responseMessage:Fe})}return Ae.json()})).apply(this,arguments)}function Jt(E){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,k.Z)(function*(E,C=$s,M){const{appId:F,apiKey:q,measurementId:ne}=E.options;if(!F)throw pr.create("no-app-id");if(!q){if(ne)return{measurementId:ne,appId:F};throw pr.create("no-api-key")}const Ae=C.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Fe=new Lh;return setTimeout((0,k.Z)(function*(){Fe.abort()}),void 0!==M?M:6e4),_o({appId:F,apiKey:q,measurementId:ne},Ae,Fe,C)})).apply(this,arguments)}function _o(E,C,M){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,k.Z)(function*(E,{throttleEndTimeMillis:C,backoffCount:M},F,q=$s){const{appId:ne,measurementId:Ae}=E;try{yield yl(F,C)}catch(Fe){if(Ae)return Jn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ae} provided in the "measurementId" field in the local Firebase config. [${Fe.message}]`),{appId:ne,measurementId:Ae};throw Fe}try{const Fe=yield kt(E);return q.deleteThrottleMetadata(ne),Fe}catch(Fe){if(!vl(Fe)){if(q.deleteThrottleMetadata(ne),Ae)return Jn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ae} provided in the "measurementId" field in the local Firebase config. [${Fe.message}]`),{appId:ne,measurementId:Ae};throw Fe}const We=503===Number(Fe.customData.httpStatus)?(0,te.$s)(M,q.intervalMillis,30):(0,te.$s)(M,q.intervalMillis),Ot={throttleEndTimeMillis:Date.now()+We,backoffCount:M+1};return q.setThrottleMetadata(ne,Ot),Jn.debug(`Calling attemptFetch again in ${We} millis`),_o(E,Ot,F,q)}})).apply(this,arguments)}function yl(E,C){return new Promise((M,F)=>{const q=Math.max(C-Date.now(),0),ne=setTimeout(M,q);E.addEventListener(()=>{clearTimeout(ne),F(pr.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}function vl(E){if(!(E instanceof te.ZR&&E.customData))return!1;const C=Number(E.customData.httpStatus);return 429===C||500===C||503===C||504===C}class Lh{constructor(){this.listeners=[]}addEventListener(C){this.listeners.push(C)}abort(){this.listeners.forEach(C=>C())}}function Ia(){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,k.Z)(function*(){if(!(0,te.hl)())return Jn.warn(pr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,te.eu)()}catch(E){return Jn.warn(pr.create("indexeddb-unavailable",{errorInfo:E}).message),!1}return!0})).apply(this,arguments)}function Ws(){return(Ws=(0,k.Z)(function*(E,C,M,F,q,ne,Ae){var Fe;const We=Jt(E);We.then(cn=>{M[cn.measurementId]=cn.appId,E.options.measurementId&&cn.measurementId!==E.options.measurementId&&Jn.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${cn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(cn=>Jn.error(cn)),C.push(We);const Ot=Ia().then(cn=>{if(cn)return F.getId()}),[Vt,Hn]=yield Promise.all([We,Ot]);Sn()||vs(ne,Vt.measurementId),q("js",new Date);const Qn=null!==(Fe=null==Ae?void 0:Ae.config)&&void 0!==Fe?Fe:{};return Qn.origin="firebase",Qn.update=!0,null!=Hn&&(Qn[mu]=Hn),q("config",Vt.measurementId,Qn),Vt.measurementId})).apply(this,arguments)}class Sa{constructor(C){this.app=C}_delete(){return delete Ar[this.app.options.appId],Promise.resolve()}}let Ar={},vu=[];const Aa={};let Na,An,zs="dataLayer",Gi=!1;function jc(E,C,M){!function Si(){const E=[];if((0,te.ru)()&&E.push("This is a browser extension environment."),(0,te.zI)()||E.push("Cookies are not available."),E.length>0){const C=E.map((F,q)=>`(${q+1}) ${F}`).join(" "),M=pr.create("invalid-analytics-context",{errorInfo:C});Jn.warn(M.message)}}();const F=E.options.appId;if(!F)throw pr.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw pr.create("no-api-key");Jn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ar[F])throw pr.create("already-exists",{id:F});if(!Gi){!function Wo(E){let C=[];Array.isArray(window[E])?C=window[E]:window[E]=C}(zs);const{wrappedGtag:ne,gtagCore:Ae}=function hg(E,C,M,F,q){let ne=function(...Ae){window[F].push(arguments)};return window[q]&&"function"==typeof window[q]&&(ne=window[q]),window[q]=function Fh(E,C,M,F){function ne(){return(ne=(0,k.Z)(function*(Ae,Fe,We){try{"event"===Ae?yield Ca(E,C,M,Fe,We):"config"===Ae?yield dg(E,C,M,F,Fe,We):E("set",Fe)}catch(Ot){Jn.error(Ot)}})).apply(this,arguments)}return function q(Ae,Fe,We){return ne.apply(this,arguments)}}(ne,E,C,M),{gtagCore:ne,wrappedGtag:window[q]}}(Ar,vu,Aa,zs,"gtag");An=ne,Na=Ae,Gi=!0}return Ar[F]=function jn(E,C,M,F,q,ne,Ae){return Ws.apply(this,arguments)}(E,vu,Aa,C,Na,zs,M),new Sa(E)}function Ma(){return(Ma=(0,k.Z)(function*(E,C,M,F,q){if(q&&q.global)E("event",M,F);else{const ne=yield C;E("event",M,Object.assign(Object.assign({},F),{send_to:ne}))}})).apply(this,arguments)}function Hc(){return bl.apply(this,arguments)}function bl(){return(bl=(0,k.Z)(function*(){if((0,te.ru)()||!(0,te.zI)()||!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch(E){return!1}})).apply(this,arguments)}const Wc="@firebase/analytics";!function qc(){(0,le._registerComponent)(new pe.wA(Lc,(C,{options:M})=>jc(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,le._registerComponent)(new pe.wA("analytics-internal",function E(C){try{const M=C.getProvider(Lc).getImmediate();return{logEvent:(F,q,ne)=>function $c(E,C,M,F){E=(0,te.m9)(E),function bu(E,C,M,F,q){return Ma.apply(this,arguments)}(An,Ar[E.app.options.appId],C,M,F).catch(q=>Jn.error(q))}(M,F,q,ne)}}catch(M){throw pr.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,le.registerVersion)(Wc,"0.7.5"),(0,le.registerVersion)(Wc,"0.7.5","esm2017")}();var Wi=R(4408),pn=R(7565);const Nr=new class wl extends pn.v{}(class Bh extends Wi.o{constructor(C,M){super(C,M),this.scheduler=C,this.work=M}schedule(C,M=0){return M>0?super.schedule(C,M):(this.delay=M,this.state=C,this.scheduler.flush(this),this)}execute(C,M){return M>0||this.closed?super.execute(C,M):this._execute(C,M)}requestAsyncId(C,M,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(C,M,F):C.flush(this)}});var Dl=R(4986),Mr=R(8505),Ai=R(9468),Du=R(5363);const wo=new c.GfV("7.2.1"),qr="__angularfire_symbol__analyticsIsSupportedValue",Zr="__angularfire_symbol__analyticsIsSupported",ka="__angularfire_symbol__remoteConfigIsSupportedValue",Pa="__angularfire_symbol__remoteConfigIsSupported",Zc="__angularfire_symbol__messagingIsSupportedValue",Uh="__angularfire_symbol__messagingIsSupported";function Hh(E,C,M){if(C){if(1===C.length)return C[0];const ne=C.filter(Ae=>Ae.app===M);if(1===ne.length)return ne[0]}return M.container.getProvider(E).getImmediate({optional:!0})}globalThis[Zr]||(globalThis[Zr]=Hc().then(E=>globalThis[qr]=E).catch(()=>globalThis[qr]=!1)),globalThis[Uh]||(globalThis[Uh]=$o().then(E=>globalThis[Zc]=E).catch(()=>globalThis[Zc]=!1)),globalThis[Pa]||(globalThis[Pa]=N_().then(E=>globalThis[ka]=E).catch(()=>globalThis[ka]=!1));const Kc=(E,C)=>{const M=C?[C]:(0,Y.C6)(),F=[];return M.forEach(q=>{q.container.getProvider(E).instances.forEach(Ae=>{F.includes(Ae)||F.push(Ae)})}),F};function Ds(){}class Yc{constructor(C,M=Nr){this.zone=C,this.delegate=M}now(){return this.delegate.now()}schedule(C,M,F){const q=this.zone;return this.delegate.schedule(function(Ae){q.runGuarded(()=>{C.apply(this,[Ae])})},M,F)}}class Eu{constructor(C){this.zone=C,this.task=null}call(C,M){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ds,{},Ds,Ds)),M.pipe((0,Mr.b)({next:F,complete:F,error:F})).subscribe(C).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Tu=(()=>{class E{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new Yc(Zone.current)),this.insideAngular=M.run(()=>new Yc(Zone.current,Dl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(M){return new(M||E)(c.LFG(c.R0b))},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function zi(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function qi(E){return zi(),function qs(E){return function(M){return(M=M.lift(new Eu(E.ngZone))).pipe((0,Ai.R)(E.outsideAngular),(0,Du.Q)(E.insideAngular))}}(zi())(E)}},2090:(et,De,R)=>{"use strict";R.d(De,{BH:()=>Ve,LL:()=>he,ZR:()=>Re,zI:()=>ie,US:()=>pe,tV:()=>ae,$s:()=>Rt,r3:()=>Fi,Sg:()=>Ie,ne:()=>Vi,vZ:()=>ir,ZB:()=>U,pd:()=>Ps,m9:()=>ui,z$:()=>Me,jU:()=>ee,ru:()=>me,d:()=>de,xb:()=>Mt,w1:()=>xe,hl:()=>se,uI:()=>Le,UG:()=>z,b$:()=>Te,G6:()=>Ge,Mn:()=>Ce,xO:()=>Dr,zd:()=>Li,eu:()=>Z});const le=function(B){const G=[];let $=0;for(let be=0;be<B.length;be++){let X=B.charCodeAt(be);X<128?G[$++]=X:X<2048?(G[$++]=X>>6|192,G[$++]=63&X|128):55296==(64512&X)&&be+1<B.length&&56320==(64512&B.charCodeAt(be+1))?(X=65536+((1023&X)<<10)+(1023&B.charCodeAt(++be)),G[$++]=X>>18|240,G[$++]=X>>12&63|128,G[$++]=X>>6&63|128,G[$++]=63&X|128):(G[$++]=X>>12|224,G[$++]=X>>6&63|128,G[$++]=63&X|128)}return G},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(B,G){if(!Array.isArray(B))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,be=[];for(let X=0;X<B.length;X+=3){const $e=B[X],ht=X+1<B.length,Kt=ht?B[X+1]:0,rn=X+2<B.length,on=rn?B[X+2]:0;let Fn=(15&Kt)<<2|on>>6,Er=63&on;rn||(Er=64,ht||(Fn=64)),be.push($[$e>>2],$[(3&$e)<<4|Kt>>4],$[Fn],$[Er])}return be.join("")},encodeString(B,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(B):this.encodeByteArray(le(B),G)},decodeString(B,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(B):function(B){const G=[];let $=0,be=0;for(;$<B.length;){const X=B[$++];if(X<128)G[be++]=String.fromCharCode(X);else if(X>191&&X<224){const $e=B[$++];G[be++]=String.fromCharCode((31&X)<<6|63&$e)}else if(X>239&&X<365){const rn=((7&X)<<18|(63&B[$++])<<12|(63&B[$++])<<6|63&B[$++])-65536;G[be++]=String.fromCharCode(55296+(rn>>10)),G[be++]=String.fromCharCode(56320+(1023&rn))}else{const $e=B[$++],ht=B[$++];G[be++]=String.fromCharCode((15&X)<<12|(63&$e)<<6|63&ht)}}return G.join("")}(this.decodeStringToByteArray(B,G))},decodeStringToByteArray(B,G){this.init_();const $=G?this.charToByteMapWebSafe_:this.charToByteMap_,be=[];for(let X=0;X<B.length;){const $e=$[B.charAt(X++)],Kt=X<B.length?$[B.charAt(X)]:0;++X;const on=X<B.length?$[B.charAt(X)]:64;++X;const Ct=X<B.length?$[B.charAt(X)]:64;if(++X,null==$e||null==Kt||null==on||null==Ct)throw Error();be.push($e<<2|Kt>>4),64!==on&&(be.push(Kt<<4&240|on>>2),64!==Ct&&be.push(on<<6&192|Ct))}return be},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let B=0;B<this.ENCODED_VALS.length;B++)this.byteToCharMap_[B]=this.ENCODED_VALS.charAt(B),this.charToByteMap_[this.byteToCharMap_[B]]=B,this.byteToCharMapWebSafe_[B]=this.ENCODED_VALS_WEBSAFE.charAt(B),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[B]]=B,B>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(B)]=B,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(B)]=B)}}},fe=function(B){return function(B){const G=le(B);return pe.encodeByteArray(G,!0)}(B).replace(/\./g,"")},ae=function(B){try{return pe.decodeString(B,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function U(B,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===B&&(B={});break;case Array:B=[];break;default:return G}for(const $ in G)!G.hasOwnProperty($)||!J($)||(B[$]=U(B[$],G[$]));return B}function J(B){return"__proto__"!==B}class Ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,$)=>{this.resolve=G,this.reject=$})}wrapCallback(G){return($,be)=>{$?this.reject($):this.resolve(be),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G($):G($,be))}}}function Ie(B,G){if(B.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const be=G||"demo-project",X=B.iat||0,$e=B.sub||B.user_id;if(!$e)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ht=Object.assign({iss:`https://securetoken.google.com/${be}`,aud:be,iat:X,exp:X+3600,auth_time:X,sub:$e,user_id:$e,firebase:{sign_in_provider:"custom",identities:{}}},B);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(ht)),""].join(".")}function Me(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Le(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Me())}function z(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(B){return!1}}function ee(){return"object"==typeof self&&self.self===self}function me(){const B="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof B&&void 0!==B.id}function Te(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function de(){return Me().indexOf("Electron/")>=0}function xe(){const B=Me();return B.indexOf("MSIE ")>=0||B.indexOf("Trident/")>=0}function Ce(){return Me().indexOf("MSAppHost/")>=0}function Ge(){return!z()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function se(){return"object"==typeof indexedDB}function Z(){return new Promise((B,G)=>{try{let $=!0;const be="validate-browser-context-for-indexeddb-analytics-module",X=self.indexedDB.open(be);X.onsuccess=()=>{X.result.close(),$||self.indexedDB.deleteDatabase(be),B(!0)},X.onupgradeneeded=()=>{$=!1},X.onerror=()=>{var $e;G((null===($e=X.error)||void 0===$e?void 0:$e.message)||"")}}catch($){G($)}})}function ie(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Re extends Error{constructor(G,$,be){super($),this.code=G,this.customData=be,this.name="FirebaseError",Object.setPrototypeOf(this,Re.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,he.prototype.create)}}class he{constructor(G,$,be){this.service=G,this.serviceName=$,this.errors=be}create(G,...$){const be=$[0]||{},X=`${this.service}/${G}`,$e=this.errors[G],ht=$e?function mt(B,G){return B.replace(Ut,($,be)=>{const X=G[be];return null!=X?String(X):`<${be}?>`})}($e,be):"Error";return new Re(X,`${this.serviceName}: ${ht} (${X}).`,be)}}const Ut=/\{\$([^}]+)}/g;function Fi(B,G){return Object.prototype.hasOwnProperty.call(B,G)}function Mt(B){for(const G in B)if(Object.prototype.hasOwnProperty.call(B,G))return!1;return!0}function ir(B,G){if(B===G)return!0;const $=Object.keys(B),be=Object.keys(G);for(const X of $){if(!be.includes(X))return!1;const $e=B[X],ht=G[X];if(ks($e)&&ks(ht)){if(!ir($e,ht))return!1}else if($e!==ht)return!1}for(const X of be)if(!$.includes(X))return!1;return!0}function ks(B){return null!==B&&"object"==typeof B}function Dr(B){const G=[];for(const[$,be]of Object.entries(B))Array.isArray(be)?be.forEach(X=>{G.push(encodeURIComponent($)+"="+encodeURIComponent(X))}):G.push(encodeURIComponent($)+"="+encodeURIComponent(be));return G.length?"&"+G.join("&"):""}function Li(B){const G={};return B.replace(/^\?/,"").split("&").forEach(be=>{if(be){const[X,$e]=be.split("=");G[decodeURIComponent(X)]=decodeURIComponent($e)}}),G}function Ps(B){const G=B.indexOf("?");if(!G)return"";const $=B.indexOf("#",G);return B.substring(G,$>0?$:void 0)}function Vi(B,G){const $=new dt(B,G);return $.subscribe.bind($)}class dt{constructor(G,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{G(this)}).catch(be=>{this.error(be)})}next(G){this.forEachObserver($=>{$.next(G)})}error(G){this.forEachObserver($=>{$.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,$,be){let X;if(void 0===G&&void 0===$&&void 0===be)throw new Error("Missing Observer.");X=function Pn(B,G){if("object"!=typeof B||null===B)return!1;for(const $ of G)if($ in B&&"function"==typeof B[$])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:$,complete:be},void 0===X.next&&(X.next=Tn),void 0===X.error&&(X.error=Tn),void 0===X.complete&&(X.complete=Tn);const $e=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?X.error(this.finalError):X.complete()}catch(ht){}}),this.observers.push(X),$e}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,G)}sendOne(G,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{$(this.observers[G])}catch(be){"undefined"!=typeof console&&console.error&&console.error(be)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Tn(){}function Rt(B,G=1e3,$=2){const be=G*Math.pow($,B),X=Math.round(.5*be*(Math.random()-.5)*2);return Math.min(144e5,be+X)}function ui(B){return B&&B._delegate?B._delegate:B}},8279:(et,De,R)=>{"use strict";var c=R(5e3);let Y=null;function k(){return Y}const re=new c.OlP("DocumentToken");let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function ae(){return(0,c.LFG)(U)}()},providedIn:"platform"}),n})();const H=new c.OlP("Location Initialized");let U=(()=>{class n extends fe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){J()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){J()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ve(){return new U((0,c.LFG)(re))}()},providedIn:"platform"}),n})();function J(){return!!window.history.pushState}function Ie(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Me(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Le(n){return n&&"?"!==n[0]?"?"+n:n}let z=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function ee(n){const e=(0,c.LFG)(re).location;return new Te((0,c.LFG)(fe),e&&e.origin||"")}()},providedIn:"root"}),n})();const me=new c.OlP("appBaseHref");let Te=(()=>{class n extends z{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ie(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Le(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,l){const h=this.prepareExternalUrl(i+Le(l));this._platformLocation.pushState(t,r,h)}replaceState(t,r,i,l){const h=this.prepareExternalUrl(i+Le(l));this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fe),c.LFG(me,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),de=(()=>{class n extends z{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ie(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,l){let h=this.prepareExternalUrl(i+Le(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(t,r,h)}replaceState(t,r,i,l){let h=this.prepareExternalUrl(i+Le(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fe),c.LFG(me,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),xe=(()=>{class n{constructor(t,r){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Me(Ge(i)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Le(r))}normalize(t){return n.stripTrailingSlash(function qe(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ge(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Le(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Le(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Le,n.joinWithSlash=Ie,n.stripTrailingSlash=Me,n.\u0275fac=function(t){return new(t||n)(c.LFG(z),c.LFG(fe))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ce(){return new xe((0,c.LFG)(z),(0,c.LFG)(fe))}()},providedIn:"root"}),n})();function Ge(n){return n.replace(/\/index.html$/,"")}var ie=(()=>((ie=ie||{})[ie.Zero=0]="Zero",ie[ie.One=1]="One",ie[ie.Two=2]="Two",ie[ie.Few=3]="Few",ie[ie.Many=4]="Many",ie[ie.Other=5]="Other",ie))();const Ps=c.kL8;class jt{}let gn=(()=>{class n extends jt{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(Ps(r||this.locale)(t)){case ie.Zero:return"zero";case ie.One:return"one";case ie.Two:return"two";case ie.Few:return"few";case ie.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.soG))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function lo(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(l)}return null}class Fo{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let un=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,l,h)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Fo(i.item,this._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)r.remove(null===l?void 0:l);else if(null!==l){const m=r.get(l);r.move(m,h),Ls(m,i)}});for(let i=0,l=r.length;i<l;i++){const m=r.get(i).context;m.index=i,m.count=l,m.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Ls(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Ls(n,e){n.context.$implicit=e.item}let Bn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new zt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){bc("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){bc("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class zt{constructor(){this.$implicit=null,this.ngIf=null}}function bc(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}let In=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[{provide:jt,useClass:gn}]}),n})();function fr(n){return"server"===n}let cl=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new dl((0,c.LFG)(re),window)}),n})();class dl{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function ps(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const l=i.shadowRoot;if(l){const h=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(h)return h}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],i-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ou(this.window.history)||ou(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function ou(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Yt{}class Us extends class da extends class pe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function te(n){Y||(Y=n)}(new Us)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function hl(){return qt=qt||document.querySelector("base"),qt?qt.getAttribute("href"):null}();return null==t?null:function fo(n){ha=ha||document.createElement("a"),ha.setAttribute("href",n);const e=ha.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){qt=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return lo(document.cookie,e)}}let ha,qt=null;const Zn=new c.OlP("TRANSITION_ID"),mn=[{provide:c.ip1,useFactory:function fl(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const r=k(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<i.length;l++)r.remove(i[l])})}},deps:[Zn,re,c.zs3],multi:!0}];class gs{static init(){(0,c.VLi)(new gs)}addToWindow(e){c.dqk.getAngularTestability=(r,i=!0)=>{const l=e.findTestabilityInTree(r,i);if(null==l)throw new Error("Could not find testability for element.");return l},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const i=c.dqk.getAllAngularTestabilities();let l=i.length,h=!1;const m=function(v){h=h||v,l--,0==l&&r(h)};i.forEach(function(v){v.whenStable(m)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?k().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Kn=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Ho=new c.OlP("EventManagerPlugins");let Bi=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let l=0;l<i.length;l++){const h=i[l];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ho),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class lu{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=k().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Wr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),js=(()=>{class n extends Wr{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(l=>{const h=this._doc.createElement("style");h.textContent=l,i.push(r.appendChild(h))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Hs),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Hs))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Hs(n){k().remove(n)}const at={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},fa=/%COMP%/g;function Ee(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Ee(n,i,t):(i=i.replace(fa,n),t.push(i))}return t}function Nt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let _n=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Gs(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case c.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new cu(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case c.ifc.ShadowDom:return new du(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Ee(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Bi),c.LFG(js),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Gs{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(at[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const l=at[i];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=at[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,r,i&c.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Nt(r)):this.eventManager.addEventListener(e,t,Nt(r))}}class cu extends Gs{constructor(e,t,r,i){super(e),this.component=r;const l=Ee(i+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function ma(n){return"_ngcontent-%COMP%".replace(fa,n)}(i+"-"+r.id),this.hostAttr=function Oh(n){return"_nghost-%COMP%".replace(fa,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class du extends Gs{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Ee(i.id,i.styles,[]);for(let h=0;h<l.length;h++){const m=document.createElement("style");m.textContent=l[h],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let xc=(()=>{class n extends lu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Rc=["alt","control","meta","shift"],Go={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Un={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ii={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let hu=(()=>{class n extends lu{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const l=n.parseEventName(r),h=n.eventCallback(l.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(t,l.domEventName,h))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const l=n._normalizeKey(r.pop());let h="";if(Rc.forEach(v=>{const T=r.indexOf(v);T>-1&&(r.splice(T,1),h+=v+".")}),h+=l,0!=r.length||0===l.length)return null;const m={};return m.domEventName=i,m.fullKey=h,m}static getEventFullKey(t){let r="",i=function Ui(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Un.hasOwnProperty(e)&&(e=Un[e]))}return Go[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Rc.forEach(l=>{l!=i&&Ii[l](t)&&(r+=l+".")}),r+=i,r}static eventCallback(t,r,i){return l=>{n.getEventFullKey(l)===t&&i.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Pc=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function ms(){Us.makeCurrent(),gs.init()},multi:!0},{provide:re,useFactory:function kc(){return(0,c.RDi)(document),document},deps:[]}]),po=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function ba(){return new c.qLn},deps:[]},{provide:Ho,useClass:xc,multi:!0,deps:[re,c.R0b,c.Lbi]},{provide:Ho,useClass:hu,multi:!0,deps:[re]},{provide:_n,useClass:_n,deps:[Bi,js,c.AFp]},{provide:c.FYo,useExisting:_n},{provide:Wr,useExisting:js},{provide:js,useClass:js,deps:[re]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:Bi,useClass:Bi,deps:[Ho,c.R0b]},{provide:Yt,useClass:Kn,deps:[]}];let fu=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:Zn,useExisting:c.AFp},mn]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(n,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:po,imports:[In,c.hGG]}),n})();"undefined"!=typeof window&&window;var Sn=R(8996),vn=R(8306);const{isArray:pr}=Array,{getPrototypeOf:bs,prototype:yu,keys:_l}=Object;function $s(n){if(1===n.length){const e=n[0];if(pr(e))return{args:e,keys:null};if(function Vc(n){return n&&"object"==typeof n&&bs(n)===yu}(e)){const t=_l(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var kt=R(8421),Hi=R(3269),Jt=R(5403),Xe=R(4004);const{isArray:_o}=Array;function yl(n){return(0,Xe.U)(e=>function Bc(n,e){return _o(e)?n(...e):n(e)}(n,e))}function vl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let Ia=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),Sr=(()=>{class n extends Ia{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const jn=new c.OlP("NgValueAccessor"),Ar={provide:jn,useExisting:(0,c.Gpc)(()=>zs),multi:!0},Aa=new c.OlP("CompositionEventMode");let zs=(()=>{class n extends Ia{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function vu(){const n=k()?k().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(Aa,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[c._Bn([Ar]),c.qOj]}),n})();function pi(n){return null==n||0===n.length}function Na(n){return null!=n&&"number"==typeof n.length}const An=new c.OlP("NgValidators"),Gi=new c.OlP("NgAsyncValidators"),Uc=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Si{static min(e){return function jc(n){return e=>{if(pi(e.value)||pi(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function bu(n){return e=>{if(pi(e.value)||pi(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return Ma(e)}static requiredTrue(e){return function ws(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Oa(n){return pi(n.value)||Uc.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function xa(n){return e=>pi(e.value)||!Na(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function yo(n){return e=>Na(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function vo(n){if(!n)return gi;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(pi(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return fn(e)}static composeAsync(e){return fg(e)}}function Ma(n){return pi(n.value)?{required:!0}:null}function gi(n){return null}function $i(n){return null!=n}function Ra(n){const e=(0,c.QGY)(n)?(0,Sn.D)(n):n;return(0,c.CqO)(e),e}function wu(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function bo(n,e){return e.map(t=>t(n))}function bl(n){return n.map(e=>function Hc(n){return!n.validate}(e)?e:t=>e.validate(t))}function fn(n){if(!n)return null;const e=n.filter($i);return 0==e.length?null:function(t){return wu(bo(t,e))}}function Gc(n){return null!=n?fn(bl(n)):null}function fg(n){if(!n)return null;const e=n.filter($i);return 0==e.length?null:function(t){return function Lh(...n){const e=(0,Hi.jO)(n),{args:t,keys:r}=$s(n),i=new vn.y(l=>{const{length:h}=t;if(!h)return void l.complete();const m=new Array(h);let v=h,T=h;for(let A=0;A<h;A++){let O=!1;(0,kt.Xf)(t[A]).subscribe(new Jt.Q(l,L=>{O||(O=!0,T--),m[A]=L},()=>v--,void 0,()=>{(!v||!O)&&(T||l.next(r?vl(r,m):m),l.complete())}))}});return e?i.pipe(yl(e)):i}(bo(t,e).map(Ra)).pipe((0,Xe.U)(wu))}}function Vh(n){return null!=n?fg(bl(n)):null}function $c(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Wc(n){return n._rawValidators}function zc(n){return n._rawAsyncValidators}function qc(n){return n?Array.isArray(n)?n:[n]:[]}function Wi(n,e){return Array.isArray(n)?n.includes(e):n===e}function Bh(n,e){const t=qc(e);return qc(n).forEach(i=>{Wi(t,i)||t.push(i)}),t}function pn(n,e){return qc(e).filter(t=>!Wi(n,t))}class wl{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Gc(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Vh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Nr extends wl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class zr extends wl{get formDirective(){return null}get path(){return null}}class Dl{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let Du=(()=>{class n extends Dl{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Nr,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[c.qOj]}),n})(),wo=(()=>{class n extends Dl{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(zr,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[c.qOj]}),n})();function Es(n,e){qi(n,e),e.valueAccessor.writeValue(n.value),function Tl(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&E(n,e)})}(n,e),function C(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function $h(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&E(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Gh(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function _i(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),qs(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function zo(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function qi(n,e){const t=Wc(n);null!==e.validator?n.setValidators($c(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=zc(n);null!==e.asyncValidator?n.setAsyncValidators($c(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();zo(e._rawValidators,i),zo(e._rawAsyncValidators,i)}function qs(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=Wc(n);if(Array.isArray(i)&&i.length>0){const l=i.filter(h=>h!==e.validator);l.length!==i.length&&(t=!0,n.setValidators(l))}}if(null!==e.asyncValidator){const i=zc(n);if(Array.isArray(i)&&i.length>0){const l=i.filter(h=>h!==e.asyncValidator);l.length!==i.length&&(t=!0,n.setAsyncValidators(l))}}}const r=()=>{};return zo(e._rawValidators,r),zo(e._rawAsyncValidators,r),t}function E(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Vt(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const cn="VALID",Zs="INVALID",Or="PENDING",gr="DISABLED";function xr(n){return(Do(n)?n.validators:n)||null}function Cl(n){return Array.isArray(n)?Gc(n):n||null}function Jc(n,e){return(Do(e)?e.asyncValidators:n)||null}function Cu(n){return Array.isArray(n)?Vh(n):n||null}function Do(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Wh=n=>n instanceof Iu,zh=n=>n instanceof La;function Eo(n){return Wh(n)?n.value:n.getRawValue()}function Il(n,e){const t=zh(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new c.vHH(1e3,"");if(!r[e])throw new c.vHH(1001,"")}function pg(n,e){zh(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new c.vHH(1002,"")})}class qh{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Cl(this._rawValidators),this._composedAsyncValidatorFn=Cu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===cn}get invalid(){return this.status===Zs}get pending(){return this.status==Or}get disabled(){return this.status===gr}get enabled(){return this.status!==gr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Cl(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Cu(e)}addValidators(e){this.setValidators(Bh(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Bh(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(pn(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(pn(e,this._rawAsyncValidators))}hasValidator(e){return Wi(this._rawValidators,e)}hasAsyncValidator(e){return Wi(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Or,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=gr,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=cn,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===cn||this.status===Or)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gr:cn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Or,this._hasOwnPendingAsyncValidator=!0;const t=Ra(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function Ts(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=zh(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof Y0)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?gr:this.errors?Zs:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Or)?Or:this._anyControlsHaveStatus(Zs)?Zs:cn}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Do(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Iu extends qh{constructor(e=null,t,r){super(xr(t),Jc(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Do(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Vt(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Vt(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class La extends qh{constructor(e,t,r){super(xr(t),Jc(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){pg(this,e),Object.keys(e).forEach(r=>{Il(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=Eo(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,l)=>{r=t(r,i,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Y0 extends qh{constructor(e,t,r){super(xr(t),Jc(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){pg(this,e),e.forEach((r,i)=>{Il(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>Eo(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let Qc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Xc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const vg=new c.OlP("NgModelWithFormControlWarning"),F_={provide:zr,useExisting:(0,c.Gpc)(()=>ed)};let ed=(()=>{class n extends zr{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(qs(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Es(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){_i(t.control||null,t,!1),Vt(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function We(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(_i(r||null,t),Wh(i)&&(Es(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function M(n,e){qi(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function F(n,e){return qs(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){qi(this.form,this),this._oldForm&&qs(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(An,10),c.Y36(Gi,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([F_]),c.qOj,c.TTD]}),n})();const eb={provide:Nr,useExisting:(0,c.Gpc)(()=>ef)};let ef=(()=>{class n extends Nr{constructor(t,r,i,l,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Ot(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(l=>{l.constructor===zs?t=l:function Fe(n){return Object.getPrototypeOf(n.constructor)===Sr}(l)?r=l:i=l}),i||r||t||null}(0,l)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function Ae(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function zi(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(c.Y36(zr,13),c.Y36(An,10),c.Y36(Gi,10),c.Y36(jn,10),c.Y36(vg,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([eb]),c.qOj,c.TTD]}),n})(),Al=(()=>{class n{constructor(){this._validator=gi}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):gi,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();const af={provide:An,useExisting:(0,c.Gpc)(()=>Ba),multi:!0};let Ba=(()=>{class n extends Al{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t=>function sf(n){return null!=n&&!1!==n&&"false"!=`${n}`}(t),this.createValidator=t=>Ma}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&c.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([af]),c.qOj]}),n})(),Mg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Xc]]}),n})(),G_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Mg]}),n})(),rb=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:vg,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Mg]}),n})();function ut(...n){const e=(0,Hi.yG)(n);return(0,Sn.D)(n,e)}var bn=R(7579);class Bt extends bn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Ki=R(4671),df=R(9672);function ld(n,e,t){n?(0,df.f)(t,n,e):e()}const Ua=(0,R(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Nl=R(8189);function Ml(...n){return function Og(){return(0,Nl.J)(1)}()((0,Sn.D)(n,(0,Hi.yG)(n)))}function xg(n){return new vn.y(e=>{(0,kt.Xf)(n()).subscribe(e)})}var mr=R(515),hf=R(727),Rr=R(4482);function ud(){return(0,Rr.e)((n,e)=>{let t=null;n._refCount++;const r=new Jt.Q(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,l=t;t=null,i&&(!l||i===l)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class W_ extends vn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Rr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new hf.w0;const t=this.getSubject();e.add(this.source.subscribe(new Jt.Q(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=hf.w0.EMPTY)}return e}refCount(){return ud()(this)}}function ar(n,e){return(0,Rr.e)((t,r)=>{let i=null,l=0,h=!1;const m=()=>h&&!i&&r.complete();t.subscribe(new Jt.Q(r,v=>{null==i||i.unsubscribe();let T=0;const A=l++;(0,kt.Xf)(n(v,A)).subscribe(i=new Jt.Q(r,O=>r.next(e?e(v,O,A,T++):O),()=>{i=null,m()}))},()=>{h=!0,m()}))})}var Ht=R(5698);function To(...n){const e=(0,Hi.yG)(n);return(0,Rr.e)((t,r)=>{(e?Ml(n,t,e):Ml(n,t)).subscribe(r)})}function ff(n,e,t,r,i){return(l,h)=>{let m=t,v=e,T=0;l.subscribe(new Jt.Q(h,A=>{const O=T++;v=m?n(v,A,O):(m=!0,A),r&&h.next(v)},i&&(()=>{m&&h.next(v),h.complete()})))}}function ku(n,e){return(0,Rr.e)(ff(n,e,arguments.length>=2,!0))}function dn(n,e){return(0,Rr.e)((t,r)=>{let i=0;t.subscribe(new Jt.Q(r,l=>n.call(e,l,i++)&&r.next(l)))})}function Yi(n){return(0,Rr.e)((e,t)=>{let l,r=null,i=!1;r=e.subscribe(new Jt.Q(t,void 0,void 0,h=>{l=(0,kt.Xf)(n(h,Yi(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,l.subscribe(t))})}var $n=R(5577),Ks=R(576);function Ol(n,e){return(0,Ks.m)(e)?(0,$n.z)(n,e,1):(0,$n.z)(n,1)}function Pu(n){return n<=0?()=>mr.E:(0,Rr.e)((e,t)=>{let r=[];e.subscribe(new Jt.Q(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Rg(n=kg){return(0,Rr.e)((e,t)=>{let r=!1;e.subscribe(new Jt.Q(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function kg(){return new Ua}function Pg(n){return(0,Rr.e)((e,t)=>{let r=!1;e.subscribe(new Jt.Q(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function _(n,e){const t=arguments.length>=2;return r=>r.pipe(n?dn((i,l)=>n(i,l,r)):Ki.y,(0,Ht.q)(1),t?Pg(e):Rg(()=>new Ua))}var f=R(8505);class b{constructor(e,t){this.id=e,this.url=t}}class S extends b{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class x extends b{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class W extends b{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ce extends b{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Be extends b{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Je extends b{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gt extends b{constructor(e,t,r,i,l){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class it extends b{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wn extends b{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ni{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class xl{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class cd{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fu{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pf{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class q_{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Co{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Dt="primary";class gf{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Zo(n){return new gf(n)}const Lu="ngNavigationCancelingError";function mf(n){const e=Error("NavigationCancelingError: "+n);return e[Lu]=!0,e}function Z_(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let l=0;l<r.length;l++){const h=r[l],m=n[l];if(h.startsWith(":"))i[h.substring(1)]=m;else if(h!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Ko(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let l=0;l<t.length;l++)if(i=t[l],!ib(n[i],e[i]))return!1;return!0}function ib(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,l)=>r[l]===i)}return n===e}function K_(n){return Array.prototype.concat.apply([],n)}function Fg(n){return n.length>0?n[n.length-1]:null}function _r(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Yo(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,Sn.D)(Promise.resolve(n)):ut(n)}const sb={exact:function J_(n,e,t){if(!Jo(n.segments,e.segments)||!vf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!J_(n.children[r],e.children[r],t))return!1;return!0},subset:yf},Y_={exact:function ob(n,e){return Ko(n,e)},subset:function W1(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ib(n[t],e[t]))},ignored:()=>!0};function Rl(n,e,t){return sb[t.paths](n.root,e.root,t.matrixParams)&&Y_[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function yf(n,e,t){return ab(n,e,e.segments,t)}function ab(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Jo(i,t)||e.hasChildren()||!vf(i,t,r))}if(n.segments.length===t.length){if(!Jo(n.segments,t)||!vf(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!yf(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(Jo(n.segments,i)&&vf(n.segments,i,r)&&n.children[Dt])&&ab(n.children[Dt],e,l,r)}}function vf(n,e,t){return e.every((r,i)=>Y_[t](n[i].parameters,r.parameters))}class kl{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zo(this.queryParams)),this._queryParamMap}toString(){return ub.serialize(this)}}class Pt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,_r(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dd(this)}}class Vu{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Zo(this.parameters)),this._parameterMap}toString(){return ey(this)}}function Jo(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Q_{}class Vg{parse(e){const t=new hb(e);return new kl(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ja(e.root,!0)}`,r=function db(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${bf(t)}=${bf(i)}`).join("&"):`${bf(t)}=${bf(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function z1(n){return encodeURI(n)}(e.fragment)}`:""}`}}const ub=new Vg;function dd(n){return n.segments.map(e=>ey(e)).join("/")}function ja(n,e){if(!n.hasChildren())return dd(n);if(e){const t=n.children[Dt]?ja(n.children[Dt],!1):"",r=[];return _r(n.children,(i,l)=>{l!==Dt&&r.push(`${l}:${ja(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Lg(n,e){let t=[];return _r(n.children,(r,i)=>{i===Dt&&(t=t.concat(e(r,i)))}),_r(n.children,(r,i)=>{i!==Dt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Dt?[ja(n.children[Dt],!1)]:[`${i}:${ja(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Dt]?`${dd(n)}/${t[0]}`:`${dd(n)}/(${t.join("//")})`}}function cb(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bf(n){return cb(n).replace(/%3B/gi,";")}function X_(n){return cb(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wf(n){return decodeURIComponent(n)}function Bg(n){return wf(n.replace(/\+/g,"%20"))}function ey(n){return`${X_(n.path)}${function FI(n){return Object.keys(n).map(e=>`;${X_(e)}=${X_(n[e])}`).join("")}(n.parameters)}`}const q1=/^[^\/()?;=#]+/;function Df(n){const e=n.match(q1);return e?e[0]:""}const Z1=/^[^=?&#]+/,Io=/^[^&#]+/;class hb{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pt([],{}):new Pt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Dt]=new Pt(e,t)),r}parseSegment(){const e=Df(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Vu(wf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Df(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Df(this.remaining);i&&(r=i,this.capture(r))}e[wf(t)]=wf(r)}parseQueryParam(e){const t=function K1(n){const e=n.match(Z1);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const h=function Y1(n){const e=n.match(Io);return e?e[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const i=Bg(t),l=Bg(r);if(e.hasOwnProperty(i)){let h=e[i];Array.isArray(h)||(h=[h],e[i]=h),h.push(l)}else e[i]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Df(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Dt);const h=this.parseChildren();t[l]=1===Object.keys(h).length?h[Dt]:new Pt([],h),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class fb{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ty(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=ty(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ny(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ny(e,this._root).map(t=>t.value)}}function ty(n,e){if(n===e.value)return e;for(const t of e.children){const r=ty(n,t);if(r)return r}return null}function ny(n,e){if(n===e.value)return[e];for(const t of e.children){const r=ny(n,t);if(r.length)return r.unshift(e),r}return[]}class Ha{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Bu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class pb extends fb{constructor(e,t){super(e),this.snapshot=t,Is(this,e)}toString(){return this.snapshot.toString()}}function gb(n,e){const t=function J1(n,e){const h=new Ef([],{},{},"",{},Dt,e,null,n.root,-1,{});return new Tf("",new Ha(h,[]))}(n,e),r=new Bt([new Vu("",{})]),i=new Bt({}),l=new Bt({}),h=new Bt({}),m=new Bt(""),v=new _t(r,i,h,m,l,Dt,e,t.root);return v.snapshot=t.root,new pb(new Ha(v,[]),t)}class _t{constructor(e,t,r,i,l,h,m,v){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=h,this.component=m,this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Xe.U)(e=>Zo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Xe.U)(e=>Zo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ry(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],l=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(l.component)break;r--}}return function mb(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Ef{constructor(e,t,r,i,l,h,m,v,T,A,O){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=h,this.component=m,this.routeConfig=v,this._urlSegment=T,this._lastPathIndex=A,this._resolve=O}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Zo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Tf extends fb{constructor(e,t){super(t),this.url=e,Is(this,t)}toString(){return iy(this._root)}}function Is(n,e){e.value._routerState=n,e.children.forEach(t=>Is(n,t))}function iy(n){const e=n.children.length>0?` { ${n.children.map(iy).join(", ")} } `:"";return`${n.value}${e}`}function sy(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ko(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ko(e.params,t.params)||n.params.next(t.params),function H1(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ko(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ko(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Cf(n,e){const t=Ko(n.params,e.params)&&function lb(n,e){return Jo(n,e)&&n.every((t,r)=>Ko(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Cf(n.parent,e.parent))}function Uu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function _b(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Uu(n,r,i);return Uu(n,r)})}(n,e,t);return new Ha(r,i)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const h=l.route;return h.value._futureSnapshot=e.value,h.children=e.children.map(m=>Uu(n,m)),h}}const r=function oy(n){return new _t(new Bt(n.url),new Bt(n.params),new Bt(n.queryParams),new Bt(n.fragment),new Bt(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(l=>Uu(n,l));return new Ha(r,i)}}function If(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ug(n){return"object"==typeof n&&null!=n&&n.outlets}function hd(n,e,t,r,i){let l={};return r&&_r(r,(h,m)=>{l[m]=Array.isArray(h)?h.map(v=>`${v}`):`${h}`}),new kl(t.root===n?e:Sf(t.root,n,e),l,i)}function Sf(n,e,t){const r={};return _r(n.children,(i,l)=>{r[l]=i===e?t:Sf(i,e,t)}),new Pt(n.segments,r)}class jg{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&If(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Ug);if(i&&i!==Fg(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Af{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function yb(n,e,t){if(n||(n=new Pt([],{})),0===n.segments.length&&n.hasChildren())return Hg(n,e,t);const r=function vb(n,e,t){let r=0,i=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return l;const h=n.segments[i],m=t[r];if(Ug(m))break;const v=`${m}`,T=r<t.length-1?t[r+1]:null;if(i>0&&void 0===v)break;if(v&&T&&"object"==typeof T&&void 0===T.outlets){if(!ly(v,T,h))return l;r+=2}else{if(!ly(v,{},h))return l;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new Pt(n.segments.slice(0,r.pathIndex),{});return l.children[Dt]=new Pt(n.segments.slice(r.pathIndex),n.children),Hg(l,0,i)}return r.match&&0===i.length?new Pt(n.segments,{}):r.match&&!n.hasChildren()?bb(n,e,t):r.match?Hg(n,0,i):bb(n,e,t)}function Hg(n,e,t){if(0===t.length)return new Pt(n.segments,{});{const r=function X1(n){return Ug(n[0])?n[0].outlets:{[Dt]:n}}(t),i={};return _r(r,(l,h)=>{"string"==typeof l&&(l=[l]),null!==l&&(i[h]=yb(n.children[h],e,l))}),_r(n.children,(l,h)=>{void 0===r[h]&&(i[h]=l)}),new Pt(n.segments,i)}}function bb(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const l=t[i];if(Ug(l)){const v=eE(l.outlets);return new Pt(r,v)}if(0===i&&If(t[0])){r.push(new Vu(n.segments[e].path,tE(t[0]))),i++;continue}const h=Ug(l)?l.outlets[Dt]:`${l}`,m=i<t.length-1?t[i+1]:null;h&&m&&If(m)?(r.push(new Vu(h,tE(m))),i+=2):(r.push(new Vu(h,{})),i++)}return new Pt(r,{})}function eE(n){const e={};return _r(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=bb(new Pt([],{}),0,t))}),e}function tE(n){const e={};return _r(n,(t,r)=>e[r]=`${t}`),e}function ly(n,e,t){return n==t.path&&Ko(e,t.parameters)}class nE{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),sy(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Bu(t);e.children.forEach(l=>{const h=l.value.outlet;this.deactivateRoutes(l,i[h],r),delete i[h]}),_r(i,(l,h)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(i===l)if(i.component){const h=r.getContext(i.outlet);h&&this.deactivateChildRoutes(e,t,h.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=Bu(e);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],i);if(r&&r.outlet){const h=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:h,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=Bu(e);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Bu(t);e.children.forEach(l=>{this.activateRoutes(l,i[l.value.outlet],r),this.forwardEvent(new q_(l.value.snapshot))}),e.children.length&&this.forwardEvent(new Fu(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(sy(i),i===l)if(i.component){const h=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const h=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const m=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),h.children.onOutletReAttached(m.contexts),h.attachRef=m.componentRef,h.route=m.route.value,h.outlet&&h.outlet.attach(m.componentRef,m.route.value),sy(m.route.value),this.activateChildRoutes(e,null,h.children)}else{const m=function uy(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),v=m?m.module.componentFactoryResolver:null;h.attachRef=null,h.route=i,h.resolver=v,h.outlet&&h.outlet.activateWith(i,v),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,r)}}class Db{constructor(e,t){this.routes=e,this.module=t}}function ju(n){return"function"==typeof n}function fd(n){return n instanceof kl}const Gg=Symbol("INITIAL_VALUE");function $g(){return ar(n=>function Yr(...n){const e=(0,Hi.yG)(n),t=(0,Hi.jO)(n),{args:r,keys:i}=$s(n);if(0===r.length)return(0,Sn.D)([],e);const l=new vn.y(function Ru(n,e,t=Ki.y){return r=>{ld(e,()=>{const{length:i}=n,l=new Array(i);let h=i,m=i;for(let v=0;v<i;v++)ld(e,()=>{const T=(0,Sn.D)(n[v],e);let A=!1;T.subscribe(new Jt.Q(r,O=>{l[v]=O,A||(A=!0,m--),m||r.next(t(l.slice()))},()=>{--h||r.complete()}))},r)},r)}}(r,e,i?h=>vl(i,h):Ki.y));return t?l.pipe(yl(t)):l}(n.map(e=>e.pipe((0,Ht.q)(1),To(Gg)))).pipe(ku((e,t)=>{let r=!1;return t.reduce((i,l,h)=>i!==Gg?i:(l===Gg&&(r=!0),r||!1!==l&&h!==t.length-1&&!fd(l)?i:l),e)},Gg),dn(e=>e!==Gg),(0,Xe.U)(e=>fd(e)?e:!0===e),(0,Ht.q)(1)))}class Pl{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Hu,this.attachRef=null}}class Hu{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Pl,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let cy=(()=>{class n{constructor(t,r,i,l,h){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=l||Dt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const h=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,v=new Eb(t,m,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,v),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Hu),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Eb{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===_t?this.route:e===Hu?this.childContexts:this.parent.get(e,t)}}let Wg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},directives:[cy],encapsulation:2}),n})();function dy(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];hy(r,rE(e,r))}}function hy(n,e){n.children&&dy(n.children,e)}function rE(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Qo(n){const e=n.children&&n.children.map(Qo),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Dt&&(t.component=Wg),t}function Ss(n){return n.outlet||Dt}function Tb(n,e){const t=n.filter(r=>Ss(r)===e);return t.push(...n.filter(r=>Ss(r)!==e)),t}const zg={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function qg(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},zg):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const l=(e.matcher||Z_)(t,n,e);if(!l)return Object.assign({},zg);const h={};_r(l.posParams,(v,T)=>{h[T]=v.path});const m=l.consumed.length>0?Object.assign(Object.assign({},h),l.consumed[l.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,parameters:m,positionalParamSegments:null!==(r=l.posParams)&&void 0!==r?r:{}}}function Nf(n,e,t,r,i="corrected"){if(t.length>0&&function Mf(n,e,t){return t.some(r=>gd(n,e,r)&&Ss(r)!==Dt)}(n,t,r)){const h=new Pt(e,function sE(n,e,t,r){const i={};i[Dt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&Ss(l)!==Dt){const h=new Pt([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,i[Ss(l)]=h}return i}(n,e,r,new Pt(t,n.children)));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:[]}}if(0===t.length&&function pd(n,e,t){return t.some(r=>gd(n,e,r))}(n,t,r)){const h=new Pt(n.segments,function iE(n,e,t,r,i,l){const h={};for(const m of r)if(gd(n,t,m)&&!i[Ss(m)]){const v=new Pt([],{});v._sourceSegment=n,v._segmentIndexShift="legacy"===l?n.segments.length:e.length,h[Ss(m)]=v}return Object.assign(Object.assign({},i),h)}(n,e,t,r,n.children,i));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:t}}const l=new Pt(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function gd(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Gu(n,e,t,r){return!!(Ss(n)===r||r!==Dt&&gd(e,t,n))&&("**"===n.path||qg(e,n,t).matched)}function md(n,e,t){return 0===e.length&&!n.children[t]}class Xo{constructor(e){this.segmentGroup=e||null}}class Cb{constructor(e){this.urlTree=e}}function Of(n){return new vn.y(e=>e.error(new Xo(n)))}function fy(n){return new vn.y(e=>e.error(new Cb(n)))}function py(n){return new vn.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class Zg{constructor(e,t,r,i,l){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(c.h0i)}apply(){const e=Nf(this.urlTree.root,[],[],this.config).segmentGroup,t=new Pt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Dt).pipe((0,Xe.U)(l=>this.createUrlTree(Kg(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Yi(l=>{if(l instanceof Cb)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof Xo?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Dt).pipe((0,Xe.U)(i=>this.createUrlTree(Kg(i),e.queryParams,e.fragment))).pipe(Yi(i=>{throw i instanceof Xo?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new Pt([],{[Dt]:e}):e;return new kl(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Xe.U)(l=>new Pt([],l))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const l of Object.keys(r.children))"primary"===l?i.unshift(l):i.push(l);return(0,Sn.D)(i).pipe(Ol(l=>{const h=r.children[l],m=Tb(t,l);return this.expandSegmentGroup(e,m,h,l).pipe((0,Xe.U)(v=>({segment:v,outlet:l})))}),ku((l,h)=>(l[h.outlet]=h.segment,l),{}),function z_(n,e){const t=arguments.length>=2;return r=>r.pipe(n?dn((i,l)=>n(i,l,r)):Ki.y,Pu(1),t?Pg(e):Rg(()=>new Ua))}())}expandSegment(e,t,r,i,l,h){return(0,Sn.D)(r).pipe(Ol(m=>this.expandSegmentAgainstRoute(e,t,r,m,i,l,h).pipe(Yi(T=>{if(T instanceof Xo)return ut(null);throw T}))),_(m=>!!m),Yi((m,v)=>{if(m instanceof Ua||"EmptyError"===m.name){if(md(t,i,l))return ut(new Pt([],{}));throw new Xo(t)}throw m}))}expandSegmentAgainstRoute(e,t,r,i,l,h,m){return Gu(i,t,l,h)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,l,h):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,h):Of(t):Of(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,h){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?fy(l):this.lineralizeSegments(r,l).pipe((0,$n.z)(h=>{const m=new Pt(h,{});return this.expandSegment(e,m,t,h,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,h){const{matched:m,consumedSegments:v,lastChild:T,positionalParamSegments:A}=qg(t,i,l);if(!m)return Of(t);const O=this.applyRedirectCommands(v,i.redirectTo,A);return i.redirectTo.startsWith("/")?fy(O):this.lineralizeSegments(i,O).pipe((0,$n.z)(L=>this.expandSegment(e,t,r,L.concat(l.slice(T)),h,!1)))}matchSegmentAgainstRoute(e,t,r,i,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?ut(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Xe.U)(L=>(r._loadedConfig=L,new Pt(i,{})))):ut(new Pt(i,{}));const{matched:h,consumedSegments:m,lastChild:v}=qg(t,r,i);if(!h)return Of(t);const T=i.slice(v);return this.getChildConfig(e,r,i).pipe((0,$n.z)(O=>{const L=O.module,V=O.routes,{segmentGroup:Q,slicedSegments:ve}=Nf(t,m,T,V),Ue=new Pt(Q.segments,Q.children);if(0===ve.length&&Ue.hasChildren())return this.expandChildren(L,V,Ue).pipe((0,Xe.U)(Tt=>new Pt(m,Tt)));if(0===V.length&&0===ve.length)return ut(new Pt(m,{}));const Qe=Ss(r)===l;return this.expandSegment(L,Ue,V,ve,Qe?Dt:l,!0).pipe((0,Xe.U)(nn=>new Pt(m.concat(nn.segments),nn.children)))}))}getChildConfig(e,t,r){return t.children?ut(new Db(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?ut(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,$n.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,Xe.U)(l=>(t._loadedConfig=l,l))):function gy(n){return new vn.y(e=>e.error(mf(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):ut(new Db([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?ut(i.map(h=>{const m=e.get(h);let v;if(function UI(n){return n&&ju(n.canLoad)}(m))v=m.canLoad(t,r);else{if(!ju(m))throw new Error("Invalid CanLoad guard");v=m(t,r)}return Yo(v)})).pipe($g(),(0,f.b)(h=>{if(!fd(h))return;const m=mf(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw m.url=h,m}),(0,Xe.U)(h=>!0===h)):ut(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ut(r);if(i.numberOfChildren>1||!i.children[Dt])return py(e.redirectTo);i=i.children[Dt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const l=this.createSegmentGroup(e,t.root,r,i);return new kl(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return _r(e,(i,l)=>{if("string"==typeof i&&i.startsWith(":")){const m=i.substring(1);r[l]=t[m]}else r[l]=i}),r}createSegmentGroup(e,t,r,i){const l=this.createSegments(e,t.segments,r,i);let h={};return _r(t.children,(m,v)=>{h[v]=this.createSegmentGroup(e,m,r,i)}),new Pt(l,h)}createSegments(e,t,r,i){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,i):this.findOrReturn(l,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function Kg(n){const e={};for(const r of Object.keys(n.children)){const l=Kg(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function oE(n){if(1===n.numberOfChildren&&n.children[Dt]){const e=n.children[Dt];return new Pt(n.segments.concat(e.segments),e.children)}return n}(new Pt(n.segments,e))}class my{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class xf{constructor(e,t){this.component=e,this.route=t}}function aE(n,e,t){const r=n._root;return Jr(r,e?e._root:null,t,[r.value])}function Yg(n,e,t){const r=function lE(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Jr(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=Bu(e);return n.children.forEach(h=>{(function uE(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,h=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(h&&l.routeConfig===h.routeConfig){const v=function cE(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Jo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Jo(n.url,e.url)||!Ko(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Cf(n,e)||!Ko(n.queryParams,e.queryParams);default:return!Cf(n,e)}}(h,l,l.routeConfig.runGuardsAndResolvers);v?i.canActivateChecks.push(new my(r)):(l.data=h.data,l._resolvedData=h._resolvedData),Jr(n,e,l.component?m?m.children:null:t,r,i),v&&m&&m.outlet&&m.outlet.isActivated&&i.canDeactivateChecks.push(new xf(m.outlet.component,h))}else h&&Jg(e,m,i),i.canActivateChecks.push(new my(r)),Jr(n,null,l.component?m?m.children:null:t,r,i)})(h,l[h.value.outlet],t,r.concat([h.value]),i),delete l[h.value.outlet]}),_r(l,(h,m)=>Jg(h,t.getContext(m),i)),i}function Jg(n,e,t){const r=Bu(n),i=n.value;_r(r,(l,h)=>{Jg(l,i.component?e?e.children.getContext(h):null:e,t)}),t.canDeactivateChecks.push(new xf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class pE{}function yy(n){return new vn.y(e=>e.error(n))}class Mb{constructor(e,t,r,i,l,h){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=h}recognize(){const e=Nf(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Dt);if(null===t)return null;const r=new Ef([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Dt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ha(r,t),l=new Tf(this.url,i);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,r=ry(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const l of Object.keys(t.children)){const h=t.children[l],m=Tb(e,l),v=this.processSegmentGroup(m,h,l);if(null===v)return null;r.push(...v)}const i=vy(r);return function mE(n){n.sort((e,t)=>e.value.outlet===Dt?-1:t.value.outlet===Dt?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const l of e){const h=this.processSegmentAgainstRoute(l,t,r,i);if(null!==h)return h}return md(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!Gu(e,t,r,i))return null;let l,h=[],m=[];if("**"===e.path){const V=r.length>0?Fg(r).parameters:{};l=new Ef(r,V,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,xb(e),Ss(e),e.component,e,So(t),Qg(t)+r.length,Rb(e))}else{const V=qg(t,e,r);if(!V.matched)return null;h=V.consumedSegments,m=r.slice(V.lastChild),l=new Ef(h,V.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,xb(e),Ss(e),e.component,e,So(t),Qg(t)+h.length,Rb(e))}const v=function _E(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:T,slicedSegments:A}=Nf(t,h,m,v.filter(V=>void 0===V.redirectTo),this.relativeLinkResolution);if(0===A.length&&T.hasChildren()){const V=this.processChildren(v,T);return null===V?null:[new Ha(l,V)]}if(0===v.length&&0===A.length)return[new Ha(l,[])];const O=Ss(e)===i,L=this.processSegment(v,T,A,O?Dt:i);return null===L?null:[new Ha(l,L)]}}function Ob(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function vy(n){const e=[],t=new Set;for(const r of n){if(!Ob(r)){e.push(r);continue}const i=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=vy(r.children);e.push(new Ha(r.value,i))}return e.filter(r=>!t.has(r))}function So(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Qg(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function xb(n){return n.data||{}}function Rb(n){return n.resolve||{}}function Pb(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function wy(n){return ar(e=>{const t=n(e);return t?(0,Sn.D)(t).pipe((0,Xe.U)(()=>e)):ut(e)})}class Dy extends class Xg{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Ey=new c.OlP("ROUTES");class em{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,Xe.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const h=l.create(e);return new Db(K_(h.injector.get(Ey,void 0,c.XFs.Self|c.XFs.Optional)).map(Qo),h)}),Yi(l=>{throw t._loader$=void 0,l}));return t._loader$=new W_(i,()=>new bn.x).pipe(ud()),t._loader$}loadModuleFactory(e){return Yo(e()).pipe((0,$n.z)(t=>t instanceof c.YKP?ut(t):(0,Sn.D)(this.compiler.compileModuleAsync(t))))}}class Fb{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function wE(n){throw n}function DE(n,e,t){return e.parse("/")}function tm(n,e){return ut(null)}const KI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},EE={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Qr=(()=>{class n{constructor(t,r,i,l,h,m,v){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=l,this.config=v,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new bn.x,this.errorHandler=wE,this.malformedUriErrorHandler=DE,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:tm,afterPreactivation:tm},this.urlHandlingStrategy=new Fb,this.routeReuseStrategy=new Dy,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(c.h0i),this.console=h.get(c.c2e);const O=h.get(c.R0b);this.isNgZoneEnabled=O instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(v),this.currentUrlTree=function $1(){return new kl(new Pt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new em(h,m,L=>this.triggerEvent(new Ni(L)),L=>this.triggerEvent(new xl(L))),this.routerState=gb(this.currentUrlTree,this.rootComponentType),this.transitions=new Bt({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(dn(i=>0!==i.id),(0,Xe.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),ar(i=>{let l=!1,h=!1;return ut(i).pipe((0,f.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ar(m=>{const v=this.browserUrlTree.toString(),T=!this.navigated||m.extractedUrl.toString()!==v||v!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||T)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return Rf(m.source)&&(this.browserUrlTree=m.extractedUrl),ut(m).pipe(ar(O=>{const L=this.transitions.getValue();return r.next(new S(O.id,this.serializeUrl(O.extractedUrl),O.source,O.restoredState)),L!==this.transitions.getValue()?mr.E:Promise.resolve(O)}),function $I(n,e,t,r){return ar(i=>function Ib(n,e,t,r,i){return new Zg(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Xe.U)(l=>Object.assign(Object.assign({},i),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,f.b)(O=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:O.urlAfterRedirects})}),function ZI(n,e,t,r,i){return(0,$n.z)(l=>function gE(n,e,t,r,i="emptyOnly",l="legacy"){try{const h=new Mb(n,e,t,r,i,l).recognize();return null===h?yy(new pE):ut(h)}catch(h){return yy(h)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),r,i).pipe((0,Xe.U)(h=>Object.assign(Object.assign({},l),{targetSnapshot:h}))))}(this.rootComponentType,this.config,O=>this.serializeUrl(O),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,f.b)(O=>{if("eager"===this.urlUpdateStrategy){if(!O.extras.skipLocationChange){const V=this.urlHandlingStrategy.merge(O.urlAfterRedirects,O.rawUrl);this.setBrowserUrl(V,O)}this.browserUrlTree=O.urlAfterRedirects}const L=new Be(O.id,this.serializeUrl(O.extractedUrl),this.serializeUrl(O.urlAfterRedirects),O.targetSnapshot);r.next(L)}));if(T&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:L,extractedUrl:V,source:Q,restoredState:ve,extras:Ue}=m,Qe=new S(L,this.serializeUrl(V),Q,ve);r.next(Qe);const pt=gb(V,this.rootComponentType).snapshot;return ut(Object.assign(Object.assign({},m),{targetSnapshot:pt,urlAfterRedirects:V,extras:Object.assign(Object.assign({},Ue),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,m.resolve(null),mr.E}),wy(m=>{const{targetSnapshot:v,id:T,extractedUrl:A,rawUrl:O,extras:{skipLocationChange:L,replaceUrl:V}}=m;return this.hooks.beforePreactivation(v,{navigationId:T,appliedUrlTree:A,rawUrlTree:O,skipLocationChange:!!L,replaceUrl:!!V})}),(0,f.b)(m=>{const v=new Je(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(v)}),(0,Xe.U)(m=>Object.assign(Object.assign({},m),{guards:aE(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function WI(n,e){return(0,$n.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:l,canDeactivateChecks:h}}=t;return 0===h.length&&0===l.length?ut(Object.assign(Object.assign({},t),{guardsResult:!0})):function Ab(n,e,t,r){return(0,Sn.D)(n).pipe((0,$n.z)(i=>function fE(n,e,t,r,i){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?ut(l.map(m=>{const v=Yg(m,e,i);let T;if(function GI(n){return n&&ju(n.canDeactivate)}(v))T=Yo(v.canDeactivate(n,e,t,r));else{if(!ju(v))throw new Error("Invalid CanDeactivate guard");T=Yo(v(n,e,t,r))}return T.pipe(_())})).pipe($g()):ut(!0)}(i.component,i.route,t,e,r)),_(i=>!0!==i,!0))}(h,r,i,n).pipe((0,$n.z)(m=>m&&function BI(n){return"boolean"==typeof n}(m)?function zI(n,e,t,r){return(0,Sn.D)(e).pipe(Ol(i=>Ml(function _y(n,e){return null!==n&&e&&e(new cd(n)),ut(!0)}(i.route.parent,r),function dE(n,e){return null!==n&&e&&e(new pf(n)),ut(!0)}(i.route,r),function hE(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(h=>function Sb(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(h)).filter(h=>null!==h).map(h=>xg(()=>ut(h.guards.map(v=>{const T=Yg(v,h.node,t);let A;if(function HI(n){return n&&ju(n.canActivateChild)}(T))A=Yo(T.canActivateChild(r,n));else{if(!ju(T))throw new Error("Invalid CanActivateChild guard");A=Yo(T(r,n))}return A.pipe(_())})).pipe($g())));return ut(l).pipe($g())}(n,i.path,t),function Nb(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ut(!0);const i=r.map(l=>xg(()=>{const h=Yg(l,e,t);let m;if(function jI(n){return n&&ju(n.canActivate)}(h))m=Yo(h.canActivate(e,n));else{if(!ju(h))throw new Error("Invalid CanActivate guard");m=Yo(h(e,n))}return m.pipe(_())}));return ut(i).pipe($g())}(n,i.route,t))),_(i=>!0!==i,!0))}(r,l,n,e):ut(m)),(0,Xe.U)(m=>Object.assign(Object.assign({},t),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,f.b)(m=>{if(fd(m.guardsResult)){const T=mf(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw T.url=m.guardsResult,T}const v=new gt(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(v)}),dn(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),wy(m=>{if(m.guards.canActivateChecks.length)return ut(m).pipe((0,f.b)(v=>{const T=new it(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(T)}),ar(v=>{let T=!1;return ut(v).pipe(function kb(n,e){return(0,$n.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ut(t);let l=0;return(0,Sn.D)(i).pipe(Ol(h=>function yE(n,e,t,r){return function vE(n,e,t,r){const i=Pb(n);if(0===i.length)return ut({});const l={};return(0,Sn.D)(i).pipe((0,$n.z)(h=>function by(n,e,t,r){const i=Yg(n,e,r);return Yo(i.resolve?i.resolve(e,t):i(e,t))}(n[h],e,t,r).pipe((0,f.b)(m=>{l[h]=m}))),Pu(1),(0,$n.z)(()=>Pb(l).length===i.length?ut(l):mr.E))}(n._resolve,n,e,r).pipe((0,Xe.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),ry(n,t).resolve),null)))}(h.route,r,n,e)),(0,f.b)(()=>l++),Pu(1),(0,$n.z)(h=>l===i.length?ut(t):mr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,f.b)({next:()=>T=!0,complete:()=>{T||(this.restoreHistory(v),this.cancelNavigationTransition(v,"At least one route resolver didn't emit any value."))}}))}),(0,f.b)(v=>{const T=new wn(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(T)}))}),wy(m=>{const{targetSnapshot:v,id:T,extractedUrl:A,rawUrl:O,extras:{skipLocationChange:L,replaceUrl:V}}=m;return this.hooks.afterPreactivation(v,{navigationId:T,appliedUrlTree:A,rawUrlTree:O,skipLocationChange:!!L,replaceUrl:!!V})}),(0,Xe.U)(m=>{const v=function Ga(n,e,t){const r=Uu(n,e._root,t?t._root:void 0);return new pb(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:v})}),(0,f.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,Xe.U)(r=>(new nE(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,f.b)({next(){l=!0},complete(){l=!0}}),function g(n){return(0,Rr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var m;l||h||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===i.id&&(this.currentNavigation=null)}),Yi(m=>{if(h=!0,function _f(n){return n&&n[Lu]}(m)){const v=fd(m.url);v||(this.navigated=!0,this.restoreHistory(i,!0));const T=new W(i.id,this.serializeUrl(i.extractedUrl),m.message);r.next(T),v?setTimeout(()=>{const A=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),O={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Rf(i.source)};this.scheduleNavigation(A,"imperative",null,O,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const v=new ce(i.id,this.serializeUrl(i.extractedUrl),m);r.next(v);try{i.resolve(this.errorHandler(m))}catch(T){i.reject(T)}}return mr.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const l={replaceUrl:!0},h=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(h){const v=Object.assign({},h);delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(l.state=v)}const m=this.parseUrl(t.url);this.scheduleNavigation(m,r,h,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){dy(t),this.config=t.map(Qo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:l,fragment:h,queryParamsHandling:m,preserveFragment:v}=r,T=i||this.routerState.root,A=v?this.currentUrlTree.fragment:h;let O=null;switch(m){case"merge":O=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":O=this.currentUrlTree.queryParams;break;default:O=l||null}return null!==O&&(O=this.removeEmptyProps(O)),function LI(n,e,t,r,i){if(0===t.length)return hd(e.root,e.root,e,r,i);const l=function ay(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new jg(!0,0,n);let e=0,t=!1;const r=n.reduce((i,l,h)=>{if("object"==typeof l&&null!=l){if(l.outlets){const m={};return _r(l.outlets,(v,T)=>{m[T]="string"==typeof v?v.split("/"):v}),[...i,{outlets:m}]}if(l.segmentPath)return[...i,l.segmentPath]}return"string"!=typeof l?[...i,l]:0===h?(l.split("/").forEach((m,v)=>{0==v&&"."===m||(0==v&&""===m?t=!0:".."===m?e++:""!=m&&i.push(m))}),i):[...i,l]},[]);return new jg(t,e,r)}(t);if(l.toRoot())return hd(e.root,new Pt([],{}),e,r,i);const h=function VI(n,e,t){if(n.isAbsolute)return new Af(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new Af(l,l===e.root,0)}const r=If(n.commands[0])?0:1;return function Q1(n,e,t){let r=n,i=e,l=t;for(;l>i;){if(l-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Af(r,!1,i-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,e,n),m=h.processChildren?Hg(h.segmentGroup,h.index,l.commands):yb(h.segmentGroup,h.index,l.commands);return hd(h.segmentGroup,m,e,r,i)}(T,this.currentUrlTree,t,O,null!=A?A:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=fd(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function Lb(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},KI):!1===r?Object.assign({},EE):r,fd(t))return Rl(this.currentUrlTree,t,i);const l=this.parseUrl(t);return Rl(this.currentUrlTree,l,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const l=t[i];return null!=l&&(r[i]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new x(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,l,h){var m,v,T;if(this.disposed)return Promise.resolve(!1);const A=this.transitions.value,O=Rf(r)&&A&&!Rf(A.source),L=A.rawUrl.toString()===t.toString(),V=A.id===(null===(m=this.currentNavigation)||void 0===m?void 0:m.id);if(O&&L&&V)return Promise.resolve(!0);let ve,Ue,Qe;h?(ve=h.resolve,Ue=h.reject,Qe=h.promise):Qe=new Promise((Tt,ln)=>{ve=Tt,Ue=ln});const pt=++this.navigationId;let nn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),nn=i&&i.\u0275routerPageId?i.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(v=this.browserPageId)&&void 0!==v?v:0:(null!==(T=this.browserPageId)&&void 0!==T?T:0)+1):nn=0,this.setTransition({id:pt,targetPageId:nn,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:ve,reject:Ue,promise:Qe,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Qe.catch(Tt=>Promise.reject(Tt))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",l):this.location.go(i,"",l)}restoreHistory(t,r=!1){var i,l;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===h?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===h&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new W(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Rf(n){return"imperative"!==n}let _d=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new bn.x,this.subscription=t.events.subscribe(l=>{l instanceof x&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,l,h){if(0!==t||r||i||l||h||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const m={skipLocationChange:Ji(this.skipLocationChange),replaceUrl:Ji(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,m),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ji(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Qr),c.Y36(_t),c.Y36(z))},n.\u0275dir=c.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&c.NdJ("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&c.uIk("target",r.target)("href",r.href,c.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),n})();function Ji(n){return""===n||!!n}class Vb{}class im{preload(e,t){return ut(null)}}let Cy=(()=>{class n{constructor(t,r,i,l){this.router=t,this.injector=i,this.preloadingStrategy=l,this.loader=new em(i,r,v=>t.triggerEvent(new Ni(v)),v=>t.triggerEvent(new xl(v)))}setUpPreloading(){this.subscription=this.router.events.pipe(dn(t=>t instanceof x),Ol(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(c.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const h=l._loadedConfig;i.push(this.processRoutes(h.module,h.routes))}else l.loadChildren&&!l.canLoad?i.push(this.preloadConfig(t,l)):l.children&&i.push(this.processRoutes(t,l.children));return(0,Sn.D)(i).pipe((0,Nl.J)(),(0,Xe.U)(l=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?ut(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,$n.z)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Qr),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(Vb))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),kf=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof S?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof x&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Co&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Co(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const $u=new c.OlP("ROUTER_CONFIGURATION"),om=new c.OlP("ROUTER_FORROOT_GUARD"),Bb=[xe,{provide:Q_,useClass:Vg},{provide:Qr,useFactory:function Hb(n,e,t,r,i,l,h={},m,v){const T=new Qr(null,n,e,t,r,i,K_(l));return m&&(T.urlHandlingStrategy=m),v&&(T.routeReuseStrategy=v),function yd(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(h,T),h.enableTracing&&T.events.subscribe(A=>{var O,L;null===(O=console.group)||void 0===O||O.call(console,`Router Event: ${A.constructor.name}`),console.log(A.toString()),console.log(A),null===(L=console.groupEnd)||void 0===L||L.call(console)}),T},deps:[Q_,Hu,xe,c.zs3,c.Sil,Ey,$u,[class Ty{},new c.FiY],[class bE{},new c.FiY]]},Hu,{provide:_t,useFactory:function Gb(n){return n.routerState.root},deps:[Qr]},Cy,im,class YI{preload(e,t){return t().pipe(Yi(()=>ut(null)))}},{provide:$u,useValue:{enableTracing:!1}}];function Ub(){return new c.PXZ("Router",Qr)}let Iy=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[Bb,jb(t),{provide:om,useFactory:IE,deps:[[Qr,new c.FiY,new c.tp0]]},{provide:$u,useValue:r||{}},{provide:z,useFactory:Sy,deps:[fe,[new c.tBr(me),new c.FiY],$u]},{provide:kf,useFactory:CE,deps:[Qr,cl,$u]},{provide:Vb,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:im},{provide:c.PXZ,multi:!0,useFactory:Ub},[Ay,{provide:c.ip1,multi:!0,useFactory:SE,deps:[Ay]},{provide:$b,useFactory:vd,deps:[Ay]},{provide:c.tb,multi:!0,useExisting:$b}]]}}static forChild(t){return{ngModule:n,providers:[jb(t)]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(om,8),c.LFG(Qr,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function CE(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new kf(n,e,t)}function Sy(n,e,t={}){return t.useHash?new de(n,e):new Te(n,e)}function IE(n){return"guarded"}function jb(n){return[{provide:c.deG,multi:!0,useValue:n},{provide:Ey,multi:!0,useValue:n}]}let Ay=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new bn.x}appInitializer(){return this.injector.get(H,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(m=>r=m),l=this.injector.get(Qr),h=this.injector.get($u);return"disabled"===h.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?ut(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get($u),i=this.injector.get(Cy),l=this.injector.get(kf),h=this.injector.get(Qr),m=this.injector.get(c.z2F);t===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),i.setUpPreloading(),l.init(),h.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function SE(n){return n.appInitializer.bind(n)}function vd(n){return n.bootstrapListener.bind(n)}const $b=new c.OlP("Router Initializer");var Ny=R(4986),an=R(5813);function Pf(){return(0,Rr.e)((n,e)=>{let t,r=!1;n.subscribe(new Jt.Q(e,i=>{const l=t;t=i,r&&e.next([l,i]),r=!0}))})}function Wb(n,e){return n===e}var Ze,Ys=R(2011),ME=(R(389),R(3942)),ye=R(5861),Wu=R(9681),am=R(4859),$a=R(1877),Ft=R(2090),zb="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Wa={},qb=qb||{},bt=zb||self;function bd(){}function My(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function wd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Kb="closure_uid_"+(1e9*Math.random()>>>0),Ao=0;function QI(n,e,t){return n.call.apply(n.bind,arguments)}function XI(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function kr(n,e,t){return(kr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?QI:XI).apply(null,arguments)}function Lf(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Pr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,l){for(var h=Array(arguments.length-2),m=2;m<arguments.length;m++)h[m-2]=arguments[m];return e.prototype[i].apply(r,h)}}function Fl(){this.s=this.s,this.o=this.o}var Yb={};Fl.prototype.s=!1,Fl.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Zb(n){return Object.prototype.hasOwnProperty.call(n,Kb)&&n[Kb]||(n[Kb]=++Ao)}(this);delete Yb[n]}},Fl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const lm=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Jb=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in i&&e.call(t,i[l],l,n)};function Qb(n){return Array.prototype.concat.apply([],arguments)}function xy(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function um(n){return/^[\s\xa0]*$/.test(n)}var Fr,Xb=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Mi(n,e){return-1!=n.indexOf(e)}function Ry(n,e){return n<e?-1:n>e?1:0}e:{var zu=bt.navigator;if(zu){var ew=zu.userAgent;if(ew){Fr=ew;break e}}Fr=""}function qu(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function tw(n){const e={};for(const t in n)e[t]=n[t];return e}var nw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function cm(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let l=0;l<nw.length;l++)t=nw[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Js(n){return Js[" "](n),n}Js[" "]=bd;var za,n,yi=Mi(Fr,"Opera"),Qs=Mi(Fr,"Trident")||Mi(Fr,"MSIE"),Bf=Mi(Fr,"Edge"),Qi=Bf||Qs,dm=Mi(Fr,"Gecko")&&!(Mi(Fr.toLowerCase(),"webkit")&&!Mi(Fr,"Edge"))&&!(Mi(Fr,"Trident")||Mi(Fr,"MSIE"))&&!Mi(Fr,"Edge"),Dd=Mi(Fr.toLowerCase(),"webkit")&&!Mi(Fr,"Edge");function Zu(){var n=bt.document;return n?n.documentMode:void 0}e:{var Ll="",Vl=(n=Fr,dm?/rv:([^\);]+)(\)|;)/.exec(n):Bf?/Edge\/([\d\.]+)/.exec(n):Qs?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Dd?/WebKit\/(\S+)/.exec(n):yi?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Vl&&(Ll=Vl?Vl[1]:""),Qs){var Bl=Zu();if(null!=Bl&&Bl>parseFloat(Ll)){za=String(Bl);break e}}za=Ll}var Ed={};var rw=bt.document&&Qs&&(Zu()||parseInt(za,10))||void 0,iw=function(){if(!bt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{bt.addEventListener("test",bd,e),bt.removeEventListener("test",bd,e)}catch(t){}return n}();function Xr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Cd(n,e){if(Xr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(dm){e:{try{Js(e.nodeName);var i=!0;break e}catch(l){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:sw[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Cd.Z.h.call(this)}}Xr.prototype.h=function(){this.defaultPrevented=!0},Pr(Cd,Xr);var sw={2:"touch",3:"pen",4:"mouse"};Cd.prototype.h=function(){Cd.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Id="closure_listenable_"+(1e6*Math.random()|0),ow=0;function aw(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++ow,this.ca=this.fa=!1}function hm(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Uf(n){this.src=n,this.g={},this.h=0}function Py(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],i=lm(r,e);(l=0<=i)&&Array.prototype.splice.call(r,i,1),l&&(hm(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function fm(n,e,t,r){for(var i=0;i<n.length;++i){var l=n[i];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return i}return-1}Uf.prototype.add=function(n,e,t,r,i){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var h=fm(n,e,r,i);return-1<h?(e=n[h],t||(e.fa=!1)):((e=new aw(e,this.src,l,!!r,i)).fa=t,n.push(e)),e};var pm="closure_lm_"+(1e6*Math.random()|0),Fy={};function lw(n,e,t,r,i){if(r&&r.once)return Vy(n,e,t,r,i);if(Array.isArray(e)){for(var l=0;l<e.length;l++)lw(n,e[l],t,r,i);return null}return t=Uy(t),n&&n[Id]?n.N(e,t,wd(r)?!!r.capture:!!r,i):Ly(n,e,t,!1,r,i)}function Ly(n,e,t,r,i,l){if(!e)throw Error("Invalid event type");var h=wd(i)?!!i.capture:!!i,m=jf(n);if(m||(n[pm]=m=new Uf(n)),(t=m.add(e,t,r,h,l)).proxy)return t;if(r=function OE(){var e=RE;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)iw||(i=h),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(xE(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Vy(n,e,t,r,i){if(Array.isArray(e)){for(var l=0;l<e.length;l++)Vy(n,e[l],t,r,i);return null}return t=Uy(t),n&&n[Id]?n.O(e,t,wd(r)?!!r.capture:!!r,i):Ly(n,e,t,!0,r,i)}function uw(n,e,t,r,i){if(Array.isArray(e))for(var l=0;l<e.length;l++)uw(n,e[l],t,r,i);else r=wd(r)?!!r.capture:!!r,t=Uy(t),n&&n[Id]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=fm(l=n.g[e],t,r,i))&&(hm(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=jf(n))&&(e=n.g[e.toString()],n=-1,e&&(n=fm(e,t,r,i)),(t=-1<n?e[n]:null)&&By(t))}function By(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Id])Py(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(xE(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=jf(e))?(Py(t,n),0==t.h&&(t.src=null,e[pm]=null)):hm(n)}}}function xE(n){return n in Fy?Fy[n]:Fy[n]="on"+n}function RE(n,e){if(n.ca)n=!0;else{e=new Cd(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&By(n),n=t.call(r,e)}return n}function jf(n){return(n=n[pm])instanceof Uf?n:null}var Hf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Uy(n){return"function"==typeof n?n:(n[Hf]||(n[Hf]=function(e){return n.handleEvent(e)}),n[Hf])}function ei(){Fl.call(this),this.i=new Uf(this),this.P=this,this.I=null}function vi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Xr(e,n);else if(e instanceof Xr)e.target=e.target||n;else{var i=e;cm(e=new Xr(r,n),i)}if(i=!0,t)for(var l=t.length-1;0<=l;l--){var h=e.g=t[l];i=jy(h,r,!0,e)&&i}if(i=jy(h=e.g=n,r,!0,e)&&i,i=jy(h,r,!1,e)&&i,t)for(l=0;l<t.length;l++)i=jy(h=e.g=t[l],r,!1,e)&&i}function jy(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,l=0;l<e.length;++l){var h=e[l];if(h&&!h.ca&&h.capture==t){var m=h.listener,v=h.ia||h.src;h.fa&&Py(n.i,h),i=!1!==m.call(v,r)&&i}}return i&&!r.defaultPrevented}Pr(ei,Fl),ei.prototype[Id]=!0,ei.prototype.removeEventListener=function(n,e,t,r){uw(this,n,e,t,r)},ei.prototype.M=function(){if(ei.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)hm(t[r]);delete n.g[e],n.h--}}this.I=null},ei.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},ei.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Hy=bt.JSON.stringify;function cw(){var n=fw;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Gy,dw=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Sd,n=>n.reset());class Sd{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function kE(n){bt.setTimeout(()=>{throw n},0)}function gm(n,e){Gy||function hw(){var n=bt.Promise.resolve(void 0);Gy=function(){n.then(pw)}}(),Ad||(Gy(),Ad=!0),fw.add(n,e)}var Ad=!1,fw=new class tS{constructor(){this.h=this.g=null}add(e,t){const r=dw.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function pw(){for(var n;n=cw();){try{n.h.call(n.g)}catch(t){kE(t)}var e=dw;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Ad=!1}function mm(n,e){ei.call(this),this.h=n||1,this.g=e||bt,this.j=kr(this.kb,this),this.l=Date.now()}function $y(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Wy(n,e,t){if("function"==typeof n)t&&(n=kr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=kr(n.handleEvent,n)}return 2147483647<Number(e)?-1:bt.setTimeout(n,e||0)}function gw(n){n.g=Wy(()=>{n.g=null,n.i&&(n.i=!1,gw(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Pr(mm,ei),(Ze=mm.prototype).da=!1,Ze.S=null,Ze.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),vi(this,"tick"),this.da&&($y(this),this.start()))}},Ze.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ze.M=function(){mm.Z.M.call(this),$y(this),delete this.g};class PE extends Fl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:gw(this)}M(){super.M(),this.g&&(bt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nd(n){Fl.call(this),this.h=n,this.g={}}Pr(Nd,Fl);var mw=[];function zy(n,e,t,r){Array.isArray(t)||(t&&(mw[0]=t.toString()),t=mw);for(var i=0;i<t.length;i++){var l=lw(e,t[i],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function qy(n){qu(n.g,function(e,t){this.g.hasOwnProperty(t)&&By(e)},n),n.g={}}function Md(){this.g=!0}function Od(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Gf(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var l=i[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var h=1;h<i.length;h++)i[h]=""}}}return Hy(t)}catch(m){return e}}(n,t)+(r?" "+r:"")})}Nd.prototype.M=function(){Nd.Z.M.call(this),qy(this)},Nd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Md.prototype.Aa=function(){this.g=!1},Md.prototype.info=function(){};var jl={},_m=null;function xd(){return _m=_m||new ei}function _w(n){Xr.call(this,jl.Ma,n)}function Ku(n){const e=xd();vi(e,new _w(e,n))}function ym(n,e){Xr.call(this,jl.STAT_EVENT,n),this.stat=e}function bi(n){const e=xd();vi(e,new ym(e,n))}function FE(n,e){Xr.call(this,jl.Na,n),this.size=e}function $f(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return bt.setTimeout(function(){n()},e)}jl.Ma="serverreachability",Pr(_w,Xr),jl.STAT_EVENT="statevent",Pr(ym,Xr),jl.Na="timingevent",Pr(FE,Xr);var Wf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ky={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Yy(){}function vm(){}Yy.prototype.h=null;var wm,Rd={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function bm(){Xr.call(this,"d")}function zf(){Xr.call(this,"c")}function Dm(){}function kd(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Nd(this),this.P=Xy,this.W=new mm(n=Qi?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Qy}function Qy(){this.i=null,this.g="",this.h=!1}Pr(bm,Xr),Pr(zf,Xr),Pr(Dm,Yy),Dm.prototype.g=function(){return new XMLHttpRequest},Dm.prototype.i=function(){return{}},wm=new Dm;var Xy=45e3,Em={},Tm={};function Cm(n,e,t){n.K=1,n.v=Za(qa(e)),n.s=t,n.U=!0,ev(n,null)}function ev(n,e){n.F=Date.now(),Pd(n),n.A=qa(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),ov(t.h,"t",r),n.C=0,t=n.l.H,n.h=new Qy,n.g=KE(n.l,t?e:null,!n.s),0<n.O&&(n.L=new PE(kr(n.Ia,n,n.g),n.O)),zy(n.V,n.g,"readystatechange",n.gb),e=n.H?tw(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Ku(1),function nS(n,e,t,r,i,l){n.info(function(){if(n.g)if(l)for(var h="",m=l.split("&"),v=0;v<m.length;v++){var T=m[v].split("=");if(1<T.length){var A=T[0];T=T[1];var O=A.split("_");h=2<=O.length&&"type"==O[1]?h+(A+"=")+T+"&":h+(A+"=redacted&")}}else h=null;else h=l;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Im(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function qf(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=yw(n,t),i==Tm){4==e&&(n.o=4,bi(14),r=!1),Od(n.j,n.m,null,"[Incomplete Response]");break}if(i==Em){n.o=4,bi(15),Od(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Od(n.j,n.m,i,null),Sm(n,i)}Im(n)&&i!=Tm&&i!=Em&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,bi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Vm(e),e.L=!0,bi(11))):(Od(n.j,n.m,t,"[Invalid Chunked Response]"),Hl(n),Fd(n))}function yw(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Tm:(t=Number(e.substring(t,r)),isNaN(t)?Em:(r+=1)+t>e.length?Tm:(e=e.substr(r,t),n.C=r+t,e))}function Pd(n){n.Y=Date.now()+n.P,tv(n,n.P)}function tv(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=$f(kr(n.eb,n),e)}function Zf(n){n.B&&(bt.clearTimeout(n.B),n.B=null)}function Fd(n){0==n.l.G||n.I||yv(n.l,n)}function Hl(n){Zf(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,$y(n.W),qy(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Sm(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||av(t.i,n)))if(t.I=n.N,!n.J&&av(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(T){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=$f(kr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;$d(t),Fm(t)}Lm(t),bi(18)}if(1>=Ud(t.i)&&t.ka){try{t.ka()}catch(T){}t.ka=void 0}}else Xu(t,11)}else if((n.J||t.g==n)&&$d(t),!um(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let T=i[e];if(t.U=T[0],T=T[1],2==t.G)if("c"==T[0]){t.J=T[1],t.la=T[2];const A=T[3];null!=A&&(t.ma=A,t.h.info("VER="+t.ma));const O=T[4];null!=O&&(t.za=O,t.h.info("SVER="+t.za));const L=T[5];null!=L&&"number"==typeof L&&0<L&&(t.K=r=1.5*L,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const V=n.g;if(V){const Q=V.g?V.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Q){var l=r.i;!l.g&&(Mi(Q,"spdy")||Mi(Q,"quic")||Mi(Q,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(Om(l,l.h),l.h=null))}if(r.D){const ve=V.g?V.g.getResponseHeader("X-HTTP-Session-Id"):null;ve&&(r.sa=ve,Dn(r.F,r.D,ve))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var h=n;if((r=t).oa=ec(r,r.H?r.la:null,r.W),h.J){Tw(r.i,h);var m=h,v=r.K;v&&m.setTimeout(v),m.B&&(Zf(m),Pd(m)),r.g=h}else mv(r);0<t.l.length&&Xf(t)}else"stop"!=T[0]&&"close"!=T[0]||Xu(t,7);else 3==t.G&&("stop"==T[0]||"close"==T[0]?"stop"==T[0]?Xu(t,7):hv(t):"noop"!=T[0]&&t.j&&t.j.wa(T),t.A=0)}Ku(4)}catch(T){}}function bw(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(My(n)||"string"==typeof n)Jb(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(My(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function vw(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(My(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var l=0;l<i;l++)e.call(void 0,r[l],t&&t[l],n)}}function Ld(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Ld)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function nv(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Gl(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)Gl(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function Gl(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Ze=kd.prototype).setTimeout=function(n){this.P=n},Ze.gb=function(n){n=n.target;const e=this.L;e&&3==Ka(n)?e.l():this.Ia(n)},Ze.Ia=function(n){try{if(n==this.g)e:{const A=Ka(this.g);var e=this.g.Da();const O=this.g.ba();if(!(3>A)&&(3!=A||Qi||this.g&&(this.h.h||this.g.ga()||xw(this.g)))){this.I||4!=A||7==e||Ku(8==e||0>=O?3:2),Zf(this);var t=this.g.ba();this.N=t;t:if(Im(this)){var r=xw(this.g);n="";var i=r.length,l=4==Ka(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Hl(this),Fd(this);var h="";break t}this.h.i=new bt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==t,function Zy(n,e,t,r,i,l,h){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+l+" "+h})}(this.j,this.u,this.A,this.m,this.X,A,t),this.i){if(this.$&&!this.J){t:{if(this.g){var m,v=this.g;if((m=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!um(m)){var T=m;break t}}T=null}if(!(t=T)){this.i=!1,this.o=3,bi(12),Hl(this),Fd(this);break e}Od(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Sm(this,t)}this.U?(qf(this,A,h),Qi&&this.i&&3==A&&(zy(this.V,this.W,"tick",this.fb),this.W.start())):(Od(this.j,this.m,h,null),Sm(this,h)),4==A&&Hl(this),this.i&&!this.I&&(4==A?yv(this.l,this):(this.i=!1,Pd(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,bi(12)):(this.o=0,bi(13)),Hl(this),Fd(this)}}}catch(A){}},Ze.fb=function(){if(this.g){var n=Ka(this.g),e=this.g.ga();this.C<e.length&&(Zf(this),qf(this,n,e),this.i&&4!=n&&Pd(this))}},Ze.cancel=function(){this.I=!0,Hl(this)},Ze.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function rS(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ku(3),bi(17)),Hl(this),this.o=2,Fd(this)):tv(this,this.Y-n)},(Ze=Ld.prototype).R=function(){nv(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Ze.T=function(){return nv(this),this.g.concat()},Ze.get=function(n,e){return Gl(this.h,n)?this.h[n]:e},Ze.set=function(n,e){Gl(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Ze.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],l=this.get(i);n.call(e,l,i,this)}};var ww=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function $l(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof $l){this.g=void 0!==e?e:n.g,Am(this,n.j),this.s=n.s,Kf(this,n.i),Nm(this,n.m),this.l=n.l,e=n.h;var t=new Bd;t.i=e.i,e.g&&(t.g=new Ld(e.g),t.h=e.h),rv(this,t),this.o=n.o}else n&&(t=String(n).match(ww))?(this.g=!!e,Am(this,t[1]||"",!0),this.s=Vd(t[2]||""),Kf(this,t[3]||"",!0),Nm(this,t[4]),this.l=Vd(t[5]||"",!0),rv(this,t[6]||"",!0),this.o=Vd(t[7]||"")):(this.g=!!e,this.h=new Bd(null,this.g))}function qa(n){return new $l(n)}function Am(n,e,t){n.j=t?Vd(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Kf(n,e,t){n.i=t?Vd(e,!0):e}function Nm(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function rv(n,e,t){e instanceof Bd?(n.h=e,function jE(n,e){e&&!n.j&&(ti(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Xs(this,r),ov(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Yf(e,ea)),n.h=new Bd(e,n.g))}function Dn(n,e,t){n.h.set(e,t)}function Za(n){return Dn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Vd(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Yf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Dw),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Dw(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}$l.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Yf(e,BE,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Yf(e,BE,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Yf(t,"/"==t.charAt(0)?sv:iv,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Yf(t,UE)),n.join("")};var BE=/[#\/\?@]/g,iv=/[#\?:]/g,sv=/[#\?]/g,ea=/[#\?@]/g,UE=/#/g;function Bd(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ti(n){n.g||(n.g=new Ld,n.h=0,n.i&&function yr(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var l=n[t].substring(0,r);i=n[t].substring(r+1)}else l=n[t];e(l,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Xs(n,e){ti(n),e=Yu(n,e),Gl(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Gl((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&nv(n)))}function eo(n,e){return ti(n),e=Yu(n,e),Gl(n.g.h,e)}function ov(n,e,t){Xs(n,e),0<t.length&&(n.i=null,n.g.set(Yu(n,e),xy(t)),n.h+=t.length)}function Yu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Ew(n){this.l=n||GE,n=bt.PerformanceNavigationTiming?0<(n=bt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(bt.g&&bt.g.Ea&&bt.g.Ea()&&bt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ze=Bd.prototype).add=function(n,e){ti(this),this.i=null,n=Yu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ze.forEach=function(n,e){ti(this),this.g.forEach(function(t,r){Jb(t,function(i){n.call(e,i,r,this)},this)},this)},Ze.T=function(){ti(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],l=0;l<i.length;l++)t.push(e[r]);return t},Ze.R=function(n){ti(this);var e=[];if("string"==typeof n)eo(this,n)&&(e=Qb(e,this.g.get(Yu(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Qb(e,n[t])}return e},Ze.set=function(n,e){return ti(this),this.i=null,eo(this,n=Yu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ze.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Ze.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var h=i;""!==r[l]&&(h+="="+encodeURIComponent(String(r[l]))),n.push(h)}}return this.i=n.join("&")};var GE=10;function Mm(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Ud(n){return n.h?1:n.g?n.g.size:0}function av(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Om(n,e){n.g?n.g.add(e):n.h=e}function Tw(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function lv(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return xy(n.i)}function xm(){}function Rm(){this.g=new xm}function $E(n,e,t){const r=t||"";try{bw(n,function(i,l){let h=i;wd(i)&&(h=Hy(i)),e.push(r+l+"="+encodeURIComponent(h))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Jf(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(l){}}function Ju(n){this.l=n.$b||null,this.j=n.ib||!1}function Qu(n,e){ei.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=km,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ew.prototype.cancel=function(){if(this.i=lv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},xm.prototype.stringify=function(n){return bt.JSON.stringify(n,void 0)},xm.prototype.parse=function(n){return bt.JSON.parse(n,void 0)},Pr(Ju,Yy),Ju.prototype.g=function(){return new Qu(this.l,this.j)},Ju.prototype.i=function(n){return function(){return n}}({}),Pr(Qu,ei);var km=0;function uv(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function jd(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Hd(n)}function Hd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ze=Qu.prototype).open=function(n,e){if(this.readyState!=km)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Hd(this)},Ze.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||bt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Ze.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,jd(this)),this.readyState=km},Ze.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Hd(this)),this.g&&(this.readyState=3,Hd(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==bt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;uv(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Ze.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?jd(this):Hd(this),3==this.readyState&&uv(this)}},Ze.Ua=function(n){this.g&&(this.response=this.responseText=n,jd(this))},Ze.Ta=function(n){this.g&&(this.response=n,jd(this))},Ze.ha=function(){this.g&&jd(this)},Ze.setRequestHeader=function(n,e){this.v.append(n,e)},Ze.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ze.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Qu.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Iw=bt.JSON.parse;function Xn(n){ei.call(this),this.headers=new Ld,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=cv,this.K=this.L=!1}Pr(Xn,ei);var cv="",Sw=/^https?$/i,WE=["POST","PUT"];function qE(n){return"content-type"==n.toLowerCase()}function Aw(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Nw(n),Pm(n)}function Nw(n){n.D||(n.D=!0,vi(n,"complete"),vi(n,"error"))}function Mw(n){if(n.h&&void 0!==qb&&(!n.C[1]||4!=Ka(n)||2!=n.ba()))if(n.v&&4==Ka(n))Wy(n.Fa,0,n);else if(vi(n,"readystatechange"),4==Ka(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var i=String(n.H).match(ww)[1]||null;if(!i&&bt.self&&bt.self.location){var l=bt.self.location.protocol;i=l.substr(0,l.length-1)}r=!Sw.test(i?i.toLowerCase():"")}t=r}if(t)vi(n,"complete"),vi(n,"success");else{n.m=6;try{var h=2<Ka(n)?n.g.statusText:""}catch(v){h=""}n.j=h+" ["+n.ba()+"]",Nw(n)}}finally{Pm(n)}}}function Pm(n,e){if(n.g){Ow(n);const t=n.g,r=n.C[0]?bd:null;n.g=null,n.C=null,e||vi(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function Ow(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(bt.clearTimeout(n.A),n.A=null)}function Ka(n){return n.g?n.g.readyState:0}function xw(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case cv:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function dv(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function ZE(n){let e="";return qu(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Dn(n,e,t))}function Qf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Rw(n){this.za=0,this.l=[],this.h=new Md,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Qf("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Qf("baseRetryDelayMs",5e3,n),this.$a=Qf("retryDelaySeedMs",1e4,n),this.Ya=Qf("forwardChannelMaxRetries",2,n),this.ra=Qf("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Ew(n&&n.concurrentRequestLimit),this.Ca=new Rm,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function hv(n){if(kw(n),3==n.G){var e=n.V++,t=qa(n.F);Dn(t,"SID",n.J),Dn(t,"RID",e),Dn(t,"TYPE","terminate"),Gd(n,t),(e=new kd(n,n.h,e,void 0)).K=2,e.v=Za(qa(t)),t=!1,bt.navigator&&bt.navigator.sendBeacon&&(t=bt.navigator.sendBeacon(e.v.toString(),"")),!t&&bt.Image&&((new Image).src=e.v,t=!0),t||(e.g=KE(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Pd(e)}Fw(n)}function Fm(n){n.g&&(Vm(n),n.g.cancel(),n.g=null)}function kw(n){Fm(n),n.u&&(bt.clearTimeout(n.u),n.u=null),$d(n),n.i.cancel(),n.m&&("number"==typeof n.m&&bt.clearTimeout(n.m),n.m=null)}function fv(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Xf(n)}function Xf(n){Mm(n.i)||n.m||(n.m=!0,gm(n.Ha,n),n.C=0)}function pv(n,e){var t;t=e?e.m:n.V++;const r=qa(n.F);Dn(r,"SID",n.J),Dn(r,"RID",t),Dn(r,"AID",n.U),Gd(n,r),n.o&&n.s&&dv(r,n.o,n.s),t=new kd(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=gv(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Om(n.i,t),Cm(t,r,e)}function Gd(n,e){n.j&&bw({},function(t,r){Dn(e,r,t)})}function gv(n,e,t){t=Math.min(n.l.length,t);var r=n.j?kr(n.j.Oa,n.j,n):null;e:{var i=n.l;let l=-1;for(;;){const h=["count="+t];-1==l?0<t?(l=i[0].h,h.push("ofs="+l)):l=0:h.push("ofs="+l);let m=!0;for(let v=0;v<t;v++){let T=i[v].h;const A=i[v].g;if(T-=l,0>T)l=Math.max(0,i[v].h-100),m=!1;else try{$E(A,h,"req"+T+"_")}catch(O){r&&r(A)}}if(m){r=h.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function mv(n){n.g||n.u||(n.Y=1,gm(n.Ga,n),n.A=0)}function Lm(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=$f(kr(n.Ga,n),Wl(n,n.A)),n.A++,0))}function Vm(n){null!=n.B&&(bt.clearTimeout(n.B),n.B=null)}function _v(n){n.g=new kd(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=qa(n.oa);Dn(e,"RID","rpc"),Dn(e,"SID",n.J),Dn(e,"CI",n.N?"0":"1"),Dn(e,"AID",n.U),Gd(n,e),Dn(e,"TYPE","xmlhttp"),n.o&&n.s&&dv(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Za(qa(e)),t.s=null,t.U=!0,ev(t,n)}function $d(n){null!=n.v&&(bt.clearTimeout(n.v),n.v=null)}function yv(n,e){var t=null;if(n.g==e){$d(n),Vm(n),n.g=null;var r=2}else{if(!av(n.i,e))return;t=e.D,Tw(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;vi(r=xd(),new FE(r,t,e,i)),Xf(n)}else mv(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function Pw(n,e){return!(Ud(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=$f(kr(n.Ha,n,e),Wl(n,n.C)),n.C++,0)))}(n,e)||2==r&&Lm(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Xu(n,5);break;case 4:Xu(n,10);break;case 3:Xu(n,6);break;default:Xu(n,2)}}function Wl(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Xu(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=kr(n.jb,n);t||(t=new $l("//www.google.com/images/cleardot.gif"),bt.location&&"http"==bt.location.protocol||Am(t,"https"),Za(t)),function Cw(n,e){const t=new Md;if(bt.Image){const r=new Image;r.onload=Lf(Jf,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Lf(Jf,t,r,"TestLoadImage: error",!1,e),r.onabort=Lf(Jf,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Lf(Jf,t,r,"TestLoadImage: timeout",!1,e),bt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else bi(2);n.G=0,n.j&&n.j.va(e),Fw(n),kw(n)}function Fw(n){n.G=0,n.I=-1,n.j&&((0!=lv(n.i).length||0!=n.l.length)&&(n.i.i.length=0,xy(n.l),n.l.length=0),n.j.ua())}function ec(n,e,t){let r=function LE(n){return n instanceof $l?qa(n):new $l(n,void 0)}(t);if(""!=r.i)e&&Kf(r,e+"."+r.i),Nm(r,r.m);else{const i=bt.location;r=function VE(n,e,t,r){var i=new $l(null,void 0);return n&&Am(i,n),e&&Kf(i,e),t&&Nm(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&qu(n.aa,function(i,l){Dn(r,l,i)}),t=n.sa,(e=n.D)&&t&&Dn(r,e,t),Dn(r,"VER",n.ma),Gd(n,r),r}function KE(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Xn(t&&n.Ba&&!n.qa?new Ju({ib:!0}):n.qa)).L=n.H,e}function Bm(){}function vv(){if(Qs&&!(10<=Number(rw)))throw Error("Environmental error: no available transport.")}function Xi(n,e){ei.call(this),this.g=new Rw(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!um(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!um(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new lt(this)}function bv(n){bm.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function YE(){zf.call(this),this.status=1}function lt(n){this.g=n}(Ze=Xn.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():wm.g(),this.C=function Jy(n){return n.h||(n.h=n.i())}(this.u?this.u:wm),this.g.onreadystatechange=kr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void Aw(this,l)}n=t||"";const i=new Ld(this.headers);r&&bw(r,function(l,h){i.set(h,l)}),r=function Oy(n){e:{var e=qE;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=bt.FormData&&n instanceof bt.FormData,!(0<=lm(WE,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(l,h){this.g.setRequestHeader(h,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ow(this),0<this.B&&((this.K=function zE(n){return Qs&&function Td(){return function Vf(n){var e=Ed;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Xb(String(za)).split("."),t=Xb("9").split("."),r=Math.max(e.length,t.length);for(let h=0;0==n&&h<r;h++){var i=e[h]||"",l=t[h]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==i[0].length&&0==l[0].length)break;n=Ry(0==i[1].length?0:parseInt(i[1],10),0==l[1].length?0:parseInt(l[1],10))||Ry(0==i[2].length,0==l[2].length)||Ry(i[2],l[2]),i=i[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=kr(this.pa,this)):this.A=Wy(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){Aw(this,l)}},Ze.pa=function(){void 0!==qb&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,vi(this,"timeout"),this.abort(8))},Ze.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,vi(this,"complete"),vi(this,"abort"),Pm(this))},Ze.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Pm(this,!0)),Xn.Z.M.call(this)},Ze.Fa=function(){this.s||(this.F||this.v||this.l?Mw(this):this.cb())},Ze.cb=function(){Mw(this)},Ze.ba=function(){try{return 2<Ka(this)?this.g.status:-1}catch(n){return-1}},Ze.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Ze.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Iw(e)}},Ze.Da=function(){return this.m},Ze.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ze=Rw.prototype).ma=8,Ze.G=1,Ze.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Ze.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new kd(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=tw(l),cm(l,this.P)):l=this.P),null===this.o&&(i.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=gv(this,i,e),Dn(t=qa(this.F),"RID",n),Dn(t,"CVER",22),this.D&&Dn(t,"X-HTTP-Session-Id",this.D),Gd(this,t),this.o&&l&&dv(t,this.o,l),Om(this.i,i),this.Ra&&Dn(t,"TYPE","init"),this.ja?(Dn(t,"$req",e),Dn(t,"SID","null"),i.$=!0,Cm(i,t,null)):Cm(i,t,e),this.G=2}}else 3==this.G&&(n?pv(this,n):0==this.l.length||Mm(this.i)||pv(this))},Ze.Ga=function(){if(this.u=null,_v(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=$f(kr(this.bb,this),n)}},Ze.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,bi(10),Fm(this),_v(this))},Ze.ab=function(){null!=this.v&&(this.v=null,Fm(this),Lm(this),bi(19))},Ze.jb=function(n){n?(this.h.info("Successfully pinged google.com"),bi(2)):(this.h.info("Failed to ping google.com"),bi(1))},(Ze=Bm.prototype).xa=function(){},Ze.wa=function(){},Ze.va=function(){},Ze.ua=function(){},Ze.Oa=function(){},vv.prototype.g=function(n,e){return new Xi(n,e)},Pr(Xi,ei),Xi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),gm(kr(n.hb,n,e))),bi(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=ec(n,null,n.W),Xf(n)},Xi.prototype.close=function(){hv(this.g)},Xi.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,fv(this.g,e)}else this.v?((e={}).__data__=Hy(n),fv(this.g,e)):fv(this.g,n)},Xi.prototype.M=function(){this.g.j=null,delete this.j,hv(this.g),delete this.g,Xi.Z.M.call(this)},Pr(bv,bm),Pr(YE,zf),Pr(lt,Bm),lt.prototype.xa=function(){vi(this.g,"a")},lt.prototype.wa=function(n){vi(this.g,new bv(n))},lt.prototype.va=function(n){vi(this.g,new YE(n))},lt.prototype.ua=function(){vi(this.g,"b")},vv.prototype.createWebChannel=vv.prototype.g,Xi.prototype.send=Xi.prototype.u,Xi.prototype.open=Xi.prototype.m,Xi.prototype.close=Xi.prototype.close,Wf.NO_ERROR=0,Wf.TIMEOUT=8,Wf.HTTP_ERROR=6,Ky.COMPLETE="complete",vm.EventType=Rd,Rd.OPEN="a",Rd.CLOSE="b",Rd.ERROR="c",Rd.MESSAGE="d",ei.prototype.listen=ei.prototype.N,Xn.prototype.listenOnce=Xn.prototype.O,Xn.prototype.getLastError=Xn.prototype.La,Xn.prototype.getLastErrorCode=Xn.prototype.Da,Xn.prototype.getStatus=Xn.prototype.ba,Xn.prototype.getResponseJson=Xn.prototype.Qa,Xn.prototype.getResponseText=Xn.prototype.ga,Xn.prototype.send=Xn.prototype.ea;var JE=Wa.createWebChannelTransport=function(){return new vv},QE=Wa.getStatEventTarget=function(){return xd()},wv=Wa.ErrorCode=Wf,Um=Wa.EventType=Ky,XE=Wa.Event=jl,ep=Wa.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},jm=Wa.FetchXmlHttpFactory=Ju,En=Wa.WebChannel=vm,iS=Wa.XhrIo=Xn;const Dv="@firebase/firestore";class ni{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ni.UNAUTHENTICATED=new ni(null),ni.GOOGLE_CREDENTIALS=new ni("google-credentials-uid"),ni.FIRST_PARTY=new ni("first-party-uid"),ni.MOCK_USER=new ni("mock-user");let Wd="9.6.5";const Ya=new $a.Yd("@firebase/firestore");function Hm(){return Ya.logLevel}function Pe(n,...e){if(Ya.logLevel<=$a.in.DEBUG){const t=e.map(Ev);Ya.debug(`Firestore (${Wd}): ${n}`,...t)}}function lr(n,...e){if(Ya.logLevel<=$a.in.ERROR){const t=e.map(Ev);Ya.error(`Firestore (${Wd}): ${n}`,...t)}}function tp(n,...e){if(Ya.logLevel<=$a.in.WARN){const t=e.map(Ev);Ya.warn(`Firestore (${Wd}): ${n}`,...t)}}function Ev(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function tt(n="Unexpected state"){const e=`FIRESTORE (${Wd}) INTERNAL ASSERTION FAILED: `+n;throw lr(e),new Error(e)}function yt(n,e){n||tt()}function He(n,e){return n}const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends Ft.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Tv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ni.UNAUTHENTICATED))}shutdown(){}}class np{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class rp{constructor(e){this.t=e,this.currentUser=ni.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const l=T=>this.i!==i?(i=this.i,t(T)):Promise.resolve();let h=new vr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new vr,e.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const T=h;e.enqueueRetryable((0,ye.Z)(function*(){yield T.promise,yield l(r.currentUser)}))},v=T=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=T,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(T=>v(T)),setTimeout(()=>{if(!this.auth){const T=this.t.getImmediate({optional:!0});T?v(T):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new vr)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(yt("string"==typeof r.accessToken),new Tv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return yt(null===e||"string"==typeof e),new ni(e)}}class nT{constructor(e,t,r){this.type="FirstParty",this.user=ni.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class rT{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new nT(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ni.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Vw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Bw{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=i=>{e.enqueueRetryable(()=>{return null!=(l=i).error&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`),t(l.token);var l})};const r=i=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.g.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.g.getImmediate({optional:!0});i?r(i):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(yt("string"==typeof t.token),new Vw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class es{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.p(r),this.T=r=>t.writeSequenceNumber(r))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function sT(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}es.I=-1;class Cv{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=sT(40);for(let l=0;l<i.length;++l)r.length<20&&i[l]<t&&(r+=e.charAt(i[l]%e.length))}return r}}function Lt(n,e){return n<e?-1:n>e?1:0}function zd(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function oT(n){return n+"\0"}class ri{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ne(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ne(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ne(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ri.fromMillis(Date.now())}static fromDate(e){return ri.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new ri(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Lt(this.nanoseconds,e.nanoseconds):Lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Et{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Et(e)}static min(){return new Et(new ri(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function aT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function zl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ip(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class sp{constructor(e,t,r){void 0===t?t=0:t>e.length&&tt(),void 0===r?r=e.length-t:r>e.length-t&&tt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===sp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof sp?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const l=e.get(i),h=t.get(i);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Qt extends sp{construct(e,t,r){return new Qt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Qt(t)}static emptyPath(){return new Qt([])}}const Uw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class er extends sp{construct(e,t,r){return new er(e,t,r)}static isValidIdentifier(e){return Uw.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),er.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new er(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const l=()=>{if(0===r.length)throw new Ne(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let h=!1;for(;i<e.length;){const m=e[i];if("\\"===m){if(i+1===e.length)throw new Ne(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[i+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new Ne(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,i+=2}else"`"===m?(h=!h,i++):"."!==m||h?(r+=m,i++):(l(),i++)}if(l(),h)throw new Ne(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new er(t)}static emptyPath(){return new er([])}}class qd{constructor(e){this.fields=e,e.sort(er.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class br{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new br(t)}static fromUint8Array(e){const t=function(r){let i="";for(let l=0;l<r.length;++l)i+=String.fromCharCode(r[l]);return i}(e);return new br(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}br.EMPTY_BYTE_STRING=new br("");const uT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ql(n){if(yt(!!n),"string"==typeof n){let e=0;const t=uT.exec(n);if(yt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tr(n.seconds),nanos:tr(n.nanos)}}function tr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Zd(n){return"string"==typeof n?br.fromBase64String(n):br.fromUint8Array(n)}function Iv(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function tc(n){const e=n.mapValue.fields.__previous_value__;return Iv(e)?tc(e):e}function op(n){const e=ql(n.mapValue.fields.__local_write_time__.timestampValue);return new ri(e.seconds,e.nanos)}function Zl(n){return null==n}function Gm(n){return 0===n&&1/n==-1/0}function Sv(n){return"number"==typeof n&&Number.isInteger(n)&&!Gm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class nt{constructor(e){this.path=e}static fromPath(e){return new nt(Qt.fromString(e))}static fromName(e){return new nt(Qt.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===Qt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Qt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new nt(new Qt(e.slice()))}}function Kl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Iv(n)?4:10:tt()}function ta(n,e){if(n===e)return!0;const t=Kl(n);if(t!==Kl(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return op(n).isEqual(op(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const l=ql(r.timestampValue),h=ql(i.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Zd(n.bytesValue).isEqual(Zd(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return tr(r.geoPointValue.latitude)===tr(i.geoPointValue.latitude)&&tr(r.geoPointValue.longitude)===tr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return tr(r.integerValue)===tr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const l=tr(r.doubleValue),h=tr(i.doubleValue);return l===h?Gm(l)===Gm(h):isNaN(l)&&isNaN(h)}return!1}(n,e);case 9:return zd(n.arrayValue.values||[],e.arrayValue.values||[],ta);case 10:return function(r,i){const l=r.mapValue.fields||{},h=i.mapValue.fields||{};if(aT(l)!==aT(h))return!1;for(const m in l)if(l.hasOwnProperty(m)&&(void 0===h[m]||!ta(l[m],h[m])))return!1;return!0}(n,e);default:return tt()}var i}function nc(n,e){return void 0!==(n.values||[]).find(t=>ta(t,e))}function Kd(n,e){if(n===e)return 0;const t=Kl(n),r=Kl(e);if(t!==r)return Lt(t,r);switch(t){case 0:return 0;case 1:return Lt(n.booleanValue,e.booleanValue);case 2:return function(i,l){const h=tr(i.integerValue||i.doubleValue),m=tr(l.integerValue||l.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1}(n,e);case 3:return Av(n.timestampValue,e.timestampValue);case 4:return Av(op(n),op(e));case 5:return Lt(n.stringValue,e.stringValue);case 6:return function(i,l){const h=Zd(i),m=Zd(l);return h.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(i,l){const h=i.split("/"),m=l.split("/");for(let v=0;v<h.length&&v<m.length;v++){const T=Lt(h[v],m[v]);if(0!==T)return T}return Lt(h.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,l){const h=Lt(tr(i.latitude),tr(l.latitude));return 0!==h?h:Lt(tr(i.longitude),tr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,l){const h=i.values||[],m=l.values||[];for(let v=0;v<h.length&&v<m.length;++v){const T=Kd(h[v],m[v]);if(T)return T}return Lt(h.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,l){const h=i.fields||{},m=Object.keys(h),v=l.fields||{},T=Object.keys(v);m.sort(),T.sort();for(let A=0;A<m.length&&A<T.length;++A){const O=Lt(m[A],T[A]);if(0!==O)return O;const L=Kd(h[m[A]],v[T[A]]);if(0!==L)return L}return Lt(m.length,T.length)}(n.mapValue,e.mapValue);default:throw tt()}}function Av(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Lt(n,e);const t=ql(n),r=ql(e),i=Lt(t.seconds,r.seconds);return 0!==i?i:Lt(t.nanos,r.nanos)}function $m(n){return Nv(n)}function Nv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=ql(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Zd(n.bytesValue).toBase64():"referenceValue"in n?nt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",l=!0;for(const h of r.values||[])l?l=!1:i+=",",i+=Nv(h);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let l="{",h=!0;for(const m of i)h?h=!1:l+=",",l+=`${m}:${Nv(r.fields[m])}`;return l+"}"}(n.mapValue):tt();var e}function Wm(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Mv(n){return!!n&&"integerValue"in n}function ap(n){return!!n&&"arrayValue"in n}function jw(n){return!!n&&"nullValue"in n}function Ov(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function zm(n){return!!n&&"mapValue"in n}function lp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return zl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=lp(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=lp(n.arrayValue.values[t]);return e}return Object.assign({},n)}class wi{constructor(e){this.value=e}static empty(){return new wi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!zm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=lp(t)}setAll(e){let t=er.emptyPath(),r={},i=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const v=this.getFieldsMap(t);this.applyChanges(v,r,i),r={},i=[],t=m.popLast()}h?r[m.lastSegment()]=lp(h):i.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,i)}delete(e){const t=this.field(e.popLast());zm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ta(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];zm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){zl(t,(i,l)=>e[i]=l);for(const i of r)delete e[i]}clone(){return new wi(lp(this.value))}}function Hw(n){const e=[];return zl(n.fields,(t,r)=>{const i=new er([t]);if(zm(r)){const l=Hw(r.mapValue).fields;if(0===l.length)e.push(i);else for(const h of l)e.push(i.child(h))}else e.push(i)}),new qd(e)}class Nn{constructor(e,t,r,i,l){this.key=e,this.documentType=t,this.version=r,this.data=i,this.documentState=l}static newInvalidDocument(e){return new Nn(e,0,Et.min(),wi.empty(),0)}static newFoundDocument(e,t,r){return new Nn(e,1,t,r,0)}static newNoDocument(e,t){return new Nn(e,2,t,wi.empty(),0)}static newUnknownDocument(e,t){return new Nn(e,3,t,wi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class cT{constructor(e,t=null,r=[],i=[],l=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=l,this.startAt=h,this.endAt=m,this.R=null}}function Gw(n,e=null,t=[],r=[],i=null,l=null,h=null){return new cT(n,e,t,r,i,l,h)}function up(n){const e=He(n);if(null===e.R){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>function xv(n){return n.field.canonicalString()+n.op.toString()+$m(n.value)}(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Zl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=Yd(e.startAt)),e.endAt&&(t+="|ub:",t+=Yd(e.endAt)),e.R=t}return e.R}function cp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!qw(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!ta(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Pv(n.startAt,e.startAt)&&Pv(n.endAt,e.endAt)}function dp(n){return nt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Oi extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new Ww(e,t,r):"array-contains"===t?new Rv(e,r):"in"===t?new zw(e,r):"not-in"===t?new kv(e,r):"array-contains-any"===t?new fT(e,r):new Oi(e,t,r)}static P(e,t,r){return"in"===t?new dT(e,r):new hT(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Kd(t,this.value)):null!==t&&Kl(this.value)===Kl(t)&&this.v(Kd(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return tt()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Ww extends Oi{constructor(e,t,r){super(e,t,r),this.key=nt.fromName(r.referenceValue)}matches(e){const t=nt.comparator(e.key,this.key);return this.v(t)}}class dT extends Oi{constructor(e,t){super(e,"in",t),this.keys=qm(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class hT extends Oi{constructor(e,t){super(e,"not-in",t),this.keys=qm(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function qm(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>nt.fromName(r.referenceValue))}class Rv extends Oi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ap(t)&&nc(t.arrayValue,this.value)}}class zw extends Oi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&nc(this.value.arrayValue,t)}}class kv extends Oi{constructor(e,t){super(e,"not-in",t)}matches(e){if(nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!nc(this.value.arrayValue,t)}}class fT extends Oi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ap(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>nc(this.value.arrayValue,r))}}class hp{constructor(e,t){this.position=e,this.before=t}}function Yd(n){return`${n.before?"b":"a"}:${n.position.map(e=>$m(e)).join(",")}`}class Jd{constructor(e,t="asc"){this.field=e,this.dir=t}}function qw(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Zw(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const l=e[i],h=n.position[i];if(r=l.field.isKeyField()?nt.comparator(nt.fromName(h.referenceValue),t.key):Kd(h,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function Pv(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ta(n.position[t],e.position[t]))return!1;return!0}class Ja{constructor(e,t=null,r=[],i=[],l=null,h="F",m=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=l,this.limitType=h,this.startAt=m,this.endAt=v,this.S=null,this.D=null}}function Fv(n,e,t,r,i,l,h,m){return new Ja(n,e,t,r,i,l,h,m)}function fp(n){return new Ja(n)}function Zm(n){return!Zl(n.limit)&&"F"===n.limitType}function Yl(n){return!Zl(n.limit)&&"L"===n.limitType}function Lv(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Jl(n){for(const e of n.filters)if(e.V())return e.field;return null}function rc(n){return null!==n.collectionGroup}function Qd(n){const e=He(n);if(null===e.S){e.S=[];const t=Jl(e),r=Lv(e);if(null!==t&&null===r)t.isKeyField()||e.S.push(new Jd(t)),e.S.push(new Jd(er.keyField(),"asc"));else{let i=!1;for(const l of e.explicitOrderBy)e.S.push(l),l.field.isKeyField()&&(i=!0);if(!i){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new Jd(er.keyField(),l))}}}return e.S}function No(n){const e=He(n);if(!e.D)if("F"===e.limitType)e.D=Gw(e.path,e.collectionGroup,Qd(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Qd(e))t.push(new Jd(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new hp(e.endAt.position,!e.endAt.before):null,i=e.startAt?new hp(e.startAt.position,!e.startAt.before):null;e.D=Gw(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.D}function Vv(n,e,t){return new Ja(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function pp(n,e){return cp(No(n),No(e))&&n.limitType===e.limitType}function Kw(n){return`${up(No(n))}|lt:${n.limitType}`}function Bv(n){return`Query(target=${function $w(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${$m(r.value)}`;var r}).join(", ")}]`),Zl(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: "+Yd(n.startAt)),n.endAt&&(e+=", endAt: "+Yd(n.endAt)),`Target(${e})`}(No(n))}; limitType=${n.limitType})`}function gp(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):nt.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!Zw(t.startAt,Qd(t),r)||t.endAt&&Zw(t.endAt,Qd(t),r)));var t,r}function Uv(n){return(e,t)=>{let r=!1;for(const i of Qd(n)){const l=Yw(i,e,t);if(0!==l)return l;r=r||i.field.isKeyField()}return 0}}function Yw(n,e,t){const r=n.field.isKeyField()?nt.comparator(e.key,t.key):function(i,l,h){const m=l.data.field(i),v=h.data.field(i);return null!==m&&null!==v?Kd(m,v):tt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return tt()}}function Km(n,e){if(n.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gm(e)?"-0":e}}function mp(n){return{integerValue:""+n}}function Xd(n,e){return Sv(e)?mp(e):Km(n,e)}class Ym{constructor(){this._=void 0}}function Jw(n,e,t){return n instanceof eh?function(r,i){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(l.fields.__previous_value__=i),{mapValue:l}}(t,e):n instanceof ic?Jm(n,e):n instanceof sc?pT(n,e):function(r,i){const l=Xw(r,i),h=eD(l)+eD(r.N);return Mv(l)&&Mv(r.N)?mp(h):Km(r.k,h)}(n,e)}function Qw(n,e,t){return n instanceof ic?Jm(n,e):n instanceof sc?pT(n,e):t}function Xw(n,e){return n instanceof th?Mv(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class eh extends Ym{}class ic extends Ym{constructor(e){super(),this.elements=e}}function Jm(n,e){const t=oc(e);for(const r of n.elements)t.some(i=>ta(i,r))||t.push(r);return{arrayValue:{values:t}}}class sc extends Ym{constructor(e){super(),this.elements=e}}function pT(n,e){let t=oc(e);for(const r of n.elements)t=t.filter(i=>!ta(i,r));return{arrayValue:{values:t}}}class th extends Ym{constructor(e,t){super(),this.k=e,this.N=t}}function eD(n){return tr(n.integerValue||n.doubleValue)}function oc(n){return ap(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class nh{constructor(e,t){this.field=e,this.transform=t}}class sS{constructor(e,t){this.version=e,this.transformResults=t}}class nr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new nr}static exists(e){return new nr(void 0,e)}static updateTime(e){return new nr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qm(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class jv{}function tD(n,e,t){n instanceof ih?function(r,i,l){const h=r.value.clone(),m=sD(r.fieldTransforms,i,l.transformResults);h.setAll(m),i.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Qa?function(r,i,l){if(!Qm(r.precondition,i))return void i.convertToUnknownDocument(l.version);const h=sD(r.fieldTransforms,i,l.transformResults),m=i.data;m.setAll(Hv(r)),m.setAll(h),i.convertToFoundDocument(l.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function nD(n,e,t){var i;n instanceof ih?function(r,i,l){if(!Qm(r.precondition,i))return;const h=r.value.clone(),m=oD(r.fieldTransforms,l,i);h.setAll(m),i.convertToFoundDocument(iD(i),h).setHasLocalMutations()}(n,e,t):n instanceof Qa?function(r,i,l){if(!Qm(r.precondition,i))return;const h=oD(r.fieldTransforms,l,i),m=i.data;m.setAll(Hv(r)),m.setAll(h),i.convertToFoundDocument(iD(i),m).setHasLocalMutations()}(n,e,t):Qm(n.precondition,i=e)&&i.convertToNoDocument(Et.min())}function rD(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),l=Xw(r.transform,i||null);null!=l&&(null==t&&(t=wi.empty()),t.set(r.field,l))}return t||null}function Xm(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&zd(t,r,(i,l)=>function rh(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof ic&&r instanceof ic||t instanceof sc&&r instanceof sc?zd(t.elements,r.elements,ta):t instanceof th&&r instanceof th?ta(t.N,r.N):t instanceof eh&&r instanceof eh);var t,r}(i,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function iD(n){return n.isFoundDocument()?n.version:Et.min()}class ih extends jv{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class Qa extends jv{constructor(e,t,r,i,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=l,this.type=1}}function Hv(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function sD(n,e,t){const r=new Map;yt(n.length===t.length);for(let i=0;i<t.length;i++){const l=n[i],h=l.transform,m=e.data.field(l.field);r.set(l.field,Qw(h,m,t[i]))}return r}function oD(n,e,t){const r=new Map;for(const i of n){const l=i.transform,h=t.data.field(i.field);r.set(i.field,Jw(l,h,e))}return r}class _p extends jv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Gv extends jv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class gT{constructor(e){this.count=e}}var ur,xt;function $v(n){switch(n){default:return tt();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0}}function Wv(n){if(void 0===n)return lr("GRPC error has no .code"),ue.UNKNOWN;switch(n){case ur.OK:return ue.OK;case ur.CANCELLED:return ue.CANCELLED;case ur.UNKNOWN:return ue.UNKNOWN;case ur.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case ur.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case ur.INTERNAL:return ue.INTERNAL;case ur.UNAVAILABLE:return ue.UNAVAILABLE;case ur.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case ur.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case ur.NOT_FOUND:return ue.NOT_FOUND;case ur.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case ur.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case ur.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case ur.ABORTED:return ue.ABORTED;case ur.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case ur.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case ur.DATA_LOSS:return ue.DATA_LOSS;default:return tt()}}(xt=ur||(ur={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";class cr{constructor(e,t){this.comparator=e,this.root=t||Lr.EMPTY}insert(e,t){return new cr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Lr.BLACK,null,null))}remove(e){return new cr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yp(this.root,e,this.comparator,!1)}getReverseIterator(){return new yp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yp(this.root,e,this.comparator,!0)}}class yp{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lr{constructor(e,t,r,i,l){this.key=e,this.value=t,this.color=null!=r?r:Lr.RED,this.left=null!=i?i:Lr.EMPTY,this.right=null!=l?l:Lr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,l){return new Lr(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const l=r(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===l?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Lr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Lr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw tt();const e=this.left.check();if(e!==this.right.check())throw tt();return e+(this.isRed()?0:1)}}Lr.EMPTY=null,Lr.RED=!0,Lr.BLACK=!1,Lr.EMPTY=new class{constructor(){this.size=0}get key(){throw tt()}get value(){throw tt()}get color(){throw tt()}get left(){throw tt()}get right(){throw tt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Lr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wn{constructor(e){this.comparator=e,this.data=new cr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new aD(this.data.getIterator())}getIteratorFrom(e){return new aD(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Wn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(i,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Wn(this.comparator);return t.data=e,t}}class aD{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const mT=new cr(nt.comparator);function to(){return mT}const _T=new cr(nt.comparator);function zv(){return _T}const yT=new cr(nt.comparator);function sh(){return yT}const vT=new Wn(nt.comparator);function Xt(...n){let e=vT;for(const t of n)e=e.add(t);return e}const na=new Wn(Lt);function e_(){return na}class ac{constructor(e,t,r,i,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Xa.createSynthesizedTargetChangeForCurrentChange(e,t)),new ac(Et.min(),r,e_(),to(),Xt())}}class Xa{constructor(e,t,r,i,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Xa(br.EMPTY_BYTE_STRING,t,Xt(),Xt(),Xt())}}class t_{constructor(e,t,r,i){this.$=e,this.removedTargetIds=t,this.key=r,this.O=i}}class lD{constructor(e,t){this.targetId=e,this.M=t}}class uD{constructor(e,t,r=br.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class vp{constructor(){this.F=0,this.L=dD(),this.B=br.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.F}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=Xt(),t=Xt(),r=Xt();return this.L.forEach((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:tt()}}),new Xa(this.B,this.U,e,t,r)}H(){this.q=!1,this.L=dD()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.F+=1}Z(){this.F-=1}tt(){this.q=!0,this.U=!0}}class n_{constructor(e){this.et=e,this.nt=new Map,this.st=to(),this.it=cD(),this.rt=new Wn(Lt)}ot(e){for(const t of e.$)e.O&&e.O.isFoundDocument()?this.ct(t,e.O):this.at(t,e.key,e.O);for(const t of e.removedTargetIds)this.at(t,e.key,e.O)}ut(e){this.forEachTarget(e,t=>{const r=this.ht(t);switch(e.state){case 0:this.lt(t)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||this.removeTarget(t);break;case 3:this.lt(t)&&(r.tt(),r.W(e.resumeToken));break;case 4:this.lt(t)&&(this.ft(t),r.W(e.resumeToken));break;default:tt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((r,i)=>{this.lt(i)&&t(i)})}dt(e){const t=e.targetId,r=e.M.count,i=this.wt(t);if(i){const l=i.target;if(dp(l))if(0===r){const h=new nt(l.path);this.at(t,h,Nn.newNoDocument(h,Et.min()))}else yt(1===r);else this._t(t)!==r&&(this.ft(t),this.rt=this.rt.add(t))}}gt(e){const t=new Map;this.nt.forEach((l,h)=>{const m=this.wt(h);if(m){if(l.current&&dp(m.target)){const v=new nt(m.target.path);null!==this.st.get(v)||this.yt(h,v)||this.at(h,v,Nn.newNoDocument(v,e))}l.j&&(t.set(h,l.G()),l.H())}});let r=Xt();this.it.forEach((l,h)=>{let m=!0;h.forEachWhile(v=>{const T=this.wt(v);return!T||2===T.purpose||(m=!1,!1)}),m&&(r=r.add(l))});const i=new ac(e,t,this.rt,this.st,r);return this.st=to(),this.it=cD(),this.rt=new Wn(Lt),i}ct(e,t){if(!this.lt(e))return;const r=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,r),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}at(e,t,r){if(!this.lt(e))return;const i=this.ht(e);this.yt(e,t)?i.J(t,1):i.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),r&&(this.st=this.st.insert(t,r))}removeTarget(e){this.nt.delete(e)}_t(e){const t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new vp,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new Wn(Lt),this.it=this.it.insert(e,t)),t}lt(e){const t=null!==this.wt(e);return t||Pe("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new vp),this.et.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function cD(){return new cr(nt.comparator)}function dD(){return new cr(nt.comparator)}const hD={asc:"ASCENDING",desc:"DESCENDING"},fD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class qv{constructor(e,t){this.databaseId=e,this.C=t}}function oh(n,e){return n.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pD(n,e){return n.C?e.toBase64():e.toUint8Array()}function bT(n,e){return oh(n,e.toTimestamp())}function ii(n){return yt(!!n),Et.fromTimestamp(function(e){const t=ql(e);return new ri(t.seconds,t.nanos)}(n))}function bp(n,e){return(t=n,new Qt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function r_(n){const e=Qt.fromString(n);return yt(wD(e)),e}function ah(n,e){return bp(n.databaseId,e.path)}function no(n,e){const t=r_(e);if(t.get(1)!==n.databaseId.projectId)throw new Ne(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ne(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new nt(mD(t))}function wp(n,e){return bp(n.databaseId,e)}function gD(n){const e=r_(n);return 4===e.length?Qt.emptyPath():mD(e)}function Dp(n){return new Qt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function mD(n){return yt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function _D(n,e,t){return{name:ah(n,e),fields:t.value.mapValue.fields}}function Zv(n,e,t){const r=no(n,e.name),i=ii(e.updateTime),l=new wi({mapValue:{fields:e.fields}}),h=Nn.newFoundDocument(r,i,l);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function Ep(n,e){let t;if(e instanceof ih)t={update:_D(n,e.key,e.value)};else if(e instanceof _p)t={delete:ah(n,e.key)};else if(e instanceof Qa)t={update:_D(n,e.key,e.data),updateMask:t0(e.fieldMask)};else{if(!(e instanceof Gv))return tt();t={verify:ah(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,l){const h=l.transform;if(h instanceof eh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof ic)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof sc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof th)return{fieldPath:l.field.canonicalString(),increment:h.N};throw tt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:bT(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:tt()),t;var i}function Yv(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?nr.updateTime(ii(i.updateTime)):void 0!==i.exists?nr.exists(i.exists):nr.none():nr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,h){let m=null;"setToServerValue"in h?(yt("REQUEST_TIME"===h.setToServerValue),m=new eh):"appendMissingElements"in h?m=new ic(h.appendMissingElements.values||[]):"removeAllFromArray"in h?m=new sc(h.removeAllFromArray.values||[]):"increment"in h?m=new th(l,h.increment):tt();const v=er.fromServerFormat(h.fieldPath);return new nh(v,m)}(n,i)):[];var i;if(e.update){const i=no(n,e.update.name),l=new wi({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new qd((e.updateMask.fieldPaths||[]).map(T=>er.fromServerFormat(T)));return new Qa(i,l,h,t,r)}return new ih(i,l,t,r)}if(e.delete){const i=no(n,e.delete);return new _p(i,t)}if(e.verify){const i=no(n,e.verify);return new Gv(i,t)}return tt()}function bD(n,e){return{documents:[wp(n,e.path)]}}function Jv(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=wp(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=wp(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(m){if(0===m.length)return;const v=m.map(T=>function(A){if("=="===A.op){if(Ov(A.value))return{unaryFilter:{field:uh(A.field),op:"IS_NAN"}};if(jw(A.value))return{unaryFilter:{field:uh(A.field),op:"IS_NULL"}}}else if("!="===A.op){if(Ov(A.value))return{unaryFilter:{field:uh(A.field),op:"IS_NOT_NAN"}};if(jw(A.value))return{unaryFilter:{field:uh(A.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uh(A.field),op:DT(A.op),value:A.value}}}(T));return 1===v.length?v[0]:{compositeFilter:{op:"AND",filters:v}}}(e.filters);i&&(t.structuredQuery.where=i);const l=function(m){if(0!==m.length)return m.map(v=>{return{field:uh((T=v).field),direction:lh(T.dir)};var T})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const h=(v=e.limit,n.C||Zl(v)?v:{value:v});var v;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=e0(e.startAt)),e.endAt&&(t.structuredQuery.endAt=e0(e.endAt)),t}function Qv(n){let e=gD(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){yt(1===r);const A=t.from[0];A.allDescendants?i=A.collectionId:e=e.child(A.collectionId)}let l=[];t.where&&(l=Xv(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(A=>{return new Jd(Tp((O=A).field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction));var O}));let m=null;t.limit&&(m=function(A){let O;return O="object"==typeof A?A.value:A,Zl(O)?null:O}(t.limit));let v=null;t.startAt&&(v=Di(t.startAt));let T=null;return t.endAt&&(T=Di(t.endAt)),Fv(e,i,h,l,m,"F",v,T)}function Xv(n){return n?void 0!==n.unaryFilter?[ET(n)]:void 0!==n.fieldFilter?[Cp(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Xv(e)).reduce((e,t)=>e.concat(t)):tt():[]}function e0(n){return{before:n.before,values:n.position}}function Di(n){return new hp(n.values||[],!!n.before)}function lh(n){return hD[n]}function DT(n){return fD[n]}function uh(n){return{fieldPath:n.canonicalString()}}function Tp(n){return er.fromServerFormat(n.fieldPath)}function Cp(n){return Oi.create(Tp(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tt()}}(n.fieldFilter.op),n.fieldFilter.value)}function ET(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Tp(n.unaryFilter.field);return Oi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Tp(n.unaryFilter.field);return Oi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Tp(n.unaryFilter.field);return Oi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Tp(n.unaryFilter.field);return Oi.create(i,"!=",{nullValue:"NULL_VALUE"});default:return tt()}}function t0(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function wD(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ro(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=DD(e)),e=TT(n.get(t),e);return DD(e)}function TT(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const l=n.charAt(i);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function DD(n){return n+"\x01\x01"}function Mo(n){const e=n.length;if(yt(e>=2),2===e)return yt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Qt.emptyPath();const t=e-2,r=[];let i="";for(let l=0;l<e;){const h=n.indexOf("\x01",l);switch((h<0||h>t)&&tt(),n.charAt(h+1)){case"\x01":const m=n.substring(l,h);let v;0===i.length?v=m:(i+=m,v=i,i=""),r.push(v);break;case"\x10":i+=n.substring(l,h),i+="\0";break;case"\x11":i+=n.substring(l,h+1);break;default:tt()}l=h+2}return new Qt(r)}class ED{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class ts{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}ts.store="owner",ts.key="owner";class Oo{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}Oo.store="mutationQueues",Oo.keyPath="userId";class hn{constructor(e,t,r,i,l){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=l}}hn.store="mutations",hn.keyPath="batchId",hn.userMutationsIndex="userMutationsIndex",hn.userMutationsKeyPath=["userId","batchId"];class xi{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,ro(t)]}static key(e,t,r){return[e,ro(t),r]}}xi.store="documentMutations",xi.PLACEHOLDER=new xi;class TD{constructor(e,t){this.path=e,this.readTime=t}}class CT{constructor(e,t){this.path=e,this.version=t}}class xn{constructor(e,t,r,i,l,h){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=i,this.readTime=l,this.parentPath=h}}xn.store="remoteDocuments",xn.readTimeIndex="readTimeIndex",xn.readTimeIndexPath="readTime",xn.collectionReadTimeIndex="collectionReadTimeIndex",xn.collectionReadTimeIndexPath=["parentPath","readTime"];class As{constructor(e){this.byteSize=e}}As.store="remoteDocumentGlobal",As.key="remoteDocumentGlobalKey";class Ri{constructor(e,t,r,i,l,h,m){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=l,this.lastLimboFreeSnapshotVersion=h,this.query=m}}Ri.store="targets",Ri.keyPath="targetId",Ri.queryTargetsIndexName="queryTargetsIndex",Ri.queryTargetsKeyPath=["canonicalId","targetId"];class si{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}si.store="targetDocuments",si.keyPath=["targetId","path"],si.documentTargetsIndex="documentTargetsIndex",si.documentTargetsKeyPath=["path","targetId"];class ki{constructor(e,t,r,i){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=i}}ki.key="targetGlobalKey",ki.store="targetGlobal";class el{constructor(e,t){this.collectionId=e,this.parent=t}}el.store="collectionParents",el.keyPath=["collectionId","parent"];class Ql{constructor(e,t,r,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=i}}Ql.store="clientMetadata",Ql.keyPath="clientId";class ch{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}ch.store="bundles",ch.keyPath="bundleId";class dh{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}dh.store="namedQueries",dh.keyPath="name";const CD=[Oo.store,hn.store,xi.store,xn.store,Ri.store,ts.store,ki.store,si.store,Ql.store,As.store,el.store,ch.store,dh.store],n0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ID{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Se((r,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,i)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Se?t:Se.resolve(t)}catch(t){return Se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Se.reject(t)}static resolve(e){return new Se((t,r)=>{t(e)})}static reject(e){return new Se((t,r)=>{r(e)})}static waitFor(e){return new Se((t,r)=>{let i=0,l=0,h=!1;e.forEach(m=>{++i,m.next(()=>{++l,h&&l===i&&t()},v=>r(v))}),h=!0,l===i&&t()})}static or(e){let t=Se.resolve(!1);for(const r of e)t=t.next(i=>i?Se.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,l)=>{r.push(t.call(this,i,l))}),this.waitFor(r)}}class Ip{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.It=new vr,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{t.error?this.It.reject(new hh(e,t.error)):this.It.resolve()},this.transaction.onerror=r=>{const i=i_(r.target.error);this.It.reject(new hh(e,i))}}static open(e,t,r,i){try{return new Ip(t,e.transaction(i,r))}catch(l){throw new hh(t,l)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(Pe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new SD(t)}}class xo{constructor(e,t,r){this.name=e,this.version=t,this.Rt=r,12.2===xo.bt((0,Ft.z$)())&&lr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Pe("SimpleDb","Removing database:",e),Xl(window.indexedDB.deleteDatabase(e)).toPromise()}static Pt(){if(!(0,Ft.hl)())return!1;if(xo.vt())return!0;const e=(0,Ft.z$)(),t=xo.bt(e),r=0<t&&t<10,i=xo.Vt(e),l=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static vt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.St)}static Dt(e,t){return e.store(t)}static bt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Vt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Ct(e){var t=this;return(0,ye.Z)(function*(){return t.db||(Pe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=h=>{r(h.target.result)},l.onblocked=()=>{i(new hh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=h=>{const m=h.target.error;i("VersionError"===m.name?new Ne(ue.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Ne(ue.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new hh(e,m))},l.onupgradeneeded=h=>{Pe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.Rt.Nt(h.target.result,l.transaction,h.oldVersion,t.version).next(()=>{Pe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.kt&&(t.db.onversionchange=r=>t.kt(r)),t.db})()}xt(e){this.kt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var l=this;return(0,ye.Z)(function*(){const h="readonly"===t;let m=0;for(;;){++m;try{l.db=yield l.Ct(e);const v=Ip.open(l.db,e,h?"readonly":"readwrite",r),T=i(v).catch(A=>(v.abort(A),Se.reject(A))).toPromise();return T.catch(()=>{}),yield v.At,T}catch(v){const T="FirebaseError"!==v.name&&m<3;if(Pe("SimpleDb","Transaction failed with error:",v.message,"Retrying:",T),l.close(),!T)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class IT{constructor(e){this.$t=e,this.Ot=!1,this.Mt=null}get isDone(){return this.Ot}get Ft(){return this.Mt}set cursor(e){this.$t=e}done(){this.Ot=!0}Lt(e){this.Mt=e}delete(){return Xl(this.$t.delete())}}class hh extends Ne{constructor(e,t){super(ue.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function lc(n){return"IndexedDbTransactionError"===n.name}class SD{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Pe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Pe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Xl(r)}add(e){return Pe("SimpleDb","ADD",this.store.name,e,e),Xl(this.store.add(e))}get(e){return Xl(this.store.get(e)).next(t=>(void 0===t&&(t=null),Pe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Pe("SimpleDb","DELETE",this.store.name,e),Xl(this.store.delete(e))}count(){return Pe("SimpleDb","COUNT",this.store.name),Xl(this.store.count())}Bt(e,t){const r=this.cursor(this.options(e,t)),i=[];return this.Ut(r,(l,h)=>{i.push(h)}).next(()=>i)}qt(e,t){Pe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Kt=!1;const i=this.cursor(r);return this.Ut(i,(l,h,m)=>m.delete())}jt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Ut(i,t)}Qt(e){const t=this.cursor({});return new Se((r,i)=>{t.onerror=l=>{const h=i_(l.target.error);i(h)},t.onsuccess=l=>{const h=l.target.result;h?e(h.primaryKey,h.value).next(m=>{m?h.continue():r()}):r()}})}Ut(e,t){const r=[];return new Se((i,l)=>{e.onerror=h=>{l(h.target.error)},e.onsuccess=h=>{const m=h.target.result;if(!m)return void i();const v=new IT(m),T=t(m.primaryKey,m.value,v);if(T instanceof Se){const A=T.catch(O=>(v.done(),Se.reject(O)));r.push(A)}v.isDone?i():null===v.Ft?m.continue():m.continue(v.Ft)}}).next(()=>Se.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Kt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Xl(n){return new Se((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=i_(r.target.error);t(i)}})}let r0=!1;function i_(n){const e=xo.bt((0,Ft.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ne("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return r0||(r0=!0,setTimeout(()=>{throw r},0)),r}}return n}class AD extends ID{constructor(e,t){super(),this.Wt=e,this.currentSequenceNumber=t}}function ns(n,e){const t=He(n);return xo.Dt(t.Wt,e)}class ND{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&tD(l,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&nD(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&nD(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Et.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Xt())}isEqual(e){return this.batchId===e.batchId&&zd(this.mutations,e.mutations,(t,r)=>Xm(t,r))&&zd(this.baseMutations,e.baseMutations,(t,r)=>Xm(t,r))}}class s_{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){yt(e.mutations.length===r.length);let i=sh();const l=e.mutations;for(let h=0;h<l.length;h++)i=i.insert(l[h].key,r[h].version);return new s_(e,t,r,i)}}class uc{constructor(e,t,r,i,l=Et.min(),h=Et.min(),m=br.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m}withSequenceNumber(e){return new uc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new uc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new uc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class ST{constructor(e){this.Gt=e}}function MD(n,e){if(e.document)return Zv(n.Gt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=nt.fromSegments(e.noDocument.path),r=Ap(e.noDocument.readTime),i=Nn.newNoDocument(t,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){const t=nt.fromSegments(e.unknownDocument.path),r=Ap(e.unknownDocument.version);return Nn.newUnknownDocument(t,r)}return tt()}function AT(n,e,t){const r=OD(t),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){const l={name:ah(m=n.Gt,(v=e).key),fields:v.data.value.mapValue.fields,updateTime:oh(m,v.version.toTimestamp())};return new xn(null,null,l,e.hasCommittedMutations,r,i)}var m,v;if(e.isNoDocument()){const l=e.key.path.toArray(),h=Sp(e.version),m=e.hasCommittedMutations;return new xn(null,new TD(l,h),null,m,r,i)}if(e.isUnknownDocument()){const l=e.key.path.toArray(),h=Sp(e.version);return new xn(new CT(l,h),null,null,!0,r,i)}return tt()}function OD(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function NT(n){const e=new ri(n[0],n[1]);return Et.fromTimestamp(e)}function Sp(n){const e=n.toTimestamp();return new ED(e.seconds,e.nanoseconds)}function Ap(n){const e=new ri(n.seconds,n.nanoseconds);return Et.fromTimestamp(e)}function tl(n,e){const t=(e.baseMutations||[]).map(l=>Yv(n.Gt,l));for(let l=0;l<e.mutations.length-1;++l){const h=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(h.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>Yv(n.Gt,l)),i=ri.fromMillis(e.localWriteTimeMs);return new ND(e.batchId,i,t,r)}function o_(n){const e=Ap(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Ap(n.lastLimboFreeSnapshotVersion):Et.min();let r;var i;return void 0!==n.query.documents?(yt(1===(i=n.query).documents.length),r=No(fp(gD(i.documents[0])))):r=No(Qv(n.query)),new uc(r,n.targetId,0,n.lastListenSequenceNumber,e,t,br.fromBase64String(n.resumeToken))}function a_(n,e){const t=Sp(e.snapshotVersion),r=Sp(e.lastLimboFreeSnapshotVersion);let i;i=dp(e.target)?bD(n.Gt,e.target):Jv(n.Gt,e.target);const l=e.resumeToken.toBase64();return new Ri(e.targetId,up(e.target),t,l,e.sequenceNumber,r,i)}function eu(n){const e=Qv({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Vv(e,e.limit,"L"):e}class xD{getBundleMetadata(e,t){return RD(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Ap(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return RD(e).put({bundleId:(r=t).id,createTime:Sp(ii(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return kD(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:eu(i.bundledQuery),readTime:Ap(i.readTime)};var i})}saveNamedQuery(e,t){return kD(e).put({name:(r=t).name,readTime:Sp(ii(r.readTime)),bundledQuery:r.bundledQuery});var r}}function RD(n){return ns(n,ch.store)}function kD(n){return ns(n,dh.store)}class s0{constructor(){this.zt=new l_}addToCollectionParentIndex(e,t){return this.zt.add(t),Se.resolve()}getCollectionParents(e,t){return Se.resolve(this.zt.getEntries(t))}}class l_{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Wn(Qt.comparator),l=!i.has(r);return this.index[t]=i.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Wn(Qt.comparator)).toArray()}}class PD{constructor(){this.Ht=new l_}addToCollectionParentIndex(e,t){if(!this.Ht.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ht.add(t)});const l={collectionId:r,parent:ro(i)};return o0(e).put(l)}return Se.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[oT(t),""],!1,!0);return o0(e).Bt(i).next(l=>{for(const h of l){if(h.collectionId!==t)break;r.push(Mo(h.parent))}return r})}}function o0(n){return ns(n,el.store)}const MT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Pi{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Pi(e,Pi.DEFAULT_COLLECTION_PERCENTILE,Pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Np(n,e,t){const r=n.store(hn.store),i=n.store(xi.store),l=[],h=IDBKeyRange.only(t.batchId);let m=0;const v=r.jt({range:h},(A,O,L)=>(m++,L.delete()));l.push(v.next(()=>{yt(1===m)}));const T=[];for(const A of t.mutations){const O=xi.key(e,A.key.path,t.batchId);l.push(i.delete(O)),T.push(A.key)}return Se.waitFor(l).next(()=>T)}function Mp(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw tt();e=n.noDocument}return JSON.stringify(e).length}Pi.DEFAULT_COLLECTION_PERCENTILE=10,Pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pi.DEFAULT=new Pi(41943040,Pi.DEFAULT_COLLECTION_PERCENTILE,Pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pi.DISABLED=new Pi(-1,0,0);class FD{constructor(e,t,r,i){this.userId=e,this.k=t,this.Jt=r,this.referenceDelegate=i,this.Yt={}}static Xt(e,t,r,i){yt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new FD(l,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return cc(e).jt({index:hn.userMutationsIndex,range:r},(i,l,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const l=fh(e),h=cc(e);return h.add({}).next(m=>{yt("number"==typeof m);const v=new ND(m,t,r,i),T=function(L,V,Q){const ve=Q.baseMutations.map(Qe=>Ep(L.Gt,Qe)),Ue=Q.mutations.map(Qe=>Ep(L.Gt,Qe));return new hn(V,Q.batchId,Q.localWriteTime.toMillis(),ve,Ue)}(this.k,this.userId,v),A=[];let O=new Wn((L,V)=>Lt(L.canonicalString(),V.canonicalString()));for(const L of i){const V=xi.key(this.userId,L.key.path,m);O=O.add(L.key.path.popLast()),A.push(h.put(T)),A.push(l.put(V,xi.PLACEHOLDER))}return O.forEach(L=>{A.push(this.Jt.addToCollectionParentIndex(e,L))}),e.addOnCommittedListener(()=>{this.Yt[m]=v.keys()}),Se.waitFor(A).next(()=>v)})}lookupMutationBatch(e,t){return cc(e).get(t).next(r=>r?(yt(r.userId===this.userId),tl(this.k,r)):null)}Zt(e,t){return this.Yt[t]?Se.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Yt[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return cc(e).jt({index:hn.userMutationsIndex,range:i},(h,m,v)=>{m.userId===this.userId&&(yt(m.batchId>=r),l=tl(this.k,m)),v.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return cc(e).jt({index:hn.userMutationsIndex,range:t,reverse:!0},(i,l,h)=>{r=l.batchId,h.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return cc(e).Bt(hn.userMutationsIndex,t).next(r=>r.map(i=>tl(this.k,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=xi.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),l=[];return fh(e).jt({range:i},(h,m,v)=>{const[T,A,O]=h,L=Mo(A);if(T===this.userId&&t.path.isEqual(L))return cc(e).get(O).next(V=>{if(!V)throw tt();yt(V.userId===this.userId),l.push(tl(this.k,V))});v.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Wn(Lt);const i=[];return t.forEach(l=>{const h=xi.prefixForPath(this.userId,l.path),m=IDBKeyRange.lowerBound(h),v=fh(e).jt({range:m},(T,A,O)=>{const[L,V,Q]=T,ve=Mo(V);L===this.userId&&l.path.isEqual(ve)?r=r.add(Q):O.done()});i.push(v)}),Se.waitFor(i).next(()=>this.te(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,l=xi.prefixForPath(this.userId,r),h=IDBKeyRange.lowerBound(l);let m=new Wn(Lt);return fh(e).jt({range:h},(v,T,A)=>{const[O,L,V]=v,Q=Mo(L);O===this.userId&&r.isPrefixOf(Q)?Q.length===i&&(m=m.add(V)):A.done()}).next(()=>this.te(e,m))}te(e,t){const r=[],i=[];return t.forEach(l=>{i.push(cc(e).get(l).next(h=>{if(null===h)throw tt();yt(h.userId===this.userId),r.push(tl(this.k,h))}))}),Se.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return Np(e.Wt,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.ee(t.batchId)}),Se.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Se.resolve();const r=IDBKeyRange.lowerBound(xi.prefixForUser(this.userId)),i=[];return fh(e).jt({range:r},(l,h,m)=>{if(l[0]===this.userId){const v=Mo(l[1]);i.push(v)}else m.done()}).next(()=>{yt(0===i.length)})})}containsKey(e,t){return OT(e,this.userId,t)}ne(e){return u_(e).get(this.userId).next(t=>t||new Oo(this.userId,-1,""))}}function OT(n,e,t){const r=xi.prefixForPath(e,t.path),i=r[1],l=IDBKeyRange.lowerBound(r);let h=!1;return fh(n).jt({range:l,Kt:!0},(m,v,T)=>{const[A,O,L]=m;A===e&&O===i&&(h=!0),T.done()}).next(()=>h)}function cc(n){return ns(n,hn.store)}function fh(n){return ns(n,xi.store)}function u_(n){return ns(n,Oo.store)}class dc{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new dc(0)}static re(){return new dc(-1)}}class oS{constructor(e,t){this.referenceDelegate=e,this.k=t}allocateTargetId(e){return this.oe(e).next(t=>{const r=new dc(t.highestTargetId);return t.highestTargetId=r.next(),this.ce(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.oe(e).next(t=>Et.fromTimestamp(new ri(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.oe(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.oe(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.ce(e,i)))}addTargetData(e,t){return this.ae(e,t).next(()=>this.oe(e).next(r=>(r.targetCount+=1,this.ue(t,r),this.ce(e,r))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>ph(e).delete(t.targetId)).next(()=>this.oe(e)).next(r=>(yt(r.targetCount>0),r.targetCount-=1,this.ce(e,r)))}removeTargets(e,t,r){let i=0;const l=[];return ph(e).jt((h,m)=>{const v=o_(m);v.sequenceNumber<=t&&null===r.get(v.targetId)&&(i++,l.push(this.removeTargetData(e,v)))}).next(()=>Se.waitFor(l)).next(()=>i)}forEachTarget(e,t){return ph(e).jt((r,i)=>{const l=o_(i);t(l)})}oe(e){return c_(e).get(ki.key).next(t=>(yt(null!==t),t))}ce(e,t){return c_(e).put(ki.key,t)}ae(e,t){return ph(e).put(a_(this.k,t))}ue(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.oe(e).next(t=>t.targetCount)}getTargetData(e,t){const r=up(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return ph(e).jt({range:i,index:Ri.queryTargetsIndexName},(h,m,v)=>{const T=o_(m);cp(t,T.target)&&(l=T,v.done())}).next(()=>l)}addMatchingKeys(e,t,r){const i=[],l=tu(e);return t.forEach(h=>{const m=ro(h.path);i.push(l.put(new si(r,m))),i.push(this.referenceDelegate.addReference(e,r,h))}),Se.waitFor(i)}removeMatchingKeys(e,t,r){const i=tu(e);return Se.forEach(t,l=>{const h=ro(l.path);return Se.waitFor([i.delete([r,h]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=tu(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=tu(e);let l=Xt();return i.jt({range:r,Kt:!0},(h,m,v)=>{const T=Mo(h[1]),A=new nt(T);l=l.add(A)}).next(()=>l)}containsKey(e,t){const r=ro(t.path),i=IDBKeyRange.bound([r],[oT(r)],!1,!0);let l=0;return tu(e).jt({index:si.documentTargetsIndex,Kt:!0,range:i},([h,m],v,T)=>{0!==h&&(l++,T.done())}).next(()=>l>0)}Et(e,t){return ph(e).get(t).next(r=>r?o_(r):null)}}function ph(n){return ns(n,Ri.store)}function c_(n){return ns(n,ki.store)}function tu(n){return ns(n,si.store)}function wr(n){return a0.apply(this,arguments)}function a0(){return a0=(0,ye.Z)(function*(n){if(n.code!==ue.FAILED_PRECONDITION||n.message!==n0)throw n;Pe("LocalStore","Unexpectedly lost primary lease")}),a0.apply(this,arguments)}function d_([n,e],[t,r]){const i=Lt(n,t);return 0===i?Lt(e,r):i}class xT{constructor(e){this.he=e,this.buffer=new Wn(d_),this.le=0}fe(){return++this.le}de(e){const t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();d_(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class RT{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){var t=this;const r=this.we?3e5:6e4;Pe("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,ye.Z)(function*(){t._e=null,t.we=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){lc(i)?Pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield wr(i)}yield t.me(e)}))}}class l0{constructor(e,t){this.ge=e,this.params=t}calculateTargetCount(e,t){return this.ge.ye(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Se.resolve(es.I);const r=new xT(t);return this.ge.forEachTarget(e,i=>r.de(i.sequenceNumber)).next(()=>this.ge.pe(e,i=>r.de(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.ge.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.ge.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),Se.resolve(MT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),MT):this.Te(e,t))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,t){let r,i,l,h,m,v,T;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),i=this.params.maximumSequenceNumbersToCollect):i=O,h=Date.now(),this.nthSequenceNumber(e,i))).next(O=>(r=O,m=Date.now(),this.removeTargets(e,r,t))).next(O=>(l=O,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(O=>(T=Date.now(),Hm()<=$a.in.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-A}ms\n\tDetermined least recently used ${i} in `+(m-h)+`ms\n\tRemoved ${l} targets in `+(v-m)+`ms\n\tRemoved ${O} documents in `+(T-v)+`ms\nTotal Duration: ${T-A}ms`),Se.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:O})))}}class LD{constructor(e,t){this.db=e,this.garbageCollector=new l0(this,t)}ye(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Ee(e){let t=0;return this.pe(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pe(e,t){return this.Ie(e,(r,i)=>t(i))}addReference(e,t,r){return Op(e,r)}removeReference(e,t,r){return Op(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Op(e,t)}Ae(e,t){return function(r,i){let l=!1;return u_(r).Qt(h=>OT(r,h,i).next(m=>(m&&(l=!0),Se.resolve(!m)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let l=0;return this.Ie(e,(h,m)=>{if(m<=t){const v=this.Ae(e,h).next(T=>{if(!T)return l++,r.getEntry(e,h).next(()=>(r.removeEntry(h),tu(e).delete([0,ro(h.path)])))});i.push(v)}}).next(()=>Se.waitFor(i)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Op(e,t)}Ie(e,t){const r=tu(e);let i,l=es.I;return r.jt({index:si.documentTargetsIndex},([h,m],{path:v,sequenceNumber:T})=>{0===h?(l!==es.I&&t(new nt(Mo(i)),l),l=T,i=v):l=es.I}).next(()=>{l!==es.I&&t(new nt(Mo(i)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Op(n,e){return tu(n).put((r=n.currentSequenceNumber,new si(0,ro(e.path),r)));var r}class gh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,l]of r)if(this.equalsFn(i,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0!==i){for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,t]);i.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),!0;return!1}forEach(e){zl(this.inner,(t,r)=>{for(const[i,l]of r)e(i,l)})}isEmpty(){return ip(this.inner)}}class u0{constructor(){this.changes=new gh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:Et.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Nn.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Se.resolve(r.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class VD{constructor(e,t){this.k=e,this.Jt=t}addEntry(e,t,r){return ra(e).put(rs(t),r)}removeEntry(e,t){const r=ra(e),i=rs(t);return r.delete(i)}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Re(e,r)))}getEntry(e,t){return ra(e).get(rs(t)).next(r=>this.be(t,r))}Pe(e,t){return ra(e).get(rs(t)).next(r=>({document:this.be(t,r),size:Mp(r)}))}getEntries(e,t){let r=to();return this.ve(e,t,(i,l)=>{const h=this.be(i,l);r=r.insert(i,h)}).next(()=>r)}Ve(e,t){let r=to(),i=new cr(nt.comparator);return this.ve(e,t,(l,h)=>{const m=this.be(l,h);r=r.insert(l,m),i=i.insert(l,Mp(h))}).next(()=>({documents:r,Se:i}))}ve(e,t,r){if(t.isEmpty())return Se.resolve();const i=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),l=t.getIterator();let h=l.getNext();return ra(e).jt({range:i},(m,v,T)=>{const A=nt.fromSegments(m);for(;h&&nt.comparator(h,A)<0;)r(h,null),h=l.getNext();h&&h.isEqual(A)&&(r(h,v),h=l.hasNext()?l.getNext():null),h?T.Lt(h.path.toArray()):T.done()}).next(()=>{for(;h;)r(h,null),h=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r){let i=to();const l=t.path.length+1,h={};if(r.isEqual(Et.min())){const m=t.path.toArray();h.range=IDBKeyRange.lowerBound(m)}else{const m=t.path.toArray(),v=OD(r);h.range=IDBKeyRange.lowerBound([m,v],!0),h.index=xn.collectionReadTimeIndex}return ra(e).jt(h,(m,v,T)=>{if(m.length!==l)return;const A=MD(this.k,v);t.path.isPrefixOf(A.key.path)?gp(t,A)&&(i=i.insert(A.key,A)):T.done()}).next(()=>i)}newChangeBuffer(e){return new kT(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return BD(e).get(As.key).next(t=>(yt(!!t),t))}Re(e,t){return BD(e).put(As.key,t)}be(e,t){if(t){const r=MD(this.k,t);if(!r.isNoDocument()||!r.version.isEqual(Et.min()))return r}return Nn.newInvalidDocument(e)}}class kT extends u0{constructor(e,t){super(),this.De=e,this.trackRemovals=t,this.Ce=new gh(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Wn((l,h)=>Lt(l.canonicalString(),h.canonicalString()));return this.changes.forEach((l,h)=>{const m=this.Ce.get(l);if(h.document.isValidDocument()){const v=AT(this.De.k,h.document,this.getReadTime(l));i=i.add(l.path.popLast()),r+=Mp(v)-m,t.push(this.De.addEntry(e,l,v))}else if(r-=m,this.trackRemovals){const v=AT(this.De.k,Nn.newNoDocument(l,Et.min()),this.getReadTime(l));t.push(this.De.addEntry(e,l,v))}else t.push(this.De.removeEntry(e,l))}),i.forEach(l=>{t.push(this.De.Jt.addToCollectionParentIndex(e,l))}),t.push(this.De.updateMetadata(e,r)),Se.waitFor(t)}getFromCache(e,t){return this.De.Pe(e,t).next(r=>(this.Ce.set(t,r.size),r.document))}getAllFromCache(e,t){return this.De.Ve(e,t).next(({documents:r,Se:i})=>(i.forEach((l,h)=>{this.Ce.set(l,h)}),r))}}function BD(n){return ns(n,As.store)}function ra(n){return ns(n,xn.store)}function rs(n){return n.path.toArray()}class PT{constructor(e){this.k=e}Nt(e,t,r,i){yt(r<i&&r>=0&&i<=11);const l=new Ip("createOrUpgrade",t);var m;r<1&&i>=1&&(e.createObjectStore(ts.store),(m=e).createObjectStore(Oo.store,{keyPath:Oo.keyPath}),m.createObjectStore(hn.store,{keyPath:hn.keyPath,autoIncrement:!0}).createIndex(hn.userMutationsIndex,hn.userMutationsKeyPath,{unique:!0}),m.createObjectStore(xi.store),FT(e),function(m){m.createObjectStore(xn.store)}(e));let h=Se.resolve();return r<3&&i>=3&&(0!==r&&(function(m){m.deleteObjectStore(si.store),m.deleteObjectStore(Ri.store),m.deleteObjectStore(ki.store)}(e),FT(e)),h=h.next(()=>function(m){const v=m.store(ki.store),T=new ki(0,0,Et.min().toTimestamp(),0);return v.put(ki.key,T)}(l))),r<4&&i>=4&&(0!==r&&(h=h.next(()=>function(m,v){return v.store(hn.store).Bt().next(T=>{m.deleteObjectStore(hn.store),m.createObjectStore(hn.store,{keyPath:hn.keyPath,autoIncrement:!0}).createIndex(hn.userMutationsIndex,hn.userMutationsKeyPath,{unique:!0});const A=v.store(hn.store),O=T.map(L=>A.put(L));return Se.waitFor(O)})}(e,l))),h=h.next(()=>{!function(m){m.createObjectStore(Ql.store,{keyPath:Ql.keyPath})}(e)})),r<5&&i>=5&&(h=h.next(()=>this.Ne(l))),r<6&&i>=6&&(h=h.next(()=>(function(m){m.createObjectStore(As.store)}(e),this.ke(l)))),r<7&&i>=7&&(h=h.next(()=>this.xe(l))),r<8&&i>=8&&(h=h.next(()=>this.$e(e,l))),r<9&&i>=9&&(h=h.next(()=>{(function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")})(e),function(m){const v=m.objectStore(xn.store);v.createIndex(xn.readTimeIndex,xn.readTimeIndexPath,{unique:!1}),v.createIndex(xn.collectionReadTimeIndex,xn.collectionReadTimeIndexPath,{unique:!1})}(t)})),r<10&&i>=10&&(h=h.next(()=>this.Oe(l))),r<11&&i>=11&&(h=h.next(()=>{(function(m){m.createObjectStore(ch.store,{keyPath:ch.keyPath})})(e),function(m){m.createObjectStore(dh.store,{keyPath:dh.keyPath})}(e)})),h}ke(e){let t=0;return e.store(xn.store).jt((r,i)=>{t+=Mp(i)}).next(()=>{const r=new As(t);return e.store(As.store).put(As.key,r)})}Ne(e){const t=e.store(Oo.store),r=e.store(hn.store);return t.Bt().next(i=>Se.forEach(i,l=>{const h=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.Bt(hn.userMutationsIndex,h).next(m=>Se.forEach(m,v=>{yt(v.userId===l.userId);const T=tl(this.k,v);return Np(e,l.userId,T).next(()=>{})}))}))}xe(e){const t=e.store(si.store),r=e.store(xn.store);return e.store(ki.store).get(ki.key).next(i=>{const l=[];return r.jt((h,m)=>{const v=new Qt(h),T=[0,ro(v)];l.push(t.get(T).next(A=>A?Se.resolve():t.put(new si(0,ro(v),i.highestListenSequenceNumber))))}).next(()=>Se.waitFor(l))})}$e(e,t){e.createObjectStore(el.store,{keyPath:el.keyPath});const r=t.store(el.store),i=new l_,l=h=>{if(i.add(h)){const m=h.lastSegment(),v=h.popLast();return r.put({collectionId:m,parent:ro(v)})}};return t.store(xn.store).jt({Kt:!0},(h,m)=>{const v=new Qt(h);return l(v.popLast())}).next(()=>t.store(xi.store).jt({Kt:!0},([h,m,v],T)=>{const A=Mo(m);return l(A.popLast())}))}Oe(e){const t=e.store(Ri.store);return t.jt((r,i)=>{const l=o_(i),h=a_(this.k,l);return t.put(h)})}}function FT(n){n.createObjectStore(si.store,{keyPath:si.keyPath}).createIndex(si.documentTargetsIndex,si.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(Ri.store,{keyPath:Ri.keyPath}).createIndex(Ri.queryTargetsIndexName,Ri.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(ki.store)}const c0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class h_{constructor(e,t,r,i,l,h,m,v,T,A){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Me=l,this.window=h,this.document=m,this.Fe=T,this.Le=A,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=O=>Promise.resolve(),!h_.Pt())throw new Ne(ue.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new LD(this,i),this.Ge=t+"main",this.k=new ST(v),this.ze=new xo(this.Ge,11,new PT(this.k)),this.He=new oS(this.referenceDelegate,this.k),this.Jt=new PD,this.Je=new VD(this.k,this.Jt),this.Ye=new xD,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===A&&lr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ne(ue.FAILED_PRECONDITION,c0);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.He.getHighestSequenceNumber(e))}).then(e=>{this.Be=new es(e,this.Fe)}).then(()=>{this.Ue=!0}).catch(e=>(this.ze&&this.ze.close(),Promise.reject(e)))}sn(e){var t=this;return this.We=function(){var r=(0,ye.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt(function(){var t=(0,ye.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Me.enqueueAndForget((0,ye.Z)(function*(){t.started&&(yield t.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>f_(e).put(new Ql(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(e).next(t=>{t||(this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(e)).next(t=>this.isPrimary&&!t?this.cn(e).next(()=>!1):!!t&&this.an(e).next(()=>!0))).catch(e=>{if(lc(e))return Pe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Pe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Me.enqueueRetryable(()=>this.We(e)),this.isPrimary=e})}rn(e){return xp(e).get(ts.key).next(t=>Se.resolve(this.un(t)))}hn(e){return f_(e).delete(this.clientId)}ln(){var e=this;return(0,ye.Z)(function*(){if(e.isPrimary&&!e.fn(e.Qe,18e5)){e.Qe=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=ns(r,Ql.store);return i.Bt().next(l=>{const h=e.dn(l,18e5),m=l.filter(v=>-1===h.indexOf(v));return Se.forEach(m,v=>i.delete(v.clientId)).next(()=>m)})}).catch(()=>[]);if(e.Xe)for(const r of t)e.Xe.removeItem(e.wn(r.clientId))}})()}nn(){this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?Se.resolve(!0):xp(e).get(ts.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)){if(this.un(t)&&this.networkEnabled)return!0;if(!this.un(t)){if(!t.allowTabSynchronization)throw new Ne(ue.FAILED_PRECONDITION,c0);return!1}}return!(!this.networkEnabled||!this.inForeground)||f_(e).Bt().next(r=>void 0===this.dn(r,5e3).find(i=>{if(this.clientId!==i.clientId){const h=!this.inForeground&&i.inForeground,m=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||h&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Pe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ye.Z)(function*(){e.Ue=!1,e.mn(),e.je&&(e.je.cancel(),e.je=null),e.gn(),e.yn(),yield e.ze.runTransaction("shutdown","readwrite",[ts.store,Ql.store],t=>{const r=new AD(t,es.I);return e.cn(r).next(()=>e.hn(r))}),e.ze.close(),e.pn()})()}dn(e,t){return e.filter(r=>this.fn(r.updateTimeMs,t)&&!this._n(r.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",e=>f_(e).Bt().next(t=>this.dn(t,18e5).map(r=>r.clientId)))}get started(){return this.Ue}getMutationQueue(e){return FD.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,t,r){let l;return Pe("IndexedDbPersistence","Starting transaction:",e),this.ze.runTransaction(e,"readonly"===t?"readonly":"readwrite",CD,h=>(l=new AD(h,this.Be?this.Be.next():es.I),"readwrite-primary"===t?this.rn(l).next(m=>!!m||this.on(l)).next(m=>{if(!m)throw lr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)),new Ne(ue.FAILED_PRECONDITION,n0);return r(l)}).next(m=>this.an(l).next(()=>m)):this.En(l).next(()=>r(l)))).then(h=>(l.raiseOnCommittedEvent(),h))}En(e){return xp(e).get(ts.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)&&!this.un(t)&&!(this.Le||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ne(ue.FAILED_PRECONDITION,c0)})}an(e){const t=new ts(this.clientId,this.allowTabSynchronization,Date.now());return xp(e).put(ts.key,t)}static Pt(){return xo.Pt()}cn(e){const t=xp(e);return t.get(ts.key).next(r=>this.un(r)?(Pe("IndexedDbPersistence","Releasing primary lease."),t.delete(ts.key)):Se.resolve())}fn(e,t){const r=Date.now();return!(e<r-t||e>r&&(lr(`Detected an update time that is in the future: ${e} > ${r}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Me.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),(0,Ft.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Me.enterRestrictedMode(!0),this.Me.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var t;try{const r=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return Pe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return lr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){lr("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function xp(n){return ns(n,ts.store)}function f_(n){return ns(n,Ql.store)}function p_(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class LT{constructor(e,t){this.progress=e,this.In=t}}class VT{constructor(e,t,r){this.Je=e,this.An=t,this.Jt=r}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.bn(e,t,r))}bn(e,t,r){return this.Je.getEntry(e,t).next(i=>{for(const l of r)l.applyToLocalView(i);return i})}Pn(e,t){e.forEach((r,i)=>{for(const l of t)l.applyToLocalView(i)})}vn(e,t){return this.Je.getEntries(e,t).next(r=>this.Vn(e,r).next(()=>r))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Pn(t,r))}getDocumentsMatchingQuery(e,t,r){return nt.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.Sn(e,t.path):rc(t)?this.Dn(e,t,r):this.Cn(e,t,r);var i}Sn(e,t){return this.Rn(e,new nt(t)).next(r=>{let i=zv();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Dn(e,t,r){const i=t.collectionGroup;let l=zv();return this.Jt.getCollectionParents(e,i).next(h=>Se.forEach(h,m=>{const v=(T=t,A=m.child(i),new Ja(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt));var T,A;return this.Cn(e,v,r).next(T=>{T.forEach((A,O)=>{l=l.insert(A,O)})})}).next(()=>l))}Cn(e,t,r){let i,l;return this.Je.getDocumentsMatchingQuery(e,t,r).next(h=>(i=h,this.An.getAllMutationBatchesAffectingQuery(e,t))).next(h=>(l=h,this.Nn(e,l,i).next(m=>{i=m;for(const v of l)for(const T of v.mutations){const A=T.key;let O=i.get(A);null==O&&(O=Nn.newInvalidDocument(A),i=i.insert(A,O)),nD(T,O,v.localWriteTime),O.isFoundDocument()||(i=i.remove(A))}}))).next(()=>(i.forEach((h,m)=>{gp(t,m)||(i=i.remove(h))}),i))}Nn(e,t,r){let i=Xt();for(const h of t)for(const m of h.mutations)m instanceof Qa&&null===r.get(m.key)&&(i=i.add(m.key));let l=r;return this.Je.getEntries(e,i).next(h=>(h.forEach((m,v)=>{v.isFoundDocument()&&(l=l.insert(m,v))}),l))}}class g_{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.kn=r,this.xn=i}static $n(e,t){let r=Xt(),i=Xt();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new g_(e,t.fromCache,r,i)}}class d0{On(e){this.Mn=e}getDocumentsMatchingQuery(e,t,r,i){return 0===(l=t).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||r.isEqual(Et.min())?this.Fn(e,t):this.Mn.vn(e,i).next(l=>{const h=this.Ln(t,l);return(Zm(t)||Yl(t))&&this.Bn(t.limitType,h,i,r)?this.Fn(e,t):(Hm()<=$a.in.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Bv(t)),this.Mn.getDocumentsMatchingQuery(e,t,r).next(m=>(h.forEach(v=>{m=m.insert(v.key,v)}),m)))});var l}Ln(e,t){let r=new Wn(Uv(e));return t.forEach((i,l)=>{gp(e,l)&&(r=r.add(l))}),r}Bn(e,t,r,i){if(r.size!==t.size)return!0;const l="F"===e?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}Fn(e,t){return Hm()<=$a.in.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",Bv(t)),this.Mn.getDocumentsMatchingQuery(e,t,Et.min())}}class BT{constructor(e,t,r,i){this.persistence=e,this.Un=t,this.k=i,this.qn=new cr(Lt),this.Kn=new gh(l=>up(l),cp),this.jn=Et.min(),this.An=e.getMutationQueue(r),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new VT(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.On(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qn))}}function UD(n,e,t,r){return new BT(n,e,t,r)}function h0(n,e){return hc.apply(this,arguments)}function hc(){return hc=(0,ye.Z)(function*(n,e){const t=He(n);let r=t.An,i=t.Wn;const l=yield t.persistence.runTransaction("Handle user change","readonly",h=>{let m;return t.An.getAllMutationBatches(h).next(v=>(m=v,r=t.persistence.getMutationQueue(e),i=new VT(t.Qn,r,t.persistence.getIndexManager()),r.getAllMutationBatches(h))).next(v=>{const T=[],A=[];let O=Xt();for(const L of m){T.push(L.batchId);for(const V of L.mutations)O=O.add(V.key)}for(const L of v){A.push(L.batchId);for(const V of L.mutations)O=O.add(V.key)}return i.vn(h,O).next(L=>({Gn:L,removedBatchIds:T,addedBatchIds:A}))})});return t.An=r,t.Wn=i,t.Un.On(t.Wn),l}),hc.apply(this,arguments)}function f0(n,e){const t=He(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),l=t.Qn.newChangeBuffer({trackRemovals:!0});return function(h,m,v,T){const A=v.batch,O=A.keys();let L=Se.resolve();return O.forEach(V=>{L=L.next(()=>T.getEntry(m,V)).next(Q=>{const ve=v.docVersions.get(V);yt(null!==ve),Q.version.compareTo(ve)<0&&(A.applyToRemoteDocument(Q,v),Q.isValidDocument()&&T.addEntry(Q,v.commitVersion))})}),L.next(()=>h.An.removeMutationBatch(m,A))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.An.performConsistencyCheck(r)).next(()=>t.Wn.vn(r,i))})}function p0(n){const e=He(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.He.getLastRemoteSnapshotVersion(t))}function UT(n,e){const t=He(n),r=e.snapshotVersion;let i=t.qn;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.Qn.newChangeBuffer({trackRemovals:!0});i=t.qn;const m=[];e.targetChanges.forEach((T,A)=>{const O=i.get(A);if(!O)return;m.push(t.He.removeMatchingKeys(l,T.removedDocuments,A).next(()=>t.He.addMatchingKeys(l,T.addedDocuments,A)));let L=O.withSequenceNumber(l.currentSequenceNumber);var V,Q,ve;e.targetMismatches.has(A)?L=L.withResumeToken(br.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):T.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(T.resumeToken,r)),i=i.insert(A,L),Q=L,ve=T,(0===(V=O).resumeToken.approximateByteSize()||Q.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=3e8||ve.addedDocuments.size+ve.modifiedDocuments.size+ve.removedDocuments.size>0)&&m.push(t.He.updateTargetData(l,L))});let v=to();if(e.documentUpdates.forEach((T,A)=>{e.resolvedLimboDocuments.has(T)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,T))}),m.push(g0(l,h,e.documentUpdates,r,void 0).next(T=>{v=T})),!r.isEqual(Et.min())){const T=t.He.getLastRemoteSnapshotVersion(l).next(A=>t.He.setTargetsMetadata(l,l.currentSequenceNumber,r));m.push(T)}return Se.waitFor(m).next(()=>h.apply(l)).next(()=>t.Wn.Vn(l,v)).next(()=>v)}).then(l=>(t.qn=i,l))}function g0(n,e,t,r,i){let l=Xt();return t.forEach(h=>l=l.add(h)),e.getEntries(n,l).next(h=>{let m=to();return t.forEach((v,T)=>{const A=h.get(v),O=(null==i?void 0:i.get(v))||r;T.isNoDocument()&&T.version.isEqual(Et.min())?(e.removeEntry(v,O),m=m.insert(v,T)):!A.isValidDocument()||T.version.compareTo(A.version)>0||0===T.version.compareTo(A.version)&&A.hasPendingWrites?(e.addEntry(T,O),m=m.insert(v,T)):Pe("LocalStore","Ignoring outdated watch update for ",v,". Current version:",A.version," Watch version:",T.version)}),m})}function jD(n,e){const t=He(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.An.getNextMutationBatchAfterBatchId(r,e)))}function mh(n,e){const t=He(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.He.getTargetData(r,e).next(l=>l?(i=l,Se.resolve(i)):t.He.allocateTargetId(r).next(h=>(i=new uc(e,h,0,r.currentSequenceNumber),t.He.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.qn.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.qn=t.qn.insert(r.targetId,r),t.Kn.set(e,r.targetId)),r})}function _h(n,e,t){return HD.apply(this,arguments)}function HD(){return HD=(0,ye.Z)(function*(n,e,t){const r=He(n),i=r.qn.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,h=>r.persistence.referenceDelegate.removeTarget(h,i)))}catch(h){if(!lc(h))throw h;Pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}r.qn=r.qn.remove(e),r.Kn.delete(i.target)}),HD.apply(this,arguments)}function m0(n,e,t){const r=He(n);let i=Et.min(),l=Xt();return r.persistence.runTransaction("Execute query","readonly",h=>function(m,v,T){const A=He(m),O=A.Kn.get(T);return void 0!==O?Se.resolve(A.qn.get(O)):A.He.getTargetData(v,T)}(r,h,No(e)).next(m=>{if(m)return i=m.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(h,m.targetId).next(v=>{l=v})}).next(()=>r.Un.getDocumentsMatchingQuery(h,e,t?i:Et.min(),t?l:Xt())).next(m=>({documents:m,zn:l})))}function _0(n,e){const t=He(n),r=He(t.He),i=t.qn.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",l=>r.Et(l,e).next(h=>h?h.target:null))}function GD(n){const e=He(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(r,i,l){const h=He(r);let m=to(),v=OD(l);const T=ra(i),A=IDBKeyRange.lowerBound(v,!0);return T.jt({index:xn.readTimeIndex,range:A},(O,L)=>{const V=MD(h.k,L);m=m.insert(V.key,V),v=L.readTime}).next(()=>({In:m,readTime:NT(v)}))}(e.Qn,t,e.jn)).then(({In:t,readTime:r})=>(e.jn=r,t))}function y0(){return y0=(0,ye.Z)(function*(n){const e=He(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(r){const i=ra(r);let l=Et.min();return i.jt({index:xn.readTimeIndex,reverse:!0},(h,m,v)=>{m.readTime&&(l=NT(m.readTime)),v.done()}).next(()=>l)}(t)).then(t=>{e.jn=t})}),y0.apply(this,arguments)}function $D(){return $D=(0,ye.Z)(function*(n,e,t,r){const i=He(n);let l=Xt(),h=to(),m=sh();for(const A of t){const O=e.Hn(A.metadata.name);A.document&&(l=l.add(O)),h=h.insert(O,e.Jn(A)),m=m.insert(O,e.Yn(A.metadata.readTime))}const v=i.Qn.newChangeBuffer({trackRemovals:!0}),T=yield mh(i,(A=r,No(fp(Qt.fromString(`__bundle__/docs/${A}`)))));var A;return i.persistence.runTransaction("Apply bundle documents","readwrite",A=>g0(A,v,h,Et.min(),m).next(O=>(v.apply(A),O)).next(O=>i.He.removeMatchingKeysForTargetId(A,T.targetId).next(()=>i.He.addMatchingKeys(A,l,T.targetId)).next(()=>i.Wn.Vn(A,O)).next(()=>O)))}),$D.apply(this,arguments)}function lS(n,e){return WD.apply(this,arguments)}function WD(){return WD=(0,ye.Z)(function*(n,e,t=Xt()){const r=yield mh(n,No(eu(e.bundledQuery))),i=He(n);return i.persistence.runTransaction("Save named query","readwrite",l=>{const h=ii(e.readTime);if(r.snapshotVersion.compareTo(h)>=0)return i.Ye.saveNamedQuery(l,e);const m=r.withResumeToken(br.EMPTY_BYTE_STRING,h);return i.qn=i.qn.insert(m.targetId,m),i.He.updateTargetData(l,m).next(()=>i.He.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>i.He.addMatchingKeys(l,t,r.targetId)).next(()=>i.Ye.saveNamedQuery(l,e))})}),WD.apply(this,arguments)}class uS{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return Se.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var r;return this.Xn.set(t.id,{id:(r=t).id,version:r.version,createTime:ii(r.createTime)}),Se.resolve()}getNamedQuery(e,t){return Se.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,{name:(r=t).name,query:eu(r.bundledQuery),readTime:ii(r.readTime)}),Se.resolve();var r}}class v0{constructor(){this.ts=new Wn(rr.es),this.ns=new Wn(rr.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const r=new rr(e,t);this.ts=this.ts.add(r),this.ns=this.ns.add(r)}rs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.os(new rr(e,t))}cs(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new nt(new Qt([])),r=new rr(t,e),i=new rr(t,e+1),l=[];return this.ns.forEachInRange([r,i],h=>{this.os(h),l.push(h.key)}),l}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new nt(new Qt([])),r=new rr(t,e),i=new rr(t,e+1);let l=Xt();return this.ns.forEachInRange([r,i],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new rr(e,0),r=this.ts.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class rr{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return nt.comparator(e.key,t.key)||Lt(e.fs,t.fs)}static ss(e,t){return Lt(e.fs,t.fs)||nt.comparator(e.key,t.key)}}class HT{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new Wn(rr.es)}checkEmpty(e){return Se.resolve(0===this.An.length)}addMutationBatch(e,t,r,i){const l=this.ds;this.ds++;const h=new ND(l,t,r,i);this.An.push(h);for(const m of i)this.ws=this.ws.add(new rr(m.key,l)),this.Jt.addToCollectionParentIndex(e,m.key.path.popLast());return Se.resolve(h)}lookupMutationBatch(e,t){return Se.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.gs(t+1),l=i<0?0:i;return Se.resolve(this.An.length>l?this.An[l]:null)}getHighestUnacknowledgedBatchId(){return Se.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return Se.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new rr(t,0),i=new rr(t,Number.POSITIVE_INFINITY),l=[];return this.ws.forEachInRange([r,i],h=>{const m=this._s(h.fs);l.push(m)}),Se.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Wn(Lt);return t.forEach(i=>{const l=new rr(i,0),h=new rr(i,Number.POSITIVE_INFINITY);this.ws.forEachInRange([l,h],m=>{r=r.add(m.fs)})}),Se.resolve(this.ys(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let l=r;nt.isDocumentKey(l)||(l=l.child(""));const h=new rr(new nt(l),0);let m=new Wn(Lt);return this.ws.forEachWhile(v=>{const T=v.key.path;return!!r.isPrefixOf(T)&&(T.length===i&&(m=m.add(v.fs)),!0)},h),Se.resolve(this.ys(m))}ys(e){const t=[];return e.forEach(r=>{const i=this._s(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){yt(0===this.ps(t.batchId,"removed")),this.An.shift();let r=this.ws;return Se.forEach(t.mutations,i=>{const l=new rr(i.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ws=r})}ee(e){}containsKey(e,t){const r=new rr(t,0),i=this.ws.firstAfterOrEqual(r);return Se.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return Se.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}class GT{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new cr(nt.comparator),this.size=0}addEntry(e,t,r){const i=t.key,l=this.docs.get(i),h=l?l.size:0,m=this.Ts(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:m,readTime:r}),this.size+=m-h,this.Jt.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Se.resolve(r?r.document.mutableCopy():Nn.newInvalidDocument(t))}getEntries(e,t){let r=to();return t.forEach(i=>{const l=this.docs.get(i);r=r.insert(i,l?l.document.mutableCopy():Nn.newInvalidDocument(i))}),Se.resolve(r)}getDocumentsMatchingQuery(e,t,r){let i=to();const l=new nt(t.path.child("")),h=this.docs.getIteratorFrom(l);for(;h.hasNext();){const{key:m,value:{document:v,readTime:T}}=h.getNext();if(!t.path.isPrefixOf(m.path))break;T.compareTo(r)<=0||gp(t,v)&&(i=i.insert(v.key,v.mutableCopy()))}return Se.resolve(i)}Es(e,t){return Se.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new zD(this)}getSize(e){return Se.resolve(this.size)}}class zD extends u0{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.document.isValidDocument()?t.push(this.De.addEntry(e,i.document,this.getReadTime(r))):this.De.removeEntry(r)}),Se.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class fc{constructor(e){this.persistence=e,this.Is=new gh(t=>up(t),cp),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.As=0,this.Rs=new v0,this.targetCount=0,this.bs=dc.ie()}forEachTarget(e,t){return this.Is.forEach((r,i)=>t(i)),Se.resolve()}getLastRemoteSnapshotVersion(e){return Se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Se.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),Se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.As&&(this.As=t),Se.resolve()}ae(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new dc(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,Se.resolve()}updateTargetData(e,t){return this.ae(t),Se.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,Se.resolve()}removeTargets(e,t,r){let i=0;const l=[];return this.Is.forEach((h,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Is.delete(h),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),i++)}),Se.waitFor(l).next(()=>i)}getTargetCount(e){return Se.resolve(this.targetCount)}getTargetData(e,t){const r=this.Is.get(t)||null;return Se.resolve(r)}addMatchingKeys(e,t,r){return this.Rs.rs(t,r),Se.resolve()}removeMatchingKeys(e,t,r){this.Rs.cs(t,r);const i=this.persistence.referenceDelegate,l=[];return i&&t.forEach(h=>{l.push(i.markPotentiallyOrphaned(e,h))}),Se.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),Se.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Rs.ls(t);return Se.resolve(r)}containsKey(e,t){return Se.resolve(this.Rs.containsKey(t))}}class qD{constructor(e,t){this.Ps={},this.Be=new es(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new fc(this),this.Jt=new s0,this.Je=new GT(this.Jt,r=>this.referenceDelegate.vs(r)),this.k=new ST(t),this.Ye=new uS(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.Ps[e.toKey()];return t||(t=new HT(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,r){Pe("MemoryPersistence","Starting transaction:",e);const i=new b0(this.Be.next());return this.referenceDelegate.Vs(),r(i).next(l=>this.referenceDelegate.Ss(i).next(()=>l)).toPromise().then(l=>(i.raiseOnCommittedEvent(),l))}Ds(e,t){return Se.or(Object.values(this.Ps).map(r=>()=>r.containsKey(e,t)))}}class b0 extends ID{constructor(e){super(),this.currentSequenceNumber=e}}class Rp{constructor(e){this.persistence=e,this.Cs=new v0,this.Ns=null}static ks(e){return new Rp(e)}get xs(){if(this.Ns)return this.Ns;throw tt()}addReference(e,t,r){return this.Cs.addReference(r,t),this.xs.delete(r.toString()),Se.resolve()}removeReference(e,t,r){return this.Cs.removeReference(r,t),this.xs.add(r.toString()),Se.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Se.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach(i=>this.xs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(l=>this.xs.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Se.forEach(this.xs,r=>{const i=nt.fromPath(r);return this.$s(e,i).next(l=>{l||t.removeEntry(i)})}).next(()=>(this.Ns=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.xs.delete(t.toString()):this.xs.add(t.toString())})}vs(e){return 0}$s(e,t){return Se.or([()=>Se.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}function ZD(n,e){return`firestore_clients_${n}_${e}`}function m_(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function kp(n,e){return`firestore_targets_${n}_${e}`}class Pp{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Os(e,t,r){const i=JSON.parse(r);let l,h="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return h&&i.error&&(h="string"==typeof i.error.message&&"string"==typeof i.error.code,h&&(l=new Ne(i.error.code,i.error.message))),h?new Pp(e,t,i.state,l):(lr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class yh{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Os(e,t){const r=JSON.parse(t);let i,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(i=new Ne(r.error.code,r.error.message))),l?new yh(e,r.state,i):(lr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class w0{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Os(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,l=e_();for(let h=0;i&&h<r.activeTargetIds.length;++h)i=Sv(r.activeTargetIds[h]),l=l.add(r.activeTargetIds[h]);return i?new w0(e,l):(lr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class KD{constructor(e,t){this.clientId=e,this.onlineState=t}static Os(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new KD(t.clientId,t.onlineState):(lr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class YD{constructor(){this.activeTargetIds=e_()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ms(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JD{constructor(e,t,r,i,l){this.window=e,this.Me=t,this.persistenceKey=r,this.Bs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new cr(Lt),this.started=!1,this.js=[];const h=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.Qs=ZD(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new YD),this.Gs=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(m){return`firestore_bundle_loaded_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static Pt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ye.Z)(function*(){const t=yield e.syncEngine.Tn();for(const i of t){if(i===e.Bs)continue;const l=e.getItem(ZD(e.persistenceKey,i));if(l){const h=w0.Os(i,l);h&&(e.Ks=e.Ks.insert(h.clientId,h))}}e.Xs();const r=e.storage.getItem(e.Js);if(r){const i=e.Zs(r);i&&e.ti(i)}for(const i of e.js)e.qs(i);e.js=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(e){let t=!1;return this.Ks.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ni(e,"pending")}updateMutationState(e,t,r){this.ni(e,t,r),this.si(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(kp(this.persistenceKey,e));if(r){const i=yh.Os(e,r);i&&(t=i.state)}}return this.ii.Fs(e),this.Xs(),t}removeLocalQueryTarget(e){this.ii.Ls(e),this.Xs()}isLocalQueryTarget(e){return this.ii.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(kp(this.persistenceKey,e))}updateQueryState(e,t,r){this.ri(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.si(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.oi(e)}notifyBundleLoaded(){this.ci()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Pe("SharedClientState","READ",e,t),t}setItem(e,t){Pe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Pe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}qs(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Pe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Qs)return void lr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable((0,ye.Z)(function*(){if(t.started){if(null!==r.key)if(t.Gs.test(r.key)){if(null==r.newValue){const i=t.ai(r.key);return t.ui(i,null)}{const i=t.hi(r.key,r.newValue);if(i)return t.ui(i.clientId,i)}}else if(t.zs.test(r.key)){if(null!==r.newValue){const i=t.li(r.key,r.newValue);if(i)return t.fi(i)}}else if(t.Hs.test(r.key)){if(null!==r.newValue){const i=t.di(r.key,r.newValue);if(i)return t.wi(i)}}else if(r.key===t.Js){if(null!==r.newValue){const i=t.Zs(r.newValue);if(i)return t.ti(i)}}else if(r.key===t.Ws){const i=function(l){let h=es.I;if(null!=l)try{const m=JSON.parse(l);yt("number"==typeof m),h=m}catch(m){lr("SharedClientState","Failed to read sequence number from WebStorage",m)}return h}(r.newValue);i!==es.I&&t.sequenceNumberHandler(i)}else if(r.key===t.Ys)return t.syncEngine._i()}else t.js.push(r)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Ms())}ni(e,t,r){const i=new Pp(this.currentUser,e,t,r),l=m_(this.persistenceKey,this.currentUser,e);this.setItem(l,i.Ms())}si(e){const t=m_(this.persistenceKey,this.currentUser,e);this.removeItem(t)}oi(e){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:e}))}ri(e,t,r){const i=kp(this.persistenceKey,e),l=new yh(e,t,r);this.setItem(i,l.Ms())}ci(){this.setItem(this.Ys,"value-not-used")}ai(e){const t=this.Gs.exec(e);return t?t[1]:null}hi(e,t){const r=this.ai(e);return w0.Os(r,t)}li(e,t){const r=this.zs.exec(e),i=Number(r[1]);return Pp.Os(new ni(void 0!==r[2]?r[2]:null),i,t)}di(e,t){const r=this.Hs.exec(e),i=Number(r[1]);return yh.Os(i,t)}Zs(e){return KD.Os(e)}fi(e){var t=this;return(0,ye.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.mi(e.batchId,e.state,e.error);Pe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}wi(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}ui(e,t){const r=t?this.Ks.insert(e,t):this.Ks.remove(e),i=this.ei(this.Ks),l=this.ei(r),h=[],m=[];return l.forEach(v=>{i.has(v)||h.push(v)}),i.forEach(v=>{l.has(v)||m.push(v)}),this.syncEngine.yi(h,m).then(()=>{this.Ks=r})}ti(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ei(e){let t=e_();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class $T{constructor(){this.pi=new YD,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}updateQueryState(e,t,r){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new YD,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class cS{Ei(e){}shutdown(){}}class WT{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.bi(),this.Pi=[],this.vi()}Ei(e){this.Pi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Pi)e(0)}bi(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Pi)e(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const QD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class zT{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Oi(e){this.ki(e)}Mi(e){this.xi(e)}}class qT extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,r,i,l){const h=this.Ui(e,t);Pe("RestConnection","Sending: ",h,r);const m={};return this.qi(m,i,l),this.Ki(e,h,m,r).then(v=>(Pe("RestConnection","Received: ",v),v),v=>{throw tp("RestConnection",`${e} failed with error: `,v,"url: ",h,"request:",r),v})}ji(e,t,r,i,l){return this.Bi(e,t,r,i,l)}qi(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Wd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,l)=>e[l]=i),r&&r.headers.forEach((i,l)=>e[l]=i)}Ui(e,t){return`${this.Fi}/v1/${t}:${QD[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,r,i){return new Promise((l,h)=>{const m=new iS;m.listenOnce(Um.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case wv.NO_ERROR:const T=m.getResponseJson();Pe("Connection","XHR received:",JSON.stringify(T)),l(T);break;case wv.TIMEOUT:Pe("Connection",'RPC "'+e+'" timed out'),h(new Ne(ue.DEADLINE_EXCEEDED,"Request time out"));break;case wv.HTTP_ERROR:const A=m.getStatus();if(Pe("Connection",'RPC "'+e+'" failed with status:',A,"response text:",m.getResponseText()),A>0){const O=m.getResponseJson().error;if(O&&O.status&&O.message){const L=function(V){const Q=V.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(Q)>=0?Q:ue.UNKNOWN}(O.status);h(new Ne(L,O.message))}else h(new Ne(ue.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new Ne(ue.UNAVAILABLE,"Connection failed."));break;default:tt()}}finally{Pe("Connection",'RPC "'+e+'" completed.')}});const v=JSON.stringify(i);m.send(t,"POST",v,r,15)})}Qi(e,t,r){const i=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=JE(),h=QE(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new jm({})),this.qi(m.initMessageHeaders,t,r),(0,Ft.uI)()||(0,Ft.b$)()||(0,Ft.d)()||(0,Ft.w1)()||(0,Ft.Mn)()||(0,Ft.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const v=i.join("");Pe("Connection","Creating WebChannel: "+v,m);const T=l.createWebChannel(v,m);let A=!1,O=!1;const L=new zT({Vi:Q=>{O?Pe("Connection","Not sending because WebChannel is closed:",Q):(A||(Pe("Connection","Opening WebChannel transport."),T.open(),A=!0),Pe("Connection","WebChannel sending:",Q),T.send(Q))},Si:()=>T.close()}),V=(Q,ve,Ue)=>{Q.listen(ve,Qe=>{try{Ue(Qe)}catch(pt){setTimeout(()=>{throw pt},0)}})};return V(T,En.EventType.OPEN,()=>{O||Pe("Connection","WebChannel transport opened.")}),V(T,En.EventType.CLOSE,()=>{O||(O=!0,Pe("Connection","WebChannel transport closed"),L.Oi())}),V(T,En.EventType.ERROR,Q=>{O||(O=!0,tp("Connection","WebChannel transport errored:",Q),L.Oi(new Ne(ue.UNAVAILABLE,"The operation could not be completed")))}),V(T,En.EventType.MESSAGE,Q=>{var ve;if(!O){const Ue=Q.data[0];yt(!!Ue);const Qe=Ue,pt=Qe.error||(null===(ve=Qe[0])||void 0===ve?void 0:ve.error);if(pt){Pe("Connection","WebChannel received error:",pt);const nn=pt.status;let Tt=function(io){const ng=ur[io];if(void 0!==ng)return Wv(ng)}(nn),ln=pt.message;void 0===Tt&&(Tt=ue.INTERNAL,ln="Unknown error status: "+nn+" with message "+pt.message),O=!0,L.Oi(new Ne(Tt,ln)),T.close()}else Pe("Connection","WebChannel received:",Ue),L.Mi(Ue)}}),V(h,XE.STAT_EVENT,Q=>{Q.stat===ep.PROXY?Pe("Connection","Detected buffering proxy"):Q.stat===ep.NOPROXY&&Pe("Connection","Detected no buffering proxy")}),setTimeout(()=>{L.$i()},0),L}}function XD(){return"undefined"!=typeof window?window:null}function __(){return"undefined"!=typeof document?document:null}function vh(n){return new qv(n,!0)}class y_{constructor(e,t,r=1e3,i=1.5,l=6e4){this.Me=e,this.timerId=t,this.Wi=r,this.Gi=i,this.zi=l,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,t-r);i>0&&Pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Hi} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Ji=this.Me.enqueueAfterDelay(this.timerId,i,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class D0{constructor(e,t,r,i,l,h,m,v){this.Me=e,this.nr=r,this.sr=i,this.ir=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=v,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new y_(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return(0,ye.Z)(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return(0,ye.Z)(function*(){if(e.lr())return e.close(0)})()}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}pr(){this.ar&&(this.ar.cancel(),this.ar=null)}close(e,t){var r=this;return(0,ye.Z)(function*(){r.yr(),r.pr(),r.ur.cancel(),r.rr++,4!==e?r.ur.reset():t&&t.code===ue.RESOURCE_EXHAUSTED?(lr(t.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),r.ur.Xi()):t&&t.code===ue.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Tr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ni(t)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.rr===t&&this.Ir(r,i)},r=>{e(()=>{const i=new Ne(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ar(i)})})}Ir(e,t){const r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di(()=>{r(()=>(this.state=2,this.ar=this.Me.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(i=>{r(()=>this.Ar(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}dr(){var e=this;this.state=5,this.ur.Zi((0,ye.Z)(function*(){e.state=0,e.start()}))}Ar(e){return Pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Me.enqueueAndForget(()=>this.rr===e?t():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZT extends D0{constructor(e,t,r,i,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,h),this.k=l}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();const t=function yD(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:tt(),i=e.targetChange.targetIds||[],l=function(v,T){return v.C?(yt(void 0===T||"string"==typeof T),br.fromBase64String(T||"")):(yt(void 0===T||T instanceof Uint8Array),br.fromUint8Array(T||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(v){const T=void 0===v.code?ue.UNKNOWN:Wv(v.code);return new Ne(T,v.message||"")}(h);t=new uD(r,i,l,m||null)}else if("documentChange"in e){const r=e.documentChange,i=no(n,r.document.name),l=ii(r.document.updateTime),h=new wi({mapValue:{fields:r.document.fields}}),m=Nn.newFoundDocument(i,l,h);t=new t_(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,i=no(n,r.document),l=r.readTime?ii(r.readTime):Et.min(),h=Nn.newNoDocument(i,l);t=new t_([],r.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const r=e.documentRemove,i=no(n,r.document);t=new t_([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return tt();{const r=e.filter,l=new gT(r.count||0);t=new lD(r.targetId,l)}}var v;return t}(this.k,e),r=function(i){if(!("targetChange"in i))return Et.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?Et.min():l.readTime?ii(l.readTime):Et.min()}(e);return this.listener.br(t,r)}Pr(e){const t={};t.database=Dp(this.k),t.addTarget=function(i,l){let h;const m=l.target;return h=dp(m)?{documents:bD(i,m)}:{query:Jv(i,m)},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?h.resumeToken=pD(i,l.resumeToken):l.snapshotVersion.compareTo(Et.min())>0&&(h.readTime=oh(i,l.snapshotVersion.toTimestamp())),h}(this.k,e);const r=function wT(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return tt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.gr(t)}vr(e){const t={};t.database=Dp(this.k),t.removeTarget=e,this.gr(t)}}class KT extends D0{constructor(e,t,r,i,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,h),this.k=l,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(yt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=function vD(n,e){return n&&n.length>0?(yt(void 0!==e),n.map(t=>function(r,i){let l=ii(r.updateTime?r.updateTime:i);return l.isEqual(Et.min())&&(l=ii(i)),new sS(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=ii(e.commitTime);return this.listener.Cr(r,t)}return yt(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=Dp(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Ep(this.k,r))};this.gr(t)}}class e1 extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=r,this.k=i,this.$r=!1}Or(){if(this.$r)throw new Ne(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,r){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.ir.Bi(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ne(ue.UNKNOWN,i.toString())})}ji(e,t,r){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.ir.ji(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ne(ue.UNKNOWN,i.toString())})}terminate(){this.$r=!0}}class v_{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}Br(){0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(lr(t),this.Lr=!1):Pe("OnlineStateTracker",t)}jr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class dS{constructor(e,t,r,i,l){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=l,this.Hr.Ei(m=>{r.enqueueAndForget((0,ye.Z)(function*(){var v;nu(h)&&(Pe("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,ye.Z)(function*(T){const A=He(T);A.Gr.add(4),yield Dh(A),A.Jr.set("Unknown"),A.Gr.delete(4),yield bh(A)}),function(T){return v.apply(this,arguments)})(h))}))}),this.Jr=new v_(r,i)}}function bh(n){return wh.apply(this,arguments)}function wh(){return wh=(0,ye.Z)(function*(n){if(nu(n))for(const e of n.zr)yield e(!0)}),wh.apply(this,arguments)}function Dh(n){return E0.apply(this,arguments)}function E0(){return E0=(0,ye.Z)(function*(n){for(const e of n.zr)yield e(!1)}),E0.apply(this,arguments)}function b_(n,e){const t=He(n);t.Wr.has(e.targetId)||(t.Wr.set(e.targetId,e),C0(t)?T0(t):ge(t).lr()&&t1(t,e))}function Fp(n,e){const t=He(n),r=ge(t);t.Wr.delete(e),r.lr()&&n1(t,e),0===t.Wr.size&&(r.lr()?r._r():nu(t)&&t.Jr.set("Unknown"))}function t1(n,e){n.Yr.X(e.targetId),ge(n).Pr(e)}function n1(n,e){n.Yr.X(e),ge(n).vr(e)}function T0(n){n.Yr=new n_({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Wr.get(e)||null}),ge(n).start(),n.Jr.Br()}function C0(n){return nu(n)&&!ge(n).hr()&&n.Wr.size>0}function nu(n){return 0===He(n).Gr.size}function r1(n){n.Yr=void 0}function YT(n){return I0.apply(this,arguments)}function I0(){return I0=(0,ye.Z)(function*(n){n.Wr.forEach((e,t)=>{t1(n,e)})}),I0.apply(this,arguments)}function JT(n,e){return i1.apply(this,arguments)}function i1(){return i1=(0,ye.Z)(function*(n,e){r1(n),C0(n)?(n.Jr.Kr(e),T0(n)):n.Jr.set("Unknown")}),i1.apply(this,arguments)}function hS(n,e,t){return s1.apply(this,arguments)}function s1(){return s1=(0,ye.Z)(function*(n,e,t){if(n.Jr.set("Online"),e instanceof uD&&2===e.state&&e.cause)try{yield(r=(0,ye.Z)(function*(i,l){const h=l.cause;for(const m of l.targetIds)i.Wr.has(m)&&(yield i.remoteSyncer.rejectListen(m,h),i.Wr.delete(m),i.Yr.removeTarget(m))}),function(i,l){return r.apply(this,arguments)})(n,e)}catch(r){Pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield S0(n,r)}else if(e instanceof t_?n.Yr.ot(e):e instanceof lD?n.Yr.dt(e):n.Yr.ut(e),!t.isEqual(Et.min()))try{const r=yield p0(n.localStore);t.compareTo(r)>=0&&(yield function(i,l){const h=i.Yr.gt(l);return h.targetChanges.forEach((m,v)=>{if(m.resumeToken.approximateByteSize()>0){const T=i.Wr.get(v);T&&i.Wr.set(v,T.withResumeToken(m.resumeToken,l))}}),h.targetMismatches.forEach(m=>{const v=i.Wr.get(m);if(!v)return;i.Wr.set(m,v.withResumeToken(br.EMPTY_BYTE_STRING,v.snapshotVersion)),n1(i,m);const T=new uc(v.target,m,1,v.sequenceNumber);t1(i,T)}),i.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(r){Pe("RemoteStore","Failed to raise snapshot:",r),yield S0(n,r)}var r}),s1.apply(this,arguments)}function S0(n,e,t){return o1.apply(this,arguments)}function o1(){return o1=(0,ye.Z)(function*(n,e,t){if(!lc(e))throw e;n.Gr.add(1),yield Dh(n),n.Jr.set("Offline"),t||(t=()=>p0(n.localStore)),n.asyncQueue.enqueueRetryable((0,ye.Z)(function*(){Pe("RemoteStore","Retrying IndexedDB access"),yield t(),n.Gr.delete(1),yield bh(n)}))}),o1.apply(this,arguments)}function a1(n,e){return e().catch(t=>S0(n,t,e))}function Lp(n){return l1.apply(this,arguments)}function l1(){return l1=(0,ye.Z)(function*(n){const e=He(n),t=Oe(e);let r=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;fS(e);)try{const i=yield jD(e.localStore,r);if(null===i){0===e.Qr.length&&t._r();break}r=i.batchId,pS(e,i)}catch(i){yield S0(e,i)}s(e)&&o(e)}),l1.apply(this,arguments)}function fS(n){return nu(n)&&n.Qr.length<10}function pS(n,e){n.Qr.push(e);const t=Oe(n);t.lr()&&t.Sr&&t.Dr(e.mutations)}function s(n){return nu(n)&&!Oe(n).hr()&&n.Qr.length>0}function o(n){Oe(n).start()}function a(n){return u.apply(this,arguments)}function u(){return u=(0,ye.Z)(function*(n){Oe(n).kr()}),u.apply(this,arguments)}function d(n){return p.apply(this,arguments)}function p(){return p=(0,ye.Z)(function*(n){const e=Oe(n);for(const t of n.Qr)e.Dr(t.mutations)}),p.apply(this,arguments)}function y(n,e,t){return w.apply(this,arguments)}function w(){return w=(0,ye.Z)(function*(n,e,t){const r=n.Qr.shift(),i=s_.from(r,e,t);yield a1(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Lp(n)}),w.apply(this,arguments)}function D(n,e){return I.apply(this,arguments)}function I(){return I=(0,ye.Z)(function*(n,e){var t;e&&Oe(n).Sr&&(yield(t=(0,ye.Z)(function*(r,i){if($v(l=i.code)&&l!==ue.ABORTED){const h=r.Qr.shift();Oe(r).wr(),yield a1(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,i)),yield Lp(r)}var l}),function(r,i){return t.apply(this,arguments)})(n,e)),s(n)&&o(n)}),I.apply(this,arguments)}function N(n,e){return P.apply(this,arguments)}function P(){return P=(0,ye.Z)(function*(n,e){const t=He(n);t.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const r=nu(t);t.Gr.add(3),yield Dh(t),r&&t.Jr.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Gr.delete(3),yield bh(t)}),P.apply(this,arguments)}function j(n,e){return K.apply(this,arguments)}function K(){return K=(0,ye.Z)(function*(n,e){const t=He(n);e?(t.Gr.delete(2),yield bh(t)):e||(t.Gr.add(2),yield Dh(t),t.Jr.set("Unknown"))}),K.apply(this,arguments)}function ge(n){return n.Xr||(n.Xr=function(e,t,r){const i=He(e);return i.Or(),new ZT(t,i.ir,i.authCredentials,i.appCheckCredentials,i.k,r)}(n.datastore,n.asyncQueue,{Di:YT.bind(null,n),Ni:JT.bind(null,n),br:hS.bind(null,n)}),n.zr.push(function(){var e=(0,ye.Z)(function*(t){t?(n.Xr.wr(),C0(n)?T0(n):n.Jr.set("Unknown")):(yield n.Xr.stop(),r1(n))});return function(t){return e.apply(this,arguments)}}())),n.Xr}function Oe(n){return n.Zr||(n.Zr=function(e,t,r){const i=He(e);return i.Or(),new KT(t,i.ir,i.authCredentials,i.appCheckCredentials,i.k,r)}(n.datastore,n.asyncQueue,{Di:a.bind(null,n),Ni:D.bind(null,n),Nr:d.bind(null,n),Cr:y.bind(null,n)}),n.zr.push(function(){var e=(0,ye.Z)(function*(t){t?(n.Zr.wr(),yield Lp(n)):(yield n.Zr.stop(),n.Qr.length>0&&(Pe("RemoteStore",`Stopping write stream with ${n.Qr.length} pending writes`),n.Qr=[]))});return function(t){return e.apply(this,arguments)}}())),n.Zr}class je{constructor(e,t,r,i,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=l,this.deferred=new vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,r,i,l){const h=Date.now()+r,m=new je(e,t,h,i,l);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ne(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ze(n,e){if(lr("AsyncQueue",`${e}: ${n}`),lc(n))return new Ne(ue.UNAVAILABLE,`${e}: ${n}`);throw n}class we{constructor(e){this.comparator=e?(t,r)=>e(t,r)||nt.comparator(t.key,r.key):(t,r)=>nt.comparator(t.key,r.key),this.keyedMap=zv(),this.sortedSet=new cr(this.comparator)}static emptySet(e){return new we(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof we)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new we;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class ct{constructor(){this.eo=new cr(nt.comparator)}track(e){const t=e.doc.key,r=this.eo.get(t);r?0!==e.type&&3===r.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==r.type?this.eo=this.eo.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.eo=this.eo.remove(t):1===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):tt():this.eo=this.eo.insert(t,e)}no(){const e=[];return this.eo.inorderTraversal((t,r)=>{e.push(r)}),e}}class It{constructor(e,t,r,i,l,h,m,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=v}static fromInitialDocuments(e,t,r,i){const l=[];return t.forEach(h=>{l.push({type:0,doc:h})}),new It(e,t,we.emptySet(t),l,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class tn{constructor(){this.so=void 0,this.listeners=[]}}class Ns{constructor(){this.queries=new gh(e=>Kw(e),pp),this.onlineState="Unknown",this.io=new Set}}function nl(n,e){return Vp.apply(this,arguments)}function Vp(){return Vp=(0,ye.Z)(function*(n,e){const t=He(n),r=e.query;let i=!1,l=t.queries.get(r);if(l||(i=!0,l=new tn),i)try{l.so=yield t.onListen(r)}catch(h){const m=ze(h,`Initialization of query '${Bv(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,l),l.listeners.push(e),e.ro(t.onlineState),l.so&&e.oo(l.so)&&jp(t)}),Vp.apply(this,arguments)}function Bp(n,e){return Up.apply(this,arguments)}function Up(){return Up=(0,ye.Z)(function*(n,e){const t=He(n),r=e.query;let i=!1;const l=t.queries.get(r);if(l){const h=l.listeners.indexOf(e);h>=0&&(l.listeners.splice(h,1),i=0===l.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),Up.apply(this,arguments)}function A0(n,e){const t=He(n);let r=!1;for(const i of e){const h=t.queries.get(i.query);if(h){for(const m of h.listeners)m.oo(i)&&(r=!0);h.so=i}}r&&jp(t)}function N0(n,e,t){const r=He(n),i=r.queries.get(e);if(i)for(const l of i.listeners)l.onError(t);r.queries.delete(e)}function jp(n){n.io.forEach(e=>{e.next()})}class Hp{constructor(e,t,r){this.query=e,this.co=t,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}oo(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new It(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.ao?this.ho(e)&&(this.co.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.co.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){return!e.fromCache||!(this.options.wo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=It.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}class M0{constructor(e,t){this.payload=e,this.byteLength=t}_o(){return"metadata"in this.payload}}class w_{constructor(e){this.k=e}Hn(e){return no(this.k,e)}Jn(e){return e.metadata.exists?Zv(this.k,e.document,!1):Nn.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return ii(e)}}class wM{constructor(e,t,r){this.mo=e,this.localStore=t,this.k=r,this.queries=[],this.documents=[],this.progress=gS(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}po(e){const t=new Map,r=new w_(this.k);for(const i of e)if(i.metadata.queries){const l=r.Hn(i.metadata.name);for(const h of i.metadata.queries){const m=(t.get(h)||Xt()).add(l);t.set(h,m)}}return t}complete(){var e=this;return(0,ye.Z)(function*(){const t=yield function aS(n,e,t,r){return $D.apply(this,arguments)}(e.localStore,new w_(e.k),e.documents,e.mo.id),r=e.po(e.documents);for(const i of e.queries)yield lS(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",new LT(Object.assign({},e.progress),t)})()}}function gS(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class mS{constructor(e){this.key=e}}class _S{constructor(e){this.key=e}}class yS{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=Xt(),this.mutatedKeys=Xt(),this.Ao=Uv(e),this.Ro=new we(this.Ao)}get bo(){return this.To}Po(e,t){const r=t?t.vo:new ct,i=t?t.Ro:this.Ro;let l=t?t.mutatedKeys:this.mutatedKeys,h=i,m=!1;const v=Zm(this.query)&&i.size===this.query.limit?i.last():null,T=Yl(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((A,O)=>{const L=i.get(A),V=gp(this.query,O)?O:null,Q=!!L&&this.mutatedKeys.has(L.key),ve=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let Ue=!1;L&&V?L.data.isEqual(V.data)?Q!==ve&&(r.track({type:3,doc:V}),Ue=!0):this.Vo(L,V)||(r.track({type:2,doc:V}),Ue=!0,(v&&this.Ao(V,v)>0||T&&this.Ao(V,T)<0)&&(m=!0)):!L&&V?(r.track({type:0,doc:V}),Ue=!0):L&&!V&&(r.track({type:1,doc:L}),Ue=!0,(v||T)&&(m=!0)),Ue&&(V?(h=h.add(V),l=ve?l.add(A):l.delete(A)):(h=h.delete(A),l=l.delete(A)))}),Zm(this.query)||Yl(this.query))for(;h.size>this.query.limit;){const A=Zm(this.query)?h.last():h.first();h=h.delete(A.key),l=l.delete(A.key),r.track({type:1,doc:A})}return{Ro:h,vo:r,Bn:m,mutatedKeys:l}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const l=e.vo.no();l.sort((T,A)=>function(O,L){const V=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tt()}};return V(O)-V(L)}(T.type,A.type)||this.Ao(T.doc,A.doc)),this.So(r);const h=t?this.Do():[],m=0===this.Io.size&&this.current?1:0,v=m!==this.Eo;return this.Eo=m,0!==l.length||v?{snapshot:new It(this.query,e.Ro,i,l,e.mutatedKeys,0===m,v,!1),Co:h}:{Co:h}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new ct,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(t=>this.To=this.To.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.To=this.To.delete(t)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=Xt(),this.Ro.forEach(r=>{this.No(r.key)&&(this.Io=this.Io.add(r.key))});const t=[];return e.forEach(r=>{this.Io.has(r)||t.push(new _S(r))}),this.Io.forEach(r=>{e.has(r)||t.push(new mS(r))}),t}ko(e){this.To=e.zn,this.Io=Xt();const t=this.Po(e.documents);return this.applyChanges(t,!0)}xo(){return It.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class DM{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class EM{constructor(e){this.key=e,this.$o=!1}}class TM{constructor(e,t,r,i,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Oo={},this.Mo=new gh(m=>Kw(m),pp),this.Fo=new Map,this.Lo=new Set,this.Bo=new cr(nt.comparator),this.Uo=new Map,this.qo=new v0,this.Ko={},this.jo=new Map,this.Qo=dc.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function CM(n,e){return QT.apply(this,arguments)}function QT(){return QT=(0,ye.Z)(function*(n,e){const t=wC(n);let r,i;const l=t.Mo.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),i=l.view.xo();else{const h=yield mh(t.localStore,No(e)),m=t.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,i=yield XT(t,e,r,"current"===m),t.isPrimaryClient&&b_(t.remoteStore,h)}return i}),QT.apply(this,arguments)}function XT(n,e,t,r){return eC.apply(this,arguments)}function eC(){return eC=(0,ye.Z)(function*(n,e,t,r){n.Go=(A,O,L)=>{return(V=(0,ye.Z)(function*(Q,ve,Ue,Qe){let pt=ve.view.Po(Ue);pt.Bn&&(pt=yield m0(Q.localStore,ve.query,!1).then(({documents:ln})=>ve.view.Po(ln,pt)));const nn=Qe&&Qe.targetChanges.get(ve.targetId),Tt=ve.view.applyChanges(pt,Q.isPrimaryClient,nn);return cC(Q,ve.targetId,Tt.Co),Tt.snapshot}),function(Q,ve,Ue,Qe){return V.apply(this,arguments)})(n,A,O,L);var V};const i=yield m0(n.localStore,e,!0),l=new yS(e,i.zn),h=l.Po(i.documents),m=Xa.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),v=l.applyChanges(h,n.isPrimaryClient,m);cC(n,t,v.Co);const T=new DM(e,t,l);return n.Mo.set(e,T),n.Fo.has(t)?n.Fo.get(t).push(e):n.Fo.set(t,[e]),v.snapshot}),eC.apply(this,arguments)}function IM(n,e){return tC.apply(this,arguments)}function tC(){return tC=(0,ye.Z)(function*(n,e){const t=He(n),r=t.Mo.get(e),i=t.Fo.get(r.targetId);if(i.length>1)return t.Fo.set(r.targetId,i.filter(l=>!pp(l,e))),void t.Mo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield _h(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Fp(t.remoteStore,r.targetId),D_(t,r.targetId)}).catch(wr))):(D_(t,r.targetId),yield _h(t.localStore,r.targetId,!0))}),tC.apply(this,arguments)}function nC(){return nC=(0,ye.Z)(function*(n,e,t){const r=DC(n);try{const i=yield function(l,h){const m=He(l),v=ri.now(),T=h.reduce((O,L)=>O.add(L.key),Xt());let A;return m.persistence.runTransaction("Locally write mutations","readwrite",O=>m.Wn.vn(O,T).next(L=>{A=L;const V=[];for(const Q of h){const ve=rD(Q,A.get(Q.key));null!=ve&&V.push(new Qa(Q.key,ve,Hw(ve.value.mapValue),nr.exists(!0)))}return m.An.addMutationBatch(O,v,V,h)})).then(O=>(O.applyToLocalDocumentSet(A),{batchId:O.batchId,changes:A}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,h,m){let v=l.Ko[l.currentUser.toKey()];v||(v=new cr(Lt)),v=v.insert(h,m),l.Ko[l.currentUser.toKey()]=v}(r,i.batchId,t),yield pc(r,i.changes),yield Lp(r.remoteStore)}catch(i){const l=ze(i,"Failed to persist write");t.reject(l)}}),nC.apply(this,arguments)}function vS(n,e){return rC.apply(this,arguments)}function rC(){return rC=(0,ye.Z)(function*(n,e){const t=He(n);try{const r=yield UT(t.localStore,e);e.targetChanges.forEach((i,l)=>{const h=t.Uo.get(l);h&&(yt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?h.$o=!0:i.modifiedDocuments.size>0?yt(h.$o):i.removedDocuments.size>0&&(yt(h.$o),h.$o=!1))}),yield pc(t,r,e)}catch(r){yield wr(r)}}),rC.apply(this,arguments)}function bS(n,e,t){const r=He(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.Mo.forEach((l,h)=>{const m=h.view.ro(e);m.snapshot&&i.push(m.snapshot)}),function(l,h){const m=He(l);m.onlineState=h;let v=!1;m.queries.forEach((T,A)=>{for(const O of A.listeners)O.ro(h)&&(v=!0)}),v&&jp(m)}(r.eventManager,e),i.length&&r.Oo.br(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function AM(n,e,t){return iC.apply(this,arguments)}function iC(){return iC=(0,ye.Z)(function*(n,e,t){const r=He(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Uo.get(e),l=i&&i.key;if(l){let h=new cr(nt.comparator);h=h.insert(l,Nn.newNoDocument(l,Et.min()));const m=Xt().add(l),v=new ac(Et.min(),new Map,new Wn(Lt),h,m);yield vS(r,v),r.Bo=r.Bo.remove(l),r.Uo.delete(e),dC(r)}else yield _h(r.localStore,e,!1).then(()=>D_(r,e,t)).catch(wr)}),iC.apply(this,arguments)}function NM(n,e){return sC.apply(this,arguments)}function sC(){return sC=(0,ye.Z)(function*(n,e){const t=He(n),r=e.batch.batchId;try{const i=yield f0(t.localStore,e);uC(t,r,null),lC(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield pc(t,i)}catch(i){yield wr(i)}}),sC.apply(this,arguments)}function MM(n,e,t){return oC.apply(this,arguments)}function oC(){return oC=(0,ye.Z)(function*(n,e,t){const r=He(n);try{const i=yield function(l,h){const m=He(l);return m.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let T;return m.An.lookupMutationBatch(v,h).next(A=>(yt(null!==A),T=A.keys(),m.An.removeMutationBatch(v,A))).next(()=>m.An.performConsistencyCheck(v)).next(()=>m.Wn.vn(v,T))})}(r.localStore,e);uC(r,e,t),lC(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield pc(r,i)}catch(i){yield wr(i)}}),oC.apply(this,arguments)}function aC(){return aC=(0,ye.Z)(function*(n,e){const t=He(n);nu(t.remoteStore)||Pe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const h=He(l);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>h.An.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const i=t.jo.get(r)||[];i.push(e),t.jo.set(r,i)}catch(r){const i=ze(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),aC.apply(this,arguments)}function lC(n,e){(n.jo.get(e)||[]).forEach(t=>{t.resolve()}),n.jo.delete(e)}function uC(n,e,t){const r=He(n);let i=r.Ko[r.currentUser.toKey()];if(i){const l=i.get(e);l&&(t?l.reject(t):l.resolve(),i=i.remove(e)),r.Ko[r.currentUser.toKey()]=i}}function D_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Fo.get(e))n.Mo.delete(r),t&&n.Oo.zo(r,t);n.Fo.delete(e),n.isPrimaryClient&&n.qo.us(e).forEach(r=>{n.qo.containsKey(r)||wS(n,r)})}function wS(n,e){n.Lo.delete(e.path.canonicalString());const t=n.Bo.get(e);null!==t&&(Fp(n.remoteStore,t),n.Bo=n.Bo.remove(e),n.Uo.delete(t),dC(n))}function cC(n,e,t){for(const r of t)r instanceof mS?(n.qo.addReference(r.key,e),xM(n,r)):r instanceof _S?(Pe("SyncEngine","Document no longer in limbo: "+r.key),n.qo.removeReference(r.key,e),n.qo.containsKey(r.key)||wS(n,r.key)):tt()}function xM(n,e){const t=e.key,r=t.path.canonicalString();n.Bo.get(t)||n.Lo.has(r)||(Pe("SyncEngine","New document in limbo: "+t),n.Lo.add(r),dC(n))}function dC(n){for(;n.Lo.size>0&&n.Bo.size<n.maxConcurrentLimboResolutions;){const e=n.Lo.values().next().value;n.Lo.delete(e);const t=new nt(Qt.fromString(e)),r=n.Qo.next();n.Uo.set(r,new EM(t)),n.Bo=n.Bo.insert(t,r),b_(n.remoteStore,new uc(No(fp(t.path)),r,2,es.I))}}function pc(n,e,t){return hC.apply(this,arguments)}function hC(){return hC=(0,ye.Z)(function*(n,e,t){const r=He(n),i=[],l=[],h=[];var m;r.Mo.isEmpty()||(r.Mo.forEach((m,v)=>{h.push(r.Go(v,e,t).then(T=>{if(T){r.isPrimaryClient&&r.sharedClientState.updateQueryState(v.targetId,T.fromCache?"not-current":"current"),i.push(T);const A=g_.$n(v.targetId,T);l.push(A)}}))}),yield Promise.all(h),r.Oo.br(i),yield(m=(0,ye.Z)(function*(v,T){const A=He(v);try{yield A.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>Se.forEach(T,L=>Se.forEach(L.kn,V=>A.persistence.referenceDelegate.addReference(O,L.targetId,V)).next(()=>Se.forEach(L.xn,V=>A.persistence.referenceDelegate.removeReference(O,L.targetId,V)))))}catch(O){if(!lc(O))throw O;Pe("LocalStore","Failed to update sequence numbers: "+O)}for(const O of T){const L=O.targetId;if(!O.fromCache){const V=A.qn.get(L),ve=V.withLastLimboFreeSnapshotVersion(V.snapshotVersion);A.qn=A.qn.insert(L,ve)}}}),function(v,T){return m.apply(this,arguments)})(r.localStore,l))}),hC.apply(this,arguments)}function RM(n,e){return fC.apply(this,arguments)}function fC(){return fC=(0,ye.Z)(function*(n,e){const t=He(n);if(!t.currentUser.isEqual(e)){Pe("SyncEngine","User change. New user:",e.toKey());const r=yield h0(t.localStore,e);t.currentUser=e,(i=t).jo.forEach(h=>{h.forEach(m=>{m.reject(new Ne(ue.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.jo.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield pc(t,r.Gn)}var i}),fC.apply(this,arguments)}function kM(n,e){const t=He(n),r=t.Uo.get(e);if(r&&r.$o)return Xt().add(r.key);{let i=Xt();const l=t.Fo.get(e);if(!l)return i;for(const h of l){const m=t.Mo.get(h);i=i.unionWith(m.view.bo)}return i}}function PM(n,e){return pC.apply(this,arguments)}function pC(){return pC=(0,ye.Z)(function*(n,e){const t=He(n),r=yield m0(t.localStore,e.query,!0),i=e.view.ko(r);return t.isPrimaryClient&&cC(t,e.targetId,i.Co),i}),pC.apply(this,arguments)}function FM(n){return gC.apply(this,arguments)}function gC(){return gC=(0,ye.Z)(function*(n){const e=He(n);return GD(e.localStore).then(t=>pc(e,t))}),gC.apply(this,arguments)}function LM(n,e,t,r){return mC.apply(this,arguments)}function mC(){return mC=(0,ye.Z)(function*(n,e,t,r){const i=He(n),l=yield function(h,m){const v=He(h),T=He(v.An);return v.persistence.runTransaction("Lookup mutation documents","readonly",A=>T.Zt(A,m).next(O=>O?v.Wn.vn(A,O):Se.resolve(null)))}(i.localStore,e);var m;null!==l?("pending"===t?yield Lp(i.remoteStore):"acknowledged"===t||"rejected"===t?(uC(i,e,r||null),lC(i,e),m=e,He(He(i.localStore).An).ee(m)):tt(),yield pc(i,l)):Pe("SyncEngine","Cannot apply mutation batch with id: "+e)}),mC.apply(this,arguments)}function _C(){return _C=(0,ye.Z)(function*(n,e){const t=He(n);if(wC(t),DC(t),!0===e&&!0!==t.Wo){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield DS(t,r.toArray());t.Wo=!0,yield j(t.remoteStore,!0);for(const l of i)b_(t.remoteStore,l)}else if(!1===e&&!1!==t.Wo){const r=[];let i=Promise.resolve();t.Fo.forEach((l,h)=>{t.sharedClientState.isLocalQueryTarget(h)?r.push(h):i=i.then(()=>(D_(t,h),_h(t.localStore,h,!0))),Fp(t.remoteStore,h)}),yield i,yield DS(t,r),function(l){const h=He(l);h.Uo.forEach((m,v)=>{Fp(h.remoteStore,v)}),h.qo.hs(),h.Uo=new Map,h.Bo=new cr(nt.comparator)}(t),t.Wo=!1,yield j(t.remoteStore,!1)}}),_C.apply(this,arguments)}function DS(n,e,t){return yC.apply(this,arguments)}function yC(){return yC=(0,ye.Z)(function*(n,e,t){const r=He(n),i=[],l=[];for(const h of e){let m;const v=r.Fo.get(h);if(v&&0!==v.length){m=yield mh(r.localStore,No(v[0]));for(const T of v){const A=r.Mo.get(T),O=yield PM(r,A);O.snapshot&&l.push(O.snapshot)}}else{const T=yield _0(r.localStore,h);m=yield mh(r.localStore,T),yield XT(r,ES(T),h,!1)}i.push(m)}return r.Oo.br(l),i}),yC.apply(this,arguments)}function ES(n){return Fv(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function BM(n){const e=He(n);return He(He(e.localStore).persistence).Tn()}function UM(n,e,t,r){return vC.apply(this,arguments)}function vC(){return vC=(0,ye.Z)(function*(n,e,t,r){const i=He(n);if(i.Wo)Pe("SyncEngine","Ignoring unexpected query state notification.");else if(i.Fo.has(e))switch(t){case"current":case"not-current":{const l=yield GD(i.localStore),h=ac.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield pc(i,l,h);break}case"rejected":yield _h(i.localStore,e,!0),D_(i,e,r);break;default:tt()}}),vC.apply(this,arguments)}function jM(n,e,t){return bC.apply(this,arguments)}function bC(){return bC=(0,ye.Z)(function*(n,e,t){const r=wC(n);if(r.Wo){for(const i of e){if(r.Fo.has(i)){Pe("SyncEngine","Adding an already active target "+i);continue}const l=yield _0(r.localStore,i),h=yield mh(r.localStore,l);yield XT(r,ES(l),h.targetId,!1),b_(r.remoteStore,h)}for(const i of t)r.Fo.has(i)&&(yield _h(r.localStore,i,!1).then(()=>{Fp(r.remoteStore,i),D_(r,i)}).catch(wr))}}),bC.apply(this,arguments)}function wC(n){const e=He(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=vS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AM.bind(null,e),e.Oo.br=A0.bind(null,e.eventManager),e.Oo.zo=N0.bind(null,e.eventManager),e}function DC(n){const e=He(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=NM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=MM.bind(null,e),e}class TS{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ye.Z)(function*(){t.k=vh(e.databaseInfo.databaseId),t.sharedClientState=t.Jo(e),t.persistence=t.Yo(e),yield t.persistence.start(),t.gcScheduler=t.Xo(e),t.localStore=t.Zo(e)})()}Xo(e){return null}Zo(e){return UD(this.persistence,new d0,e.initialUser,this.k)}Yo(e){return new qD(Rp.ks,this.k)}Jo(e){return new $T}terminate(){var e=this;return(0,ye.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class CS extends TS{constructor(e,t,r){super(),this.tc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e),yield function jT(n){return y0.apply(this,arguments)}(r.localStore),yield r.tc.initialize(r,e),yield DC(r.tc.syncEngine),yield Lp(r.tc.remoteStore),yield r.persistence.sn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Zo(e){return UD(this.persistence,new d0,e.initialUser,this.k)}Xo(e){return new RT(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Yo(e){const t=p_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Pi.withCacheSize(this.cacheSizeBytes):Pi.DEFAULT;return new h_(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,XD(),__(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new $T}}class GM extends CS{constructor(e,t){super(e,t,!1),this.tc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e);const i=r.tc.syncEngine;r.sharedClientState instanceof JD&&(r.sharedClientState.syncEngine={mi:LM.bind(null,i),gi:UM.bind(null,i),yi:jM.bind(null,i),Tn:BM.bind(null,i),_i:FM.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.sn(function(){var l=(0,ye.Z)(function*(h){yield function VM(n,e){return _C.apply(this,arguments)}(r.tc.syncEngine,h),r.gcScheduler&&(h&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):h||r.gcScheduler.stop())});return function(h){return l.apply(this,arguments)}}())})()}Jo(e){const t=XD();if(!JD.Pt(t))throw new Ne(ue.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=p_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new JD(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class EC{initialize(e,t){var r=this;return(0,ye.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>bS(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=RM.bind(null,r.syncEngine),yield j(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Ns}createDatastore(e){const t=vh(e.databaseInfo.databaseId),r=new qT(e.databaseInfo);return new e1(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,l=m=>bS(this.syncEngine,m,0),h=WT.Pt()?new WT:new cS,new dS(t,r,i,l,h);var t,r,i,l,h}createSyncEngine(e,t){return function(r,i,l,h,m,v,T){const A=new TM(r,i,l,h,m,v);return T&&(A.Wo=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ye.Z)(function*(t){const r=He(t);Pe("RemoteStore","RemoteStore shutting down."),r.Gr.add(5),yield Dh(r),r.Hr.shutdown(),r.Jr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function IS(n,e=10240){let t=0;return{read:()=>(0,ye.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ye.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class u1{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ec(this.observer.next,e)}error(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}nc(){this.muted=!0}ec(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class $M{constructor(e,t){this.sc=e,this.k=t,this.metadata=new vr,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then(r=>{r&&r._o()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.sc.cancel()}getMetadata(){var e=this;return(0,ye.Z)(function*(){return e.metadata.promise})()}Ho(){var e=this;return(0,ye.Z)(function*(){return yield e.getMetadata(),e.rc()})()}rc(){var e=this;return(0,ye.Z)(function*(){const t=yield e.oc();if(null===t)return null;const r=e.ic.decode(t),i=Number(r);isNaN(i)&&e.cc(`length string (${r}) is not valid number`);const l=yield e.ac(i);return new M0(JSON.parse(l),t.length+i)})()}uc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}oc(){var e=this;return(0,ye.Z)(function*(){for(;e.uc()<0&&!(yield e.hc()););if(0===e.buffer.length)return null;const t=e.uc();t<0&&e.cc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ac(e){var t=this;return(0,ye.Z)(function*(){for(;t.buffer.length<e;)(yield t.hc())&&t.cc("Reached the end of bundle when more is expected.");const r=t.ic.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}cc(e){throw this.sc.cancel(),new Error(`Invalid bundle format: ${e}`)}hc(){var e=this;return(0,ye.Z)(function*(){const t=yield e.sc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class WM{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ye.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ne(ue.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,ye.Z)(function*(l,h){const m=He(l),v=Dp(m.k)+"/documents",T={documents:h.map(V=>ah(m.k,V))},A=yield m.ji("BatchGetDocuments",v,T),O=new Map;A.forEach(V=>{const Q=function Kv(n,e){return"found"in e?function(t,r){yt(!!r.found);const i=no(t,r.found.name),l=ii(r.found.updateTime),h=new wi({mapValue:{fields:r.found.fields}});return Nn.newFoundDocument(i,l,h)}(n,e):"missing"in e?function(t,r){yt(!!r.missing),yt(!!r.readTime);const i=no(t,r.missing),l=ii(r.readTime);return Nn.newNoDocument(i,l)}(n,e):tt()}(m.k,V);O.set(Q.key.toString(),Q)});const L=[];return h.forEach(V=>{const Q=O.get(V.toString());yt(!!Q),L.push(Q)}),L}),function(l,h){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new _p(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ye.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const l=nt.fromPath(i);e.mutations.push(new Gv(l,e.precondition(l)))}),yield(r=(0,ye.Z)(function*(i,l){const h=He(i),m=Dp(h.k)+"/documents",v={writes:l.map(T=>Ep(h.k,T))};yield h.Bi("Commit",m,v)}),function(i,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw tt();t=Et.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ne(ue.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?nr.updateTime(t):nr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Et.min()))throw new Ne(ue.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return nr.updateTime(t)}return nr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class zM{constructor(e,t,r,i){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=i,this.lc=5,this.ur=new y_(this.asyncQueue,"transaction_retry")}run(){this.lc-=1,this.fc()}fc(){var e=this;this.ur.Zi((0,ye.Z)(function*(){const t=new WM(e.datastore),r=e.dc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(l=>{e.wc(l)}))}).catch(i=>{e.wc(i)})}))}dc(e){try{const t=this.updateFunction(e);return!Zl(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}wc(e){this.lc>0&&this._c(e)?(this.lc-=1,this.asyncQueue.enqueueAndForget(()=>(this.fc(),Promise.resolve()))):this.deferred.reject(e)}_c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!$v(t)}return!1}}class qM{constructor(e,t,r,i){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ni.UNAUTHENTICATED,this.clientId=Cv.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var h=(0,ye.Z)(function*(m){Pe("FirestoreClient","Received user=",m.uid),yield l.authCredentialListener(m),l.user=m});return function(m){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(r,h=>(Pe("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}getConfiguration(){var e=this;return(0,ye.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ne(ue.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=ze(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function SS(n,e){return TC.apply(this,arguments)}function TC(){return TC=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,ye.Z)(function*(l){r.isEqual(l)||(yield h0(e.localStore,l),r=l)});return function(l){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),TC.apply(this,arguments)}function AS(n,e){return CC.apply(this,arguments)}function CC(){return CC=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield IC(n);Pe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>N(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,l)=>N(e.remoteStore,l)),n.onlineComponents=e}),CC.apply(this,arguments)}function IC(n){return SC.apply(this,arguments)}function SC(){return SC=(0,ye.Z)(function*(n){return n.offlineComponents||(Pe("FirestoreClient","Using default OfflineComponentProvider"),yield SS(n,new TS)),n.offlineComponents}),SC.apply(this,arguments)}function c1(n){return AC.apply(this,arguments)}function AC(){return AC=(0,ye.Z)(function*(n){return n.onlineComponents||(Pe("FirestoreClient","Using default OnlineComponentProvider"),yield AS(n,new EC)),n.onlineComponents}),AC.apply(this,arguments)}function NS(n){return IC(n).then(e=>e.persistence)}function NC(n){return IC(n).then(e=>e.localStore)}function MS(n){return c1(n).then(e=>e.remoteStore)}function MC(n){return c1(n).then(e=>e.syncEngine)}function E_(n){return OC.apply(this,arguments)}function OC(){return OC=(0,ye.Z)(function*(n){const e=yield c1(n),t=e.eventManager;return t.onListen=CM.bind(null,e.syncEngine),t.onUnlisten=IM.bind(null,e.syncEngine),t}),OC.apply(this,arguments)}function OS(n,e,t={}){const r=new vr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(i,l,h,m,v){const T=new u1({next:O=>{l.enqueueAndForget(()=>Bp(i,A));const L=O.docs.has(h);!L&&O.fromCache?v.reject(new Ne(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&O.fromCache&&m&&"server"===m.source?v.reject(new Ne(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(O)},error:O=>v.reject(O)}),A=new Hp(fp(h.path),T,{includeMetadataChanges:!0,wo:!0});return nl(i,A)}(yield E_(n),n.asyncQueue,e,t,r)})),r.promise}function xS(n,e,t={}){const r=new vr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(i,l,h,m,v){const T=new u1({next:O=>{l.enqueueAndForget(()=>Bp(i,A)),O.fromCache&&"server"===m.source?v.reject(new Ne(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(O)},error:O=>v.reject(O)}),A=new Hp(h,T,{includeMetadataChanges:!0,wo:!0});return nl(i,A)}(yield E_(n),n.asyncQueue,e,t,r)})),r.promise}class nO{constructor(e,t,r,i,l,h,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.useFetchStreams=v}}class T_{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof T_&&e.projectId===this.projectId&&e.database===this.database}}const RS=new Map;function xC(n,e,t){if(!t)throw new Ne(ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function kS(n,e,t,r){if(!0===e&&!0===r)throw new Ne(ue.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function PS(n){if(!nt.isDocumentKey(n))throw new Ne(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function FS(n){if(nt.isDocumentKey(n))throw new Ne(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function d1(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":tt()}function Gt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ne(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=d1(n);throw new Ne(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function LS(n,e){if(e<=0)throw new Ne(ue.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class VS{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ne(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ne(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,kS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class O0{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VS({}),this._settingsFrozen=!1,e instanceof T_?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Ne(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new T_(i.options.projectId)}(e))}get app(){if(!this._app)throw new Ne(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ne(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VS(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new tT;switch(t.type){case"gapi":const r=t.client;return yt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new rT(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ne(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=RS.get(e);t&&(Pe("ComponentProvider","Removing Datastore"),RS.delete(e),t.terminate())}(this),Promise.resolve()}}class Rn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ru(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rn(this.firestore,e,this._key)}}class is{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new is(this.firestore,e,this._query)}}class ru extends is{constructor(e,t,r){super(e,t,fp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rn(this.firestore,null,new nt(e))}withConverter(e){return new ru(this.firestore,e,this._path)}}function BS(n,e,...t){if(n=(0,Ft.m9)(n),xC("collection","path",e),n instanceof O0){const r=Qt.fromString(e,...t);return FS(r),new ru(n,null,r)}{if(!(n instanceof Rn||n instanceof ru))throw new Ne(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Qt.fromString(e,...t));return FS(r),new ru(n.firestore,null,r)}}function h1(n,e,...t){if(n=(0,Ft.m9)(n),1===arguments.length&&(e=Cv.A()),xC("doc","path",e),n instanceof O0){const r=Qt.fromString(e,...t);return PS(r),new Rn(n,null,new nt(r))}{if(!(n instanceof Rn||n instanceof ru))throw new Ne(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Qt.fromString(e,...t));return PS(r),new Rn(n.firestore,n instanceof ru?n.converter:null,new nt(r))}}function US(n,e){return n=(0,Ft.m9)(n),e=(0,Ft.m9)(e),(n instanceof Rn||n instanceof ru)&&(e instanceof Rn||e instanceof ru)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function jS(n,e){return n=(0,Ft.m9)(n),e=(0,Ft.m9)(e),n instanceof is&&e instanceof is&&n.firestore===e.firestore&&pp(n._query,e._query)&&n.converter===e.converter}class sO{constructor(){this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new y_(this,"async_queue_retry"),this.bc=()=>{const t=__();t&&Pe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ur.er()};const e=__();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}get isShuttingDown(){return this.yc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pc(),this.vc(e)}enterRestrictedMode(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;const t=__();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}}enqueue(e){if(this.Pc(),this.yc)return new Promise(()=>{});const t=new vr;return this.vc(()=>this.yc&&this.Ac?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.gc.push(e),this.Vc()))}Vc(){var e=this;return(0,ye.Z)(function*(){if(0!==e.gc.length){try{yield e.gc[0](),e.gc.shift(),e.ur.reset()}catch(t){if(!lc(t))throw t;Pe("AsyncQueue","Operation failed with retryable error: "+t)}e.gc.length>0&&e.ur.Zi(()=>e.Vc())}})()}vc(e){const t=this.mc.then(()=>(this.Ic=!0,e().catch(r=>{throw this.Ec=r,this.Ic=!1,lr("INTERNAL UNHANDLED ERROR: ",function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),h}(r)),r}).then(r=>(this.Ic=!1,r))));return this.mc=t,t}enqueueAfterDelay(e,t,r){this.Pc(),this.Rc.indexOf(e)>-1&&(t=0);const i=je.createAndSchedule(this,e,t,r,l=>this.Sc(l));return this.Tc.push(i),i}Pc(){this.Ec&&tt()}verifyOperationInProgress(){}Dc(){var e=this;return(0,ye.Z)(function*(){let t;do{t=e.mc,yield t}while(t!==e.mc)})()}Cc(e){for(const t of this.Tc)if(t.timerId===e)return!0;return!1}Nc(e){return this.Dc().then(()=>{this.Tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Dc()})}kc(e){this.Rc.push(e)}Sc(e){const t=this.Tc.indexOf(e);this.Tc.splice(t,1)}}function RC(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class oO{constructor(){this._progressObserver={},this._taskCompletionResolver=new vr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class zn extends O0{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new sO,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||HS(this),this._firestoreClient.terminate()}}function Vr(n){return n._firestoreClient||HS(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function HS(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new nO(n._databaseId,l,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var l,m;n._firestoreClient=new qM(n._authCredentials,n._appCheckCredentials,n._queue,r)}function GS(n,e,t){const r=new vr;return n.asyncQueue.enqueue((0,ye.Z)(function*(){try{yield SS(n,t),yield AS(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(l=i).name?l.code===ue.FAILED_PRECONDITION||l.code===ue.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var l})).then(()=>r.promise)}function $S(n){if(n._initialized||n._terminated)throw new Ne(ue.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class gc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ne(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new er(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class iu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new iu(br.fromBase64String(e))}catch(t){throw new Ne(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new iu(br.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Gp{constructor(e){this._methodName=e}}class f1{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ne(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ne(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Lt(this._lat,e._lat)||Lt(this._long,e._long)}}const mO=/^__.*__$/;class _O{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Qa(e,this.data,this.fieldMask,t,this.fieldTransforms):new ih(e,this.data,t,this.fieldTransforms)}}class WS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Qa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function zS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tt()}}class p1{constructor(e,t,r,i,l,h){this.settings=e,this.databaseId=t,this.k=r,this.ignoreUndefinedProperties=i,void 0===l&&this.xc(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get $c(){return this.settings.$c}Oc(e){return new p1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Oc({path:r,Fc:!1});return i.Lc(e),i}Bc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Oc({path:r,Fc:!1});return i.xc(),i}Uc(e){return this.Oc({path:void 0,Fc:!0})}qc(e){return _1(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}Lc(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(zS(this.$c)&&mO.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}class yO{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=r||vh(e)}Qc(e,t,r,i=!1){return new p1({$c:e,methodName:t,jc:r,path:er.emptyPath(),Fc:!1,Kc:i},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function $p(n){const e=n._freezeSettings(),t=vh(n._databaseId);return new yO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function g1(n,e,t,r,i,l={}){const h=n.Qc(l.merge||l.mergeFields?2:0,e,t,i);LC("Data must be an object, but it was:",h,r);const m=KS(r,h);let v,T;if(l.merge)v=new qd(h.fieldMask),T=h.fieldTransforms;else if(l.mergeFields){const A=[];for(const O of l.mergeFields){const L=VC(e,O,t);if(!h.contains(L))throw new Ne(ue.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);JS(A,L)||A.push(L)}v=new qd(A),T=h.fieldTransforms.filter(O=>v.covers(O.field))}else v=null,T=h.fieldTransforms;return new _O(new wi(m),v,T)}class x0 extends Gp{_toFieldTransform(e){if(2!==e.$c)throw e.qc(1===e.$c?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof x0}}function qS(n,e,t){return new p1({$c:3,jc:e.settings.jc,methodName:n._methodName,Fc:t},e.databaseId,e.k,e.ignoreUndefinedProperties)}class kC extends Gp{_toFieldTransform(e){return new nh(e.path,new eh)}isEqual(e){return e instanceof kC}}class vO extends Gp{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=qS(this,e,!0),r=this.Wc.map(l=>Wp(l,t)),i=new ic(r);return new nh(e.path,i)}isEqual(e){return this===e}}class bO extends Gp{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=qS(this,e,!0),r=this.Wc.map(l=>Wp(l,t)),i=new sc(r);return new nh(e.path,i)}isEqual(e){return this===e}}class wO extends Gp{constructor(e,t){super(e),this.Gc=t}_toFieldTransform(e){const t=new th(e.k,Xd(e.k,this.Gc));return new nh(e.path,t)}isEqual(e){return this===e}}function PC(n,e,t,r){const i=n.Qc(1,e,t);LC("Data must be an object, but it was:",i,r);const l=[],h=wi.empty();zl(r,(v,T)=>{const A=m1(e,v,t);T=(0,Ft.m9)(T);const O=i.Bc(A);if(T instanceof x0)l.push(A);else{const L=Wp(T,O);null!=L&&(l.push(A),h.set(A,L))}});const m=new qd(l);return new WS(h,m,i.fieldTransforms)}function FC(n,e,t,r,i,l){const h=n.Qc(1,e,t),m=[VC(e,r,t)],v=[i];if(l.length%2!=0)throw new Ne(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let L=0;L<l.length;L+=2)m.push(VC(e,l[L])),v.push(l[L+1]);const T=[],A=wi.empty();for(let L=m.length-1;L>=0;--L)if(!JS(T,m[L])){const V=m[L];let Q=v[L];Q=(0,Ft.m9)(Q);const ve=h.Bc(V);if(Q instanceof x0)T.push(V);else{const Ue=Wp(Q,ve);null!=Ue&&(T.push(V),A.set(V,Ue))}}const O=new qd(T);return new WS(A,O,h.fieldTransforms)}function ZS(n,e,t,r=!1){return Wp(t,n.Qc(r?4:3,e))}function Wp(n,e){if(YS(n=(0,Ft.m9)(n)))return LC("Unsupported field value:",e,n),KS(n,e);if(n instanceof Gp)return function(t,r){if(!zS(r.$c))throw r.qc(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.qc(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Fc&&4!==e.$c)throw e.qc("Nested arrays are not supported");return function(t,r){const i=[];let l=0;for(const h of t){let m=Wp(h,r.Uc(l));null==m&&(m={nullValue:"NULL_VALUE"}),i.push(m),l++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Ft.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Xd(r.k,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=ri.fromDate(t);return{timestampValue:oh(r.k,i)}}if(t instanceof ri){const i=new ri(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:oh(r.k,i)}}if(t instanceof f1)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof iu)return{bytesValue:pD(r.k,t._byteString)};if(t instanceof Rn){const i=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(i))throw r.qc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:bp(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.qc(`Unsupported field value: ${d1(t)}`)}(n,e)}function KS(n,e){const t={};return ip(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zl(n,(r,i)=>{const l=Wp(i,e.Mc(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function YS(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ri||n instanceof f1||n instanceof iu||n instanceof Rn||n instanceof Gp)}function LC(n,e,t){if(!YS(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=d1(t);throw e.qc("an object"===r?n+" a custom object":n+" "+r)}var r}function VC(n,e,t){if((e=(0,Ft.m9)(e))instanceof gc)return e._internalPath;if("string"==typeof e)return m1(n,e);throw _1("Field path arguments must be of type string or ",n,!1,void 0,t)}const DO=new RegExp("[~\\*/\\[\\]]");function m1(n,e,t){if(e.search(DO)>=0)throw _1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new gc(...e.split("."))._internalPath}catch(r){throw _1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function _1(n,e,t,r,i){const l=r&&!r.isEmpty(),h=void 0!==i;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let v="";return(l||h)&&(v+=" (found",l&&(v+=` in field ${r}`),h&&(v+=` in document ${i}`),v+=")"),new Ne(ue.INVALID_ARGUMENT,m+n+v)}function JS(n,e){return n.some(t=>t.isEqual(e))}class R0{constructor(e,t,r,i,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new EO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(y1("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class EO extends R0{data(){return super.data()}}function y1(n,e){return"string"==typeof e?m1(n,e):e instanceof gc?e._internalPath:e._delegate._internalPath}class zp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mc extends R0{constructor(e,t,r,i,l,h){super(e,t,r,i,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new k0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(y1("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class k0 extends mc{data(e={}){return super.data(e)}}class Eh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new zp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new k0(this._firestore,this._userDataWriter,r.key,r,new zp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ne(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(h=>({type:"added",doc:new k0(r._firestore,r._userDataWriter,h.doc.key,h.doc,new zp(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>i||3!==h.type).map(h=>{const m=new k0(r._firestore,r._userDataWriter,h.doc.key,h.doc,new zp(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let v=-1,T=-1;return 0!==h.type&&(v=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),1!==h.type&&(l=l.add(h.doc),T=l.indexOf(h.doc.key)),{type:TO(h.type),doc:m,oldIndex:v,newIndex:T}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function TO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tt()}}function QS(n,e){return n instanceof mc&&e instanceof mc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Eh&&e instanceof Eh&&n._firestore===e._firestore&&jS(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function XS(n){if(Yl(n)&&0===n.explicitOrderBy.length)throw new Ne(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class P0{}function Th(n,...e){for(const t of e)n=t._apply(n);return n}class CO extends P0{constructor(e,t,r){super(),this.zc=e,this.Hc=t,this.Jc=r,this.type="where"}_apply(e){const t=$p(e.firestore),r=function(i,l,h,m,v,T,A){let O;if(v.isKeyField()){if("array-contains"===T||"array-contains-any"===T)throw new Ne(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if("in"===T||"not-in"===T){sA(A,T);const V=[];for(const Q of A)V.push(iA(m,i,Q));O={arrayValue:{values:V}}}else O=iA(m,i,A)}else"in"!==T&&"not-in"!==T&&"array-contains-any"!==T||sA(A,T),O=ZS(h,"where",A,"in"===T||"not-in"===T);const L=Oi.create(v,T,O);return function(V,Q){if(Q.V()){const Ue=Jl(V);if(null!==Ue&&!Ue.isEqual(Q.field))throw new Ne(ue.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ue.toString()}' and '${Q.field.toString()}'`);const Qe=Lv(V);null!==Qe&&oA(0,Q.field,Qe)}const ve=function(Ue,Qe){for(const pt of Ue.filters)if(Qe.indexOf(pt.op)>=0)return pt.op;return null}(V,function(Ue){switch(Ue){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Q.op));if(null!==ve)throw new Ne(ue.INVALID_ARGUMENT,ve===Q.op?`Invalid query. You cannot use more than one '${Q.op.toString()}' filter.`:`Invalid query. You cannot use '${Q.op.toString()}' filters with '${ve.toString()}' filters.`)}(i,L),L}(e._query,0,t,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new is(e.firestore,e.converter,function(i,l){const h=i.filters.concat([l]);return new Ja(i.path,i.collectionGroup,i.explicitOrderBy.slice(),h,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class SO extends P0{constructor(e,t){super(),this.zc=e,this.Yc=t,this.type="orderBy"}_apply(e){const t=function(r,i,l){if(null!==r.startAt)throw new Ne(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ne(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new Jd(i,l);return function(m,v){if(null===Lv(m)){const T=Jl(m);null!==T&&oA(0,T,v.field)}}(r,h),h}(e._query,this.zc,this.Yc);return new is(e.firestore,e.converter,function(r,i){const l=r.explicitOrderBy.concat([i]);return new Ja(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class eA extends P0{constructor(e,t,r){super(),this.type=e,this.Xc=t,this.Zc=r}_apply(e){return new is(e.firestore,e.converter,Vv(e._query,this.Xc,this.Zc))}}class tA extends P0{constructor(e,t,r){super(),this.type=e,this.ta=t,this.ea=r}_apply(e){const t=rA(e,this.type,this.ta,this.ea);return new is(e.firestore,e.converter,(i=t,new Ja((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class nA extends P0{constructor(e,t,r){super(),this.type=e,this.ta=t,this.ea=r}_apply(e){const t=rA(e,this.type,this.ta,this.ea);return new is(e.firestore,e.converter,(i=t,new Ja((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function rA(n,e,t,r){if(t[0]=(0,Ft.m9)(t[0]),t[0]instanceof R0)return function(i,l,h,m,v){if(!m)throw new Ne(ue.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const T=[];for(const A of Qd(i))if(A.field.isKeyField())T.push(Wm(l,m.key));else{const O=m.data.field(A.field);if(Iv(O))throw new Ne(ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+A.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===O){const L=A.field.canonicalString();throw new Ne(ue.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${L}' (used as the orderBy) does not exist.`)}T.push(O)}return new hp(T,v)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=$p(n.firestore);return function(l,h,m,v,T,A){const O=l.explicitOrderBy;if(T.length>O.length)throw new Ne(ue.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const L=[];for(let V=0;V<T.length;V++){const Q=T[V];if(O[V].field.isKeyField()){if("string"!=typeof Q)throw new Ne(ue.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof Q}`);if(!rc(l)&&-1!==Q.indexOf("/"))throw new Ne(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${Q}' contains a slash.`);const ve=l.path.child(Qt.fromString(Q));if(!nt.isDocumentKey(ve))throw new Ne(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${ve}' is not because it contains an odd number of segments.`);const Ue=new nt(ve);L.push(Wm(h,Ue))}else{const ve=ZS(m,v,Q);L.push(ve)}}return new hp(L,A)}(n._query,n.firestore._databaseId,i,e,t,r)}}function iA(n,e,t){if("string"==typeof(t=(0,Ft.m9)(t))){if(""===t)throw new Ne(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rc(e)&&-1!==t.indexOf("/"))throw new Ne(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Qt.fromString(t));if(!nt.isDocumentKey(r))throw new Ne(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Wm(n,new nt(r))}if(t instanceof Rn)return Wm(n,t._key);throw new Ne(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${d1(t)}.`)}function sA(n,e){if(!Array.isArray(n)||0===n.length)throw new Ne(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ne(ue.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function oA(n,e,t){if(!t.isEqual(e))throw new Ne(ue.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class BC{convertValue(e,t="none"){switch(Kl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw tt()}}convertObject(e,t){const r={};return zl(e.fields,(i,l)=>{r[i]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new f1(tr(e.latitude),tr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=tc(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(op(e));default:return null}}convertTimestamp(e){const t=ql(e);return new ri(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Qt.fromString(e);yt(wD(r));const i=new T_(r.get(1),r.get(3)),l=new nt(r.popFirst(5));return i.isEqual(t)||lr(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function v1(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class PO extends BC{constructor(e){super(),this.firestore=e}convertBytes(e){return new iu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,t)}}class aA{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=$p(e)}set(e,t,r){this._verifyNotCommitted();const i=Ch(e,this._firestore),l=v1(i.converter,t,r),h=g1(this._dataReader,"WriteBatch.set",i._key,l,null!==i.converter,r);return this._mutations.push(h.toMutation(i._key,nr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const l=Ch(e,this._firestore);let h;return h="string"==typeof(t=(0,Ft.m9)(t))||t instanceof gc?FC(this._dataReader,"WriteBatch.update",l._key,t,r,i):PC(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(h.toMutation(l._key,nr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ch(e,this._firestore);return this._mutations=this._mutations.concat(new _p(t._key,nr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ne(ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ch(n,e){if((n=(0,Ft.m9)(n)).firestore!==e)throw new Ne(ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class qp extends BC{constructor(e){super(),this.firestore=e}convertBytes(e){return new iu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,t)}}function lA(n,e,t){n=Gt(n,Rn);const r=Gt(n.firestore,zn),i=v1(n.converter,e,t);return C_(r,[g1($p(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,nr.none())])}function uA(n,e,t,...r){n=Gt(n,Rn);const i=Gt(n.firestore,zn),l=$p(i);let h;return h="string"==typeof(e=(0,Ft.m9)(e))||e instanceof gc?FC(l,"updateDoc",n._key,e,t,r):PC(l,"updateDoc",n._key,e),C_(i,[h.toMutation(n._key,nr.exists(!0))])}function cA(n,...e){var t,r,i;n=(0,Ft.m9)(n);let l={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||RC(e[h])||(l=e[h],h++);const m={includeMetadataChanges:l.includeMetadataChanges};if(RC(e[h])){const O=e[h];e[h]=null===(t=O.next)||void 0===t?void 0:t.bind(O),e[h+1]=null===(r=O.error)||void 0===r?void 0:r.bind(O),e[h+2]=null===(i=O.complete)||void 0===i?void 0:i.bind(O)}let v,T,A;if(n instanceof Rn)T=Gt(n.firestore,zn),A=fp(n._key.path),v={next:O=>{e[h]&&e[h](UC(T,n,O))},error:e[h+1],complete:e[h+2]};else{const O=Gt(n,is);T=Gt(O.firestore,zn),A=O._query;const L=new qp(T);v={next:V=>{e[h]&&e[h](new Eh(T,L,O,V))},error:e[h+1],complete:e[h+2]},XS(n._query)}return function(O,L,V,Q){const ve=new u1(Q),Ue=new Hp(L,ve,V);return O.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return nl(yield E_(O),Ue)})),()=>{ve.nc(),O.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return Bp(yield E_(O),Ue)}))}}(Vr(T),A,m,v)}function C_(n,e){return function(t,r){const i=new vr;return t.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function SM(n,e,t){return nC.apply(this,arguments)}(yield MC(t),r,i)})),i.promise}(Vr(n),e)}function UC(n,e,t){const r=t.docs.get(e._key),i=new qp(n);return new mc(n,i,e._key,r,new zp(t.hasPendingWrites,t.fromCache),e.converter)}class WO extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=$p(e)}get(e){const t=Ch(e,this._firestore),r=new PO(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return tt();const l=i[0];if(l.isFoundDocument())return new R0(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new R0(this._firestore,r,t._key,null,t.converter);throw tt()})}set(e,t,r){const i=Ch(e,this._firestore),l=v1(i.converter,t,r),h=g1(this._dataReader,"Transaction.set",i._key,l,null!==i.converter,r);return this._transaction.set(i._key,h),this}update(e,t,r,...i){const l=Ch(e,this._firestore);let h;return h="string"==typeof(t=(0,Ft.m9)(t))||t instanceof gc?FC(this._dataReader,"Transaction.update",l._key,t,r,i):PC(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,h),this}delete(e){const t=Ch(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ch(e,this._firestore),r=new qp(this._firestore);return super.get(e).then(i=>new mc(this._firestore,r,t._key,i._document,new zp(!1,!1),t.converter))}}function HC(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ne("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function hA(){if("undefined"==typeof Uint8Array)throw new Ne("unimplemented","Uint8Arrays are not available in this environment.")}function fA(){if(!function lT(){return"undefined"!=typeof atob}())throw new Ne("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Wd=Wu.SDK_VERSION,(0,Wu._registerComponent)(new am.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),l=new zn(i,new rp(t.getProvider("auth-internal")),new Bw(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,Wu.registerVersion)(Dv,"3.4.4",n),(0,Wu.registerVersion)(Dv,"3.4.4","esm2017")}();class F0{constructor(e){this._delegate=e}static fromBase64String(e){return fA(),new F0(iu.fromBase64String(e))}static fromUint8Array(e){return hA(),new F0(iu.fromUint8Array(e))}toBase64(){return fA(),this._delegate.toBase64()}toUint8Array(){return hA(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function GC(n){return function ex(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class tx{enableIndexedDbPersistence(e,t){return function lO(n,e){$S(n=Gt(n,zn));const t=Vr(n),r=n._freezeSettings(),i=new EC;return GS(t,i,new CS(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function uO(n){$S(n=Gt(n,zn));const e=Vr(n),t=n._freezeSettings(),r=new EC;return GS(e,r,new GM(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function cO(n){if(n._initialized&&!n._terminated)throw new Ne(ue.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new vr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{yield(t=(0,ye.Z)(function*(r){if(!xo.Pt())return Promise.resolve();const i=r+"main";yield xo.delete(i)}),function(r){return t.apply(this,arguments)})(p_(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class pA{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof T_||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&tp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function rO(n,e,t,r={}){var i;const l=(n=Gt(n,O0))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&tp("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let h,m;if("string"==typeof r.mockUserToken)h=r.mockUserToken,m=ni.MOCK_USER;else{h=(0,Ft.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Ne(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new ni(v)}n._authCredentials=new np(new Tv(h,m))}}(this._delegate,e,t,r)}enableNetwork(){return function hO(n){return function ZM(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield NS(n),t=yield MS(n);return e.setNetworkEnabled(!0),function(r){const i=He(r);return i.Gr.delete(0),bh(i)}(t)}))}(Vr(n=Gt(n,zn)))}(this._delegate)}disableNetwork(){return function fO(n){return function KM(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield NS(n),t=yield MS(n);return e.setNetworkEnabled(!1),(r=(0,ye.Z)(function*(i){const l=He(i);l.Gr.add(0),yield Dh(l),l.Jr.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Vr(n=Gt(n,zn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,kS("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function dO(n){return function(e){const t=new vr;return e.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function OM(n,e){return aC.apply(this,arguments)}(yield MC(e),t)})),t.promise}(Vr(n=Gt(n,zn)))}(this._delegate)}onSnapshotsInSync(e){return function $O(n,e){return function QM(n,e){const t=new u1(e);return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield E_(n),i=t,He(r).io.add(i),void i.next();var r,i})),()=>{t.nc(),n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield E_(n),i=t,void He(r).io.delete(i);var r,i}))}}(Vr(n=Gt(n,zn)),RC(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ne("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new I_(this,BS(this._delegate,e))}catch(t){throw Ms(t,"collection()","Firestore.collection()")}}doc(e){try{return new ia(this,h1(this._delegate,e))}catch(t){throw Ms(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Os(this,function iO(n,e){if(n=Gt(n,O0),xC("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ne(ue.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new is(n,null,(t=e,new Ja(Qt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ms(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function zO(n,e){return function XM(n,e){const t=new vr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){const r=yield(i=n,c1(i).then(l=>l.datastore));var i;new zM(n.asyncQueue,r,e,t).run()})),t.promise}(Vr(n=Gt(n,zn)),t=>e(new WO(n,t)))}(this._delegate,t=>e(new gA(this,t)))}batch(){return Vr(this._delegate),new mA(new aA(this._delegate,e=>C_(this._delegate,e)))}loadBundle(e){return function pO(n,e){const t=Vr(n=Gt(n,zn)),r=new oO;return function eO(n,e,t,r){const i=function(l,h){let m;return m="string"==typeof l?(new TextEncoder).encode(l):l,v=function(v,T){if(v instanceof Uint8Array)return IS(v,T);if(v instanceof ArrayBuffer)return IS(new Uint8Array(v),T);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new $M(v,h);var v}(t,vh(e));n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){!function HM(n,e,t){const r=He(n);var i;(i=(0,ye.Z)(function*(l,h,m){try{const v=yield h.getMetadata();if(yield function(L,V){const Q=He(L),ve=ii(V.createTime);return Q.persistence.runTransaction("hasNewerBundle","readonly",Ue=>Q.Ye.getBundleMetadata(Ue,V.id)).then(Ue=>!!Ue&&Ue.createTime.compareTo(ve)>=0)}(l.localStore,v))return yield h.close(),void m._completeWith((L=v,{taskState:"Success",documentsLoaded:L.totalDocuments,bytesLoaded:L.totalBytes,totalDocuments:L.totalDocuments,totalBytes:L.totalBytes}));m._updateProgress(gS(v));const T=new wM(v,l.localStore,h.k);let A=yield h.Ho();for(;A;){const L=yield T.yo(A);L&&m._updateProgress(L),A=yield h.Ho()}const O=yield T.complete();yield pc(l,O.In,void 0),yield function(L,V){const Q=He(L);return Q.persistence.runTransaction("Save bundle","readwrite",ve=>Q.Ye.saveBundleMetadata(ve,V))}(l.localStore,v),m._completeWith(O.progress)}catch(v){tp("SyncEngine",`Loading bundle failed with ${v}`),m._failWith(v)}var L}),function(l,h,m){return i.apply(this,arguments)})(r,e,t).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield MC(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function gO(n,e){return function tO(n,e){return n.asyncQueue.enqueue((0,ye.Z)(function*(){return function(t,r){const i=He(t);return i.persistence.runTransaction("Get named query","readonly",l=>i.Ye.getNamedQuery(l,r))}(yield NC(n),e)}))}(Vr(n=Gt(n,zn)),e).then(t=>t?new is(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Os(this,t):null)}}class b1 extends BC{constructor(e){super(),this.firestore=e}convertBytes(e){return new F0(new iu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ia.forKey(t,this.firestore,null)}}class gA{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new b1(e)}get(e){const t=Kp(e);return this._delegate.get(t).then(r=>new L0(this._firestore,new mc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Kp(e);return r?(HC("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=Kp(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=Kp(e);return this._delegate.delete(t),this}}class mA{constructor(e){this._delegate=e}set(e,t,r){const i=Kp(e);return r?(HC("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=Kp(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=Kp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Zp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new k0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new V0(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Zp.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let l=i.get(t);return l||(l=new Zp(e,new b1(e),t),i.set(t,l)),l}}Zp.INSTANCES=new WeakMap;class ia{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new b1(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ne("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ia(t,new Rn(t._delegate,r,new nt(e)))}static forKey(e,t,r){return new ia(t,new Rn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new I_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new I_(this.firestore,BS(this._delegate,e))}catch(t){throw Ms(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ft.m9)(e))instanceof Rn&&US(this._delegate,e)}set(e,t){t=HC("DocumentReference.set",t);try{return t?lA(this._delegate,e,t):lA(this._delegate,e)}catch(r){throw Ms(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?uA(this._delegate,e):uA(this._delegate,e,t,...r)}catch(i){throw Ms(i,"updateDoc()","DocumentReference.update()")}}delete(){return function HO(n){return C_(Gt(n.firestore,zn),[new _p(n._key,nr.none())])}(this._delegate)}onSnapshot(...e){const t=_A(e),r=yA(e,i=>new L0(this.firestore,new mc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return cA(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function LO(n){n=Gt(n,Rn);const e=Gt(n.firestore,zn),t=Vr(e),r=new qp(e);return function YM(n,e){const t=new vr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(i,l,h){try{const m=yield function(v,T){const A=He(v);return A.persistence.runTransaction("read document","readonly",O=>A.Wn.Rn(O,T))}(i,l);m.isFoundDocument()?h.resolve(m):m.isNoDocument()?h.resolve(null):h.reject(new Ne(ue.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const v=ze(m,`Failed to get document '${l} from cache`);h.reject(v)}}),function(i,l,h){return r.apply(this,arguments)})(yield NC(n),e,t);var r})),t.promise}(t,n._key).then(i=>new mc(e,r,n._key,i,new zp(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function VO(n){n=Gt(n,Rn);const e=Gt(n.firestore,zn);return OS(Vr(e),n._key,{source:"server"}).then(t=>UC(e,n,t))}(this._delegate):function FO(n){n=Gt(n,Rn);const e=Gt(n.firestore,zn);return OS(Vr(e),n._key).then(t=>UC(e,n,t))}(this._delegate),t.then(r=>new L0(this.firestore,new mc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ia(this.firestore,this._delegate.withConverter(e?Zp.getInstance(this.firestore,e):null))}}function Ms(n,e,t){return n.message=n.message.replace(e,t),n}function _A(n){for(const e of n)if("object"==typeof e&&!GC(e))return e;return{}}function yA(n,e){var t,r;let i;return i=GC(n[0])?n[0]:GC(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{i.next&&i.next(e(l))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class L0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ia(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return QS(this._delegate,e._delegate)}}class V0 extends L0{data(e){const t=this._delegate.data(e);return function eT(n,e){n||tt()}(void 0!==t),t}}class Os{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new b1(e)}where(e,t,r){try{return new Os(this.firestore,Th(this._delegate,function IO(n,e,t){const r=e,i=y1("where",n);return new CO(i,r,t)}(e,t,r)))}catch(i){throw Ms(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Os(this.firestore,Th(this._delegate,function AO(n,e="asc"){const t=e,r=y1("orderBy",n);return new SO(r,t)}(e,t)))}catch(r){throw Ms(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Os(this.firestore,Th(this._delegate,function NO(n){return LS("limit",n),new eA("limit",n,"F")}(e)))}catch(t){throw Ms(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Os(this.firestore,Th(this._delegate,function MO(n){return LS("limitToLast",n),new eA("limitToLast",n,"L")}(e)))}catch(t){throw Ms(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Os(this.firestore,Th(this._delegate,function OO(...n){return new tA("startAt",n,!0)}(...e)))}catch(t){throw Ms(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Os(this.firestore,Th(this._delegate,function xO(...n){return new tA("startAfter",n,!1)}(...e)))}catch(t){throw Ms(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Os(this.firestore,Th(this._delegate,function RO(...n){return new nA("endBefore",n,!0)}(...e)))}catch(t){throw Ms(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Os(this.firestore,Th(this._delegate,function kO(...n){return new nA("endAt",n,!1)}(...e)))}catch(t){throw Ms(t,"endAt()","Query.endAt()")}}isEqual(e){return jS(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function UO(n){n=Gt(n,is);const e=Gt(n.firestore,zn),t=Vr(e),r=new qp(e);return function JM(n,e){const t=new vr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(i,l,h){try{const m=yield m0(i,l,!0),v=new yS(l,m.zn),T=v.Po(m.documents),A=v.applyChanges(T,!1);h.resolve(A.snapshot)}catch(m){const v=ze(m,`Failed to execute query '${l} against cache`);h.reject(v)}}),function(i,l,h){return r.apply(this,arguments)})(yield NC(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Eh(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function jO(n){n=Gt(n,is);const e=Gt(n.firestore,zn),t=Vr(e),r=new qp(e);return xS(t,n._query,{source:"server"}).then(i=>new Eh(e,r,n,i))}(this._delegate):function BO(n){n=Gt(n,is);const e=Gt(n.firestore,zn),t=Vr(e),r=new qp(e);return XS(n._query),xS(t,n._query).then(i=>new Eh(e,r,n,i))}(this._delegate),t.then(r=>new $C(this.firestore,new Eh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=_A(e),r=yA(e,i=>new $C(this.firestore,new Eh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return cA(this._delegate,t,r)}withConverter(e){return new Os(this.firestore,this._delegate.withConverter(e?Zp.getInstance(this.firestore,e):null))}}class rx{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new V0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class $C{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Os(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new V0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new rx(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new V0(this._firestore,r))})}isEqual(e){return QS(this._delegate,e._delegate)}}class I_ extends Os{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ia(this.firestore,e):null}doc(e){try{return new ia(this.firestore,void 0===e?h1(this._delegate):h1(this._delegate,e))}catch(t){throw Ms(t,"doc()","CollectionReference.doc()")}}add(e){return function GO(n,e){const t=Gt(n.firestore,zn),r=h1(n),i=v1(n.converter,e);return C_(t,[g1($p(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,nr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ia(this.firestore,t))}isEqual(e){return US(this._delegate,e._delegate)}withConverter(e){return new I_(this.firestore,this._delegate.withConverter(e?Zp.getInstance(this.firestore,e):null))}}function Kp(n){return Gt(n,Rn)}class WC{constructor(...e){this._delegate=new gc(...e)}static documentId(){return new WC(er.keyField().canonicalString())}isEqual(e){return(e=(0,Ft.m9)(e))instanceof gc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Yp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function ZO(){return new kC("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Yp(e)}static delete(){const e=function qO(){return new x0("deleteField")}();return e._methodName="FieldValue.delete",new Yp(e)}static arrayUnion(...e){const t=function KO(...n){return new vO("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Yp(t)}static arrayRemove(...e){const t=function YO(...n){return new bO("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Yp(t)}static increment(e){const t=function JO(n){return new wO("increment",n)}(e);return t._methodName="FieldValue.increment",new Yp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const ix={Firestore:pA,GeoPoint:f1,Timestamp:ri,Blob:F0,Transaction:gA,WriteBatch:mA,DocumentReference:ia,DocumentSnapshot:L0,Query:Os,QueryDocumentSnapshot:V0,QuerySnapshot:$C,CollectionReference:I_,FieldPath:WC,FieldValue:Yp,setLogLevel:function nx(n){!function Lw(n){Ya.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function ox(n){(function sx(n,e){n.INTERNAL.registerComponent(new am.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},ix)))})(n,(e,t)=>new pA(e,t,new tx)),n.registerVersion("@firebase/firestore-compat","0.1.13")}(ME.Z);var ax=R(6451),w1=R(5363),lx=R(6063);class ux extends bn.x{constructor(e=1/0,t=1/0,r=lx.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:l,_windowTime:h}=this;t||(r.push(e),!i&&r.push(l.now()+h)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,l=i.slice();for(let h=0;h<l.length&&!e.closed;h+=r?1:2)e.next(l[h]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,l=(i?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!i){const h=t.now();let m=0;for(let v=1;v<r.length&&r[v]<=h;v+=2)m=v;m&&r.splice(0,m+1)}}}var cx=R(3099);function vA(n,e,t){var r,i;let l,h=!1;return n&&"object"==typeof n?(l=null!==(r=n.bufferSize)&&void 0!==r?r:1/0,e=null!==(i=n.windowTime)&&void 0!==i?i:1/0,h=!!n.refCount,t=n.scheduler):l=null!=n?n:1/0,(0,cx.B)({connector:()=>new ux(l,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:h})}function bA(n,e){return(0,Ks.m)(e)?ar(()=>n,e):ar(()=>n)}var zC=R(9468);R(5867);const DA=new Map,gx={activated:!1,tokenObservers:[]},mx={initialized:!1,enabled:!1};function Ei(n){return DA.get(n)||gx}function rl(n,e){DA.set(n,e)}function E1(){return mx}class wx{constructor(e,t,r,i,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=i,i>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ye.Z)(function*(){t.stop();try{t.pending=new Ft.BH,yield function Dx(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Ft.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const xs=new Ft.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function TA(n){if(!Ei(n).activated)throw xs.create("use-before-activation",{appName:n.name})}function YC(n,e){return JC.apply(this,arguments)}function JC(){return JC=(0,ye.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const l={method:"POST",body:JSON.stringify(e),headers:r};let h,m;try{h=yield fetch(n,l)}catch(O){throw xs.create("fetch-network-error",{originalErrorMessage:O.message})}if(200!==h.status)throw xs.create("fetch-status-error",{httpStatus:h.status});try{m=yield h.json()}catch(O){throw xs.create("fetch-parse-error",{originalErrorMessage:O.message})}const v=m.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw xs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const T=1e3*Number(v[1]),A=Date.now();return{token:m.attestationToken,expireTimeMillis:A+T,issuedAtTimeMillis:A}}),JC.apply(this,arguments)}function Sx(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const B0="firebase-app-check-store";let I1=null;function IA(){return I1||(I1=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(xs.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(B0,{keyPath:"compositeKey"})}}catch(t){e(xs.create("storage-open",{originalErrorMessage:t.message}))}}),I1)}function QC(){return QC=(0,ye.Z)(function*(n,e){const r=(yield IA()).transaction(B0,"readwrite"),l=r.objectStore(B0).put({compositeKey:n,value:e});return new Promise((h,m)=>{l.onsuccess=v=>{h()},r.onerror=v=>{var T;m(xs.create("storage-set",{originalErrorMessage:null===(T=v.target.error)||void 0===T?void 0:T.message}))}})}),QC.apply(this,arguments)}const U0=new $a.Yd("@firebase/app-check");function MA(n,e){return(0,Ft.hl)()?function Ox(n,e){return function SA(n,e){return QC.apply(this,arguments)}(function NA(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{U0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function OA(){return E1().enabled}function xA(){return nI.apply(this,arguments)}function nI(){return nI=(0,ye.Z)(function*(){const n=E1();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),nI.apply(this,arguments)}const Lx={error:"UNKNOWN_ERROR"};function Vx(n){return Ft.US.encodeString(JSON.stringify(n),!1)}function S1(n){return rI.apply(this,arguments)}function rI(){return rI=(0,ye.Z)(function*(n,e=!1){const t=n.app;TA(t);const r=Ei(t);let l,i=r.token;if(!i){const v=yield r.cachedTokenPromise;v&&A1(v)&&(i=v)}if(!e&&i&&A1(i))return{token:i.token};let m,h=!1;if(OA()){r.exchangeTokenPromise||(r.exchangeTokenPromise=YC(Sx(t,yield xA()),n.platformLoggerProvider).then(T=>(r.exchangeTokenPromise=void 0,T)),h=!0);const v=yield r.exchangeTokenPromise;return yield MA(t,v),rl(t,Object.assign(Object.assign({},r),{token:v})),{token:v.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(v=>(r.exchangeTokenPromise=void 0,v)),h=!0),i=yield r.exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?U0.warn(v.message):U0.error(v),l=v}return i?(m={token:i.token},rl(t,Object.assign(Object.assign({},r),{token:i})),yield MA(t,i)):m=Ux(l),h&&kA(t,m),m}),rI.apply(this,arguments)}function sI(n,e){const t=Ei(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),rl(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function RA(n){const{app:e}=n,t=Ei(e);let r=t.tokenRefresher;r||(r=function Bx(n){const{app:e}=n;return new wx((0,ye.Z)(function*(){let r;if(r=Ei(e).token?yield S1(n,!0):yield S1(n),r.error)throw r.error}),()=>!0,()=>{const t=Ei(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),rl(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function kA(n,e){const t=Ei(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function A1(n){return n.expireTimeMillis-Date.now()>0}function Ux(n){return{token:Vx(Lx),error:n}}class jx{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=Ei(this.app);for(const t of e)sI(this.app,t.next);return Promise.resolve()}}const HA="app-check-internal";!function tR(){(0,Wu._registerComponent)(new am.wA("app-check",n=>function Hx(n,e){return new jx(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(HA).initialize()})),(0,Wu._registerComponent)(new am.wA(HA,n=>function Gx(n){return{getToken:e=>S1(n,e),addTokenListener:e=>function iI(n,e,t,r){const{app:i}=n,l=Ei(i),h={next:t,error:r,type:e};if(rl(i,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,h]})),l.token&&A1(l.token)){const m=l.token;Promise.resolve().then(()=>{t({token:m.token}),RA(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>RA(n))}(n,"INTERNAL",e),removeTokenListener:e=>sI(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Wu.registerVersion)("@firebase/app-check","0.5.3")}();class uI{constructor(){return(0,an.vb)("app-check")}}"undefined"!=typeof window&&window;var oR=R(127);const $A=new c.OlP("angularfire2.auth.use-emulator"),WA=new c.OlP("angularfire2.auth.settings"),zA=new c.OlP("angularfire2.auth.tenant-id"),qA=new c.OlP("angularfire2.auth.langugage-code"),ZA=new c.OlP("angularfire2.auth.use-device-language"),KA=new c.OlP("angularfire.auth.persistence"),YA=(n,e,t,r,i,l,h,m)=>(0,Ys.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),r&&(v.tenantId=r),v.languageCode=i,l&&v.useDeviceLanguage(),h)for(const[T,A]of Object.entries(h))v.settings[T]=A;return m&&v.setPersistence(m),v},[t,r,i,l,h,m]);let JA=(()=>{class n{constructor(t,r,i,l,h,m,v,T,A,O,L,V){const Q=new bn.x,ve=ut(void 0).pipe((0,w1.Q)(h.outsideAngular),ar(()=>l.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,389)))),(0,Xe.U)(()=>(0,Ys.on)(t,l,r)),(0,Xe.U)(Ue=>YA(Ue,l,m,T,A,O,v,L)),vA({bufferSize:1,refCount:!1}));if(fr(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ut(null);else{ve.pipe(_()).subscribe();const Qe=ve.pipe(ar(Tt=>Tt.getRedirectResult().then(ln=>ln,()=>null)),an.iC,vA({bufferSize:1,refCount:!1})),pt=ve.pipe(ar(Tt=>new vn.y(ln=>({unsubscribe:l.runOutsideAngular(()=>Tt.onAuthStateChanged(io=>ln.next(io),io=>ln.error(io),()=>ln.complete()))})))),nn=ve.pipe(ar(Tt=>new vn.y(ln=>({unsubscribe:l.runOutsideAngular(()=>Tt.onIdTokenChanged(io=>ln.next(io),io=>ln.error(io),()=>ln.complete()))}))));this.authState=Qe.pipe(bA(pt),(0,zC.R)(h.outsideAngular),(0,w1.Q)(h.insideAngular)),this.user=Qe.pipe(bA(nn),(0,zC.R)(h.outsideAngular),(0,w1.Q)(h.insideAngular)),this.idToken=this.user.pipe(ar(Tt=>Tt?(0,Sn.D)(Tt.getIdToken()):ut(null))),this.idTokenResult=this.user.pipe(ar(Tt=>Tt?(0,Sn.D)(Tt.getIdTokenResult()):ut(null))),this.credential=(0,ax.T)(Qe,Q,this.authState.pipe(dn(Tt=>!Tt))).pipe((0,Xe.U)(Tt=>(null==Tt?void 0:Tt.user)?Tt:null),(0,zC.R)(h.outsideAngular),(0,w1.Q)(h.insideAngular))}return(0,Ys.pX)(this,ve,l,{spy:{apply:(Ue,Qe,pt)=>{(Ue.startsWith("signIn")||Ue.startsWith("createUser"))&&pt.then(nn=>Q.next(nn))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ys.Dh),c.LFG(Ys.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(an.HU),c.LFG($A,8),c.LFG(WA,8),c.LFG(zA,8),c.LFG(qA,8),c.LFG(ZA,8),c.LFG(KA,8),c.LFG(uI,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function QA(n,e){return function lR(n,e=Ny.z){return new vn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function dI(n,e){return QA(n,e).pipe((0,Xe.U)(t=>({payload:t,type:"query"})))}function M1(n,e){return dI(n,e).pipe(To(void 0),Pf(),(0,Xe.U)(([t,r])=>{const i=r.payload.docChanges(),l=i.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((h,m)=>{const v=i.find(A=>A.doc.ref.isEqual(h.ref)),T=null==t?void 0:t.payload.docs.find(A=>A.ref.isEqual(h.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(h.metadata)||!v&&T&&JSON.stringify(T.metadata)===JSON.stringify(h.metadata)||l.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:h}})}),l}))}function XA(n,e,t){return M1(n,t).pipe(ku((r,i)=>function cR(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function dR(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return hI(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return hI(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return hI(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(l=>l.payload),e),[]),function Ff(n,e=Ki.y){return n=null!=n?n:Wb,(0,Rr.e)((t,r)=>{let i,l=!0;t.subscribe(new Jt.Q(r,h=>{const m=e(h);(l||!n(i,m))&&(l=!1,i=m,r.next(h))}))})}(),(0,Xe.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function hI(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function eN(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class tN{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=M1(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Xe.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(To(void 0),Pf(),dn(([r,i])=>i.length>0||!r),(0,Xe.U)(([r,i])=>i),an.iC)}auditTrail(e){return this.stateChanges(e).pipe(ku((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=eN(e);return XA(this.query,t,this.afs.schedulers.outsideAngular).pipe(an.iC)}valueChanges(e={}){return dI(this.query,this.afs.schedulers.outsideAngular).pipe((0,Xe.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),an.iC)}get(e){return(0,Sn.D)(this.query.get(e)).pipe(an.iC)}add(e){return this.ref.add(e)}doc(e){return new nN(this.ref.doc(e),this.afs)}}class nN{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:l}=sN(r,t);return new tN(i,l,this.afs)}snapshotChanges(){return function uR(n,e){return QA(n,e).pipe(To(void 0),Pf(),(0,Xe.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(an.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Xe.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Sn.D)(this.ref.get(e)).pipe(an.iC)}}class hR{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?M1(this.query,this.afs.schedulers.outsideAngular).pipe((0,Xe.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),dn(t=>t.length>0),an.iC):M1(this.query,this.afs.schedulers.outsideAngular).pipe(an.iC)}auditTrail(e){return this.stateChanges(e).pipe(ku((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=eN(e);return XA(this.query,t,this.afs.schedulers.outsideAngular).pipe(an.iC)}valueChanges(e={}){return dI(this.query,this.afs.schedulers.outsideAngular).pipe((0,Xe.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),an.iC)}get(e){return(0,Sn.D)(this.query.get(e)).pipe(an.iC)}}const rN=new c.OlP("angularfire2.enableFirestorePersistence"),iN=new c.OlP("angularfire2.firestore.persistenceSettings"),fR=new c.OlP("angularfire2.firestore.settings"),pR=new c.OlP("angularfire2.firestore.use-emulator");function sN(n,e=(t=>t)){return{query:e(n),ref:n}}let oN=(()=>{class n{constructor(t,r,i,l,h,m,v,T,A,O,L,V,Q,ve,Ue,Qe,pt){this.schedulers=v;const nn=(0,Ys.on)(t,m,r),Tt=A;O&&YA(nn,m,L,Q,ve,Ue,V,Qe),[this.firestore,this.persistenceEnabled$]=(0,Ys.cc)(`${nn.name}.firestore`,"AngularFirestore",nn.name,()=>{const ln=m.runOutsideAngular(()=>nn.firestore());if(l&&ln.settings(l),Tt&&ln.useEmulator(...Tt),i&&!fr(h)){const io=()=>{try{return(0,Sn.D)(ln.enablePersistence(T||void 0).then(()=>!0,()=>!1))}catch(ng){return"undefined"!=typeof console&&console.warn(ng),ut(!1)}};return[ln,m.runOutsideAngular(io)]}return[ln,ut(!1)]},[l,Tt,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:h}=sN(i,r),m=this.schedulers.ngZone.run(()=>l);return new tN(m,h,this)}collectionGroup(t,r){const i=r||(h=>h),l=this.firestore.collectionGroup(t);return new hR(i(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new nN(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ys.Dh),c.LFG(Ys.xv,8),c.LFG(rN,8),c.LFG(fR,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(an.HU),c.LFG(iN,8),c.LFG(pR,8),c.LFG(JA,8),c.LFG($A,8),c.LFG(WA,8),c.LFG(zA,8),c.LFG(qA,8),c.LFG(ZA,8),c.LFG(KA,8),c.LFG(uI,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),gR=(()=>{class n{constructor(){oR.Z.registerVersion("angularfire",an.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:rN,useValue:!0},{provide:iN,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[oN]}),n})();class aN{}class lN{}class _c{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),l=i.toLowerCase(),h=t.slice(r+1).trim();this.maybeSetNormalizedName(i,l),this.headers.has(l)?this.headers.get(l).push(h):this.headers.set(l,[h])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof _c?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new _c;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof _c?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const l=e.value;if(l){let h=this.headers.get(t);if(!h)return;h=h.filter(m=>-1===l.indexOf(m)),0===h.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,h)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class mR{encodeKey(e){return uN(e)}encodeValue(e){return uN(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const yR=/%(\d[a-f0-9])/gi,vR={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function uN(n){return encodeURIComponent(n).replace(yR,(e,t)=>{var r;return null!==(r=vR[t])&&void 0!==r?r:e})}function cN(n){return`${n}`}class Ih{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new mR,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function _R(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const l=i.indexOf("="),[h,m]=-1==l?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,l)),e.decodeValue(i.slice(l+1))],v=t.get(h)||[];v.push(m),t.set(h,v)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(l=>{t.push({param:r,value:l,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Ih({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(cN(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(cN(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class bR{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function dN(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function hN(n){return"undefined"!=typeof Blob&&n instanceof Blob}function fN(n){return"undefined"!=typeof FormData&&n instanceof FormData}class j0{constructor(e,t,r,i){let l;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function wR(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,l=i):l=r,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new _c),this.context||(this.context=new bR),this.params){const h=this.params.toString();if(0===h.length)this.urlWithParams=t;else{const m=t.indexOf("?");this.urlWithParams=t+(-1===m?"?":m<t.length-1?"&":"")+h}}else this.params=new Ih,this.urlWithParams=t}serializeBody(){return null===this.body?null:dN(this.body)||hN(this.body)||fN(this.body)||function DR(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ih?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||fN(this.body)?null:hN(this.body)?this.body.type||null:dN(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ih?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,l=e.responseType||this.responseType,h=void 0!==e.body?e.body:this.body,m=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,v=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let T=e.headers||this.headers,A=e.params||this.params;const O=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(T=Object.keys(e.setHeaders).reduce((L,V)=>L.set(V,e.setHeaders[V]),T)),e.setParams&&(A=Object.keys(e.setParams).reduce((L,V)=>L.set(V,e.setParams[V]),A)),new j0(r,i,h,{params:A,headers:T,context:O,reportProgress:v,responseType:l,withCredentials:m})}}var Br=(()=>((Br=Br||{})[Br.Sent=0]="Sent",Br[Br.UploadProgress=1]="UploadProgress",Br[Br.ResponseHeader=2]="ResponseHeader",Br[Br.DownloadProgress=3]="DownloadProgress",Br[Br.Response=4]="Response",Br[Br.User=5]="User",Br))();class fI{constructor(e,t=200,r="OK"){this.headers=e.headers||new _c,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class pI extends fI{constructor(e={}){super(e),this.type=Br.ResponseHeader}clone(e={}){return new pI({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class O1 extends fI{constructor(e={}){super(e),this.type=Br.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new O1({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class pN extends fI{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function gI(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let mI=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let l;if(t instanceof j0)l=t;else{let v,T;v=i.headers instanceof _c?i.headers:new _c(i.headers),i.params&&(T=i.params instanceof Ih?i.params:new Ih({fromObject:i.params})),l=new j0(t,r,void 0!==i.body?i.body:null,{headers:v,context:i.context,params:T,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const h=ut(l).pipe(Ol(v=>this.handler.handle(v)));if(t instanceof j0||"events"===i.observe)return h;const m=h.pipe(dn(v=>v instanceof O1));switch(i.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return m.pipe((0,Xe.U)(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return m.pipe((0,Xe.U)(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return m.pipe((0,Xe.U)(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));default:return m.pipe((0,Xe.U)(v=>v.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Ih).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,gI(i,r))}post(t,r,i={}){return this.request("POST",t,gI(i,r))}put(t,r,i={}){return this.request("PUT",t,gI(i,r))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(aN))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class gN{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const mN=new c.OlP("HTTP_INTERCEPTORS");let ER=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const TR=/^\)\]\}',?\n/;let _N=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new vn.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((V,Q)=>i.setRequestHeader(V,Q.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const V=t.detectContentTypeHeader();null!==V&&i.setRequestHeader("Content-Type",V)}if(t.responseType){const V=t.responseType.toLowerCase();i.responseType="json"!==V?V:"text"}const l=t.serializeBody();let h=null;const m=()=>{if(null!==h)return h;const V=1223===i.status?204:i.status,Q=i.statusText||"OK",ve=new _c(i.getAllResponseHeaders()),Ue=function CR(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return h=new pI({headers:ve,status:V,statusText:Q,url:Ue}),h},v=()=>{let{headers:V,status:Q,statusText:ve,url:Ue}=m(),Qe=null;204!==Q&&(Qe=void 0===i.response?i.responseText:i.response),0===Q&&(Q=Qe?200:0);let pt=Q>=200&&Q<300;if("json"===t.responseType&&"string"==typeof Qe){const nn=Qe;Qe=Qe.replace(TR,"");try{Qe=""!==Qe?JSON.parse(Qe):null}catch(Tt){Qe=nn,pt&&(pt=!1,Qe={error:Tt,text:Qe})}}pt?(r.next(new O1({body:Qe,headers:V,status:Q,statusText:ve,url:Ue||void 0})),r.complete()):r.error(new pN({error:Qe,headers:V,status:Q,statusText:ve,url:Ue||void 0}))},T=V=>{const{url:Q}=m(),ve=new pN({error:V,status:i.status||0,statusText:i.statusText||"Unknown Error",url:Q||void 0});r.error(ve)};let A=!1;const O=V=>{A||(r.next(m()),A=!0);let Q={type:Br.DownloadProgress,loaded:V.loaded};V.lengthComputable&&(Q.total=V.total),"text"===t.responseType&&!!i.responseText&&(Q.partialText=i.responseText),r.next(Q)},L=V=>{let Q={type:Br.UploadProgress,loaded:V.loaded};V.lengthComputable&&(Q.total=V.total),r.next(Q)};return i.addEventListener("load",v),i.addEventListener("error",T),i.addEventListener("timeout",T),i.addEventListener("abort",T),t.reportProgress&&(i.addEventListener("progress",O),null!==l&&i.upload&&i.upload.addEventListener("progress",L)),i.send(l),r.next({type:Br.Sent}),()=>{i.removeEventListener("error",T),i.removeEventListener("abort",T),i.removeEventListener("load",v),i.removeEventListener("timeout",T),t.reportProgress&&(i.removeEventListener("progress",O),null!==l&&i.upload&&i.upload.removeEventListener("progress",L)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Yt))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const _I=new c.OlP("XSRF_COOKIE_NAME"),yI=new c.OlP("XSRF_HEADER_NAME");class yN{}let IR=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=lo(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re),c.LFG(c.Lbi),c.LFG(_I))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),vI=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const l=this.tokenService.getToken();return null!==l&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,l)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(yN),c.LFG(yI))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),SR=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(mN,[]);this.chain=r.reduceRight((i,l)=>new gN(i,l),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(lN),c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),AR=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:vI,useClass:ER}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:_I,useValue:t.cookieName}:[],t.headerName?{provide:yI,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[vI,{provide:mN,useExisting:vI,multi:!0},{provide:yN,useClass:IR},{provide:_I,useValue:"XSRF-TOKEN"},{provide:yI,useValue:"X-XSRF-TOKEN"}]}),n})(),NR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[mI,{provide:aN,useClass:SR},_N,{provide:lN,useExisting:_N}],imports:[[AR.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})(),bI=(()=>{class n{constructor(t,r,i){this.firestore=t,this.http=r,this.router=i,this.update=!1,this.form=new La({title:new Iu("",Si.required),task:new Iu("",Si.required)})}createTask(t){return new Promise((r,i)=>{this.firestore.collection("posts").add(t).then(l=>{this.form.reset(),this.router.navigate([""]),alert("Added successfully")},l=>i(l))})}getTask(){return this.firestore.collection("posts").snapshotChanges()}onEditdata(t){this.form.controls.title.setValue(t.payload.doc.data().title),this.form.controls.task.setValue(t.payload.doc.data().task)}UpdateTask(t){return this.firestore.collection("posts").doc(t.payload.doc.id)}deleteTask(t){return this.firestore.collection("posts").doc(t.payload.doc.id).delete()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(oN),c.LFG(mI),c.LFG(Qr))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function MR(n,e){1&n&&(c.TgZ(0,"div",13),c._uU(1,"filed required"),c.qZA())}function OR(n,e){1&n&&(c.TgZ(0,"div",13),c._uU(1,"filed required"),c.qZA())}let xR=(()=>{class n{constructor(t,r){this.newtaskdat=t,this.router=r,this.tasks={title:"",task:""},this.Uptasks={title:"",task:""},this.update=this.newtaskdat.update,this.taskData=this.newtaskdat.taskData}ngOnInit(){this.newtaskform=this.newtaskdat.form}cancel(){this.router.navigate([""])}post(){this.tasks.title=this.newtaskdat.form.value.title,this.tasks.task=this.newtaskdat.form.value.task,console.log(this.tasks),this.newtaskdat.createTask(this.tasks)}updat(){console.log(this.taskData),this.Uptasks.title=this.newtaskdat.form.value.title,this.Uptasks.task=this.newtaskdat.form.value.task,this.newtaskdat.UpdateTask(this.taskData).update(this.Uptasks).then(t=>{this.newtaskdat.form.reset(),this.router.navigate([""]),this.newtaskdat.update=!1,alert("update successfully")},t=>{alert("something went wrong")})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(bI),c.Y36(Qr))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-new-task"]],decls:19,vars:6,consts:[[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle","mb-2","text-muted"],[3,"formGroup","ngSubmit"],[1,"card__input"],["name","title","type","text","placeholder","title","aria-label","default input example","formControlName","title","required","",1,"form-control"],["class","text-danger",4,"ngIf"],["name","task","type","textarea","placeholder","task","aria-label","default input example","formControlName","task",1,"form-control"],[1,"btn-group"],["type","submit",1,"btn","btn-primary",3,"disabled","hidden"],["type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-primary",3,"hidden","click"],[1,"text-danger"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"h5",2),c._uU(3,"New task"),c.qZA(),c.TgZ(4,"h6",3),c._uU(5,"subtitle"),c.qZA(),c.TgZ(6,"form",4),c.NdJ("ngSubmit",function(){return r.post()}),c.TgZ(7,"div",5),c._UZ(8,"input",6),c.YNc(9,MR,2,0,"div",7),c._UZ(10,"textarea",8),c.YNc(11,OR,2,0,"div",7),c.TgZ(12,"div",9),c.TgZ(13,"button",10),c._uU(14,"Post"),c.qZA(),c.TgZ(15,"button",11),c.NdJ("click",function(){return r.cancel()}),c._uU(16,"Cancel"),c.qZA(),c.TgZ(17,"button",12),c.NdJ("click",function(){return r.updat()}),c._uU(18,"updata"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.xp6(6),c.Q6J("formGroup",r.newtaskform),c.xp6(3),c.Q6J("ngIf",r.newtaskform.hasError("required","title")&&r.newtaskform.controls.title.dirty),c.xp6(2),c.Q6J("ngIf",r.newtaskform.hasError("required","task")&&r.newtaskform.controls.task.dirty),c.xp6(2),c.Q6J("disabled",!r.newtaskform.valid)("hidden",r.update),c.xp6(4),c.Q6J("hidden",!r.update))},directives:[Qc,wo,ed,zs,Du,ef,Ba,Bn],styles:[".text-danger[_ngcontent-%COMP%]{display:flex;align-self:flex-start;font-size:14px}"]}),n})(),vN=(()=>{class n{constructor(t){this.http=t}postTask(t){return this.http.post("https://my-task-project-3c8eb-default-rtdb.firebaseio.com/posts.json",t).pipe((0,Xe.U)(r=>r))}getTask(){return this.http.get("https://my-task-project-3c8eb-default-rtdb.firebaseio.com/posts.json").pipe((0,Xe.U)(t=>t))}updateTask(t,r){return this.http.put("https://my-task-project-3c8eb-default-rtdb.firebaseio.com/posts/"+r,t).pipe((0,Xe.U)(i=>i))}deleteTask(t){return this.http.delete("https://my-task-project-3c8eb-default-rtdb.firebaseio.com/posts/"+t).pipe((0,Xe.U)(r=>r))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(mI))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function RR(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",2),c.TgZ(1,"div",3),c.TgZ(2,"div",4),c.TgZ(3,"div"),c.TgZ(4,"h5",5),c._uU(5),c.qZA(),c.TgZ(6,"p",6),c._uU(7),c.qZA(),c.TgZ(8,"h3"),c._uU(9),c.qZA(),c.qZA(),c.TgZ(10,"div",7),c.TgZ(11,"a",8),c.NdJ("click",function(){const l=c.CHM(t).$implicit;return c.oxw().onEdit(l)}),c._uU(12,"Edit"),c.qZA(),c.TgZ(13,"a",9),c.NdJ("click",function(){const l=c.CHM(t).$implicit;return c.oxw().deleteTask(l)}),c._uU(14," Delete"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&n){const t=e.$implicit;c.xp6(5),c.Oqu(t.payload.doc.data().title),c.xp6(2),c.hij("",t.payload.doc.data().task," "),c.xp6(2),c.hij("",t.payload.doc.data().id," ")}}const kR=[{path:"NewTask",component:xR},{path:"",component:(()=>{class n{constructor(t,r,i){this.Api=t,this.router=r,this.newtaskdat=i,this.taskData=this.newtaskdat.taskData}ngOnInit(){this.getAlltask()}getAlltask(){this.newtaskdat.getTask().subscribe(t=>{this.taskData=t})}deleteTask(t){this.newtaskdat.deleteTask(t),console.log(t)}onEdit(t){this.newtaskdat.update=!0,this.newtaskdat.onEditdata(t),this.newtaskdat.taskData=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(vN),c.Y36(Qr),c.Y36(bI))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-edit-task"]],decls:2,vars:1,consts:[[1,"row"],["class","col-lg-3 col-md-4 col-sm-6",4,"ngFor","ngForOf"],[1,"col-lg-3","col-md-4","col-sm-6"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"btns"],["routerLink","/NewTask",1,"btn","btn-edit",3,"click"],[1,"btn","btn-red",3,"click"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c.YNc(1,RR,15,3,"div",1),c.qZA()),2&t&&(c.xp6(1),c.Q6J("ngForOf",r.taskData))},directives:[un,_d],styles:[".btn[_ngcontent-%COMP%]{margin-left:.4rem}.row[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:100%;text-align:left;height:13rem}.card-body[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.btns[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-end}.btn-edit[_ngcontent-%COMP%]{margin-bottom:.4rem;color:green}.btn-red[_ngcontent-%COMP%]{color:red}@media screen and (min-width: 768px){.card-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.btns[_ngcontent-%COMP%]{display:block}.btn-edit[_ngcontent-%COMP%]{margin-bottom:0}}"]}),n})()}];let PR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Iy.forRoot(kR)],Iy]}),n})();var FR=R(1144);const LR=["addListener","removeListener"],VR=["addEventListener","removeEventListener"],BR=["on","off"];function Rs(n,e,t,r){if((0,Ks.m)(t)&&(r=t,t=void 0),r)return Rs(n,e,t).pipe(yl(r));const[i,l]=function HR(n){return(0,Ks.m)(n.addEventListener)&&(0,Ks.m)(n.removeEventListener)}(n)?VR.map(h=>m=>n[h](e,m,t)):function UR(n){return(0,Ks.m)(n.addListener)&&(0,Ks.m)(n.removeListener)}(n)?LR.map(bN(n,e)):function jR(n){return(0,Ks.m)(n.on)&&(0,Ks.m)(n.off)}(n)?BR.map(bN(n,e)):[];if(!i&&(0,FR.z)(n))return(0,$n.z)(h=>Rs(h,e,t))((0,kt.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new vn.y(h=>{const m=(...v)=>h.next(1<v.length?v:v[0]);return i(m),()=>l(m)})}function bN(n,e){return t=>r=>n[t](e,r)}var GR=R(3532);const{isArray:WR}=Array;function wN(n){return 1===n.length&&WR(n[0])?n[0]:n}var x1=R(5032);function R1(...n){const e=(0,Hi.jO)(n),t=wN(n);return t.length?new vn.y(r=>{let i=t.map(()=>[]),l=t.map(()=>!1);r.add(()=>{i=l=null});for(let h=0;!r.closed&&h<t.length;h++)(0,kt.Xf)(t[h]).subscribe(new Jt.Q(r,m=>{if(i[h].push(m),i.every(v=>v.length)){const v=i.map(T=>T.shift());r.next(e?e(...v):v),i.some((T,A)=>!T.length&&l[A])&&r.complete()}},()=>{l[h]=!0,!i[h].length&&r.complete()}));return()=>{i=l=null}}):mr.E}function oi(n){return(0,Rr.e)((e,t)=>{(0,kt.Xf)(n).subscribe(new Jt.Q(t,()=>t.complete(),x1.Z)),!t.closed&&e.subscribe(t)})}function DI(...n){const e=(0,Hi.jO)(n);return(0,Rr.e)((t,r)=>{const i=n.length,l=new Array(i);let h=n.map(()=>!1),m=!1;for(let v=0;v<i;v++)(0,kt.Xf)(n[v]).subscribe(new Jt.Q(r,T=>{l[v]=T,!m&&!h[v]&&(h[v]=!0,(m=h.every(Ki.y))&&(h=null))},x1.Z));t.subscribe(new Jt.Q(r,v=>{if(m){const T=[v,...l];r.next(e?e(...T):T)}}))})}new vn.y(x1.Z);const sk=["*"],Ek=["dialog"];function Jp(n){return null!=n}function S_(n){return(n||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.closest=function(n){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(n))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const IN={animation:!0,transitionTimerDelayMs:5},yP=()=>{},{transitionTimerDelayMs:vP}=IN,H0=new Map,ss=(n,e,t,r)=>{let i=r.context||{};const l=H0.get(e);if(l)switch(r.runningTransition){case"continue":return mr.E;case"stop":n.run(()=>l.transition$.complete()),i=Object.assign(l.context,i),H0.delete(e)}const h=t(e,r.animation,i)||yP;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>h()),ut(void 0).pipe(function mP(n){return e=>new vn.y(t=>e.subscribe({next:h=>n.run(()=>t.next(h)),error:h=>n.run(()=>t.error(h)),complete:()=>n.run(()=>t.complete())}))}(n));const m=new bn.x,v=new bn.x,T=m.pipe(function qR(...n){return e=>Ml(e,ut(...n))}(!0));H0.set(e,{transition$:m,complete:()=>{v.next(),v.complete()},context:i});const A=function _P(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const O=Rs(e,"transitionend").pipe(oi(T),dn(({target:V})=>V===e));(function DN(...n){return 1===(n=wN(n)).length?(0,kt.Xf)(n[0]):new vn.y(function zR(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push((0,kt.Xf)(n[r]).subscribe(new Jt.Q(e,i=>{if(t){for(let l=0;l<t.length;l++)l!==r&&t[l].unsubscribe();t=null}e.next(i)})))}}(n))})(function wI(n=0,e,t=Ny.P){let r=-1;return null!=e&&((0,GR.K)(e)?t=e:r=e),new vn.y(i=>{let l=function $R(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;l<0&&(l=0);let h=0;return t.schedule(function(){i.closed||(i.next(h++),0<=r?this.schedule(void 0,r):i.complete())},l)})}(A+vP).pipe(oi(T)),O,v).pipe(oi(T)).subscribe(()=>{H0.delete(e),n.run(()=>{h(),m.next(),m.complete()})})}),m.asObservable()},CI=(n,e,t)=>{let{direction:r,maxHeight:i}=t;const{classList:l}=n;function h(){l.add("collapse"),"show"===r?l.add("show"):l.remove("show")}if(e)return i||(i=function wP(n){if("undefined"==typeof navigator)return"0px";const{classList:e}=n,t=e.contains("show");t||e.add("show"),n.style.height="";const r=n.getBoundingClientRect().height+"px";return t||e.remove("show"),r}(n),t.maxHeight=i,n.style.height="show"!==r?i:"0px",l.remove("collapse"),l.remove("collapsing"),l.remove("show"),S_(n),l.add("collapsing")),n.style.height="show"===r?i:"0px",()=>{h(),l.remove("collapsing"),n.style.height=""};h()};let G0=(()=>{class n{constructor(){this.animation=IN.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ON=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[In]]}),n})(),xN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[In]]}),n})(),kN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),LN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[In]]}),n})(),OP=(()=>{class n{constructor(t){this._ngbConfig=t}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(G0))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xP=(()=>{class n{constructor(t,r,i){this._element=t,this._zone=i,this.collapsed=!1,this.ngbCollapseChange=new c.vpe,this.shown=new c.vpe,this.hidden=new c.vpe,this.animation=r.animation}ngOnInit(){this._runTransition(this.collapsed,!1)}ngOnChanges({collapsed:t}){t.firstChange||this._runTransitionWithEvents(this.collapsed,this.animation)}toggle(t=this.collapsed){this.collapsed=!t,this.ngbCollapseChange.next(this.collapsed),this._runTransitionWithEvents(this.collapsed,this.animation)}_runTransition(t,r){return ss(this._zone,this._element.nativeElement,CI,{animation:r,runningTransition:"stop",context:{direction:t?"hide":"show"}})}_runTransitionWithEvents(t,r){this._runTransition(t,r).subscribe(()=>{t?this.hidden.emit():this.shown.emit()})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(OP),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngbCollapse",""]],inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"]},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],features:[c.TTD]}),n})(),VN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();var ai=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(ai||(ai={})),ai))();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const UN=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function jN(n){const e=Array.from(n.querySelectorAll(UN)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new class GP{getAllStyles(e){return window.getComputedStyle(e)}getStyle(e,t){return this.getAllStyles(e)[t]}isStaticPositioned(e){return"static"===(this.getStyle(e,"position")||"static")}offsetParent(e){let t=e.offsetParent||document.documentElement;for(;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement}position(e,t=!0){let r,i={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(e,"position"))r=e.getBoundingClientRect(),r={top:r.top,bottom:r.bottom,left:r.left,right:r.right,height:r.height,width:r.width};else{const l=this.offsetParent(e);r=this.offset(e,!1),l!==document.documentElement&&(i=this.offset(l,!1)),i.top+=l.clientTop,i.left+=l.clientLeft}return r.top-=i.top,r.bottom-=i.top,r.left-=i.left,r.right-=i.left,t&&(r.top=Math.round(r.top),r.bottom=Math.round(r.bottom),r.left=Math.round(r.left),r.right=Math.round(r.right)),r}offset(e,t=!0){const r=e.getBoundingClientRect(),i_top=window.scrollY-document.documentElement.clientTop,i_left=window.scrollX-document.documentElement.clientLeft;let l={height:r.height||e.offsetHeight,width:r.width||e.offsetWidth,top:r.top+i_top,bottom:r.bottom+i_top,left:r.left+i_left,right:r.right+i_left};return t&&(l.height=Math.round(l.height),l.width=Math.round(l.width),l.top=Math.round(l.top),l.bottom=Math.round(l.bottom),l.left=Math.round(l.left),l.right=Math.round(l.right)),l}positionElements(e,t,r,i){const[l="top",h="center"]=r.split("-"),m=i?this.offset(e,!1):this.position(e,!1),v=this.getAllStyles(t),T=parseFloat(v.marginTop),A=parseFloat(v.marginBottom),O=parseFloat(v.marginLeft),L=parseFloat(v.marginRight);let V=0,Q=0;switch(l){case"top":V=m.top-(t.offsetHeight+T+A);break;case"bottom":V=m.top+m.height;break;case"left":Q=m.left-(t.offsetWidth+O+L);break;case"right":Q=m.left+m.width}switch(h){case"top":V=m.top;break;case"bottom":V=m.top+m.height-t.offsetHeight;break;case"left":Q=m.left;break;case"right":Q=m.left+m.width-t.offsetWidth;break;case"center":"top"===l||"bottom"===l?Q=m.left+m.width/2-t.offsetWidth/2:V=m.top+m.height/2-t.offsetHeight/2}t.style.transform=`translate(${Math.round(Q)}px, ${Math.round(V)}px)`;const ve=t.getBoundingClientRect(),Ue=document.documentElement,Qe=window.innerHeight||Ue.clientHeight,pt=window.innerWidth||Ue.clientWidth;return ve.left>=0&&ve.top>=0&&ve.right<=pt&&ve.bottom<=Qe}},new Date(1882,10,12),new Date(2174,10,25);let ZN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[In,G_]]}),n})(),xI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["",8,"navbar"]]}),n})(),JN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();class tg{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let nF=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Ht.q)(1)).subscribe(()=>{ss(this._zone,this._el.nativeElement,(t,r)=>{r&&S_(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return ss(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,r){2&t&&(c.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),c.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class QN{close(e){}dismiss(e){}}class rF{constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new bn.x,this._dismissed=new bn.x,this._hidden=new bn.x,e.instance.dismissEvent.subscribe(l=>{this.dismiss(l)}),this.result=new Promise((l,h)=>{this._resolve=l,this._reject=h}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(oi(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(oi(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function pP(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():ut(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),R1(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var q0=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(q0||(q0={})),q0))();let iF=(()=>{class n{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new bn.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new c.vpe,this.shown=new bn.x,this.hidden=new bn.x}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Ht.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},h=R1(ss(this._zone,t,()=>t.classList.remove("show"),r),ss(this._zone,this._dialogEl.nativeElement,()=>{},r));return h.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),h}_show(){const t={animation:this.animation,runningTransition:"continue"};R1(ss(this._zone,this._elRef.nativeElement,(l,h)=>{h&&S_(l),l.classList.add("show")},t),ss(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Rs(t,"keydown").pipe(oi(this._closed$),dn(i=>i.which===ai.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(q0.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;Rs(this._dialogEl.nativeElement,"mousedown").pipe(oi(this._closed$),(0,f.b)(()=>r=!1),ar(()=>Rs(t,"mouseup").pipe(oi(this._closed$),(0,Ht.q)(1))),dn(({target:i})=>t===i)).subscribe(()=>{r=!0}),Rs(t,"click").pipe(oi(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(q0.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=jN(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&ss(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(re),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&c.Gf(Ek,7),2&t){let i;c.iGM(i=c.CRH())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(c.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),c.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),c.ekj("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:sk,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(c.F$t(),c.TgZ(0,"div",0,1),c.TgZ(2,"div",2),c.Hsn(3),c.qZA(),c.qZA()),2&t&&c.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})();const sF=()=>{};let oF=(()=>{class n{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):sF}_adjustBody(t){const r=this._document.body,i=r.style.paddingRight,l=parseFloat(window.getComputedStyle(r)["padding-right"]);return r.style["padding-right"]=`${l+t}px`,()=>r.style["padding-right"]=i}_isPresent(t){const r=this._document.body.getBoundingClientRect();return window.innerWidth-(r.left+r.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const r=this._document.body;r.appendChild(t);const i=t.getBoundingClientRect().width-t.clientWidth;return r.removeChild(t),i}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aF=(()=>{class n{constructor(t,r,i,l,h,m){this._applicationRef=t,this._injector=r,this._document=i,this._scrollBar=l,this._rendererFactory=h,this._ngZone=m,this._activeWindowCmptHasChanged=new bn.x,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new c.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const v=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const i=Rs(e,"focusin").pipe(oi(t),(0,Xe.U)(l=>l.target));Rs(e,"keydown").pipe(oi(t),dn(l=>l.which===ai.Tab),DI(i)).subscribe(([l,h])=>{const[m,v]=jN(e);(h===m||h===e)&&l.shiftKey&&(v.focus(),l.preventDefault()),h===v&&!l.shiftKey&&(m.focus(),l.preventDefault())}),r&&Rs(e,"click").pipe(oi(t),DI(i),(0,Xe.U)(l=>l[1])).subscribe(l=>l.focus())})})(0,v.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(v.location.nativeElement)}})}open(t,r,i,l){const h=l.container instanceof HTMLElement?l.container:Jp(l.container)?this._document.querySelector(l.container):this._document.body,m=this._rendererFactory.createRenderer(null,null),v=this._scrollBar.compensate(),T=()=>{this._modalRefs.length||(m.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!h)throw new Error(`The specified modal container "${l.container||"body"}" was not found in the DOM.`);const A=new QN,O=this._getContentRef(t,l.injector||r,i,A,l);let L=!1!==l.backdrop?this._attachBackdrop(t,h):void 0,V=this._attachWindowComponent(t,h,O),Q=new rF(V,O,L,l.beforeDismiss);return this._registerModalRef(Q),this._registerWindowCmpt(V),Q.result.then(v,v),Q.result.then(T,T),A.close=ve=>{Q.close(ve)},A.dismiss=ve=>{Q.dismiss(ve)},this._applyWindowOptions(V.instance,l),1===this._modalRefs.length&&m.addClass(this._document.body,"modal-open"),L&&L.instance&&(this._applyBackdropOptions(L.instance,l),L.changeDetectorRef.detectChanges()),V.changeDetectorRef.detectChanges(),Q}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,r){let l=t.resolveComponentFactory(nF).create(this._injector);return this._applicationRef.attachView(l.hostView),r.appendChild(l.location.nativeElement),l}_attachWindowComponent(t,r,i){let h=t.resolveComponentFactory(iF).create(this._injector,i.nodes);return this._applicationRef.attachView(h.hostView),r.appendChild(h.location.nativeElement),h}_applyWindowOptions(t,r){this._windowAttributes.forEach(i=>{Jp(r[i])&&(t[i]=r[i])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(i=>{Jp(r[i])&&(t[i]=r[i])})}_getContentRef(t,r,i,l,h){return i?i instanceof c.Rgc?this._createFromTemplateRef(i,l):function CN(n){return"string"==typeof n}(i)?this._createFromString(i):this._createFromComponent(t,r,i,l,h):new tg([])}_createFromTemplateRef(t,r){const l=t.createEmbeddedView({$implicit:r,close(h){r.close(h)},dismiss(h){r.dismiss(h)}});return this._applicationRef.attachView(l),new tg([l.rootNodes],l)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new tg([[r]])}_createFromComponent(t,r,i,l,h){const m=t.resolveComponentFactory(i),v=c.zs3.create({providers:[{provide:QN,useValue:l}],parent:r}),T=m.create(v),A=T.location.nativeElement;return h.scrollable&&A.classList.add("component-host-scrollable"),this._applicationRef.attachView(T.hostView),new tg([[A]],T.hostView,T)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.z2F),c.LFG(c.zs3),c.LFG(re),c.LFG(oF),c.LFG(c.FYo),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lF=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(G0))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uF=(()=>{class n{constructor(t,r,i,l){this._moduleCFR=t,this._injector=r,this._modalStack=i,this._config=l}open(t,r={}){const i=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._moduleCFR,this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c._Vd),c.LFG(c.zs3),c.LFG(aF),c.LFG(lF))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[uF]}),n})(),rM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[In]]}),n})(),dM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[In]]}),n})(),fM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[In]]}),n})(),pM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[In]]}),n})(),gM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[In]]}),n})(),mM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[In]]}),n})(),_M=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[In]]}),n})(),yM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();new c.OlP("live announcer delay",{providedIn:"root",factory:function DF(){return 100}});let vM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[In]]}),n})();const EF=[ON,xN,kN,LN,VN,ZN,JN,XN,rM,dM,fM,pM,gM,mM,_M,yM,vM];let TF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[EF,ON,xN,kN,LN,VN,ZN,JN,XN,rM,dM,fM,pM,gM,mM,_M,yM,vM]}),n})(),CF=(()=>{class n{constructor(){this.isCollapsed=!0}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-nav-bar"]],decls:14,vars:2,consts:[[1,"navbar","navbar-expand-lg","navbar-light"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse","justify-content-end",3,"ngbCollapse"],[1,"navbar-nav"],[1,"nav-item"],["aria-current","page","routerLink","/",1,"nav-link","active"],["type","button",1,"btn","btn-outline-primary"],["routerLink","/NewTask"]],template:function(t,r){1&t&&(c.TgZ(0,"nav",0),c.TgZ(1,"div",1),c.TgZ(2,"a",2),c._uU(3,"FirstSite"),c.qZA(),c.TgZ(4,"button",3),c.NdJ("click",function(){return r.isCollapsed=!r.isCollapsed}),c._UZ(5,"span",4),c.qZA(),c.TgZ(6,"div",5),c.TgZ(7,"ul",6),c.TgZ(8,"li",7),c.TgZ(9,"a",8),c._uU(10,"Home"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(11,"button",9),c.TgZ(12,"a",10),c._uU(13,"New Task"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.xp6(4),c.uIk("arr-expanded",!r.isCollapsed),c.xp6(2),c.Q6J("ngbCollapse",r.isCollapsed))},directives:[xI,xP,_d],styles:['@import"https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&display=swap";.navbar-brand[_ngcontent-%COMP%]{font-family:Space Mono,monospace;font-weight:700}.container-fluid[_ngcontent-%COMP%]{padding:0 6%}a[_ngcontent-%COMP%]{text-decoration:none;color:#b667f1}a[_ngcontent-%COMP%]:hover{color:#fbf8f1}.btn-outline-primary[_ngcontent-%COMP%]:hover{background-color:#b667f1;border-color:#fbf8f1}.btn-outline-primary[_ngcontent-%COMP%]{border-color:#b667f1}']}),n})(),IF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"container"]],template:function(t,r){1&t&&(c._UZ(0,"app-nav-bar"),c.TgZ(1,"div",0),c._UZ(2,"router-outlet"),c.qZA())},directives:[CF,cy],styles:[""]}),n})();const bM_firebase={apiKey:"AIzaSyB71civMACTzBm7mrWDPF0t1mHD59KXpLM",authDomain:"my-task-project-3c8eb.firebaseapp.com",projectId:"my-task-project-3c8eb",storageBucket:"my-task-project-3c8eb.appspot.com",messagingSenderId:"569547331901",appId:"1:569547331901:web:cb54e0aad4108e14044d54",measurementId:"G-C5TZ2GE0YF"};let SF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[In]]}),n})(),AF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[IF]}),n.\u0275inj=c.cJS({providers:[vN,bI],imports:[[fu,PR,TF,G_,rb,NR,Ys.hO.initializeApp(bM_firebase),gR,SF]]}),n})();(0,c.G48)(),Pc().bootstrapModule(AF).catch(n=>console.error(n))},5867:(et,De,R)=>{"use strict";R.d(De,{Mq:()=>c.getApp,C6:()=>c.getApps});var c=R(9681);(0,c.registerVersion)("firebase","9.6.6","app")},127:(et,De,R)=>{"use strict";R.d(De,{Z:()=>c.Z});var c=R(3942);c.Z.registerVersion("firebase","9.6.6","app-compat")},389:(et,De,R)=>{"use strict";R.r(De);var c=R(5861),Y=R(3942),k=R(2090),le=R(9681),te=R(655),pe=R(1877),re=R(4859);const Me=function Ve(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Le=function Ie(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},z=new k.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),me=new pe.Yd("@firebase/auth");function Te(_,...f){me.logLevel<=pe.in.ERROR&&me.error(`Auth (${le.SDK_VERSION}): ${_}`,...f)}function de(_,...f){throw Ge(_,...f)}function xe(_,...f){return Ge(_,...f)}function Ce(_,f,g){const b=Object.assign(Object.assign({},Le()),{[f]:g});return new k.LL("auth","Firebase",b).create(f,{appName:_.name})}function qe(_,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&de(_,"argument-error"),Ce(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ge(_,...f){if("string"!=typeof _){const g=f[0],b=[...f.slice(1)];return b[0]&&(b[0].appName=_.name),_._errorFactory.create(g,...b)}return z.create(_,...f)}function se(_,f,...g){if(!_)throw Ge(f,...g)}function Z(_){const f="INTERNAL ASSERTION FAILED: "+_;throw Te(f),new Error(f)}function ie(_,f){_||Z(f)}const _e=new Map;function oe(_){ie(_ instanceof Function,"Expected a class definition");let f=_e.get(_);return f?(ie(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,_e.set(_,f),f)}function mt(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function Ut(){return"http:"===Mn()||"https:"===Mn()}function Mn(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class kn{constructor(f,g){this.shortDelay=f,this.longDelay=g,ie(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}get(){return function rt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ut()||(0,k.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Zt(_,f){ie(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class dr{static initialize(f,g,b){this.fetchImpl=f,g&&(this.headersImpl=g),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Z("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Z("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Z("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $t={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Fi=new kn(3e4,6e4);function Wt(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function Mt(_,f,g,b){return os.apply(this,arguments)}function os(){return(os=(0,c.Z)(function*(_,f,g,b,S={}){return ir(_,S,(0,c.Z)(function*(){let x={},W={};b&&("GET"===f?W=b:x={body:JSON.stringify(b)});const ce=(0,k.xO)(Object.assign({key:_.config.apiKey},W)).slice(1),Be=yield _._getAdditionalHeaders();return Be["Content-Type"]="application/json",_.languageCode&&(Be["X-Firebase-Locale"]=_.languageCode),dr.fetch()(Ps(_,_.config.apiHost,g,ce),Object.assign({method:f,headers:Be,referrerPolicy:"no-referrer"},x))}))})).apply(this,arguments)}function ir(_,f,g){return ks.apply(this,arguments)}function ks(){return(ks=(0,c.Z)(function*(_,f,g){_._canInitEmulator=!1;const b=Object.assign(Object.assign({},$t),f);try{const S=new li(_),x=yield Promise.race([g(),S.promise]);S.clearNetworkTimeout();const W=yield x.json();if("needConfirmation"in W)throw Vi(_,"account-exists-with-different-credential",W);if(x.ok&&!("errorMessage"in W))return W;{const ce=x.ok?W.errorMessage:W.error.message,[Be,Je]=ce.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Be)throw Vi(_,"credential-already-in-use",W);if("EMAIL_EXISTS"===Be)throw Vi(_,"email-already-in-use",W);const gt=b[Be]||Be.toLowerCase().replace(/[_\s]+/g,"-");if(Je)throw Ce(_,gt,Je);de(_,gt)}}catch(S){if(S instanceof k.ZR)throw S;de(_,"network-request-failed")}})).apply(this,arguments)}function Dr(_,f,g,b){return Li.apply(this,arguments)}function Li(){return(Li=(0,c.Z)(function*(_,f,g,b,S={}){const x=yield Mt(_,f,g,b,S);return"mfaPendingCredential"in x&&de(_,"multi-factor-auth-required",{_serverResponse:x}),x})).apply(this,arguments)}function Ps(_,f,g,b){const S=`${f}${g}?${b}`;return _.config.emulator?Zt(_.config,S):`${_.config.apiScheme}://${S}`}class li{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,b)=>{this.timer=setTimeout(()=>b(xe(this.auth,"network-request-failed")),Fi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Vi(_,f,g){const b={appName:_.name};g.email&&(b.email=g.email),g.phoneNumber&&(b.phoneNumber=g.phoneNumber);const S=xe(_,f,b);return S.customData._tokenResponse=g,S}function Ur(){return(Ur=(0,c.Z)(function*(_,f){return Mt(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Pn(_,f){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,c.Z)(function*(_,f){return Mt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function so(_,f){return ft.apply(this,arguments)}function ft(){return(ft=(0,c.Z)(function*(_,f){return Mt(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Ke(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function hr(){return(hr=(0,c.Z)(function*(_,f=!1){const g=(0,k.m9)(_),b=yield g.getIdToken(f),S=Ye(b);se(S&&S.exp&&S.auth_time&&S.iat,g.auth,"internal-error");const x="object"==typeof S.firebase?S.firebase:void 0,W=null==x?void 0:x.sign_in_provider;return{claims:S,token:b,authTime:Ke(At(S.auth_time)),issuedAtTime:Ke(At(S.iat)),expirationTime:Ke(At(S.exp)),signInProvider:W||null,signInSecondFactor:(null==x?void 0:x.sign_in_second_factor)||null}})).apply(this,arguments)}function At(_){return 1e3*Number(_)}function Ye(_){const[f,g,b]=_.split(".");if(void 0===f||void 0===g||void 0===b)return Te("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,k.tV)(g);return S?JSON.parse(S):(Te("Failed to decode base64 JWT payload"),null)}catch(S){return Te("Caught error parsing JWT payload as JSON",S),null}}function Ti(_,f){return as.apply(this,arguments)}function as(){return(as=(0,c.Z)(function*(_,f,g=!1){if(g)return f;try{return yield f}catch(b){throw b instanceof k.ZR&&Rt(b)&&_.auth.currentUser===_&&(yield _.auth.signOut()),b}})).apply(this,arguments)}function Rt({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class sa{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const S=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const b=this.getInterval(f);this.timerId=setTimeout((0,c.Z)(function*(){yield g.iteration()}),b)}iteration(){var f=this;return(0,c.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&f.schedule(!0))}f.schedule()})()}}class jr{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ke(this.lastLoginAt),this.creationTime=Ke(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ui(_){return B.apply(this,arguments)}function B(){return(B=(0,c.Z)(function*(_){var f;const g=_.auth,b=yield _.getIdToken(),S=yield Ti(_,so(g,{idToken:b}));se(null==S?void 0:S.users.length,g,"internal-error");const x=S.users[0];_._notifyReloadListener(x);const W=(null===(f=x.providerUserInfo)||void 0===f?void 0:f.length)?X(x.providerUserInfo):[],ce=be(_.providerData,W),gt=!!_.isAnonymous&&!(_.email&&x.passwordHash||(null==ce?void 0:ce.length)),it={uid:x.localId,displayName:x.displayName||null,photoURL:x.photoUrl||null,email:x.email||null,emailVerified:x.emailVerified||!1,phoneNumber:x.phoneNumber||null,tenantId:x.tenantId||null,providerData:ce,metadata:new jr(x.createdAt,x.lastLoginAt),isAnonymous:gt};Object.assign(_,it)})).apply(this,arguments)}function $(){return($=(0,c.Z)(function*(_){const f=(0,k.m9)(_);yield ui(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function be(_,f){return[..._.filter(b=>!f.some(S=>S.providerId===b.providerId)),...f]}function X(_){return _.map(f=>{var{providerId:g}=f,b=(0,te._T)(f,["providerId"]);return{providerId:g,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function ht(){return(ht=(0,c.Z)(function*(_,f){const g=yield ir(_,{},(0,c.Z)(function*(){const b=(0,k.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:S,apiKey:x}=_.config,W=Ps(_,S,"/v1/token",`key=${x}`),ce=yield _._getAdditionalHeaders();return ce["Content-Type"]="application/x-www-form-urlencoded",dr.fetch()(W,{method:"POST",headers:ce,body:b})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Kt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){se(f.idToken,"internal-error"),se(void 0!==f.idToken,"internal-error"),se(void 0!==f.refreshToken,"internal-error");const g="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function ot(_){const f=Ye(_);return se(f,"internal-error"),se(void 0!==f.exp,"internal-error"),se(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var b=this;return(0,c.Z)(function*(){return se(!b.accessToken||b.refreshToken,f,"user-token-expired"),g||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(f,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var b=this;return(0,c.Z)(function*(){const{accessToken:S,refreshToken:x,expiresIn:W}=yield function $e(_,f){return ht.apply(this,arguments)}(f,g);b.updateTokensAndExpiration(S,x,Number(W))})()}updateTokensAndExpiration(f,g,b){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(f,g){const{refreshToken:b,accessToken:S,expirationTime:x}=g,W=new Kt;return b&&(se("string"==typeof b,"internal-error",{appName:f}),W.refreshToken=b),S&&(se("string"==typeof S,"internal-error",{appName:f}),W.accessToken=S),x&&(se("number"==typeof x,"internal-error",{appName:f}),W.expirationTime=x),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Kt,this.toJSON())}_performRefresh(){return Z("not implemented")}}function rn(_,f){se("string"==typeof _||void 0===_,"internal-error",{appName:f})}class on{constructor(f){var{uid:g,auth:b,stsTokenManager:S}=f,x=(0,te._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sa(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=b,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=x.displayName||null,this.email=x.email||null,this.emailVerified=x.emailVerified||!1,this.phoneNumber=x.phoneNumber||null,this.photoURL=x.photoURL||null,this.isAnonymous=x.isAnonymous||!1,this.tenantId=x.tenantId||null,this.providerData=x.providerData?[...x.providerData]:[],this.metadata=new jr(x.createdAt||void 0,x.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,c.Z)(function*(){const b=yield Ti(g,g.stsTokenManager.getToken(g.auth,f));return se(b,g.auth,"internal-error"),g.accessToken!==b&&(g.accessToken=b,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),b})()}getIdTokenResult(f){return function sn(_){return hr.apply(this,arguments)}(this,f)}reload(){return function G(_){return $.apply(this,arguments)}(this)}_assign(f){this!==f&&(se(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new on(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var b=this;return(0,c.Z)(function*(){let S=!1;f.idToken&&f.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(f),S=!0),g&&(yield ui(b)),yield b.auth._persistUserIfCurrent(b),S&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var f=this;return(0,c.Z)(function*(){const g=yield f.getIdToken();return yield Ti(f,function dt(_,f){return Ur.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var b,S,x,W,ce,Be,Je,gt;const it=null!==(b=g.displayName)&&void 0!==b?b:void 0,wn=null!==(S=g.email)&&void 0!==S?S:void 0,Ni=null!==(x=g.phoneNumber)&&void 0!==x?x:void 0,xl=null!==(W=g.photoURL)&&void 0!==W?W:void 0,cd=null!==(ce=g.tenantId)&&void 0!==ce?ce:void 0,Fu=null!==(Be=g._redirectEventId)&&void 0!==Be?Be:void 0,pf=null!==(Je=g.createdAt)&&void 0!==Je?Je:void 0,q_=null!==(gt=g.lastLoginAt)&&void 0!==gt?gt:void 0,{uid:Co,emailVerified:Dt,isAnonymous:gf,providerData:Zo,stsTokenManager:Lu}=g;se(Co&&Lu,f,"internal-error");const mf=Kt.fromJSON(this.name,Lu);se("string"==typeof Co,f,"internal-error"),rn(it,f.name),rn(wn,f.name),se("boolean"==typeof Dt,f,"internal-error"),se("boolean"==typeof gf,f,"internal-error"),rn(Ni,f.name),rn(xl,f.name),rn(cd,f.name),rn(Fu,f.name),rn(pf,f.name),rn(q_,f.name);const _f=new on({uid:Co,auth:f,email:wn,emailVerified:Dt,displayName:it,isAnonymous:gf,photoURL:xl,phoneNumber:Ni,tenantId:cd,stsTokenManager:mf,createdAt:pf,lastLoginAt:q_});return Zo&&Array.isArray(Zo)&&(_f.providerData=Zo.map(Z_=>Object.assign({},Z_))),Fu&&(_f._redirectEventId=Fu),_f}static _fromIdTokenResponse(f,g,b=!1){return(0,c.Z)(function*(){const S=new Kt;S.updateFromServerResponse(g);const x=new on({uid:g.localId,auth:f,stsTokenManager:S,isAnonymous:b});return yield ui(x),x})()}}const Ct=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(g,b){var S=this;return(0,c.Z)(function*(){S.storage[g]=b})()}_get(g){var b=this;return(0,c.Z)(function*(){const S=b.storage[g];return void 0===S?null:S})()}_remove(g){var b=this;return(0,c.Z)(function*(){delete b.storage[g]})()}_addListener(g,b){}_removeListener(g,b){}}return _.type="NONE",_})();function Fn(_,f,g){return`firebase:${_}:${f}:${g}`}class Er{constructor(f,g,b){this.persistence=f,this.auth=g,this.userKey=b;const{config:S,name:x}=this.auth;this.fullUserKey=Fn(this.userKey,S.apiKey,x),this.fullPersistenceKey=Fn("persistence",S.apiKey,x),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,c.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?on._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,c.Z)(function*(){if(g.persistence===f)return;const b=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,b?g.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,b="authUser"){return(0,c.Z)(function*(){if(!g.length)return new Er(oe(Ct),f,b);const S=(yield Promise.all(g.map(function(){var Je=(0,c.Z)(function*(gt){if(yield gt._isAvailable())return gt});return function(gt){return Je.apply(this,arguments)}}()))).filter(Je=>Je);let x=S[0]||oe(Ct);const W=Fn(b,f.config.apiKey,f.name);let ce=null;for(const Je of g)try{const gt=yield Je._get(W);if(gt){const it=on._fromJSON(f,gt);Je!==x&&(ce=it),x=Je;break}}catch(gt){}const Be=S.filter(Je=>Je._shouldAllowMigration);return x._shouldAllowMigration&&Be.length?(x=Be[0],ce&&(yield x._set(W,ce.toJSON())),yield Promise.all(g.map(function(){var Je=(0,c.Z)(function*(gt){if(gt!==x)try{yield gt._remove(W)}catch(it){}});return function(gt){return Je.apply(this,arguments)}}())),new Er(x,f,b)):new Er(x,f,b)})()}}function sl(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Ln(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(oa(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(ls(f))return"Blackberry";if(Vn(f))return"Webos";if(ol(f))return"Safari";if((f.includes("chrome/")||aa(f))&&!f.includes("edge/"))return"Chrome";if(Tr(f))return"Android";{const b=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function oa(_=(0,k.z$)()){return/firefox\//i.test(_)}function ol(_=(0,k.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function aa(_=(0,k.z$)()){return/crios\//i.test(_)}function Ln(_=(0,k.z$)()){return/iemobile/i.test(_)}function Tr(_=(0,k.z$)()){return/android/i.test(_)}function ls(_=(0,k.z$)()){return/blackberry/i.test(_)}function Vn(_=(0,k.z$)()){return/webos/i.test(_)}function Gr(_=(0,k.z$)()){return/iphone|ipad|ipod/i.test(_)}function Fs(_=(0,k.z$)()){return Gr(_)||Tr(_)||Vn(_)||ls(_)||/windows phone/i.test(_)||Ln(_)}function Ro(_,f=[]){let g;switch(_){case"Browser":g=sl((0,k.z$)());break;case"Worker":g=`${sl((0,k.z$)())}-${_}`;break;default:g=_}const b=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${le.SDK_VERSION}/${b}`}class $r{constructor(f,g){this.app=f,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wt(this),this.idTokenSubscription=new wt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=z,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(f,g){var b=this;return g&&(this._popupRedirectResolver=oe(g)),this._initializationPromise=this.queue((0,c.Z)(function*(){var S,x;if(!b._deleted&&(b.persistenceManager=yield Er.create(b,f),!b._deleted)){if(null===(S=b._popupRedirectResolver)||void 0===S?void 0:S._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch(W){}yield b.initializeCurrentUser(g),b.lastNotifiedUid=(null===(x=b.currentUser)||void 0===x?void 0:x.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,c.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g)}})()}initializeCurrentUser(f){var g=this;return(0,c.Z)(function*(){var b;let S=yield g.assertedPersistence.getCurrentUser();if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const x=null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId,W=null==S?void 0:S._redirectEventId,ce=yield g.tryRedirectSignIn(f);(!x||x===W)&&(null==ce?void 0:ce.user)&&(S=ce.user)}return S?S._redirectEventId?(se(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===S._redirectEventId?g.directlySetCurrentUser(S):g.reloadAndSetCurrentUserOrClear(S)):g.reloadAndSetCurrentUserOrClear(S):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var g=this;return(0,c.Z)(function*(){let b=null;try{b=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch(S){yield g._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,c.Z)(function*(){try{yield ui(f)}catch(b){if("auth/network-request-failed"!==b.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function st(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,c.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,c.Z)(function*(){const b=f?(0,k.m9)(f):null;return b&&se(b.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(b&&b._clone(g))})()}_updateCurrentUser(f){var g=this;return(0,c.Z)(function*(){if(!g._deleted)return f&&se(g.tenantId===f.tenantId,g,"tenant-id-mismatch"),g.queue((0,c.Z)(function*(){yield g.directlySetCurrentUser(f),g.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,c.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var g=this;return this.queue((0,c.Z)(function*(){yield g.assertedPersistence.setPersistence(oe(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new k.LL("auth","Firebase",f())}onAuthStateChanged(f,g,b){return this.registerStateListener(this.authStateSubscription,f,g,b)}onIdTokenChanged(f,g,b){return this.registerStateListener(this.idTokenSubscription,f,g,b)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var b=this;return(0,c.Z)(function*(){const S=yield b.getOrInitRedirectPersistenceManager(g);return null===f?S.removeCurrentUser():S.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,c.Z)(function*(){if(!g.redirectPersistenceManager){const b=f&&oe(f)||g._popupRedirectResolver;se(b,g,"argument-error"),g.redirectPersistenceManager=yield Er.create(g,[oe(b._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,c.Z)(function*(){var b,S;return g._isInitialized&&(yield g.queue((0,c.Z)(function*(){}))),(null===(b=g._currentUser)||void 0===b?void 0:b._redirectEventId)===f?g._currentUser:(null===(S=g.redirectUser)||void 0===S?void 0:S._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,c.Z)(function*(){if(f===g.currentUser)return g.queue((0,c.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,b,S){if(this._deleted)return()=>{};const x="function"==typeof g?g:g.next.bind(g),W=this._isInitialized?Promise.resolve():this._initializationPromise;return se(W,this,"internal-error"),W.then(()=>x(this.currentUser)),"function"==typeof g?f.addObserver(g,b,S):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,c.Z)(function*(){g.currentUser&&g.currentUser!==f&&(g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh()),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Ro(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,c.Z)(function*(){const g={"X-Client-Version":f.clientVersion};return f.app.options.appId&&(g["X-Firebase-gmpid"]=f.app.options.appId),g})()}}function ke(_){return(0,k.m9)(_)}class wt{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,k.ne)(g=>this.observer=g)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Cr(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function Cn(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class jt{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return Z("not implemented")}_getIdTokenResponse(f){return Z("not implemented")}_linkToIdToken(f,g){return Z("not implemented")}_getReauthenticationResolver(f){return Z("not implemented")}}function ao(_,f){return gn.apply(this,arguments)}function gn(){return(gn=(0,c.Z)(function*(_,f){return Mt(_,"POST","/v1/accounts:resetPassword",Wt(_,f))})).apply(this,arguments)}function vt(_,f){return lo.apply(this,arguments)}function lo(){return(lo=(0,c.Z)(function*(_,f){return Mt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ko(_,f){return Po.apply(this,arguments)}function Po(){return(Po=(0,c.Z)(function*(_,f){return Mt(_,"POST","/v1/accounts:update",Wt(_,f))})).apply(this,arguments)}function un(){return(un=(0,c.Z)(function*(_,f){return Dr(_,"POST","/v1/accounts:signInWithPassword",Wt(_,f))})).apply(this,arguments)}function Ls(_,f){return uo.apply(this,arguments)}function uo(){return(uo=(0,c.Z)(function*(_,f){return Mt(_,"POST","/v1/accounts:sendOobCode",Wt(_,f))})).apply(this,arguments)}function Bn(_,f){return zt.apply(this,arguments)}function zt(){return(zt=(0,c.Z)(function*(_,f){return Ls(_,f)})).apply(this,arguments)}function bc(_,f){return co.apply(this,arguments)}function co(){return(co=(0,c.Z)(function*(_,f){return Ls(_,f)})).apply(this,arguments)}function Ci(_,f){return ci.apply(this,arguments)}function ci(){return(ci=(0,c.Z)(function*(_,f){return Ls(_,f)})).apply(this,arguments)}function wc(_,f){return al.apply(this,arguments)}function al(){return(al=(0,c.Z)(function*(_,f){return Ls(_,f)})).apply(this,arguments)}function di(){return(di=(0,c.Z)(function*(_,f){return Dr(_,"POST","/v1/accounts:signInWithEmailLink",Wt(_,f))})).apply(this,arguments)}function Lo(){return(Lo=(0,c.Z)(function*(_,f){return Dr(_,"POST","/v1/accounts:signInWithEmailLink",Wt(_,f))})).apply(this,arguments)}class ll extends jt{constructor(f,g,b,S=null){super("password",b),this._email=f,this._password=g,this._tenantId=S}static _fromEmailAndPassword(f,g){return new ll(f,g,"password")}static _fromEmailAndCode(f,g,b=null){return new ll(f,g,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,c.Z)(function*(){switch(g.signInMethod){case"password":return function Fo(_,f){return un.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Vs(_,f){return di.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:de(f,"internal-error")}})()}_linkToIdToken(f,g){var b=this;return(0,c.Z)(function*(){switch(b.signInMethod){case"password":return vt(f,{idToken:g,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function Nh(_,f){return Lo.apply(this,arguments)}(f,{idToken:g,email:b._email,oobCode:b._password});default:de(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function On(_,f){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,c.Z)(function*(_,f){return Dr(_,"POST","/v1/accounts:signInWithIdp",Wt(_,f))})).apply(this,arguments)}class ds extends jt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new ds(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):de("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:S}=g,x=(0,te._T)(g,["providerId","signInMethod"]);if(!b||!S)return null;const W=new ds(b,S);return W.idToken=x.idToken||void 0,W.accessToken=x.accessToken||void 0,W.secret=x.secret,W.nonce=x.nonce,W.pendingToken=x.pendingToken||null,W}_getIdTokenResponse(f){return On(f,this.buildRequest())}_linkToIdToken(f,g){const b=this.buildRequest();return b.idToken=g,On(f,b)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,On(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,k.xO)(g)}return f}}function ig(_,f){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,c.Z)(function*(_,f){return Mt(_,"POST","/v1/accounts:sendVerificationCode",Wt(_,f))})).apply(this,arguments)}function ua(){return(ua=(0,c.Z)(function*(_,f){return Dr(_,"POST","/v1/accounts:signInWithPhoneNumber",Wt(_,f))})).apply(this,arguments)}function Tc(){return(Tc=(0,c.Z)(function*(_,f){const g=yield Dr(_,"POST","/v1/accounts:signInWithPhoneNumber",Wt(_,f));if(g.temporaryProof)throw Vi(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const og={USER_NOT_FOUND:"user-not-found"};function Cc(){return(Cc=(0,c.Z)(function*(_,f){return Dr(_,"POST","/v1/accounts:signInWithPhoneNumber",Wt(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),og)})).apply(this,arguments)}class Bo extends jt{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new Bo({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new Bo({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function sg(_,f){return ua.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function Vo(_,f){return Tc.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function ag(_,f){return Cc.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:b,verificationCode:S}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:b,code:S}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:b,phoneNumber:S,temporaryProof:x}=f;return b||g||S||x?new Bo({verificationId:g,verificationCode:b,phoneNumber:S,temporaryProof:x}):null}}class hs{constructor(f){var g,b,S,x,W,ce;const Be=(0,k.zd)((0,k.pd)(f)),Je=null!==(g=Be.apiKey)&&void 0!==g?g:null,gt=null!==(b=Be.oobCode)&&void 0!==b?b:null,it=function lg(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Be.mode)&&void 0!==S?S:null);se(Je&&gt&&it,"argument-error"),this.apiKey=Je,this.operation=it,this.code=gt,this.continueUrl=null!==(x=Be.continueUrl)&&void 0!==x?x:null,this.languageCode=null!==(W=Be.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(ce=Be.tenantId)&&void 0!==ce?ce:null}static parseLink(f){const g=function Mh(_){const f=(0,k.zd)((0,k.pd)(_)).link,g=f?(0,k.zd)((0,k.pd)(f)).deep_link_id:null,b=(0,k.zd)((0,k.pd)(_)).deep_link_id;return(b?(0,k.zd)((0,k.pd)(b)).link:null)||b||g||f||_}(f);try{return new hs(g)}catch(b){return null}}}let ca=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,b){return ll._fromEmailAndPassword(g,b)}static credentialWithLink(g,b){const S=hs.parseLink(b);return se(S,"argument-error"),ll._fromEmailAndCode(g,S.code,S.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Bs{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class hi extends Bs{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class ho extends hi{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return se("providerId"in g&&"signInMethod"in g,"argument-error"),ds._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return se(f.idToken||f.accessToken,"argument-error"),ds._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return ho.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return ho.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:b,oauthTokenSecret:S,pendingToken:x,nonce:W,providerId:ce}=f;if(!b&&!S&&!g&&!x||!ce)return null;try{return new ho(ce)._credential({idToken:g,accessToken:b,nonce:W,pendingToken:x})}catch(Be){return null}}}let Uo=(()=>{class _ extends hi{constructor(){super("facebook.com")}static credential(g){return ds._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(b){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),jo=(()=>{class _ extends hi{constructor(){super("google.com"),this.addScope("profile")}static credential(g,b){return ds._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:b})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:S}=g;if(!b&&!S)return null;try{return _.credential(b,S)}catch(x){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Ic=(()=>{class _ extends hi{constructor(){super("github.com")}static credential(g){return ds._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(b){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class In extends jt{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return On(f,this.buildRequest())}_linkToIdToken(f,g){const b=this.buildRequest();return b.idToken=g,On(f,b)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,On(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:S,pendingToken:x}=g;return b&&S&&x&&b===S?new In(b,x):null}static _create(f,g){return new In(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class fs extends Bs{constructor(f){se(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return fs.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return fs.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=In.fromJSON(f);return se(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:b}=f;if(!g||!b)return null;try{return In._create(b,g)}catch(S){return null}}}let fi=(()=>{class _ extends hi{constructor(){super("twitter.com")}static credential(g,b){return ds._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:b})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:b,oauthTokenSecret:S}=g;if(!b||!S)return null;try{return _.credential(b,S)}catch(x){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Ac(_,f){return or.apply(this,arguments)}function or(){return(or=(0,c.Z)(function*(_,f){return Dr(_,"POST","/v1/accounts:signUp",Wt(_,f))})).apply(this,arguments)}class fr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,b,S=!1){return(0,c.Z)(function*(){const x=yield on._fromIdTokenResponse(f,b,S),W=Nc(b);return new fr({user:x,providerId:W,_tokenResponse:b,operationType:g})})()}static _forOperation(f,g,b){return(0,c.Z)(function*(){yield f._updateTokensIfNecessary(b,!0);const S=Nc(b);return new fr({user:f,providerId:S,_tokenResponse:b,operationType:g})})()}}function Nc(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function ul(){return(ul=(0,c.Z)(function*(_){var f;const g=ke(_);if(yield g._initializationPromise,null===(f=g.currentUser)||void 0===f?void 0:f.isAnonymous)return new fr({user:g.currentUser,providerId:null,operationType:"signIn"});const b=yield Ac(g,{returnSecureToken:!0}),S=yield fr._fromIdTokenResponse(g,"signIn",b,!0);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class cl extends k.ZR{constructor(f,g,b,S){var x;super(g.code,g.message),this.operationType=b,this.user=S,Object.setPrototypeOf(this,cl.prototype),this.customData={appName:f.name,tenantId:null!==(x=f.tenantId)&&void 0!==x?x:void 0,_serverResponse:g.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(f,g,b,S){return new cl(f,g,b,S)}}function dl(_,f,g,b){return("reauthenticate"===f?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(x=>{throw"auth/multi-factor-auth-required"===x.code?cl._fromErrorAndOperation(_,x,f,b):x})}function ou(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function au(){return(au=(0,c.Z)(function*(_,f){const g=(0,k.m9)(_);yield Us(!0,g,f);const{providerUserInfo:b}=yield Pn(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),S=ou(b||[]);return g.providerData=g.providerData.filter(x=>S.has(x.providerId)),S.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Yt(_,f){return da.apply(this,arguments)}function da(){return(da=(0,c.Z)(function*(_,f,g=!1){const b=yield Ti(_,f._linkToIdToken(_.auth,yield _.getIdToken()),g);return fr._forOperation(_,"link",b)})).apply(this,arguments)}function Us(_,f,g){return qt.apply(this,arguments)}function qt(){return(qt=(0,c.Z)(function*(_,f,g){yield ui(f);const S=!1===_?"provider-already-linked":"no-such-provider";se(ou(f.providerData).has(g)===_,f.auth,S)})).apply(this,arguments)}function hl(_,f){return ha.apply(this,arguments)}function ha(){return(ha=(0,c.Z)(function*(_,f,g=!1){const{auth:b}=_,S="reauthenticate";try{const x=yield Ti(_,dl(b,S,f,_),g);se(x.idToken,b,"internal-error");const W=Ye(x.idToken);se(W,b,"internal-error");const{sub:ce}=W;return se(_.uid===ce,b,"user-mismatch"),fr._forOperation(_,S,x)}catch(x){throw"auth/user-not-found"===(null==x?void 0:x.code)&&de(b,"user-mismatch"),x}})).apply(this,arguments)}function fo(_,f){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,c.Z)(function*(_,f,g=!1){const b="signIn",S=yield dl(_,b,f),x=yield fr._fromIdTokenResponse(_,b,S);return g||(yield _._updateCurrentUser(x.user)),x})).apply(this,arguments)}function fl(_,f){return mn.apply(this,arguments)}function mn(){return(mn=(0,c.Z)(function*(_,f){return fo(ke(_),f)})).apply(this,arguments)}function gs(_,f){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,c.Z)(function*(_,f){const g=(0,k.m9)(_);return yield Us(!1,g,f.providerId),Yt(g,f)})).apply(this,arguments)}function Ho(_,f){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,c.Z)(function*(_,f){return hl((0,k.m9)(_),f)})).apply(this,arguments)}function lu(_,f){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,c.Z)(function*(_,f){return Dr(_,"POST","/v1/accounts:signInWithCustomToken",Wt(_,f))})).apply(this,arguments)}function Hs(){return(Hs=(0,c.Z)(function*(_,f){const g=ke(_),b=yield lu(g,{token:f,returnSecureToken:!0}),S=yield fr._fromIdTokenResponse(g,"signIn",b);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class at{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?fa._fromServerResponse(f,g):de(f,"internal-error")}}class fa extends at{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new fa(g)}}function pa(_,f,g){var b;se((null===(b=g.url)||void 0===b?void 0:b.length)>0,_,"invalid-continue-uri"),se(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(se(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(se(g.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function ga(){return(ga=(0,c.Z)(function*(_,f,g){const b=(0,k.m9)(_),S={requestType:"PASSWORD_RESET",email:f};g&&pa(b,S,g),yield bc(b,S)})).apply(this,arguments)}function ma(){return(ma=(0,c.Z)(function*(_,f,g){yield ao((0,k.m9)(_),{oobCode:f,newPassword:g})})).apply(this,arguments)}function Ee(){return(Ee=(0,c.Z)(function*(_,f){yield ko((0,k.m9)(_),{oobCode:f})})).apply(this,arguments)}function Nt(_,f){return _a.apply(this,arguments)}function _a(){return(_a=(0,c.Z)(function*(_,f){const g=(0,k.m9)(_),b=yield ao(g,{oobCode:f}),S=b.requestType;switch(se(S,g,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":se(b.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":se(b.mfaInfo,g,"internal-error");default:se(b.email,g,"internal-error")}let x=null;return b.mfaInfo&&(x=at._fromServerResponse(ke(g),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:x},operation:S}})).apply(this,arguments)}function Gs(){return(Gs=(0,c.Z)(function*(_,f){const{data:g}=yield Nt((0,k.m9)(_),f);return g.email})).apply(this,arguments)}function Ir(){return(Ir=(0,c.Z)(function*(_,f,g){const b=ke(_),S=yield Ac(b,{returnSecureToken:!0,email:f,password:g}),x=yield fr._fromIdTokenResponse(b,"signIn",S);return yield b._updateCurrentUser(x.user),x})).apply(this,arguments)}function xc(){return(xc=(0,c.Z)(function*(_,f,g){const b=(0,k.m9)(_),S={requestType:"EMAIL_SIGNIN",email:f};se(g.handleCodeInApp,b,"argument-error"),g&&pa(b,S,g),yield Ci(b,S)})).apply(this,arguments)}function Go(){return(Go=(0,c.Z)(function*(_,f,g){const b=(0,k.m9)(_),S=ca.credentialWithLink(f,g||mt());return se(S._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),fl(b,S)})).apply(this,arguments)}function Un(_,f){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,c.Z)(function*(_,f){return Mt(_,"POST","/v1/accounts:createAuthUri",Wt(_,f))})).apply(this,arguments)}function Ui(){return(Ui=(0,c.Z)(function*(_,f){const b={identifier:f,continueUri:Ut()?mt():"http://localhost"},{signinMethods:S}=yield Un((0,k.m9)(_),b);return S||[]})).apply(this,arguments)}function ba(){return(ba=(0,c.Z)(function*(_,f){const g=(0,k.m9)(_),S={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&pa(g.auth,S,f);const{email:x}=yield Bn(g.auth,S);x!==_.email&&(yield _.reload())})).apply(this,arguments)}function wa(){return(wa=(0,c.Z)(function*(_,f,g){const b=(0,k.m9)(_),x={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};g&&pa(b.auth,x,g);const{email:W}=yield wc(b.auth,x);W!==_.email&&(yield _.reload())})).apply(this,arguments)}function Pc(_,f){return po.apply(this,arguments)}function po(){return(po=(0,c.Z)(function*(_,f){return Mt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Da(){return(Da=(0,c.Z)(function*(_,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const b=(0,k.m9)(_),x={idToken:yield b.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},W=yield Ti(b,Pc(b.auth,x));b.displayName=W.displayName||null,b.photoURL=W.photoUrl||null;const ce=b.providerData.find(({providerId:Be})=>"password"===Be);ce&&(ce.displayName=b.displayName,ce.photoURL=b.photoURL),yield b._updateTokensIfNecessary(W)})).apply(this,arguments)}function pl(_,f,g){return go.apply(this,arguments)}function go(){return(go=(0,c.Z)(function*(_,f,g){const{auth:b}=_,x={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(x.email=f),g&&(x.password=g);const W=yield Ti(_,vt(b,x));yield _._updateTokensIfNecessary(W,!0)})).apply(this,arguments)}class mo{constructor(f,g,b={}){this.isNewUser=f,this.providerId=g,this.profile=b}}class Fc extends mo{constructor(f,g,b,S){super(f,g,b),this.username=S}}class xh extends mo{constructor(f,g){super(f,"facebook.com",g)}}class $o extends Fc{constructor(f,g){super(f,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class ji extends mo{constructor(f,g){super(f,"google.com",g)}}class Rh extends Fc{constructor(f,g,b){super(f,"twitter.com",g,b)}}function Yn(_){const{user:f,_tokenResponse:g}=_;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function gu(_){var f,g;if(!_)return null;const{providerId:b}=_,S=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},x=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!b&&(null==_?void 0:_.idToken)){const W=null===(g=null===(f=Ye(_.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(W)return new mo(x,"anonymous"!==W&&"custom"!==W?W:null)}if(!b)return null;switch(b){case"facebook.com":return new xh(x,S);case"github.com":return new $o(x,S);case"google.com":return new ji(x,S);case"twitter.com":return new Rh(x,S,_.screenName||null);case"custom":case"anonymous":return new mo(x,null);default:return new mo(x,b,S)}}(g)}class ys{constructor(f,g){this.type=f,this.credential=g}static _fromIdtoken(f){return new ys("enroll",f)}static _fromMfaPendingCredential(f){return new ys("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,b;if(null==f?void 0:f.multiFactorSession){if(null===(g=f.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return ys._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(b=f.multiFactorSession)||void 0===b?void 0:b.idToken)return ys._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Ea{constructor(f,g,b){this.session=f,this.hints=g,this.signInResolver=b}static _fromError(f,g){const b=ke(f),S=g.customData._serverResponse,x=(S.mfaInfo||[]).map(ce=>at._fromServerResponse(b,ce));se(S.mfaPendingCredential,b,"internal-error");const W=ys._fromMfaPendingCredential(S.mfaPendingCredential);return new Ea(W,x,function(){var ce=(0,c.Z)(function*(Be){const Je=yield Be._process(b,W);delete S.mfaInfo,delete S.mfaPendingCredential;const gt=Object.assign(Object.assign({},S),{idToken:Je.idToken,refreshToken:Je.refreshToken});switch(g.operationType){case"signIn":const it=yield fr._fromIdTokenResponse(b,g.operationType,gt);return yield b._updateCurrentUser(it.user),it;case"reauthenticate":return se(g.user,b,"internal-error"),fr._forOperation(g.user,g.operationType,gt);default:de(b,"internal-error")}});return function(Be){return ce.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,c.Z)(function*(){return g.signInResolver(f)})()}}function gl(_,f){return Mt(_,"POST","/v2/accounts/mfaEnrollment:start",Wt(_,f))}class vs{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(b=>at._fromServerResponse(f.auth,b)))})}static _fromUser(f){return new vs(f)}getSession(){var f=this;return(0,c.Z)(function*(){return ys._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,g){var b=this;return(0,c.Z)(function*(){const S=f,x=yield b.getSession(),W=yield Ti(b.user,S._process(b.user.auth,x,g));return yield b.user._updateTokensIfNecessary(W),b.user.reload()})()}unenroll(f){var g=this;return(0,c.Z)(function*(){const b="string"==typeof f?f:f.uid,S=yield g.user.getIdToken(),x=yield Ti(g.user,function Ph(_,f){return Mt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Wt(_,f))}(g.user.auth,{idToken:S,mfaEnrollmentId:b}));g.enrolledFactors=g.enrolledFactors.filter(({uid:W})=>W!==b),yield g.user._updateTokensIfNecessary(x);try{yield g.user.reload()}catch(W){if("auth/user-token-expired"!==W.code)throw W}})()}}const Wo=new WeakMap,Ta="__sak";class Ca{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Ta,"1"),this.storage.removeItem(Ta),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const vn=(()=>{class _ extends Ca{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,b)=>this.onStorageEvent(g,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ml(){const _=(0,k.z$)();return ol(_)||Gr(_)}()&&function sr(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=Fs(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const b of Object.keys(this.listeners)){const S=this.storage.getItem(b),x=this.localCache[b];S!==x&&g(b,x,S)}}onStorageEvent(g,b=!1){if(!g.key)return void this.forAllChangedKeys((ce,Be,Je)=>{this.notifyListeners(ce,Je)});const S=g.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ce=this.storage.getItem(S);if(g.newValue!==ce)null!==g.newValue?this.storage.setItem(S,g.newValue):this.storage.removeItem(S);else if(this.localCache[S]===g.newValue&&!b)return}const x=()=>{const ce=this.storage.getItem(S);!b&&this.localCache[S]===ce||this.notifyListeners(S,ce)},W=this.storage.getItem(S);!function la(){return(0,k.w1)()&&10===document.documentMode}()||W===g.newValue||g.newValue===g.oldValue?x():setTimeout(x,10)}notifyListeners(g,b){this.localCache[g]=b;const S=this.listeners[g];if(S)for(const x of Array.from(S))x(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,b,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:b,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,b){var S=()=>super._set,x=this;return(0,c.Z)(function*(){yield S().call(x,g,b),x.localCache[g]=JSON.stringify(b)})()}_get(g){var b=()=>super._get,S=this;return(0,c.Z)(function*(){const x=yield b().call(S,g);return S.localCache[g]=JSON.stringify(x),x})()}_remove(g){var b=()=>super._remove,S=this;return(0,c.Z)(function*(){yield b().call(S,g),delete S.localCache[g]})()}}return _.type="LOCAL",_})(),bs=(()=>{class _ extends Ca{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,b){}_removeListener(g,b){}}return _.type="SESSION",_})();let _l=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const b=this.receivers.find(x=>x.isListeningto(g));if(b)return b;const S=new _(g);return this.receivers.push(S),S}isListeningto(g){return this.eventTarget===g}handleEvent(g){var b=this;return(0,c.Z)(function*(){const S=g,{eventId:x,eventType:W,data:ce}=S.data,Be=b.handlersMap[W];if(!(null==Be?void 0:Be.size))return;S.ports[0].postMessage({status:"ack",eventId:x,eventType:W});const Je=Array.from(Be).map(function(){var it=(0,c.Z)(function*(wn){return wn(S.origin,ce)});return function(wn){return it.apply(this,arguments)}}()),gt=yield function yu(_){return Promise.all(_.map(function(){var f=(0,c.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(b){return{fulfilled:!1,reason:b}}});return function(g){return f.apply(this,arguments)}}()))}(Je);S.ports[0].postMessage({status:"done",eventId:x,eventType:W,response:gt})})()}_subscribe(g,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(b)}_unsubscribe(g,b){this.handlersMap[g]&&b&&this.handlersMap[g].delete(b),(!b||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function $s(_="",f=10){let g="";for(let b=0;b<f;b++)g+=Math.floor(10*Math.random());return _+g}class Vc{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,b=50){var S=this;return(0,c.Z)(function*(){const x="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!x)throw new Error("connection_unavailable");let W,ce;return new Promise((Be,Je)=>{const gt=$s("",20);x.port1.start();const it=setTimeout(()=>{Je(new Error("unsupported_event"))},b);ce={messageChannel:x,onMessage(wn){const Ni=wn;if(Ni.data.eventId===gt)switch(Ni.data.status){case"ack":clearTimeout(it),W=setTimeout(()=>{Je(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),Be(Ni.data.response);break;default:clearTimeout(it),clearTimeout(W),Je(new Error("invalid_response"))}}},S.handlers.add(ce),x.port1.addEventListener("message",ce.onMessage),S.target.postMessage({eventType:f,eventId:gt,data:g},[x.port2])}).finally(()=>{ce&&S.removeMessageHandler(ce)})})()}}function kt(){return window}function Jt(){return void 0!==kt().WorkerGlobalScope&&"function"==typeof kt().importScripts}function _o(){return(_o=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const vl="firebaseLocalStorageDb",Ia="firebaseLocalStorage",Sr="fbase_key";class jn{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Ws(_,f){return _.transaction([Ia],f?"readwrite":"readonly").objectStore(Ia)}function Ar(){const _=indexedDB.open(vl,1);return new Promise((f,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const b=_.result;try{b.createObjectStore(Ia,{keyPath:Sr})}catch(S){g(S)}}),_.addEventListener("success",(0,c.Z)(function*(){const b=_.result;b.objectStoreNames.contains(Ia)?f(b):(b.close(),yield function Sa(){const _=indexedDB.deleteDatabase(vl);return new jn(_).toPromise()}(),f(yield Ar()))}))})}function vu(_,f,g){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,c.Z)(function*(_,f,g){const b=Ws(_,!0).put({[Sr]:f,value:g});return new jn(b).toPromise()})).apply(this,arguments)}function pi(){return(pi=(0,c.Z)(function*(_,f){const g=Ws(_,!1).get(f),b=yield new jn(g).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Na(_,f){const g=Ws(_,!0).delete(f);return new jn(g).toPromise()}const Si=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,c.Z)(function*(){return g.db||(g.db=yield Ar()),g.db})()}_withRetries(g){var b=this;return(0,c.Z)(function*(){let S=0;for(;;)try{const x=yield b._openDb();return yield g(x)}catch(x){if(S++>3)throw x;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,c.Z)(function*(){return Jt()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,c.Z)(function*(){g.receiver=_l._getInstance(function yl(){return Jt()?self:null}()),g.receiver._subscribe("keyChanged",function(){var b=(0,c.Z)(function*(S,x){return{keyProcessed:(yield g._poll()).includes(x.key)}});return function(S,x){return b.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var b=(0,c.Z)(function*(S,x){return["keyChanged"]});return function(S,x){return b.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,c.Z)(function*(){var b,S;if(g.activeServiceWorker=yield function Xe(){return _o.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Vc(g.activeServiceWorker);const x=yield g.sender._send("ping",{},800);!x||(null===(b=x[0])||void 0===b?void 0:b.fulfilled)&&(null===(S=x[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var b=this;return(0,c.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Bc(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:g},b.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Ar();return yield vu(g,Ta,"1"),yield Na(g,Ta),!0}catch(g){}return!1})()}_withPendingWrite(g){var b=this;return(0,c.Z)(function*(){b.pendingWrites++;try{yield g()}finally{b.pendingWrites--}})()}_set(g,b){var S=this;return(0,c.Z)(function*(){return S._withPendingWrite((0,c.Z)(function*(){return yield S._withRetries(x=>vu(x,g,b)),S.localCache[g]=b,S.notifyServiceWorker(g)}))})()}_get(g){var b=this;return(0,c.Z)(function*(){const S=yield b._withRetries(x=>function zs(_,f){return pi.apply(this,arguments)}(x,g));return b.localCache[g]=S,S})()}_remove(g){var b=this;return(0,c.Z)(function*(){return b._withPendingWrite((0,c.Z)(function*(){return yield b._withRetries(S=>Na(S,g)),delete b.localCache[g],b.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,c.Z)(function*(){const b=yield g._withRetries(W=>{const ce=Ws(W,!1).getAll();return new jn(ce).toPromise()});if(!b)return[];if(0!==g.pendingWrites)return[];const S=[],x=new Set;for(const{fbase_key:W,value:ce}of b)x.add(W),JSON.stringify(g.localCache[W])!==JSON.stringify(ce)&&(g.notifyListeners(W,ce),S.push(W));for(const W of Object.keys(g.localCache))g.localCache[W]&&!x.has(W)&&(g.notifyListeners(W,null),S.push(W));return S})()}notifyListeners(g,b){this.localCache[g]=b;const S=this.listeners[g];if(S)for(const x of Array.from(S))x(b)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function jc(_,f){return Mt(_,"POST","/v2/accounts/mfaSignIn:start",Wt(_,f))}function ws(){return(ws=(0,c.Z)(function*(_){return(yield Mt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function xa(_){return new Promise((f,g)=>{const b=document.createElement("script");b.setAttribute("src",_),b.onload=f,b.onerror=S=>{const x=xe("internal-error");x.customData=S,g(x)},b.type="text/javascript",b.charset="UTF-8",function Oa(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(b)})}function yo(_){return`__${_}${Math.floor(1e6*Math.random())}`}const $i=1e12;class Ra{constructor(f){this.auth=f,this.counter=$i,this._widgets=new Map}render(f,g){const b=this.counter;return this._widgets.set(b,new wu(f,this.auth.name,g||{})),this.counter++,b}reset(f){var g;const b=f||$i;null===(g=this._widgets.get(b))||void 0===g||g.delete(),this._widgets.delete(b)}getResponse(f){var g;return(null===(g=this._widgets.get(f||$i))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,c.Z)(function*(){var b;return null===(b=g._widgets.get(f||$i))||void 0===b||b.execute(),""})()}}class wu{constructor(f,g,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof f?document.getElementById(f):f;se(S,"argument-error",{appName:g}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function bo(_){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<_;b++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Hc=yo("rcb"),bl=new kn(3e4,6e4);class Gc{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!kt().grecaptcha}load(f,g=""){return se(function fg(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(g),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(kt().grecaptcha):new Promise((b,S)=>{const x=kt().setTimeout(()=>{S(xe(f,"network-request-failed"))},bl.get());kt()[Hc]=()=>{kt().clearTimeout(x),delete kt()[Hc];const ce=kt().grecaptcha;if(!ce)return void S(xe(f,"internal-error"));const Be=ce.render;ce.render=(Je,gt)=>{const it=Be(Je,gt);return this.counter++,it},this.hostLanguage=g,b(ce)},xa(`https://www.google.com/recaptcha/api.js??${(0,k.xO)({onload:Hc,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(x),S(xe(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!kt().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Vh{load(f){return(0,c.Z)(function*(){return new Ra(f)})()}clearedOneInstance(){}}const $c="recaptcha",Wc={theme:"light",type:"image"};class zc{constructor(f,g=Object.assign({},Wc),b){this.parameters=g,this.type=$c,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ke(b),this.isInvisible="invisible"===this.parameters.size,se("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof f?document.getElementById(f):f;se(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Vh:new Gc,this.validateStartingState()}verify(){var f=this;return(0,c.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),b=f.getAssertedRecaptcha();return b.getResponse(g)||new Promise(x=>{const W=ce=>{!ce||(f.tokenChangeListeners.delete(W),x(ce))};f.tokenChangeListeners.add(W),f.isInvisible&&b.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){se(!this.parameters.sitekey,this.auth,"argument-error"),se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),se("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(b=>b(g)),"function"==typeof f)f(g);else if("string"==typeof f){const b=kt()[f];"function"==typeof b&&b(g)}}}assertNotDestroyed(){se(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,c.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const b=document.createElement("div");g.appendChild(b),g=b}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,c.Z)(function*(){se(Ut()&&!Jt(),f.auth,"internal-error"),yield function qc(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function Ma(_){return ws.apply(this,arguments)}(f.auth);se(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Wi{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=Bo._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function pn(){return(pn=(0,c.Z)(function*(_,f,g){const b=ke(_),S=yield Mr(b,f,(0,k.m9)(g));return new Wi(S,x=>fl(b,x))})).apply(this,arguments)}function Nr(){return(Nr=(0,c.Z)(function*(_,f,g){const b=(0,k.m9)(_);yield Us(!1,b,"phone");const S=yield Mr(b.auth,f,(0,k.m9)(g));return new Wi(S,x=>gs(b,x))})).apply(this,arguments)}function Dl(){return(Dl=(0,c.Z)(function*(_,f,g){const b=(0,k.m9)(_),S=yield Mr(b.auth,f,(0,k.m9)(g));return new Wi(S,x=>Ho(b,x))})).apply(this,arguments)}function Mr(_,f,g){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,c.Z)(function*(_,f,g){var b;const S=yield g.verify();try{let x;if(se("string"==typeof S,_,"argument-error"),se(g.type===$c,_,"argument-error"),x="string"==typeof f?{phoneNumber:f}:f,"session"in x){const W=x.session;if("phoneNumber"in x)return se("enroll"===W.type,_,"internal-error"),(yield gl(_,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:x.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{se("signin"===W.type,_,"internal-error");const ce=(null===(b=x.multiFactorHint)||void 0===b?void 0:b.uid)||x.multiFactorUid;return se(ce,_,"missing-multi-factor-info"),(yield jc(_,{mfaPendingCredential:W.credential,mfaEnrollmentId:ce,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield ig(_,{phoneNumber:x.phoneNumber,recaptchaToken:S});return W}}finally{g._reset()}})).apply(this,arguments)}function wo(){return(wo=(0,c.Z)(function*(_,f){yield Yt((0,k.m9)(_),f)})).apply(this,arguments)}let qr=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=ke(g)}verifyPhoneNumber(g,b){return Mr(this.auth,g,(0,k.m9)(b))}static credential(g,b){return Bo._fromVerification(g,b)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:b,temporaryProof:S}=g;return b&&S?Bo._fromTokenResponse(b,S):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Zr(_,f){return f?oe(f):(se(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class ka extends jt{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return On(f,this._buildIdpRequest())}_linkToIdToken(f,g){return On(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return On(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function Pa(_){return fo(_.auth,new ka(_),_.bypassAuthState)}function Zc(_){const{auth:f,user:g}=_;return se(g,f,"internal-error"),hl(g,new ka(_),_.bypassAuthState)}function Uh(_){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,c.Z)(function*(_){const{auth:f,user:g}=_;return se(g,f,"internal-error"),Yt(g,new ka(_),_.bypassAuthState)})).apply(this,arguments)}class mi{constructor(f,g,b,S,x=!1){this.auth=f,this.resolver=b,this.user=S,this.bypassAuthState=x,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,c.Z)(function*(b,S){f.pendingPromise={resolve:b,reject:S};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(x){f.reject(x)}});return function(b,S){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,c.Z)(function*(){const{urlResponse:b,sessionId:S,postBody:x,tenantId:W,error:ce,type:Be}=f;if(ce)return void g.reject(ce);const Je={auth:g.auth,requestUri:b,sessionId:S,tenantId:W||void 0,postBody:x||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Be)(Je))}catch(gt){g.reject(gt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Pa;case"linkViaPopup":case"linkViaRedirect":return Uh;case"reauthViaPopup":case"reauthViaRedirect":return Zc;default:de(this.auth,"internal-error")}}resolve(f){ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const jh=new kn(2e3,1e4);function Hh(){return(Hh=(0,c.Z)(function*(_,f,g){const b=ke(_);qe(_,f,Bs);const S=Zr(b,g);return new Tu(b,"signInViaPopup",f,S).executeNotNull()})).apply(this,arguments)}function Ds(){return(Ds=(0,c.Z)(function*(_,f,g){const b=(0,k.m9)(_);qe(b.auth,f,Bs);const S=Zr(b.auth,g);return new Tu(b.auth,"reauthViaPopup",f,S,b).executeNotNull()})).apply(this,arguments)}function Eu(){return(Eu=(0,c.Z)(function*(_,f,g){const b=(0,k.m9)(_);qe(b.auth,f,Bs);const S=Zr(b.auth,g);return new Tu(b.auth,"linkViaPopup",f,S,b).executeNotNull()})).apply(this,arguments)}let Tu=(()=>{class _ extends mi{constructor(g,b,S,x,W){super(g,b,x,W),this.provider=S,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,c.Z)(function*(){const b=yield g.execute();return se(b,g.auth,"internal-error"),b})()}onExecution(){var g=this;return(0,c.Z)(function*(){ie(1===g.filter.length,"Popup operations only handle one event");const b=$s();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],b),g.authWindow.associatedEvent=b,g.resolver._originValidation(g.auth).catch(S=>{g.reject(S)}),g.resolver._isIframeWebStorageSupported(g.auth,S=>{S||g.reject(xe(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(xe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var b,S;this.pollId=(null===(S=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===S?void 0:S.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(xe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,jh.get())};g()}}return _.currentPopupAction=null,_})();const Es=new Map;class _i extends mi{constructor(f,g,b=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,b),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,c.Z)(function*(){let b=Es.get(g.auth._key());if(!b){try{const x=(yield function zo(_,f){return Gh.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;b=()=>Promise.resolve(x)}catch(S){b=()=>Promise.reject(S)}Es.set(g.auth._key(),b)}return g.bypassAuthState||Es.set(g.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,b=this;return(0,c.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(b,f);if("unknown"!==f.type){if(f.eventId){const S=yield b.auth._redirectUserForId(f.eventId);if(S)return b.user=S,g().call(b,f);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Gh(){return(Gh=(0,c.Z)(function*(_,f){const g=E(f),b=$h(_);if(!(yield b._isAvailable()))return!1;const S="true"===(yield b._get(g));return yield b._remove(g),S})).apply(this,arguments)}function qi(_,f){return qs.apply(this,arguments)}function qs(){return(qs=(0,c.Z)(function*(_,f){return $h(_)._set(E(f),"true")})).apply(this,arguments)}function $h(_){return oe(_._redirectPersistence)}function E(_){return Fn("pendingRedirect",_.config.apiKey,_.name)}function F(){return(F=(0,c.Z)(function*(_,f,g){const b=ke(_);qe(_,f,Bs);const S=Zr(b,g);return yield qi(S,b),S._openRedirect(b,f,"signInViaRedirect")})).apply(this,arguments)}function Ae(){return(Ae=(0,c.Z)(function*(_,f,g){const b=(0,k.m9)(_);qe(b.auth,f,Bs);const S=Zr(b.auth,g);yield qi(S,b.auth);const x=yield Zs(b);return S._openRedirect(b.auth,f,"reauthViaRedirect",x)})).apply(this,arguments)}function Ot(){return(Ot=(0,c.Z)(function*(_,f,g){const b=(0,k.m9)(_);qe(b.auth,f,Bs);const S=Zr(b.auth,g);yield Us(!1,b,f.providerId),yield qi(S,b.auth);const x=yield Zs(b);return S._openRedirect(b.auth,f,"linkViaRedirect",x)})).apply(this,arguments)}function Hn(){return(Hn=(0,c.Z)(function*(_,f){return yield ke(_)._initializationPromise,Qn(_,f,!1)})).apply(this,arguments)}function Qn(_,f){return cn.apply(this,arguments)}function cn(){return(cn=(0,c.Z)(function*(_,f,g=!1){const b=ke(_),S=Zr(b,f),W=yield new _i(b,S,g).execute();return W&&!g&&(delete W.user._redirectEventId,yield b._persistUserIfCurrent(W.user),yield b._setRedirectUser(null,f)),W})).apply(this,arguments)}function Zs(_){return Or.apply(this,arguments)}function Or(){return(Or=(0,c.Z)(function*(_){const f=$s(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class Ts{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(f,b)&&(g=!0,this.sendToConsumer(f,b),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Jc(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cl(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var b;if(f.error&&!Cl(f)){const S=(null===(b=f.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";g.onError(xe(this.auth,S))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const b=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&b}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(xr(f))}saveEventToCache(f){this.cachedEventUids.add(xr(f)),this.lastProcessedEventTime=Date.now()}}function xr(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function Cl({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===(null==f?void 0:f.code)}function Cu(_){return Do.apply(this,arguments)}function Do(){return(Do=(0,c.Z)(function*(_,f={}){return Mt(_,"GET","/v1/projects",f)})).apply(this,arguments)}const Wh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zh=/^https?/;function Eo(){return(Eo=(0,c.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield Cu(_);for(const g of f)try{if(Il(g))return}catch(b){}de(_,"unauthorized-domain")})).apply(this,arguments)}function Il(_){const f=mt(),{protocol:g,hostname:b}=new URL(f);if(_.startsWith("chrome-extension://")){const W=new URL(_);return""===W.hostname&&""===b?"chrome-extension:"===g&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&W.hostname===b}if(!zh.test(g))return!1;if(Wh.test(_))return b===_;const S=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(b)}const pg=new kn(3e4,6e4);function qh(){const _=kt().___jsl;if(null==_?void 0:_.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let La=null;function Y0(_){return La=La||function Iu(_){return new Promise((f,g)=>{var b,S,x;function W(){qh(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{qh(),g(xe(_,"network-request-failed"))},timeout:pg.get()})}if(null===(S=null===(b=kt().gapi)||void 0===b?void 0:b.iframes)||void 0===S?void 0:S.Iframe)f(gapi.iframes.getContext());else{if(!(null===(x=kt().gapi)||void 0===x?void 0:x.load)){const ce=yo("iframefcb");return kt()[ce]=()=>{gapi.load?W():g(xe(_,"network-request-failed"))},xa(`https://apis.google.com/js/api.js?onload=${ce}`).catch(Be=>g(Be))}W()}}).catch(f=>{throw La=null,f})}(_),La}const x_=new kn(5e3,15e3),Au={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Nu(_){const f=_.config;se(f.authDomain,_,"auth-domain-config-required");const g=f.emulator?Zt(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,b={apiKey:f.apiKey,appName:_.name,v:le.SDK_VERSION},S=gg.get(_.config.apiHost);S&&(b.eid=S);const x=_._getFrameworks();return x.length&&(b.fw=x.join(",")),`${g}?${(0,k.xO)(b).slice(1)}`}function mg(){return mg=(0,c.Z)(function*(_){const f=yield Y0(_),g=kt().gapi;return se(g,_,"internal-error"),f.open({where:document.body,url:Nu(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Au,dontclear:!0},b=>new Promise(function(){var S=(0,c.Z)(function*(x,W){yield b.restyle({setHideOnLeave:!1});const ce=xe(_,"network-request-failed"),Be=kt().setTimeout(()=>{W(ce)},x_.get());function Je(){kt().clearTimeout(Be),x(b)}b.ping(Je).then(Je,()=>{W(ce)})});return function(x,W){return S.apply(this,arguments)}}()))}),mg.apply(this,arguments)}const Q0={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Qc{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function Xc(_,f,g,b,S,x){se(_.config.authDomain,_,"auth-domain-config-required"),se(_.config.apiKey,_,"invalid-api-key");const W={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:b,v:le.SDK_VERSION,eventId:S};if(f instanceof Bs){f.setDefaultLanguage(_.languageCode),W.providerId=f.providerId||"",(0,k.xb)(f.getCustomParameters())||(W.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Be,Je]of Object.entries(x||{}))W[Be]=Je}if(f instanceof hi){const Be=f.getScopes().filter(Je=>""!==Je);Be.length>0&&(W.scopes=Be.join(","))}_.tenantId&&(W.tid=_.tenantId);const ce=W;for(const Be of Object.keys(ce))void 0===ce[Be]&&delete ce[Be];return`${function k_({config:_}){return _.emulator?Zt(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,k.xO)(ce).slice(1)}`}const Cs="webStorageSupport";class bg extends class vg{constructor(f){this.factorId=f}_process(f,g,b){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,b);case"signin":return this._finalizeSignIn(f,g.credential);default:return Z("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new bg(f)}_finalizeEnroll(f,g,b){return function Jn(_,f){return Mt(_,"POST","/v2/accounts/mfaEnrollment:finalize",Wt(_,f))}(f,{idToken:g,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function bu(_,f){return Mt(_,"POST","/v2/accounts/mfaSignIn:finalize",Wt(_,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let P_=(()=>{class _{constructor(){}static assertion(g){return bg._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var F_="@firebase/auth";class wg{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,c.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(b=>{var S;f((null===(S=b)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);!g||(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function qo(){return window}function Sl(){return(Sl=(0,c.Z)(function*(_,f,g){var b;const{BuildInfo:S}=qo();ie(f.sessionId,"AuthEvent did not contain a session ID");const x=yield tb(f.sessionId),W={};return Gr()?W.ibi=S.packageName:Tr()?W.apn=S.packageName:de(_,"operation-not-supported-in-this-environment"),S.displayName&&(W.appDisplayName=S.displayName),W.sessionId=x,Xc(_,g,f.type,void 0,null!==(b=f.eventId)&&void 0!==b?b:void 0,W)})).apply(this,arguments)}function Zi(){return(Zi=(0,c.Z)(function*(_){const{BuildInfo:f}=qo(),g={};Gr()?g.iosBundleId=f.packageName:Tr()?g.androidPackageName=f.packageName:de(_,"operation-not-supported-in-this-environment"),yield Cu(_,g)})).apply(this,arguments)}function td(){return(td=(0,c.Z)(function*(_,f,g){const{cordova:b}=qo();let S=()=>{};try{yield new Promise((x,W)=>{let ce=null;function Be(){var it;x();const wn=null===(it=b.plugins.browsertab)||void 0===it?void 0:it.close;"function"==typeof wn&&wn(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function Je(){ce||(ce=window.setTimeout(()=>{W(xe(_,"redirect-cancelled-by-user"))},2e3))}function gt(){"visible"===(null==document?void 0:document.visibilityState)&&Je()}f.addPassiveListener(Be),document.addEventListener("resume",Je,!1),Tr()&&document.addEventListener("visibilitychange",gt,!1),S=()=>{f.removePassiveListener(Be),document.removeEventListener("resume",Je,!1),document.removeEventListener("visibilitychange",gt,!1),ce&&window.clearTimeout(ce)}})}finally{S()}})).apply(this,arguments)}function tb(_){return V_.apply(this,arguments)}function V_(){return(V_=(0,c.Z)(function*(_){const f=Tg(_),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Tg(_){if(ie(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),g=new Uint8Array(f);for(let b=0;b<_.length;b++)g[b]=_.charCodeAt(b);return g}!function L_(_){(0,le._registerComponent)(new re.wA("auth",(f,{options:g})=>{const b=f.getProvider("app").getImmediate(),{apiKey:S,authDomain:x}=b.options;return(W=>{se(S&&!S.includes(":"),"invalid-api-key",{appName:W.name}),se(!(null==x?void 0:x.includes(":")),"argument-error",{appName:W.name});const ce={apiKey:S,authDomain:x,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ro(_)},Be=new $r(W,ce);return function he(_,f){const g=(null==f?void 0:f.persistence)||[],b=(Array.isArray(g)?g:[g]).map(oe);(null==f?void 0:f.errorMap)&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(b,null==f?void 0:f.popupRedirectResolver)}(Be,g),Be})(b)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,b)=>{f.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new re.wA("auth-internal",f=>{const g=ke(f.getProvider("auth").getImmediate());return new wg(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)(F_,"0.19.8",function Xh(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,le.registerVersion)(F_,"0.19.8","esm2017")}("Browser");class nd extends Ts{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,c.Z)(function*(){yield f.initPromise})()}}function Al(_){return rd.apply(this,arguments)}function rd(){return(rd=(0,c.Z)(function*(_){const f=yield id()._get(af(_));return f&&(yield id()._remove(af(_))),f})).apply(this,arguments)}function U_(){const _=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const b=Math.floor(Math.random()*f.length);_.push(f.charAt(b))}return _.join("")}function id(){return oe(vn)}function af(_){return Fn("authEvent",_.config.apiKey,_.name)}function xu(_){if(!(null==_?void 0:_.includes("?")))return{};const[f,...g]=_.split("?");return(0,k.zd)(g.join("?"))}function uf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:xe("no-auth-event")}}function cf(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function H_(_=(0,k.z$)()){return!("file:"!==cf()&&"ionic:"!==cf()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function Kr(){try{const _=self.localStorage,f=$s();if(_)return _.setItem(f,"1"),_.removeItem(f),!function od(_=(0,k.z$)()){return function G_(){return(0,k.w1)()&&11===(null==document?void 0:document.documentMode)}()||function rb(_=(0,k.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,k.hl)()}catch(_){return ad()&&(0,k.hl)()}return!1}function ad(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function ut(){return(function nb(){return"http:"===cf()||"https:"===cf()}()||(0,k.ru)()||H_())&&!function Mg(){return(0,k.b$)()||(0,k.UG)()}()&&Kr()&&!ad()}function bn(){return H_()&&"undefined"!=typeof document}function Ki(){return(Ki=(0,c.Z)(function*(){return!!bn()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const Yr={LOCAL:"local",NONE:"none",SESSION:"session"},Ru=se,ld="persistence";function Ua(_){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,c.Z)(function*(_){yield _._initializationPromise;const f=Ml(),g=Fn(ld,_.config.apiKey,_.name);f&&f.setItem(g,_._getPersistence())})).apply(this,arguments)}function Ml(){var _;try{return(null===(_=function df(){return"undefined"!=typeof window?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch(f){return null}}const xg=se;class mr{constructor(){this.browserResolver=oe(class Ou{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bs,this._completeRedirectFn=Qn}_openPopup(f,g,b,S){var x=this;return(0,c.Z)(function*(){var W;ie(null===(W=x.eventManagers[f._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const ce=Xc(f,g,b,mt(),S);return function _g(_,f,g,b=500,S=600){const x=Math.max((window.screen.availHeight-S)/2,0).toString(),W=Math.max((window.screen.availWidth-b)/2,0).toString();let ce="";const Be=Object.assign(Object.assign({},Q0),{width:b.toString(),height:S.toString(),top:x,left:W}),Je=(0,k.z$)().toLowerCase();g&&(ce=aa(Je)?"_blank":g),oa(Je)&&(f=f||"http://localhost",Be.scrollbars="yes");const gt=Object.entries(Be).reduce((wn,[Ni,xl])=>`${wn}${Ni}=${xl},`,"");if(function oo(_=(0,k.z$)()){var f;return Gr(_)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(Je)&&"_self"!==ce)return function yg(_,f){const g=document.createElement("a");g.href=_,g.target=f;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(b)}(f||"",ce),new Qc(null);const it=window.open(f||"",ce,gt);se(it,_,"popup-blocked");try{it.focus()}catch(wn){}return new Qc(it)}(f,ce,$s())})()}_openRedirect(f,g,b,S){var x=this;return(0,c.Z)(function*(){return yield x._originValidation(f),function Hi(_){kt().location.href=_}(Xc(f,g,b,mt(),S)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:S,promise:x}=this.eventManagers[g];return S?Promise.resolve(S):(ie(x,"If manager is not set, promise should be"),x)}const b=this.initAndGetManager(f);return this.eventManagers[g]={promise:b},b.catch(()=>{delete this.eventManagers[g]}),b}initAndGetManager(f){var g=this;return(0,c.Z)(function*(){const b=yield function J0(_){return mg.apply(this,arguments)}(f),S=new Ts(f);return b.register("authEvent",x=>(se(null==x?void 0:x.authEvent,f,"invalid-auth-event"),{status:S.onEvent(x.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:S},g.iframes[f._key()]=b,S})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(Cs,{type:Cs},S=>{var x;const W=null===(x=null==S?void 0:S[0])||void 0===x?void 0:x[Cs];void 0!==W&&g(!!W),de(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function O_(_){return Eo.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return Fs()||ol()||Gr()}}),this.cordovaResolver=oe(class Sg{constructor(){this._redirectPersistence=bs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Qn}_initialize(f){var g=this;return(0,c.Z)(function*(){const b=f._key();let S=g.eventManagers.get(b);return S||(S=new nd(f),g.eventManagers.set(b,S),g.attachCallbackListeners(f,S)),S})()}_openPopup(f){de(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,b,S){var x=this;return(0,c.Z)(function*(){!function nf(_){var f,g,b,S,x,W,ce,Be,Je,gt;const it=qo();se("function"==typeof(null===(f=null==it?void 0:it.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),se(void 0!==(null===(g=null==it?void 0:it.BuildInfo)||void 0===g?void 0:g.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),se("function"==typeof(null===(x=null===(S=null===(b=null==it?void 0:it.cordova)||void 0===b?void 0:b.plugins)||void 0===S?void 0:S.browsertab)||void 0===x?void 0:x.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),se("function"==typeof(null===(Be=null===(ce=null===(W=null==it?void 0:it.cordova)||void 0===W?void 0:W.plugins)||void 0===ce?void 0:ce.browsertab)||void 0===Be?void 0:Be.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),se("function"==typeof(null===(gt=null===(Je=null==it?void 0:it.cordova)||void 0===Je?void 0:Je.InAppBrowser)||void 0===gt?void 0:gt.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const W=yield x._initialize(f);yield W.initialized(),W.resetRedirect(),function Tl(){Es.clear()}(),yield x._originValidation(f);const ce=function sf(_,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:U_(),postBody:null,tenantId:_.tenantId,error:xe(_,"no-auth-event")}}(f,b,S);yield function B_(_,f){return id()._set(af(_),f)}(f,ce);const Be=yield function ef(_,f,g){return Sl.apply(this,arguments)}(f,ce,g),Je=yield function Va(_){const{cordova:f}=qo();return new Promise(g=>{f.plugins.browsertab.isAvailable(b=>{let S=null;b?f.plugins.browsertab.openUrl(_):S=f.InAppBrowser.open(_,function vc(_=(0,k.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),g(S)})})}(Be);return function Eg(_,f,g){return td.apply(this,arguments)}(f,W,Je)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function tf(_){return Zi.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:b,handleOpenURL:S,BuildInfo:x}=qo(),W=setTimeout((0,c.Z)(function*(){yield Al(f),g.onEvent(uf())}),500),ce=function(){var gt=(0,c.Z)(function*(it){clearTimeout(W);const wn=yield Al(f);let Ni=null;wn&&(null==it?void 0:it.url)&&(Ni=function Cg(_,f){var g,b;const S=function Ba(_){const f=xu(_),g=f.link?decodeURIComponent(f.link):void 0,b=xu(g).link,S=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return xu(S).link||S||b||g||_}(f);if(S.includes("/__/auth/callback")){const x=xu(S),W=x.firebaseError?function Ig(_){try{return JSON.parse(_)}catch(f){return null}}(decodeURIComponent(x.firebaseError)):null,ce=null===(b=null===(g=null==W?void 0:W.code)||void 0===g?void 0:g.split("auth/"))||void 0===b?void 0:b[1],Be=ce?xe(ce):null;return Be?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Be,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:S,postBody:null}}return null}(wn,it.url)),g.onEvent(Ni||uf())});return function(wn){return gt.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,ce);const Be=S,Je=`${x.packageName.toLowerCase()}://`;qo().handleOpenURL=function(){var gt=(0,c.Z)(function*(it){if(it.toLowerCase().startsWith(Je)&&ce({url:it}),"function"==typeof Be)try{Be(it)}catch(wn){console.error(wn)}});return function(it){return gt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=bs,this._completeRedirectFn=Qn}_initialize(f){var g=this;return(0,c.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,b,S){var x=this;return(0,c.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._openPopup(f,g,b,S)})()}_openRedirect(f,g,b,S){var x=this;return(0,c.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._openRedirect(f,g,b,S)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return bn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return xg(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,c.Z)(function*(){if(f.underlyingResolver)return;const g=yield function Bt(){return Ki.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function hf(_){return _.unwrap()}function ud(_){return ar(_)}function ar(_){const{_tokenResponse:f}=_ instanceof k.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof k.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return qr.credentialFromResult(_);const g=f.providerId;if(!g||"password"===g)return null;let b;switch(g){case"google.com":b=jo;break;case"facebook.com":b=Uo;break;case"github.com":b=Ic;break;case"twitter.com":b=fi;break;default:const{oauthIdToken:S,oauthAccessToken:x,oauthTokenSecret:W,pendingToken:ce,nonce:Be}=f;return x||W||S||ce?ce?g.startsWith("saml.")?In._create(g,ce):ds._fromParams({providerId:g,signInMethod:g,pendingToken:ce,idToken:S,accessToken:x}):new ho(g).credential({idToken:S,accessToken:x,rawNonce:Be}):null}return _ instanceof k.ZR?b.credentialFromError(_):b.credentialFromResult(_)}function Ht(_,f){return f.catch(g=>{throw g instanceof k.ZR&&function W_(_,f){var g;const b=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new ku(_,function _u(_,f){var g;const b=(0,k.m9)(_),S=f;return se(f.customData.operationType,b,"argument-error"),se(null===(g=S.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,b,"argument-error"),Ea._fromError(b,S)}(_,f));else if(b){const S=ar(f),x=f;S&&(x.credential=S,x.tenantId=b.tenantId||void 0,x.email=b.email||void 0,x.phoneNumber=b.phoneNumber||void 0)}}(_,g),g}).then(g=>{const S=g.user;return{operationType:g.operationType,credential:ud(g),additionalUserInfo:Yn(g),user:dn.getOrCreate(S)}})}function To(_,f){return ff.apply(this,arguments)}function ff(){return(ff=(0,c.Z)(function*(_,f){const g=yield f;return{verificationId:g.verificationId,confirm:b=>Ht(_,g.confirm(b))}})).apply(this,arguments)}class ku{constructor(f,g){this.resolver=g,this.auth=function Rr(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Ht(hf(this.auth),this.resolver.resolveSignIn(f))}}class dn{constructor(f){this._delegate=f,this.multiFactor=function dg(_){const f=(0,k.m9)(_);return Wo.has(f)||Wo.set(f,vs._fromUser(f)),Wo.get(f)}(f)}static getOrCreate(f){return dn.USER_MAP.has(f)||dn.USER_MAP.set(f,new dn(f)),dn.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,c.Z)(function*(){return Ht(g.auth,gs(g._delegate,f))})()}linkWithPhoneNumber(f,g){var b=this;return(0,c.Z)(function*(){return To(b.auth,function wl(_,f,g){return Nr.apply(this,arguments)}(b._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,c.Z)(function*(){return Ht(g.auth,function Yc(_,f,g){return Eu.apply(this,arguments)}(g._delegate,f,mr))})()}linkWithRedirect(f){var g=this;return(0,c.Z)(function*(){return yield Ua(ke(g.auth)),function Fe(_,f,g){return function We(_,f,g){return Ot.apply(this,arguments)}(_,f,g)}(g._delegate,f,mr)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,c.Z)(function*(){return Ht(g.auth,Ho(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return To(this.auth,function zr(_,f,g){return Dl.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return Ht(this.auth,function Kc(_,f,g){return Ds.apply(this,arguments)}(this._delegate,f,mr))}reauthenticateWithRedirect(f){var g=this;return(0,c.Z)(function*(){return yield Ua(ke(g.auth)),function q(_,f,g){return function ne(_,f,g){return Ae.apply(this,arguments)}(_,f,g)}(g._delegate,f,mr)})()}sendEmailVerification(f){return function ms(_,f){return ba.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,c.Z)(function*(){return yield function ps(_,f){return au.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function pu(_,f){return pl((0,k.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function cg(_,f){return pl((0,k.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function Du(_,f){return wo.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function fu(_,f){return Da.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function kc(_,f,g){return wa.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}dn.USER_MAP=new WeakMap;const Yi=se;let $n=(()=>{class _{constructor(g,b){if(this.app=g,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=g.options;Yi(S,"invalid-api-key",{appName:g.name}),Yi(S,"invalid-api-key",{appName:g.name});const x="undefined"!=typeof window?mr:void 0;this._delegate=b.initialize({options:{persistence:Ol(S,g.name),popupRedirectResolver:x}}),this._delegate._updateErrorMap(Me),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?dn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,b){!function en(_,f,g){const b=ke(_);se(b._canInitEmulator,b,"emulator-config-failed"),se(/^https?:\/\//.test(f),b,"invalid-emulator-scheme");const S=!!(null==g?void 0:g.disableWarnings),x=Cr(f),{host:W,port:ce}=function us(_){const f=Cr(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!g)return{host:"",port:null};const b=g[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(b);if(S){const x=S[1];return{host:x,port:Cn(b.substr(x.length+1))}}{const[x,W]=b.split(":");return{host:x,port:Cn(W)}}}(f);b.config.emulator={url:`${x}//${W}${null===ce?"":`:${ce}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:W,port:ce,protocol:x.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function cs(){function _(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,g,b)}applyActionCode(g){return function Oh(_,f){return Ee.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Nt(this._delegate,g)}confirmPasswordReset(g,b){return function uu(_,f,g){return ma.apply(this,arguments)}(this._delegate,g,b)}createUserWithEmailAndPassword(g,b){var S=this;return(0,c.Z)(function*(){return Ht(S._delegate,function ya(_,f,g){return Ir.apply(this,arguments)}(S._delegate,g,b))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function hu(_,f){return Ui.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Rc(_,f){const g=hs.parseLink(f);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,c.Z)(function*(){Yi(ut(),g._delegate,"operation-not-supported-in-this-environment");const b=yield function Vt(_,f){return Hn.apply(this,arguments)}(g._delegate,mr);return b?Ht(g._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function j_(_,f){ke(_)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,b,S){const{next:x,error:W,complete:ce}=Ks(g,b,S);return this._delegate.onAuthStateChanged(x,W,ce)}onIdTokenChanged(g,b,S){const{next:x,error:W,complete:ce}=Ks(g,b,S);return this._delegate.onIdTokenChanged(x,W,ce)}sendSignInLinkToEmail(g,b){return function du(_,f,g){return xc.apply(this,arguments)}(this._delegate,g,b)}sendPasswordResetEmail(g,b){return function Oc(_,f,g){return ga.apply(this,arguments)}(this._delegate,g,b||void 0)}setPersistence(g){var b=this;return(0,c.Z)(function*(){let S;switch(function $_(_,f){Ru(Object.values(Yr).includes(f),_,"invalid-persistence-type"),(0,k.b$)()?Ru(f!==Yr.SESSION,_,"unsupported-persistence-type"):(0,k.UG)()?Ru(f===Yr.NONE,_,"unsupported-persistence-type"):ad()?Ru(f===Yr.NONE||f===Yr.LOCAL&&(0,k.hl)(),_,"unsupported-persistence-type"):Ru(f===Yr.NONE||Kr(),_,"unsupported-persistence-type")}(b._delegate,g),g){case Yr.SESSION:S=bs;break;case Yr.LOCAL:S=(yield oe(Si)._isAvailable())?Si:vn;break;case Yr.NONE:S=Ct;break;default:return de("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Ht(this._delegate,function Mc(_){return ul.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Ht(this._delegate,fl(this._delegate,g))}signInWithCustomToken(g){return Ht(this._delegate,function js(_,f){return Hs.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,b){return Ht(this._delegate,function cu(_,f,g){return fl((0,k.m9)(_),ca.credential(f,g))}(this._delegate,g,b))}signInWithEmailLink(g,b){return Ht(this._delegate,function va(_,f,g){return Go.apply(this,arguments)}(this._delegate,g,b))}signInWithPhoneNumber(g,b){return To(this._delegate,function Bh(_,f,g){return pn.apply(this,arguments)}(this._delegate,g,b))}signInWithPopup(g){var b=this;return(0,c.Z)(function*(){return Yi(ut(),b._delegate,"operation-not-supported-in-this-environment"),Ht(b._delegate,function El(_,f,g){return Hh.apply(this,arguments)}(b._delegate,g,mr))})()}signInWithRedirect(g){var b=this;return(0,c.Z)(function*(){return Yi(ut(),b._delegate,"operation-not-supported-in-this-environment"),yield Ua(b._delegate),function C(_,f,g){return function M(_,f,g){return F.apply(this,arguments)}(_,f,g)}(b._delegate,g,mr)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function _n(_,f){return Gs.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=Yr,_})();function Ks(_,f,g){let b=_;"function"!=typeof _&&({next:b,error:f,complete:g}=_);const S=b;return{next:W=>S(W&&dn.getOrCreate(W)),error:f,complete:g}}function Ol(_,f){const g=function Og(_,f){const g=Ml();if(!g)return[];const b=Fn(ld,_,f);switch(g.getItem(b)){case Yr.NONE:return[Ct];case Yr.LOCAL:return[Si,bs];case Yr.SESSION:return[bs];default:return[]}}(_,f);if("undefined"!=typeof self&&!g.includes(Si)&&g.push(Si),"undefined"!=typeof window)for(const b of[vn,bs])g.includes(b)||g.push(b);return g.includes(Ct)||g.push(Ct),g}class Pu{constructor(){this.providerId="phone",this._delegate=new qr(hf(Y.Z.auth()))}static credential(f,g){return qr.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}Pu.PHONE_SIGN_IN_METHOD=qr.PHONE_SIGN_IN_METHOD,Pu.PROVIDER_ID=qr.PROVIDER_ID;const Rg=se;class kg{constructor(f,g,b=Y.Z.app()){var S;Rg(null===(S=b.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new zc(f,g,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function z_(_){_.INTERNAL.registerComponent(new re.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),b=f.getProvider("auth");return new $n(g,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ca,FacebookAuthProvider:Uo,GithubAuthProvider:Ic,GoogleAuthProvider:jo,OAuthProvider:ho,SAMLAuthProvider:fs,PhoneAuthProvider:Pu,PhoneMultiFactorGenerator:P_,RecaptchaVerifier:kg,TwitterAuthProvider:fi,Auth:$n,AuthCredential:jt,Error:k.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.8")}(Y.Z)},2940:function(et,De){!function(R){"use strict";function c(z){return Array.prototype.slice.call(z)}function Y(z){return new Promise(function(ee,me){z.onsuccess=function(){ee(z.result)},z.onerror=function(){me(z.error)}})}function k(z,ee,me){var Te,de=new Promise(function(xe,Ce){Y(Te=z[ee].apply(z,me)).then(xe,Ce)});return de.request=Te,de}function le(z,ee,me){var Te=k(z,ee,me);return Te.then(function(de){if(de)return new H(de,Te.request)})}function te(z,ee,me){me.forEach(function(Te){Object.defineProperty(z.prototype,Te,{get:function(){return this[ee][Te]},set:function(de){this[ee][Te]=de}})})}function pe(z,ee,me,Te){Te.forEach(function(de){de in me.prototype&&(z.prototype[de]=function(){return k(this[ee],de,arguments)})})}function re(z,ee,me,Te){Te.forEach(function(de){de in me.prototype&&(z.prototype[de]=function(){return this[ee][de].apply(this[ee],arguments)})})}function fe(z,ee,me,Te){Te.forEach(function(de){de in me.prototype&&(z.prototype[de]=function(){return le(this[ee],de,arguments)})})}function ae(z){this._index=z}function H(z,ee){this._cursor=z,this._request=ee}function U(z){this._store=z}function J(z){this._tx=z,this.complete=new Promise(function(ee,me){z.oncomplete=function(){ee()},z.onerror=function(){me(z.error)},z.onabort=function(){me(z.error)}})}function Ve(z,ee,me){this._db=z,this.oldVersion=ee,this.transaction=new J(me)}function Ie(z){this._db=z}te(ae,"_index",["name","keyPath","multiEntry","unique"]),pe(ae,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),fe(ae,"_index",IDBIndex,["openCursor","openKeyCursor"]),te(H,"_cursor",["direction","key","primaryKey","value"]),pe(H,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(z){z in IDBCursor.prototype&&(H.prototype[z]=function(){var ee=this,me=arguments;return Promise.resolve().then(function(){return ee._cursor[z].apply(ee._cursor,me),Y(ee._request).then(function(Te){if(Te)return new H(Te,ee._request)})})})}),U.prototype.createIndex=function(){return new ae(this._store.createIndex.apply(this._store,arguments))},U.prototype.index=function(){return new ae(this._store.index.apply(this._store,arguments))},te(U,"_store",["name","keyPath","indexNames","autoIncrement"]),pe(U,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),fe(U,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),re(U,"_store",IDBObjectStore,["deleteIndex"]),J.prototype.objectStore=function(){return new U(this._tx.objectStore.apply(this._tx,arguments))},te(J,"_tx",["objectStoreNames","mode"]),re(J,"_tx",IDBTransaction,["abort"]),Ve.prototype.createObjectStore=function(){return new U(this._db.createObjectStore.apply(this._db,arguments))},te(Ve,"_db",["name","version","objectStoreNames"]),re(Ve,"_db",IDBDatabase,["deleteObjectStore","close"]),Ie.prototype.transaction=function(){return new J(this._db.transaction.apply(this._db,arguments))},te(Ie,"_db",["name","version","objectStoreNames"]),re(Ie,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(z){[U,ae].forEach(function(ee){z in ee.prototype&&(ee.prototype[z.replace("open","iterate")]=function(){var me=c(arguments),Te=me[me.length-1],de=this._store||this._index,xe=de[z].apply(de,me.slice(0,-1));xe.onsuccess=function(){Te(xe.result)}})})}),[ae,U].forEach(function(z){z.prototype.getAll||(z.prototype.getAll=function(ee,me){var Te=this,de=[];return new Promise(function(xe){Te.iterateCursor(ee,function(Ce){Ce?(de.push(Ce.value),void 0===me||de.length!=me?Ce.continue():xe(de)):xe(de)})})})}),R.openDb=function Me(z,ee,me){var Te=k(indexedDB,"open",[z,ee]),de=Te.request;return de&&(de.onupgradeneeded=function(xe){me&&me(new Ve(de.result,xe.oldVersion,de.transaction))}),Te.then(function(xe){return new Ie(xe)})},R.deleteDb=function Le(z){return k(indexedDB,"deleteDatabase",[z])},Object.defineProperty(R,"__esModule",{value:!0})}(De)},8306:(et,De,R)=>{"use strict";R.d(De,{y:()=>H});var c=R(930),Y=R(727),k=R(8822),le=R(4671);var re=R(2416),fe=R(576),ae=R(2806);let H=(()=>{class Ie{constructor(Le){Le&&(this._subscribe=Le)}lift(Le){const z=new Ie;return z.source=this,z.operator=Le,z}subscribe(Le,z,ee){const me=function Ve(Ie){return Ie&&Ie instanceof c.Lv||function J(Ie){return Ie&&(0,fe.m)(Ie.next)&&(0,fe.m)(Ie.error)&&(0,fe.m)(Ie.complete)}(Ie)&&(0,Y.Nn)(Ie)}(Le)?Le:new c.Hp(Le,z,ee);return(0,ae.x)(()=>{const{operator:Te,source:de}=this;me.add(Te?Te.call(me,de):de?this._subscribe(me):this._trySubscribe(me))}),me}_trySubscribe(Le){try{return this._subscribe(Le)}catch(z){Le.error(z)}}forEach(Le,z){return new(z=U(z))((ee,me)=>{const Te=new c.Hp({next:de=>{try{Le(de)}catch(xe){me(xe),Te.unsubscribe()}},error:me,complete:ee});this.subscribe(Te)})}_subscribe(Le){var z;return null===(z=this.source)||void 0===z?void 0:z.subscribe(Le)}[k.L](){return this}pipe(...Le){return function pe(Ie){return 0===Ie.length?le.y:1===Ie.length?Ie[0]:function(Le){return Ie.reduce((z,ee)=>ee(z),Le)}}(Le)(this)}toPromise(Le){return new(Le=U(Le))((z,ee)=>{let me;this.subscribe(Te=>me=Te,Te=>ee(Te),()=>z(me))})}}return Ie.create=Me=>new Ie(Me),Ie})();function U(Ie){var Me;return null!==(Me=null!=Ie?Ie:re.v.Promise)&&void 0!==Me?Me:Promise}},7579:(et,De,R)=>{"use strict";R.d(De,{x:()=>re});var c=R(8306),Y=R(727);const le=(0,R(3888).d)(ae=>function(){ae(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var te=R(8737),pe=R(2806);let re=(()=>{class ae extends c.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(U){const J=new fe(this,this);return J.operator=U,J}_throwIfClosed(){if(this.closed)throw new le}next(U){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const J=this.observers.slice();for(const Ve of J)Ve.next(U)}})}error(U){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=U;const{observers:J}=this;for(;J.length;)J.shift().error(U)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:U}=this;for(;U.length;)U.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var U;return(null===(U=this.observers)||void 0===U?void 0:U.length)>0}_trySubscribe(U){return this._throwIfClosed(),super._trySubscribe(U)}_subscribe(U){return this._throwIfClosed(),this._checkFinalizedStatuses(U),this._innerSubscribe(U)}_innerSubscribe(U){const{hasError:J,isStopped:Ve,observers:Ie}=this;return J||Ve?Y.Lc:(Ie.push(U),new Y.w0(()=>(0,te.P)(Ie,U)))}_checkFinalizedStatuses(U){const{hasError:J,thrownError:Ve,isStopped:Ie}=this;J?U.error(Ve):Ie&&U.complete()}asObservable(){const U=new c.y;return U.source=this,U}}return ae.create=(H,U)=>new fe(H,U),ae})();class fe extends re{constructor(H,U){super(),this.destination=H,this.source=U}next(H){var U,J;null===(J=null===(U=this.destination)||void 0===U?void 0:U.next)||void 0===J||J.call(U,H)}error(H){var U,J;null===(J=null===(U=this.destination)||void 0===U?void 0:U.error)||void 0===J||J.call(U,H)}complete(){var H,U;null===(U=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===U||U.call(H)}_subscribe(H){var U,J;return null!==(J=null===(U=this.source)||void 0===U?void 0:U.subscribe(H))&&void 0!==J?J:Y.Lc}}},930:(et,De,R)=>{"use strict";R.d(De,{Hp:()=>Ve,Lv:()=>J});var c=R(576),Y=R(727),k=R(2416),le=R(7849),te=R(5032);const pe=ae("C",void 0,void 0);function ae(ee,me,Te){return{kind:ee,value:me,error:Te}}var H=R(3410),U=R(2806);class J extends Y.w0{constructor(me){super(),this.isStopped=!1,me?(this.destination=me,(0,Y.Nn)(me)&&me.add(this)):this.destination=z}static create(me,Te,de){return new Ve(me,Te,de)}next(me){this.isStopped?Le(function fe(ee){return ae("N",ee,void 0)}(me),this):this._next(me)}error(me){this.isStopped?Le(function re(ee){return ae("E",void 0,ee)}(me),this):(this.isStopped=!0,this._error(me))}complete(){this.isStopped?Le(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(me){this.destination.next(me)}_error(me){try{this.destination.error(me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Ve extends J{constructor(me,Te,de){let xe;if(super(),(0,c.m)(me))xe=me;else if(me){let Ce;({next:xe,error:Te,complete:de}=me),this&&k.v.useDeprecatedNextContext?(Ce=Object.create(me),Ce.unsubscribe=()=>this.unsubscribe()):Ce=me,xe=null==xe?void 0:xe.bind(Ce),Te=null==Te?void 0:Te.bind(Ce),de=null==de?void 0:de.bind(Ce)}this.destination={next:xe?Ie(xe):te.Z,error:Ie(null!=Te?Te:Me),complete:de?Ie(de):te.Z}}}function Ie(ee,me){return(...Te)=>{try{ee(...Te)}catch(de){k.v.useDeprecatedSynchronousErrorHandling?(0,U.O)(de):(0,le.h)(de)}}}function Me(ee){throw ee}function Le(ee,me){const{onStoppedNotification:Te}=k.v;Te&&H.z.setTimeout(()=>Te(ee,me))}const z={closed:!0,next:te.Z,error:Me,complete:te.Z}},727:(et,De,R)=>{"use strict";R.d(De,{Lc:()=>pe,w0:()=>te,Nn:()=>re});var c=R(576);const k=(0,R(3888).d)(ae=>function(U){ae(this),this.message=U?`${U.length} errors occurred during unsubscription:\n${U.map((J,Ve)=>`${Ve+1}) ${J.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=U});var le=R(8737);class te{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:U}=this;if(U)if(this._parentage=null,Array.isArray(U))for(const Ie of U)Ie.remove(this);else U.remove(this);const{initialTeardown:J}=this;if((0,c.m)(J))try{J()}catch(Ie){H=Ie instanceof k?Ie.errors:[Ie]}const{_teardowns:Ve}=this;if(Ve){this._teardowns=null;for(const Ie of Ve)try{fe(Ie)}catch(Me){H=null!=H?H:[],Me instanceof k?H=[...H,...Me.errors]:H.push(Me)}}if(H)throw new k(H)}}add(H){var U;if(H&&H!==this)if(this.closed)fe(H);else{if(H instanceof te){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._teardowns=null!==(U=this._teardowns)&&void 0!==U?U:[]).push(H)}}_hasParent(H){const{_parentage:U}=this;return U===H||Array.isArray(U)&&U.includes(H)}_addParent(H){const{_parentage:U}=this;this._parentage=Array.isArray(U)?(U.push(H),U):U?[U,H]:H}_removeParent(H){const{_parentage:U}=this;U===H?this._parentage=null:Array.isArray(U)&&(0,le.P)(U,H)}remove(H){const{_teardowns:U}=this;U&&(0,le.P)(U,H),H instanceof te&&H._removeParent(this)}}te.EMPTY=(()=>{const ae=new te;return ae.closed=!0,ae})();const pe=te.EMPTY;function re(ae){return ae instanceof te||ae&&"closed"in ae&&(0,c.m)(ae.remove)&&(0,c.m)(ae.add)&&(0,c.m)(ae.unsubscribe)}function fe(ae){(0,c.m)(ae)?ae():ae.unsubscribe()}},2416:(et,De,R)=>{"use strict";R.d(De,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(et,De,R)=>{"use strict";R.d(De,{E:()=>Y});const Y=new(R(8306).y)(te=>te.complete())},8996:(et,De,R)=>{"use strict";R.d(De,{D:()=>xe});var c=R(8421),Y=R(5363),k=R(9468),pe=R(8306),fe=R(2202),ae=R(576),H=R(9672);function J(Ce,qe){if(!Ce)throw new Error("Iterable cannot be null");return new pe.y(Ge=>{(0,H.f)(Ge,qe,()=>{const se=Ce[Symbol.asyncIterator]();(0,H.f)(Ge,qe,()=>{se.next().then(Z=>{Z.done?Ge.complete():Ge.next(Z.value)})},0,!0)})})}var Ve=R(3670),Ie=R(8239),Me=R(1144),Le=R(6495),z=R(2206),ee=R(4532),me=R(3260);function xe(Ce,qe){return qe?function de(Ce,qe){if(null!=Ce){if((0,Ve.c)(Ce))return function le(Ce,qe){return(0,c.Xf)(Ce).pipe((0,k.R)(qe),(0,Y.Q)(qe))}(Ce,qe);if((0,Me.z)(Ce))return function re(Ce,qe){return new pe.y(Ge=>{let se=0;return qe.schedule(function(){se===Ce.length?Ge.complete():(Ge.next(Ce[se++]),Ge.closed||this.schedule())})})}(Ce,qe);if((0,Ie.t)(Ce))return function te(Ce,qe){return(0,c.Xf)(Ce).pipe((0,k.R)(qe),(0,Y.Q)(qe))}(Ce,qe);if((0,z.D)(Ce))return J(Ce,qe);if((0,Le.T)(Ce))return function U(Ce,qe){return new pe.y(Ge=>{let se;return(0,H.f)(Ge,qe,()=>{se=Ce[fe.h](),(0,H.f)(Ge,qe,()=>{let Z,ie;try{({value:Z,done:ie}=se.next())}catch(_e){return void Ge.error(_e)}ie?Ge.complete():Ge.next(Z)},0,!0)}),()=>(0,ae.m)(null==se?void 0:se.return)&&se.return()})}(Ce,qe);if((0,me.L)(Ce))return function Te(Ce,qe){return J((0,me.Q)(Ce),qe)}(Ce,qe)}throw(0,ee.z)(Ce)}(Ce,qe):(0,c.Xf)(Ce)}},8421:(et,De,R)=>{"use strict";R.d(De,{Xf:()=>Ve});var c=R(655),Y=R(1144),k=R(8239),le=R(8306),te=R(3670),pe=R(2206),re=R(4532),fe=R(6495),ae=R(3260),H=R(576),U=R(7849),J=R(8822);function Ve(de){if(de instanceof le.y)return de;if(null!=de){if((0,te.c)(de))return function Ie(de){return new le.y(xe=>{const Ce=de[J.L]();if((0,H.m)(Ce.subscribe))return Ce.subscribe(xe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(de);if((0,Y.z)(de))return function Me(de){return new le.y(xe=>{for(let Ce=0;Ce<de.length&&!xe.closed;Ce++)xe.next(de[Ce]);xe.complete()})}(de);if((0,k.t)(de))return function Le(de){return new le.y(xe=>{de.then(Ce=>{xe.closed||(xe.next(Ce),xe.complete())},Ce=>xe.error(Ce)).then(null,U.h)})}(de);if((0,pe.D)(de))return ee(de);if((0,fe.T)(de))return function z(de){return new le.y(xe=>{for(const Ce of de)if(xe.next(Ce),xe.closed)return;xe.complete()})}(de);if((0,ae.L)(de))return function me(de){return ee((0,ae.Q)(de))}(de)}throw(0,re.z)(de)}function ee(de){return new le.y(xe=>{(function Te(de,xe){var Ce,qe,Ge,se;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Ce=(0,c.KL)(de);!(qe=yield Ce.next()).done;)if(xe.next(qe.value),xe.closed)return}catch(Z){Ge={error:Z}}finally{try{qe&&!qe.done&&(se=Ce.return)&&(yield se.call(Ce))}finally{if(Ge)throw Ge.error}}xe.complete()})})(de,xe).catch(Ce=>xe.error(Ce))})}},6451:(et,De,R)=>{"use strict";R.d(De,{T:()=>pe});var c=R(8189),Y=R(8421),k=R(515),le=R(3269),te=R(8996);function pe(...re){const fe=(0,le.yG)(re),ae=(0,le._6)(re,1/0),H=re;return H.length?1===H.length?(0,Y.Xf)(H[0]):(0,c.J)(ae)((0,te.D)(H,fe)):k.E}},5403:(et,De,R)=>{"use strict";R.d(De,{Q:()=>Y});var c=R(930);class Y extends c.Lv{constructor(le,te,pe,re,fe){super(le),this.onFinalize=fe,this._next=te?function(ae){try{te(ae)}catch(H){le.error(H)}}:super._next,this._error=re?function(ae){try{re(ae)}catch(H){le.error(H)}finally{this.unsubscribe()}}:super._error,this._complete=pe?function(){try{pe()}catch(ae){le.error(ae)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var le;const{closed:te}=this;super.unsubscribe(),!te&&(null===(le=this.onFinalize)||void 0===le||le.call(this))}}},4004:(et,De,R)=>{"use strict";R.d(De,{U:()=>k});var c=R(4482),Y=R(5403);function k(le,te){return(0,c.e)((pe,re)=>{let fe=0;pe.subscribe(new Y.Q(re,ae=>{re.next(le.call(te,ae,fe++))}))})}},8189:(et,De,R)=>{"use strict";R.d(De,{J:()=>k});var c=R(5577),Y=R(4671);function k(le=1/0){return(0,c.z)(Y.y,le)}},5577:(et,De,R)=>{"use strict";R.d(De,{z:()=>fe});var c=R(4004),Y=R(8421),k=R(4482),le=R(9672),te=R(5403),re=R(576);function fe(ae,H,U=1/0){return(0,re.m)(H)?fe((J,Ve)=>(0,c.U)((Ie,Me)=>H(J,Ie,Ve,Me))((0,Y.Xf)(ae(J,Ve))),U):("number"==typeof H&&(U=H),(0,k.e)((J,Ve)=>function pe(ae,H,U,J,Ve,Ie,Me,Le){const z=[];let ee=0,me=0,Te=!1;const de=()=>{Te&&!z.length&&!ee&&H.complete()},xe=qe=>ee<J?Ce(qe):z.push(qe),Ce=qe=>{Ie&&H.next(qe),ee++;let Ge=!1;(0,Y.Xf)(U(qe,me++)).subscribe(new te.Q(H,se=>{null==Ve||Ve(se),Ie?xe(se):H.next(se)},()=>{Ge=!0},void 0,()=>{if(Ge)try{for(ee--;z.length&&ee<J;){const se=z.shift();Me?(0,le.f)(H,Me,()=>Ce(se)):Ce(se)}de()}catch(se){H.error(se)}}))};return ae.subscribe(new te.Q(H,xe,()=>{Te=!0,de()})),()=>{null==Le||Le()}}(J,Ve,ae,U)))}},5363:(et,De,R)=>{"use strict";R.d(De,{Q:()=>le});var c=R(9672),Y=R(4482),k=R(5403);function le(te,pe=0){return(0,Y.e)((re,fe)=>{re.subscribe(new k.Q(fe,ae=>(0,c.f)(fe,te,()=>fe.next(ae),pe),()=>(0,c.f)(fe,te,()=>fe.complete(),pe),ae=>(0,c.f)(fe,te,()=>fe.error(ae),pe)))})}},3099:(et,De,R)=>{"use strict";R.d(De,{B:()=>pe});var c=R(8996),Y=R(5698),k=R(7579),le=R(930),te=R(4482);function pe(fe={}){const{connector:ae=(()=>new k.x),resetOnError:H=!0,resetOnComplete:U=!0,resetOnRefCountZero:J=!0}=fe;return Ve=>{let Ie=null,Me=null,Le=null,z=0,ee=!1,me=!1;const Te=()=>{null==Me||Me.unsubscribe(),Me=null},de=()=>{Te(),Ie=Le=null,ee=me=!1},xe=()=>{const Ce=Ie;de(),null==Ce||Ce.unsubscribe()};return(0,te.e)((Ce,qe)=>{z++,!me&&!ee&&Te();const Ge=Le=null!=Le?Le:ae();qe.add(()=>{z--,0===z&&!me&&!ee&&(Me=re(xe,J))}),Ge.subscribe(qe),Ie||(Ie=new le.Hp({next:se=>Ge.next(se),error:se=>{me=!0,Te(),Me=re(de,H,se),Ge.error(se)},complete:()=>{ee=!0,Te(),Me=re(de,U),Ge.complete()}}),(0,c.D)(Ce).subscribe(Ie))})(Ve)}}function re(fe,ae,...H){return!0===ae?(fe(),null):!1===ae?null:ae(...H).pipe((0,Y.q)(1)).subscribe(()=>fe())}},9468:(et,De,R)=>{"use strict";R.d(De,{R:()=>Y});var c=R(4482);function Y(k,le=0){return(0,c.e)((te,pe)=>{pe.add(k.schedule(()=>te.subscribe(pe),le))})}},5698:(et,De,R)=>{"use strict";R.d(De,{q:()=>le});var c=R(515),Y=R(4482),k=R(5403);function le(te){return te<=0?()=>c.E:(0,Y.e)((pe,re)=>{let fe=0;pe.subscribe(new k.Q(re,ae=>{++fe<=te&&(re.next(ae),te<=fe&&re.complete())}))})}},8505:(et,De,R)=>{"use strict";R.d(De,{b:()=>te});var c=R(576),Y=R(4482),k=R(5403),le=R(4671);function te(pe,re,fe){const ae=(0,c.m)(pe)||re||fe?{next:pe,error:re,complete:fe}:pe;return ae?(0,Y.e)((H,U)=>{var J;null===(J=ae.subscribe)||void 0===J||J.call(ae);let Ve=!0;H.subscribe(new k.Q(U,Ie=>{var Me;null===(Me=ae.next)||void 0===Me||Me.call(ae,Ie),U.next(Ie)},()=>{var Ie;Ve=!1,null===(Ie=ae.complete)||void 0===Ie||Ie.call(ae),U.complete()},Ie=>{var Me;Ve=!1,null===(Me=ae.error)||void 0===Me||Me.call(ae,Ie),U.error(Ie)},()=>{var Ie,Me;Ve&&(null===(Ie=ae.unsubscribe)||void 0===Ie||Ie.call(ae)),null===(Me=ae.finalize)||void 0===Me||Me.call(ae)}))}):le.y}},4408:(et,De,R)=>{"use strict";R.d(De,{o:()=>te});var c=R(727);class Y extends c.w0{constructor(re,fe){super()}schedule(re,fe=0){return this}}const k={setInterval(...pe){const{delegate:re}=k;return((null==re?void 0:re.setInterval)||setInterval)(...pe)},clearInterval(pe){const{delegate:re}=k;return((null==re?void 0:re.clearInterval)||clearInterval)(pe)},delegate:void 0};var le=R(8737);class te extends Y{constructor(re,fe){super(re,fe),this.scheduler=re,this.work=fe,this.pending=!1}schedule(re,fe=0){if(this.closed)return this;this.state=re;const ae=this.id,H=this.scheduler;return null!=ae&&(this.id=this.recycleAsyncId(H,ae,fe)),this.pending=!0,this.delay=fe,this.id=this.id||this.requestAsyncId(H,this.id,fe),this}requestAsyncId(re,fe,ae=0){return k.setInterval(re.flush.bind(re,this),ae)}recycleAsyncId(re,fe,ae=0){if(null!=ae&&this.delay===ae&&!1===this.pending)return fe;k.clearInterval(fe)}execute(re,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ae=this._execute(re,fe);if(ae)return ae;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(re,fe){let H,ae=!1;try{this.work(re)}catch(U){ae=!0,H=U||new Error("Scheduled action threw falsy error")}if(ae)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:re,scheduler:fe}=this,{actions:ae}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(ae,this),null!=re&&(this.id=this.recycleAsyncId(fe,re,null)),this.delay=null,super.unsubscribe()}}}},7565:(et,De,R)=>{"use strict";R.d(De,{v:()=>k});var c=R(6063);class Y{constructor(te,pe=Y.now){this.schedulerActionCtor=te,this.now=pe}schedule(te,pe=0,re){return new this.schedulerActionCtor(this,te).schedule(re,pe)}}Y.now=c.l.now;class k extends Y{constructor(te,pe=Y.now){super(te,pe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(te){const{actions:pe}=this;if(this._active)return void pe.push(te);let re;this._active=!0;do{if(re=te.execute(te.state,te.delay))break}while(te=pe.shift());if(this._active=!1,re){for(;te=pe.shift();)te.unsubscribe();throw re}}}},4986:(et,De,R)=>{"use strict";R.d(De,{z:()=>k,P:()=>le});var c=R(4408);const k=new(R(7565).v)(c.o),le=k},6063:(et,De,R)=>{"use strict";R.d(De,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(et,De,R)=>{"use strict";R.d(De,{z:()=>c});const c={setTimeout(...Y){const{delegate:k}=c;return((null==k?void 0:k.setTimeout)||setTimeout)(...Y)},clearTimeout(Y){const{delegate:k}=c;return((null==k?void 0:k.clearTimeout)||clearTimeout)(Y)},delegate:void 0}},2202:(et,De,R)=>{"use strict";R.d(De,{h:()=>Y});const Y=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(et,De,R)=>{"use strict";R.d(De,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(et,De,R)=>{"use strict";R.d(De,{jO:()=>le,yG:()=>te,_6:()=>pe});var c=R(576),Y=R(3532);function k(re){return re[re.length-1]}function le(re){return(0,c.m)(k(re))?re.pop():void 0}function te(re){return(0,Y.K)(k(re))?re.pop():void 0}function pe(re,fe){return"number"==typeof k(re)?re.pop():fe}},8737:(et,De,R)=>{"use strict";function c(Y,k){if(Y){const le=Y.indexOf(k);0<=le&&Y.splice(le,1)}}R.d(De,{P:()=>c})},3888:(et,De,R)=>{"use strict";function c(Y){const le=Y(te=>{Error.call(te),te.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}R.d(De,{d:()=>c})},2806:(et,De,R)=>{"use strict";R.d(De,{x:()=>k,O:()=>le});var c=R(2416);let Y=null;function k(te){if(c.v.useDeprecatedSynchronousErrorHandling){const pe=!Y;if(pe&&(Y={errorThrown:!1,error:null}),te(),pe){const{errorThrown:re,error:fe}=Y;if(Y=null,re)throw fe}}else te()}function le(te){c.v.useDeprecatedSynchronousErrorHandling&&Y&&(Y.errorThrown=!0,Y.error=te)}},9672:(et,De,R)=>{"use strict";function c(Y,k,le,te=0,pe=!1){const re=k.schedule(function(){le(),pe?Y.add(this.schedule(null,te)):this.unsubscribe()},te);if(Y.add(re),!pe)return re}R.d(De,{f:()=>c})},4671:(et,De,R)=>{"use strict";function c(Y){return Y}R.d(De,{y:()=>c})},1144:(et,De,R)=>{"use strict";R.d(De,{z:()=>c});const c=Y=>Y&&"number"==typeof Y.length&&"function"!=typeof Y},2206:(et,De,R)=>{"use strict";R.d(De,{D:()=>Y});var c=R(576);function Y(k){return Symbol.asyncIterator&&(0,c.m)(null==k?void 0:k[Symbol.asyncIterator])}},576:(et,De,R)=>{"use strict";function c(Y){return"function"==typeof Y}R.d(De,{m:()=>c})},3670:(et,De,R)=>{"use strict";R.d(De,{c:()=>k});var c=R(8822),Y=R(576);function k(le){return(0,Y.m)(le[c.L])}},6495:(et,De,R)=>{"use strict";R.d(De,{T:()=>k});var c=R(2202),Y=R(576);function k(le){return(0,Y.m)(null==le?void 0:le[c.h])}},8239:(et,De,R)=>{"use strict";R.d(De,{t:()=>Y});var c=R(576);function Y(k){return(0,c.m)(null==k?void 0:k.then)}},3260:(et,De,R)=>{"use strict";R.d(De,{Q:()=>k,L:()=>le});var c=R(655),Y=R(576);function k(te){return(0,c.FC)(this,arguments,function*(){const re=te.getReader();try{for(;;){const{value:fe,done:ae}=yield(0,c.qq)(re.read());if(ae)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(fe)}}finally{re.releaseLock()}})}function le(te){return(0,Y.m)(null==te?void 0:te.getReader)}},3532:(et,De,R)=>{"use strict";R.d(De,{K:()=>Y});var c=R(576);function Y(k){return k&&(0,c.m)(k.schedule)}},4482:(et,De,R)=>{"use strict";R.d(De,{A:()=>Y,e:()=>k});var c=R(576);function Y(le){return(0,c.m)(null==le?void 0:le.lift)}function k(le){return te=>{if(Y(te))return te.lift(function(pe){try{return le(pe,this)}catch(re){this.error(re)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(et,De,R)=>{"use strict";function c(){}R.d(De,{Z:()=>c})},7849:(et,De,R)=>{"use strict";R.d(De,{h:()=>k});var c=R(2416),Y=R(3410);function k(le){Y.z.setTimeout(()=>{const{onUnhandledError:te}=c.v;if(!te)throw le;te(le)})}},4532:(et,De,R)=>{"use strict";function c(Y){return new TypeError(`You provided ${null!==Y&&"object"==typeof Y?"an invalid object":`'${Y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(De,{z:()=>c})},655:(et,De,R)=>{"use strict";function le(Z,ie){var _e={};for(var oe in Z)Object.prototype.hasOwnProperty.call(Z,oe)&&ie.indexOf(oe)<0&&(_e[oe]=Z[oe]);if(null!=Z&&"function"==typeof Object.getOwnPropertySymbols){var Re=0;for(oe=Object.getOwnPropertySymbols(Z);Re<oe.length;Re++)ie.indexOf(oe[Re])<0&&Object.prototype.propertyIsEnumerable.call(Z,oe[Re])&&(_e[oe[Re]]=Z[oe[Re]])}return _e}function fe(Z,ie,_e,oe){return new(_e||(_e=Promise))(function(he,mt){function Ut(st){try{rt(oe.next(st))}catch(kn){mt(kn)}}function Mn(st){try{rt(oe.throw(st))}catch(kn){mt(kn)}}function rt(st){st.done?he(st.value):function Re(he){return he instanceof _e?he:new _e(function(mt){mt(he)})}(st.value).then(Ut,Mn)}rt((oe=oe.apply(Z,ie||[])).next())})}function z(Z){return this instanceof z?(this.v=Z,this):new z(Z)}function ee(Z,ie,_e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Re,oe=_e.apply(Z,ie||[]),he=[];return Re={},mt("next"),mt("throw"),mt("return"),Re[Symbol.asyncIterator]=function(){return this},Re;function mt(Zt){oe[Zt]&&(Re[Zt]=function(dr){return new Promise(function($t,Fi){he.push([Zt,dr,$t,Fi])>1||Ut(Zt,dr)})})}function Ut(Zt,dr){try{!function Mn(Zt){Zt.value instanceof z?Promise.resolve(Zt.value.v).then(rt,st):kn(he[0][2],Zt)}(oe[Zt](dr))}catch($t){kn(he[0][3],$t)}}function rt(Zt){Ut("next",Zt)}function st(Zt){Ut("throw",Zt)}function kn(Zt,dr){Zt(dr),he.shift(),he.length&&Ut(he[0][0],he[0][1])}}function Te(Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _e,ie=Z[Symbol.asyncIterator];return ie?ie.call(Z):(Z=function J(Z){var ie="function"==typeof Symbol&&Symbol.iterator,_e=ie&&Z[ie],oe=0;if(_e)return _e.call(Z);if(Z&&"number"==typeof Z.length)return{next:function(){return Z&&oe>=Z.length&&(Z=void 0),{value:Z&&Z[oe++],done:!Z}}};throw new TypeError(ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(Z),_e={},oe("next"),oe("throw"),oe("return"),_e[Symbol.asyncIterator]=function(){return this},_e);function oe(he){_e[he]=Z[he]&&function(mt){return new Promise(function(Ut,Mn){!function Re(he,mt,Ut,Mn){Promise.resolve(Mn).then(function(rt){he({value:rt,done:Ut})},mt)}(Ut,Mn,(mt=Z[he](mt)).done,mt.value)})}}}R.d(De,{_T:()=>le,mG:()=>fe,qq:()=>z,FC:()=>ee,KL:()=>Te})},5e3:(et,De,R)=>{"use strict";R.d(De,{deG:()=>Gc,tb:()=>o0,AFp:()=>xD,ip1:()=>a_,CZH:()=>eu,hGG:()=>JT,z2F:()=>hc,sBO:()=>GD,Sil:()=>u_,_Vd:()=>Yl,EJc:()=>Mp,SBq:()=>rc,qLn:()=>Ht,vpe:()=>na,tBr:()=>Or,XFs:()=>dt,OlP:()=>fn,zs3:()=>an,ZZ4:()=>v_,aQg:()=>wh,soG:()=>Np,YKP:()=>nh,h0i:()=>oc,PXZ:()=>xp,R0b:()=>wr,FiY:()=>gr,Lbi:()=>PD,g9A:()=>l_,Qsj:()=>pp,FYo:()=>Vv,JOm:()=>ce,tp0:()=>xr,Rgc:()=>Xa,dDg:()=>u0,q4F:()=>Yw,GfV:()=>Uv,s_b:()=>n_,ifc:()=>At,eFA:()=>p_,G48:()=>_h,Gpc:()=>U,X6Q:()=>mh,_c5:()=>n1,VLi:()=>BD,c2e:()=>Pi,zSh:()=>kf,wAp:()=>lt,vHH:()=>Me,cg1:()=>Bm,kL8:()=>Xi,dqk:()=>Rt,sIi:()=>qu,CqO:()=>bm,QGY:()=>vm,F4k:()=>Rd,RDi:()=>ou,AaK:()=>fe,qOj:()=>lm,TTD:()=>Uo,_Bn:()=>qw,xp6:()=>ry,uIk:()=>dm,Tol:()=>Bd,ekj:()=>sv,Suo:()=>Yv,Xpm:()=>rn,lG2:()=>ol,Yz7:()=>$t,cJS:()=>Wt,oAB:()=>Er,Yjl:()=>aa,Y36:()=>Gf,_UZ:()=>bi,qZA:()=>ym,TgZ:()=>Ku,EpF:()=>Jy,n5z:()=>Oa,Ikx:()=>$d,SDv:()=>dp,QtT:()=>Ww,pQV:()=>xv,LFG:()=>Fe,$8M:()=>yo,$Z:()=>jl,NdJ:()=>zf,CRH:()=>vD,oxw:()=>Em,Hsn:()=>ev,F$t:()=>Cm,Q6J:()=>_m,s9C:()=>Im,MGl:()=>qf,VKq:()=>ih,WLB:()=>Qa,kEZ:()=>Hv,iGM:()=>yD,MAs:()=>fm,CHM:()=>_a,LSH:()=>sd,Udp:()=>iv,YNc:()=>Uf,W1O:()=>e0,_uU:()=>Jf,Oqu:()=>Ju,hij:()=>Qu,Gf:()=>Ep});var c=R(7579),Y=R(727),k=R(8306),le=R(6451),te=R(3099);function pe(s){for(let o in s)if(s[o]===pe)return o;throw Error("Could not find renamed property on target object.")}function re(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function fe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(fe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function ae(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const H=pe({__forward_ref__:pe});function U(s){return s.__forward_ref__=U,s.toString=function(){return fe(this())},s}function J(s){return Ve(s)?s():s}function Ve(s){return"function"==typeof s&&s.hasOwnProperty(H)&&s.__forward_ref__===U}class Me extends Error{constructor(o,a){super(function Le(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,a)),this.code=o}}function z(s){return"string"==typeof s?s:null==s?"":String(s)}function ee(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():z(s)}function xe(s,o){const a=o?` in ${o}`:"";throw new Me(-201,`No provider for ${ee(s)} found${a}`)}function st(s,o,a,u){throw new Error(`ASSERTION ERROR: ${s}`+(null==u?"":` [Expected=> ${a} ${u} ${o} <=Actual]`))}function $t(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Wt(s){return{providers:s.providers||[],imports:s.imports||[]}}function Mt(s){return os(s,Li)||os(s,li)}function os(s,o){return s.hasOwnProperty(o)?s[o]:null}function Dr(s){return s&&(s.hasOwnProperty(Ps)||s.hasOwnProperty(Vi))?s[Ps]:null}const Li=pe({\u0275prov:pe}),Ps=pe({\u0275inj:pe}),li=pe({ngInjectableDef:pe}),Vi=pe({ngInjectorDef:pe});var dt=(()=>((dt=dt||{})[dt.Default=0]="Default",dt[dt.Host=1]="Host",dt[dt.Self=2]="Self",dt[dt.SkipSelf=4]="SkipSelf",dt[dt.Optional=8]="Optional",dt))();let Ur;function Tn(s){const o=Ur;return Ur=s,o}function so(s,o,a){const u=Mt(s);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&dt.Optional?null:void 0!==o?o:void xe(fe(s),"Injector")}function Ke(s){return{toString:s}.toString()}var St=(()=>((St=St||{})[St.OnPush=0]="OnPush",St[St.Default=1]="Default",St))(),At=(()=>{return(s=At||(At={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",At;var s})();const Ye="undefined"!=typeof globalThis&&globalThis,ot="undefined"!=typeof window&&window,Ti="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Rt=Ye||"undefined"!=typeof global&&global||ot||Ti,ui={},B=[],G=pe({\u0275cmp:pe}),$=pe({\u0275dir:pe}),be=pe({\u0275pipe:pe}),X=pe({\u0275mod:pe}),$e=pe({\u0275fac:pe}),ht=pe({__NG_ELEMENT_ID__:pe});let Kt=0;function rn(s){return Ke(()=>{const a={},u={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===St.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||B,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||At.Emulated,id:"c",styles:s.styles||B,_:null,setInput:null,schemas:s.schemas||null,tView:null},d=s.directives,p=s.features,y=s.pipes;return u.id+=Kt++,u.inputs=oa(s.inputs,a),u.outputs=oa(s.outputs),p&&p.forEach(w=>w(u)),u.directiveDefs=d?()=>("function"==typeof d?d():d).map(Hr):null,u.pipeDefs=y?()=>("function"==typeof y?y():y).map(Ct):null,u})}function Hr(s){return Ln(s)||function Tr(s){return s[$]||null}(s)}function Ct(s){return function ls(s){return s[be]||null}(s)}const Fn={};function Er(s){return Ke(()=>{const o={type:s.type,bootstrap:s.bootstrap||B,declarations:s.declarations||B,imports:s.imports||B,exports:s.exports||B,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(Fn[s.id]=s.type),o})}function oa(s,o){if(null==s)return ui;const a={};for(const u in s)if(s.hasOwnProperty(u)){let d=s[u],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),a[d]=u,o&&(o[d]=p)}return a}const ol=rn;function aa(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Ln(s){return s[G]||null}function Vn(s,o){const a=s[X]||null;if(!a&&!0===o)throw new Error(`Type ${fe(s)} does not have '\u0275mod' property.`);return a}function Ci(s){return Array.isArray(s)&&"object"==typeof s[1]}function ci(s){return Array.isArray(s)&&!0===s[1]}function wc(s){return 0!=(8&s.flags)}function al(s){return 2==(2&s.flags)}function Vs(s){return 1==(1&s.flags)}function di(s){return null!==s.template}function Nh(s){return 0!=(512&s[2])}function hi(s,o){return s.hasOwnProperty($e)?s[$e]:null}class ho{constructor(o,a,u){this.previousValue=o,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function Uo(){return jo}function jo(s){return s.type.prototype.ngOnChanges&&(s.setInput=ug),Ic}function Ic(){const s=Sc(this),o=null==s?void 0:s.current;if(o){const a=s.previous;if(a===ui)s.previous=o;else for(let u in o)a[u]=o[u];s.current=null,this.ngOnChanges(o)}}function ug(s,o,a,u){const d=Sc(s)||function fs(s,o){return s[In]=o}(s,{previous:ui,current:null}),p=d.current||(d.current={}),y=d.previous,w=this.declaredInputs[a],D=y[w];p[w]=new ho(D&&D.currentValue,o,y===ui),s[u]=o}Uo.ngInherit=!0;const In="__ngSimpleChanges__";function Sc(s){return s[In]||null}let dl;function ou(s){dl=s}function ps(){return void 0!==dl?dl:"undefined"!=typeof document?document:void 0}function Yt(s){return!!s.listen}const da={createRenderer:(s,o)=>ps()};function qt(s){for(;Array.isArray(s);)s=s[0];return s}function fo(s,o){return qt(o[s])}function Zn(s,o){return qt(o[s.index])}function mn(s,o){return s.data[o]}function Kn(s,o){const a=o[s];return Ci(a)?a:a[0]}function Ho(s){return 4==(4&s[2])}function Bi(s){return 128==(128&s[2])}function Wr(s,o){return null==o?null:s[o]}function js(s){s[18]=0}function Hs(s,o){s[5]+=o;let a=s,u=s[3];for(;null!==u&&(1===o&&1===a[5]||-1===o&&0===a[5]);)u[5]+=o,a=u,u=u[3]}const at={lFrame:mo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function uu(){return at.bindingsEnabled}function Ee(){return at.lFrame.lView}function Nt(){return at.lFrame.tView}function _a(s){return at.lFrame.contextLView=s,s[8]}function _n(){let s=Gs();for(;null!==s&&64===s.type;)s=s.parent;return s}function Gs(){return at.lFrame.currentTNode}function ya(){const s=at.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function Ir(s,o){const a=at.lFrame;a.currentTNode=s,a.isParent=o}function cu(){return at.lFrame.isParent}function du(){at.lFrame.isParent=!1}function va(){return at.isInCheckNoChangesMode}function Go(s){at.isInCheckNoChangesMode=s}function Un(){const s=at.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Ui(){return at.lFrame.bindingIndex++}function ms(s){const o=at.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function kc(s){at.lFrame.inI18n=s}function wa(s,o){const a=at.lFrame;a.bindingIndex=a.bindingRootIndex=s,po(o)}function po(s){at.lFrame.currentDirectiveIndex=s}function Da(){return at.lFrame.currentQueryIndex}function pu(s){at.lFrame.currentQueryIndex=s}function cg(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function pl(s,o,a){if(a&dt.SkipSelf){let d=o,p=s;for(;!(d=d.parent,null!==d||a&dt.Host||(d=cg(p),null===d||(p=p[15],10&d.type))););if(null===d)return!1;o=d,s=p}const u=at.lFrame=gu();return u.currentTNode=o,u.lView=s,!0}function go(s){const o=gu(),a=s[1];at.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function gu(){const s=at.lFrame,o=null===s?null:s.child;return null===o?mo(s):o}function mo(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Fc(){const s=at.lFrame;return at.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const xh=Fc;function $o(){const s=Fc();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Yn(){return at.lFrame.selectedIndex}function _s(s){at.lFrame.selectedIndex=s}function yn(){const s=at.lFrame;return mn(s.tView,s.selectedIndex)}function ys(s,o){for(let a=o.directiveStart,u=o.directiveEnd;a<u;a++){const p=s.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:D,ngAfterViewChecked:I,ngOnDestroy:N}=p;y&&(s.contentHooks||(s.contentHooks=[])).push(-a,y),w&&((s.contentHooks||(s.contentHooks=[])).push(a,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,w)),D&&(s.viewHooks||(s.viewHooks=[])).push(-a,D),I&&((s.viewHooks||(s.viewHooks=[])).push(a,I),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,I)),null!=N&&(s.destroyHooks||(s.destroyHooks=[])).push(a,N)}}function Ea(s,o,a){Jn(s,o,3,a)}function _u(s,o,a,u){(3&s[2])===a&&Jn(s,o,a,u)}function gl(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function Jn(s,o,a,u){const p=null!=u?u:-1,y=o.length-1;let w=0;for(let D=void 0!==u?65535&s[18]:0;D<y;D++)if("number"==typeof o[D+1]){if(w=o[D],null!=u&&w>=u)break}else o[D]<0&&(s[18]+=65536),(w<p||-1==p)&&(Ph(s,a,o,D),s[18]=(4294901760&s[18])+D+2),D++}function Ph(s,o,a,u){const d=a[u]<0,p=a[u+1],w=s[d?-a[u]:a[u]];if(d){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(w)}finally{}}}else try{p.call(w)}finally{}}class Wo{constructor(o,a,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function pr(s,o,a){const u=Yt(s);let d=0;for(;d<a.length;){const p=a[d];if("number"==typeof p){if(0!==p)break;d++;const y=a[d++],w=a[d++],D=a[d++];u?s.setAttribute(o,w,D,y):o.setAttributeNS(y,w,D)}else{const y=p,w=a[++d];yu(y)?u&&s.setProperty(o,y,w):u?s.setAttribute(o,y,w):o.setAttribute(y,w),d++}}return d}function bs(s){return 3===s||4===s||6===s}function yu(s){return 64===s.charCodeAt(0)}function _l(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let u=0;u<o.length;u++){const d=o[u];"number"==typeof d?a=d:0===a||$s(s,a,d,null,-1===a||2===a?o[++u]:null)}}return s}function $s(s,o,a,u,d){let p=0,y=s.length;if(-1===o)y=-1;else for(;p<s.length;){const w=s[p++];if("number"==typeof w){if(w===o){y=-1;break}if(w>o){y=p-1;break}}}for(;p<s.length;){const w=s[p];if("number"==typeof w)break;if(w===a){if(null===u)return void(null!==d&&(s[p+1]=d));if(u===s[p+1])return void(s[p+2]=d)}p++,null!==u&&p++,null!==d&&p++}-1!==y&&(s.splice(y,0,o),p=y+1),s.splice(p++,0,a),null!==u&&s.splice(p++,0,u),null!==d&&s.splice(p++,0,d)}function Vc(s){return-1!==s}function kt(s){return 32767&s}function Jt(s,o){let a=function Hi(s){return s>>16}(s),u=o;for(;a>0;)u=u[15],a--;return u}let Xe=!0;function _o(s){const o=Xe;return Xe=s,o}let Lh=0;function Sr(s,o){const a=Ws(s,o);if(-1!==a)return a;const u=o[1];u.firstCreatePass&&(s.injectorIndex=o.length,jn(u.data,s),jn(o,null),jn(u.blueprint,null));const d=Sa(s,o),p=s.injectorIndex;if(Vc(d)){const y=kt(d),w=Jt(d,o),D=w[1].data;for(let I=0;I<8;I++)o[p+I]=w[y+I]|D[y+I]}return o[p+8]=d,p}function jn(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Ws(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Sa(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,u=null,d=o;for(;null!==d;){const p=d[1],y=p.type;if(u=2===y?p.declTNode:1===y?d[6]:null,null===u)return-1;if(a++,d=d[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function Ar(s,o,a){!function Ia(s,o,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(ht)&&(u=a[ht]),null==u&&(u=a[ht]=Lh++);const d=255&u;o.data[s+(d>>5)]|=1<<d}(s,o,a)}function Aa(s,o,a){if(a&dt.Optional)return s;xe(o,"NodeInjector")}function zs(s,o,a,u){if(a&dt.Optional&&void 0===u&&(u=null),0==(a&(dt.Self|dt.Host))){const d=s[9],p=Tn(void 0);try{return d?d.get(o,u,a&dt.Optional):so(o,u,a&dt.Optional)}finally{Tn(p)}}return Aa(u,o,a)}function pi(s,o,a,u=dt.Default,d){if(null!==s){const p=function jc(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(ht)?s[ht]:void 0;return"number"==typeof o?o>=0?255&o:An:o}(a);if("function"==typeof p){if(!pl(o,s,u))return u&dt.Host?Aa(d,a,u):zs(o,a,u,d);try{const y=p(u);if(null!=y||u&dt.Optional)return y;xe(a)}finally{xh()}}else if("number"==typeof p){let y=null,w=Ws(s,o),D=-1,I=u&dt.Host?o[16][6]:null;for((-1===w||u&dt.SkipSelf)&&(D=-1===w?Sa(s,o):o[w+8],-1!==D&&Ma(u,!1)?(y=o[1],w=kt(D),o=Jt(D,o)):w=-1);-1!==w;){const N=o[1];if(bu(p,w,N.data)){const P=Gi(w,o,a,y,u,I);if(P!==Na)return P}D=o[w+8],-1!==D&&Ma(u,o[1].data[w+8]===I)&&bu(p,w,o)?(y=N,w=kt(D),o=Jt(D,o)):w=-1}}}return zs(o,a,u,d)}const Na={};function An(){return new ws(_n(),Ee())}function Gi(s,o,a,u,d,p){const y=o[1],w=y.data[s+8],N=Uc(w,y,a,null==u?al(w)&&Xe:u!=y&&0!=(3&w.type),d&dt.Host&&p===w);return null!==N?Si(o,y,N,w):Na}function Uc(s,o,a,u,d){const p=s.providerIndexes,y=o.data,w=1048575&p,D=s.directiveStart,N=p>>20,j=d?w+N:s.directiveEnd;for(let K=u?w:w+N;K<j;K++){const ge=y[K];if(K<D&&a===ge||K>=D&&ge.type===a)return K}if(d){const K=y[D];if(K&&di(K)&&K.type===a)return D}return null}function Si(s,o,a,u){let d=s[a];const p=o.data;if(function dg(s){return s instanceof Wo}(d)){const y=d;y.resolving&&function me(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Me(-200,`Circular dependency in DI detected for ${s}${a}`)}(ee(p[a]));const w=_o(y.canSeeViewProviders);y.resolving=!0;const D=y.injectImpl?Tn(y.injectImpl):null;pl(s,u,dt.Default);try{d=s[a]=y.factory(void 0,p,s,u),o.firstCreatePass&&a>=u.directiveStart&&function mu(s,o,a){const{ngOnChanges:u,ngOnInit:d,ngDoCheck:p}=o.type.prototype;if(u){const y=jo(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,y)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,d),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,p))}(a,p[a],o)}finally{null!==D&&Tn(D),_o(w),y.resolving=!1,xh()}}return d}function bu(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function Ma(s,o){return!(s&dt.Self||s&dt.Host&&o)}class ws{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,u){return pi(this._tNode,this._lView,o,u,a)}}function Oa(s){return Ke(()=>{const o=s.prototype.constructor,a=o[$e]||xa(o),u=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==u;){const p=d[$e]||xa(d);if(p&&p!==a)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function xa(s){return Ve(s)?()=>{const o=xa(J(s));return o&&o()}:hi(s)}function yo(s){return function vu(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const u=a.length;let d=0;for(;d<u;){const p=a[d];if(bs(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<u&&"string"==typeof a[d];)d++;else{if(p===o)return a[d+1];d+=2}}}return null}(_n(),s)}const gi="__parameters__";function bo(s,o,a){return Ke(()=>{const u=function wu(s){return function(...a){if(s){const u=s(...a);for(const d in u)this[d]=u[d]}}}(o);function d(...p){if(this instanceof d)return u.apply(this,p),this;const y=new d(...p);return w.annotation=y,w;function w(D,I,N){const P=D.hasOwnProperty(gi)?D[gi]:Object.defineProperty(D,gi,{value:[]})[gi];for(;P.length<=N;)P.push(null);return(P[N]=P[N]||[]).push(y),D}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class fn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=$t({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Gc=new fn("AnalyzeForEntryComponents");function Mr(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let u=s[a];Array.isArray(u)?(o===s&&(o=s.slice(0,a)),Mr(u,o)):o!==s&&o.push(u)}return o}function Ai(s,o){s.forEach(a=>Array.isArray(a)?Ai(a,o):o(a))}function Du(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function wo(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function qr(s,o){const a=[];for(let u=0;u<s;u++)a.push(o);return a}function mi(s,o,a){let u=El(s,o);return u>=0?s[1|u]=a:(u=~u,function Pa(s,o,a,u){let d=s.length;if(d==o)s.push(a,u);else if(1===d)s.push(u,s[0]),s[0]=a;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=a,s[o+1]=u}}(s,u,o,a)),u}function jh(s,o){const a=El(s,o);if(a>=0)return s[1|a]}function El(s,o){return function Kc(s,o,a){let u=0,d=s.length>>a;for(;d!==u;){const p=u+(d-u>>1),y=s[p<<a];if(o===y)return p<<a;y>o?d=p:u=p+1}return~(d<<a)}(s,o,1)}const qi={},qs="__NG_DI_FLAG__",Tl="ngTempTokenPath",E=/\n/gm,M="__source",F=pe({provide:String,useValue:pe});let q;function ne(s){const o=q;return q=s,o}function Ae(s,o=dt.Default){if(void 0===q)throw new Me(203,"");return null===q?so(s,void 0,o):q.get(s,o&dt.Optional?null:void 0,o)}function Fe(s,o=dt.Default){return(function Pn(){return Ur}()||Ae)(J(s),o)}function Vt(s){const o=[];for(let a=0;a<s.length;a++){const u=J(s[a]);if(Array.isArray(u)){if(0===u.length)throw new Me(900,"");let d,p=dt.Default;for(let y=0;y<u.length;y++){const w=u[y],D=Qn(w);"number"==typeof D?-1===D?d=w.token:p|=D:d=w}o.push(Fe(d,p))}else o.push(Fe(u))}return o}function Hn(s,o){return s[qs]=o,s.prototype[qs]=o,s}function Qn(s){return s[qs]}const Or=Hn(bo("Inject",s=>({token:s})),-1),gr=Hn(bo("Optional"),8),xr=Hn(bo("SkipSelf"),4);let Au;function Nu(s){var o;return(null===(o=function gg(){if(void 0===Au&&(Au=null,Rt.trustedTypes))try{Au=Rt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Au}())||void 0===o?void 0:o.createHTML(s))||s}class _g{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Cs(s){return s instanceof _g?s.changingThisBreaksApplicationSecurity:s}class Xh{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(Nu(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class L_{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const u=this.inertDocument.createElement("body");a.appendChild(u)}}getInertBodyElement(o){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Nu(o),a;const u=this.inertDocument.createElement("body");return u.innerHTML=Nu(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(o){const a=o.attributes;for(let d=a.length-1;0<d;d--){const y=a.item(d).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&o.removeAttribute(y)}let u=o.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const qo=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ef=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Sl(s){return(s=String(s)).match(qo)||s.match(ef)?s:"unsafe:"+s}function tf(s){return(s=String(s)).split(",").map(o=>Sl(o.trim())).join(", ")}function Zi(s){const o={};for(const a of s.split(","))o[a]=!0;return o}function Va(...s){const o={};for(const a of s)for(const u in a)a.hasOwnProperty(u)&&(o[u]=!0);return o}const Eg=Zi("area,br,col,hr,img,wbr"),td=Zi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),nf=Zi("rp,rt"),rf=Va(Eg,Va(td,Zi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Va(nf,Zi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Va(nf,td)),nd=Zi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),sf=Zi("srcset"),rd=Va(nd,sf,Zi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var Gn=(()=>((Gn=Gn||{})[Gn.NONE=0]="NONE",Gn[Gn.HTML=1]="HTML",Gn[Gn.STYLE=2]="STYLE",Gn[Gn.SCRIPT=3]="SCRIPT",Gn[Gn.URL=4]="URL",Gn[Gn.RESOURCE_URL=5]="RESOURCE_URL",Gn))();function sd(s){const o=function od(){const s=Ee();return s&&s[12]}();return o?o.sanitize(Gn.URL,s)||"":function Ou(s,o){const a=function Qh(s){return s instanceof _g&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}(s,"URL")?Cs(s):Sl(z(s))}const bn="__ngContext__";function Bt(s,o){s[bn]=o}function df(s){const o=function Ki(s){return s[bn]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function ud(s){return s.ngOriginalError}function ar(s,...o){s.error(...o)}class Ht{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o),u=function W_(s){return s&&s.ngErrorLogger||ar}(o);u(this._console,"ERROR",o),a&&u(this._console,"ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&ud(o);for(;a&&ud(a);)a=ud(a);return a||null}}const ku=/^>|^->|<!--|-->|--!>|<!-$/g,dn=/(<|>)/;const kg=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Rt))();function g(s){return s instanceof Function?s():s}var ce=(()=>((ce=ce||{})[ce.Important=1]="Important",ce[ce.DashCase=2]="DashCase",ce))();let Be;function Je(s,o){return Be(s,o)}function wn(s){const o=s[3];return ci(o)?o[3]:o}function cd(s){return pf(s[13])}function Fu(s){return pf(s[4])}function pf(s){for(;null!==s&&!ci(s);)s=s[4];return s}function Co(s,o,a,u,d){if(null!=u){let p,y=!1;ci(u)?p=u:Ci(u)&&(y=!0,u=u[0]);const w=qt(u);0===s&&null!==a?null==d?ob(o,a,w):Rl(o,a,w,d||null,!0):1===s&&null!==a?Rl(o,a,w,d||null,!0):2===s?ub(o,w,y):3===s&&o.destroyNode(w),null!=p&&function z1(s,o,a,u,d){const p=a[7];p!==qt(a)&&Co(o,s,u,p,d);for(let w=10;w<a.length;w++){const D=a[w];ja(D[1],D,s,o,u,p)}}(o,s,p,a,d)}}function Dt(s,o){return Yt(s)?s.createText(o):s.createTextNode(o)}function gf(s,o,a){Yt(s)?s.setValue(o,a):o.textContent=a}function Zo(s,o){return s.createComment(function $n(s){return s.replace(ku,o=>o.replace(dn,"\u200b$1\u200b"))}(o))}function Lu(s,o,a){if(Yt(s))return s.createElement(o,a);{const u=null!==a?function cl(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(a):null;return null===u?s.createElement(o):s.createElementNS(u,o)}}function K_(s,o){const a=s[9],u=a.indexOf(o),d=o[3];1024&o[2]&&(o[2]&=-1025,Hs(d,-1)),a.splice(u,1)}function Fg(s,o){if(s.length<=10)return;const a=10+o,u=s[a];if(u){const d=u[17];null!==d&&d!==s&&K_(d,u),o>0&&(s[a-1][4]=u[4]);const p=wo(s,10+o);!function mf(s,o){ja(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(u[1],u);const y=p[19];null!==y&&y.detachView(p[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function G1(s,o){if(!(256&o[2])){const a=o[11];Yt(a)&&a.destroyNode&&ja(s,o,a,3,null,null),function H1(s){let o=s[13];if(!o)return _r(s[1],s);for(;o;){let a=null;if(Ci(o))a=o[13];else{const u=o[10];u&&(a=u)}if(!a){for(;o&&!o[4]&&o!==s;)Ci(o)&&_r(o[1],o),o=o[3];null===o&&(o=s),Ci(o)&&_r(o[1],o),a=o&&o[4]}o=a}}(o)}}function _r(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function $1(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let u=0;u<a.length;u+=2){const d=o[a[u]];if(!(d instanceof Wo)){const p=a[u+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const w=d[p[y]],D=p[y+1];try{D.call(w)}finally{}}else try{p.call(d)}finally{}}}}(s,o),function Yo(s,o){const a=s.cleanup,u=o[7];let d=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const y=a[p+1],w="function"==typeof y?y(o):qt(o[y]),D=u[d=a[p+2]],I=a[p+3];"boolean"==typeof I?w.removeEventListener(a[p],D,I):I>=0?u[d=I]():u[d=-I].unsubscribe(),p+=2}else{const y=u[d=a[p+1]];a[p].call(y)}if(null!==u){for(let p=d+1;p<u.length;p++)u[p]();o[7]=null}}(s,o),1===o[1].type&&Yt(o[11])&&o[11].destroy();const a=o[17];if(null!==a&&ci(o[3])){a!==o[3]&&K_(a,o);const u=o[19];null!==u&&u.detachView(s)}}}function sb(s,o,a){return Y_(s,o.parent,a)}function Y_(s,o,a){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return a[0];if(2&u.flags){const d=s.data[u.directiveStart].encapsulation;if(d===At.None||d===At.Emulated)return null}return Zn(u,a)}function Rl(s,o,a,u,d){Yt(s)?s.insertBefore(o,a,u,d):o.insertBefore(a,u,d)}function ob(s,o,a){Yt(s)?s.appendChild(o,a):o.appendChild(a)}function J_(s,o,a,u,d){null!==u?Rl(s,o,a,u,d):ob(s,o,a)}function yf(s,o){return Yt(s)?s.parentNode(o):o.parentNode}function vf(s,o,a){return Pt(s,o,a)}function kl(s,o,a){return 40&s.type?Zn(s,a):null}let Vu,Pt=kl;function lb(s,o){Pt=s,Vu=o}function Jo(s,o,a,u){const d=sb(s,u,o),p=o[11],w=vf(u.parent||o[6],u,o);if(null!=d)if(Array.isArray(a))for(let D=0;D<a.length;D++)J_(p,d,a[D],w,!1);else J_(p,d,a,w,!1);void 0!==Vu&&Vu(p,u,o,a,d)}function Lg(s,o){if(null!==o){const a=o.type;if(3&a)return Zn(o,s);if(4&a)return Vg(-1,s[o.index]);if(8&a){const u=o.child;if(null!==u)return Lg(s,u);{const d=s[o.index];return ci(d)?Vg(-1,d):qt(d)}}if(32&a)return Je(o,s)()||qt(s[o.index]);{const u=Q_(s,o);return null!==u?Array.isArray(u)?u[0]:Lg(wn(s[16]),u):Lg(s,o.next)}}return null}function Q_(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Vg(s,o){const a=10+s+1;if(a<o.length){const u=o[a],d=u[1].firstChild;if(null!==d)return Lg(u,d)}return o[7]}function ub(s,o,a){const u=yf(s,o);u&&function W1(s,o,a,u){Yt(s)?s.removeChild(o,a,u):o.removeChild(a)}(s,u,o,a)}function dd(s,o,a,u,d,p,y){for(;null!=a;){const w=u[a.index],D=a.type;if(y&&0===o&&(w&&Bt(qt(w),u),a.flags|=4),64!=(64&a.flags))if(8&D)dd(s,o,a.child,u,d,p,!1),Co(o,s,d,w,p);else if(32&D){const I=Je(a,u);let N;for(;N=I();)Co(o,s,d,N,p);Co(o,s,d,w,p)}else 16&D?bf(s,o,u,a,d,p):Co(o,s,d,w,p);a=y?a.projectionNext:a.next}}function ja(s,o,a,u,d,p){dd(a,u,s.firstChild,o,d,p,!1)}function bf(s,o,a,u,d,p){const y=a[16],D=y[6].projection[u.projection];if(Array.isArray(D))for(let I=0;I<D.length;I++)Co(o,s,d,D[I],p);else dd(s,o,D,y[3],d,p,!0)}function wf(s,o,a){Yt(s)?s.setAttribute(o,"style",a):o.style.cssText=a}function Bg(s,o,a){Yt(s)?""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a):o.className=a}function ey(s,o,a){let u=s.length;for(;;){const d=s.indexOf(o,a);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const p=o.length;if(d+p===u||s.charCodeAt(d+p)<=32)return d}a=d+1}}const db="ng-template";function q1(s,o,a){let u=0;for(;u<s.length;){let d=s[u++];if(a&&"class"===d){if(d=s[u],-1!==ey(d.toLowerCase(),o,0))return!0}else if(1===d){for(;u<s.length&&"string"==typeof(d=s[u++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function Df(s){return 4===s.type&&s.value!==db}function Z1(s,o,a){return o===(4!==s.type||a?s.value:db)}function K1(s,o,a){let u=4;const d=s.attrs||[],p=function ty(s){for(let o=0;o<s.length;o++)if(bs(s[o]))return o;return s.length}(d);let y=!1;for(let w=0;w<o.length;w++){const D=o[w];if("number"!=typeof D){if(!y)if(4&u){if(u=2|1&u,""!==D&&!Z1(s,D,a)||""===D&&1===o.length){if(Io(u))return!1;y=!0}}else{const I=8&u?D:o[++w];if(8&u&&null!==s.attrs){if(!q1(s.attrs,I,a)){if(Io(u))return!1;y=!0}continue}const P=Y1(8&u?"class":D,d,Df(s),a);if(-1===P){if(Io(u))return!1;y=!0;continue}if(""!==I){let j;j=P>p?"":d[P+1].toLowerCase();const K=8&u?j:null;if(K&&-1!==ey(K,I,0)||2&u&&I!==j){if(Io(u))return!1;y=!0}}}}else{if(!y&&!Io(u)&&!Io(D))return!1;if(y&&Io(D))continue;y=!1,u=D|1&u}}return Io(u)||y}function Io(s){return 0==(1&s)}function Y1(s,o,a,u){if(null===o)return-1;let d=0;if(u||!a){let p=!1;for(;d<o.length;){const y=o[d];if(y===s)return d;if(3===y||6===y)p=!0;else{if(1===y||2===y){let w=o[++d];for(;"string"==typeof w;)w=o[++d];continue}if(4===y)break;if(0===y){d+=4;continue}}d+=p?1:2}return-1}return function ny(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const u=s[a];if("number"==typeof u)return-1;if(u===o)return a;a++}return-1}(o,s)}function hb(s,o,a=!1){for(let u=0;u<o.length;u++)if(K1(s,o[u],a))return!0;return!1}function Ha(s,o){e:for(let a=0;a<o.length;a++){const u=o[a];if(s.length===u.length){for(let d=0;d<s.length;d++)if(s[d]!==u[d])continue e;return!0}}return!1}function Bu(s,o){return s?":not("+o.trim()+")":o}function pb(s){let o=s[0],a=1,u=2,d="",p=!1;for(;a<s.length;){let y=s[a];if("string"==typeof y)if(2&u){const w=s[++a];d+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&u?d+="."+y:4&u&&(d+=" "+y);else""!==d&&!Io(y)&&(o+=Bu(p,d),d=""),u=y,p=p||!Io(u);a++}return""!==d&&(o+=Bu(p,d)),o}const _t={};function ry(s){mb(Nt(),Ee(),Yn()+s,va())}function mb(s,o,a,u){if(!u)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&Ea(o,p,a)}else{const p=s.preOrderHooks;null!==p&&_u(o,p,0,a)}_s(a)}function Tf(s,o){return s<<17|o<<2}function Is(s){return s>>17&32767}function Cf(s){return 2|s}function Ga(s){return(131068&s)>>2}function Uu(s,o){return-131069&s|o<<2}function oy(s){return 1|s}function Nf(s,o){const a=s.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const d=a[u],p=a[u+1];if(-1!==p){const y=s.data[p];pu(d),y.contentQueries(2,o[p],p)}}}function Mf(s,o,a,u,d,p,y,w,D,I){const N=o.blueprint.slice();return N[0]=d,N[2]=140|u,js(N),N[3]=N[15]=s,N[8]=a,N[10]=y||s&&s[10],N[11]=w||s&&s[11],N[12]=D||s&&s[12]||null,N[9]=I||s&&s[9]||null,N[6]=p,N[16]=2==o.type?s[16]:N,N}function pd(s,o,a,u,d){let p=s.data[o];if(null===p)p=gd(s,o,a,u,d),function ba(){return at.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=u,p.attrs=d;const y=ya();p.injectorIndex=null===y?-1:y.injectorIndex}return Ir(p,!0),p}function gd(s,o,a,u,d){const p=Gs(),y=cu(),D=s.data[o]=function aE(s,o,a,u,d,p){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,a,o,u,d);return null===s.firstChild&&(s.firstChild=D),null!==p&&(y?null==p.child&&null!==D.parent&&(p.child=D):null===p.next&&(p.next=D)),D}function Gu(s,o,a,u){if(0===a)return-1;const d=o.length;for(let p=0;p<a;p++)o.push(u),s.blueprint.push(u),s.data.push(null);return d}function md(s,o,a){go(o);try{const u=s.viewQuery;null!==u&&tm(1,u,a);const d=s.template;null!==d&&Of(s,o,d,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Nf(s,o),s.staticViewQueries&&tm(2,s.viewQuery,a);const p=s.components;null!==p&&function sE(s,o){for(let a=0;a<o.length;a++)wy(s,o[a])}(o,p)}catch(u){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),u}finally{o[2]&=-5,$o()}}function Xo(s,o,a,u){const d=o[2];if(256==(256&d))return;go(o);const p=va();try{js(o),function hu(s){return at.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&Of(s,o,a,2,u);const y=3==(3&d);if(!p)if(y){const I=s.preOrderCheckHooks;null!==I&&Ea(o,I,null)}else{const I=s.preOrderHooks;null!==I&&_u(o,I,0,null),gl(o,0)}if(function vE(s){for(let o=cd(s);null!==o;o=Fu(o)){if(!o[2])continue;const a=o[9];for(let u=0;u<a.length;u++){const d=a[u],p=d[3];0==(1024&d[2])&&Hs(p,1),d[2]|=1024}}}(o),function yE(s){for(let o=cd(s);null!==o;o=Fu(o))for(let a=10;a<o.length;a++){const u=o[a],d=u[1];Bi(u)&&Xo(d,u,d.template,u[8])}}(o),null!==s.contentQueries&&Nf(s,o),!p)if(y){const I=s.contentCheckHooks;null!==I&&Ea(o,I)}else{const I=s.contentHooks;null!==I&&_u(o,I,1),gl(o,1)}!function qg(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const d=a[u];if(d<0)_s(~d);else{const p=d,y=a[++u],w=a[++u];wa(y,p),w(2,o[p])}}}finally{_s(-1)}}(s,o);const w=s.components;null!==w&&function iE(s,o){for(let a=0;a<o.length;a++)Pb(s,o[a])}(o,w);const D=s.viewQuery;if(null!==D&&tm(2,D,u),!p)if(y){const I=s.viewCheckHooks;null!==I&&Ea(o,I)}else{const I=s.viewHooks;null!==I&&_u(o,I,2),gl(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),p||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Hs(o[3],-1))}finally{$o()}}function Cb(s,o,a,u){const d=o[10],p=!va(),y=Ho(o);try{p&&!y&&d.begin&&d.begin(),y&&md(s,o,u),Xo(s,o,a,u)}finally{p&&!y&&d.end&&d.end()}}function Of(s,o,a,u,d){const p=Yn(),y=2&u;try{_s(-1),y&&o.length>20&&mb(s,o,20,va()),a(u,d)}finally{_s(p)}}function py(s,o,a){!uu()||(function fE(s,o,a,u){const d=a.directiveStart,p=a.directiveEnd;s.firstCreatePass||Sr(a,o),Bt(u,o);const y=a.initialInputs;for(let w=d;w<p;w++){const D=s.data[w],I=di(D);I&&qI(o,a,D);const N=Si(o,s,w,a);Bt(N,o),null!==y&&xb(0,w-d,N,D,0,y),I&&(Kn(a.index,o)[8]=N)}}(s,o,a,Zn(a,o)),128==(128&a.flags)&&function pE(s,o,a){const u=a.directiveStart,d=a.directiveEnd,y=a.index,w=function Pc(){return at.lFrame.currentDirectiveIndex}();try{_s(y);for(let D=u;D<d;D++){const I=s.data[D],N=o[D];po(D),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&yy(I,N)}}finally{_s(-1),po(w)}}(s,o,a))}function gy(s,o,a=Zn){const u=o.localNames;if(null!==u){let d=o.index+1;for(let p=0;p<u.length;p+=2){const y=u[p+1],w=-1===y?a(o,s):s[y];s[d++]=w}}}function Ib(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Zg(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Zg(s,o,a,u,d,p,y,w,D,I){const N=20+u,P=N+d,j=function oE(s,o){const a=[];for(let u=0;u<o;u++)a.push(u<s?null:_t);return a}(N,P),K="function"==typeof I?I():I;return j[1]={type:s,blueprint:j,template:a,queries:null,viewQuery:w,declTNode:o,data:j.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:D,consts:K,incompleteFirstPass:!1}}function xf(s,o,a,u){const d=Qr(o);null===a?d.push(u):(d.push(a),s.firstCreatePass&&Lb(s).push(u,d.length-1))}function Sb(s,o,a){for(let u in s)if(s.hasOwnProperty(u)){const d=s[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(o,d):a[u]=[o,d]}return a}function Jr(s,o,a,u,d,p,y,w){const D=Zn(o,a);let N,I=o.inputs;!w&&null!=I&&(N=I[u])?(_d(s,a,N,u,d),al(o)&&function uE(s,o){const a=Kn(o,s);16&a[2]||(a[2]|=64)}(a,o.index)):3&o.type&&(u=function lE(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(u),d=null!=y?y(d,o.value||"",u):d,Yt(p)?p.setProperty(D,u,d):yu(u)||(D.setProperty?D.setProperty(u,d):D[u]=d))}function _y(s,o,a,u){let d=!1;if(uu()){const p=function gE(s,o,a){const u=s.directiveRegistry;let d=null;if(u)for(let p=0;p<u.length;p++){const y=u[p];hb(a,y.selectors,!1)&&(d||(d=[]),Ar(Sr(a,o),s,y.type),di(y)?(Mb(s,a),d.unshift(y)):d.push(y))}return d}(s,o,a),y=null===u?null:{"":-1};if(null!==p){d=!0,Ob(a,s.data.length,p.length);for(let N=0;N<p.length;N++){const P=p[N];P.providersResolver&&P.providersResolver(P)}let w=!1,D=!1,I=Gu(s,o,p.length,null);for(let N=0;N<p.length;N++){const P=p[N];a.mergedAttrs=_l(a.mergedAttrs,P.hostAttrs),vy(s,a,o,I,P),_E(I,P,y),null!==P.contentQueries&&(a.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(a.flags|=128);const j=P.type.prototype;!w&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),w=!0),!D&&(j.ngOnChanges||j.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),D=!0),I++}!function Yg(s,o){const u=o.directiveEnd,d=s.data,p=o.attrs,y=[];let w=null,D=null;for(let I=o.directiveStart;I<u;I++){const N=d[I],P=N.inputs,j=null===p||Df(o)?null:Rb(P,p);y.push(j),w=Sb(P,I,w),D=Sb(N.outputs,I,D)}null!==w&&(w.hasOwnProperty("class")&&(o.flags|=16),w.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=y,o.inputs=w,o.outputs=D}(s,a)}y&&function mE(s,o,a){if(o){const u=s.localNames=[];for(let d=0;d<o.length;d+=2){const p=a[o[d+1]];if(null==p)throw new Me(-301,!1);u.push(o[d],p)}}}(a,u,y)}return a.mergedAttrs=_l(a.mergedAttrs,a.attrs),d}function Nb(s,o,a,u,d,p){const y=p.hostBindings;if(y){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const D=~o.index;(function hE(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(w)!=D&&w.push(D),w.push(u,d,y)}}function yy(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Mb(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function _E(s,o,a){if(a){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)a[o.exportAs[u]]=s;di(o)&&(a[""]=s)}}function Ob(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function vy(s,o,a,u,d){s.data[u]=d;const p=d.factory||(d.factory=hi(d.type)),y=new Wo(p,di(d),null);s.blueprint[u]=y,a[u]=y,Nb(s,o,0,u,Gu(s,a,d.hostVars,_t),d)}function qI(s,o,a){const u=Zn(o,s),d=Ib(a),p=s[10],y=Xg(s,Mf(s,d,null,a.onPush?64:16,u,o,p,p.createRenderer(u,a),null,null));s[o.index]=y}function Qg(s,o,a,u,d,p,y){if(null==p)Yt(s)?s.removeAttribute(o,d,a):o.removeAttribute(d);else{const w=null==y?z(p):y(p,u||"",d);Yt(s)?s.setAttribute(o,d,w,a):a?o.setAttributeNS(a,d,w):o.setAttribute(d,w)}}function xb(s,o,a,u,d,p){const y=p[o];if(null!==y){const w=u.setInput;for(let D=0;D<y.length;){const I=y[D++],N=y[D++],P=y[D++];null!==w?u.setInput(a,P,I,N):a[N]=P}}}function Rb(s,o){let a=null,u=0;for(;u<o.length;){const d=o[u];if(0!==d)if(5!==d){if("number"==typeof d)break;s.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,s[d],o[u+1])),u+=2}else u+=2;else u+=4}return a}function kb(s,o,a,u){return new Array(s,!0,!1,o,null,0,u,a,null,null)}function Pb(s,o){const a=Kn(o,s);if(Bi(a)){const u=a[1];80&a[2]?Xo(u,a,u.template,a[8]):a[5]>0&&by(a)}}function by(s){for(let u=cd(s);null!==u;u=Fu(u))for(let d=10;d<u.length;d++){const p=u[d];if(1024&p[2]){const y=p[1];Xo(y,p,y.template,p[8])}else p[5]>0&&by(p)}const a=s[1].components;if(null!==a)for(let u=0;u<a.length;u++){const d=Kn(a[u],s);Bi(d)&&d[5]>0&&by(d)}}function wy(s,o){const a=Kn(o,s),u=a[1];(function bE(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(u,a),md(u,a,a[8])}function Xg(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Dy(s){for(;s;){s[2]|=64;const o=wn(s);if(Nh(s)&&!o)return s;s=o}return null}function Ty(s,o,a){const u=o[10];u.begin&&u.begin();try{Xo(s,o,s.template,a)}catch(d){throw nm(o,d),d}finally{u.end&&u.end()}}function Fb(s){!function em(s){for(let o=0;o<s.components.length;o++){const a=s.components[o],u=df(a),d=u[1];Cb(d,u,d.template,a)}}(s[8])}function tm(s,o,a){pu(0),o(s,a)}const EE=(()=>Promise.resolve(null))();function Qr(s){return s[7]||(s[7]=[])}function Lb(s){return s.cleanup||(s.cleanup=[])}function nm(s,o){const a=s[9],u=a?a.get(Ht,null):null;u&&u.handleError(o)}function _d(s,o,a,u,d){for(let p=0;p<a.length;){const y=a[p++],w=a[p++],D=o[y],I=s.data[y];null!==I.setInput?I.setInput(D,d,u,w):D[w]=d}}function rm(s,o,a){let u=a?s.styles:null,d=a?s.classes:null,p=0;if(null!==o)for(let y=0;y<o.length;y++){const w=o[y];"number"==typeof w?p=w:1==p?d=ae(d,w):2==p&&(u=ae(u,w+": "+o[++y]+";"))}a?s.styles=u:s.stylesWithoutHost=u,a?s.classes=d:s.classesWithoutHost=d}const im=new fn("INJECTOR",-1);class Cy{get(o,a=qi){if(a===qi){const u=new Error(`NullInjectorError: No provider for ${fe(o)}!`);throw u.name="NullInjectorError",u}return a}}const kf=new fn("Set Injector scope."),sm={},$u={};let om;function Bb(){return void 0===om&&(om=new Cy),om}function Ub(s,o=null,a=null,u){const d=Iy(s,o,a,u);return d._resolveInjectorDefTypes(),d}function Iy(s,o=null,a=null,u){return new CE(s,a,o||Bb(),u)}class CE{constructor(o,a,u,d=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];a&&Ai(a,w=>this.processProvider(w,o,a)),Ai([o],w=>this.processInjectorType(w,[],p)),this.records.set(im,yd(void 0,this));const y=this.records.get(kf);this.scope=null!=y?y.value:null,this.source=d||("object"==typeof o?null:fe(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,a=qi,u=dt.Default){this.assertNotDestroyed();const d=ne(this),p=Tn(void 0);try{if(!(u&dt.SkipSelf)){let w=this.records.get(o);if(void 0===w){const D=function Ny(s){return"function"==typeof s||"object"==typeof s&&s instanceof fn}(o)&&Mt(o);w=D&&this.injectableDefInScope(D)?yd(Sy(o),sm):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(u&dt.Self?Bb():this.parent).get(o,a=u&dt.Optional&&a===qi?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[Tl]=y[Tl]||[]).unshift(fe(o)),d)throw y;return function cn(s,o,a,u){const d=s[Tl];throw o[M]&&d.unshift(o[M]),s.message=function Zs(s,o,a,u=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let d=fe(o);if(Array.isArray(o))d=o.map(fe).join(" -> ");else if("object"==typeof o){let p=[];for(let y in o)if(o.hasOwnProperty(y)){let w=o[y];p.push(y+":"+("string"==typeof w?JSON.stringify(w):fe(w)))}d=`{${p.join(", ")}}`}return`${a}${u?"("+u+")":""}[${d}]: ${s.replace(E,"\n  ")}`}("\n"+s.message,d,a,u),s.ngTokenPath=d,s[Tl]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{Tn(p),ne(d)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((u,d)=>o.push(fe(d))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Me(205,!1)}processInjectorType(o,a,u){if(!(o=J(o)))return!1;let d=Dr(o);const p=null==d&&o.ngModule||void 0,y=void 0===p?o:p,w=-1!==u.indexOf(y);if(void 0!==p&&(d=Dr(p)),null==d)return!1;if(null!=d.imports&&!w){let N;u.push(y);try{Ai(d.imports,P=>{this.processInjectorType(P,a,u)&&(void 0===N&&(N=[]),N.push(P))})}finally{}if(void 0!==N)for(let P=0;P<N.length;P++){const{ngModule:j,providers:K}=N[P];Ai(K,ge=>this.processProvider(ge,j,K||B))}}this.injectorDefTypes.add(y);const D=hi(y)||(()=>new y);this.records.set(y,yd(D,sm));const I=d.providers;if(null!=I&&!w){const N=o;Ai(I,P=>this.processProvider(P,N,I))}return void 0!==p&&void 0!==o.providers}processProvider(o,a,u){let d=vd(o=J(o))?o:J(o&&o.provide);const p=function jb(s,o,a){return Gb(s)?yd(void 0,s.useValue):yd(Hb(s),sm)}(o);if(vd(o)||!0!==o.multi)this.records.get(d);else{let y=this.records.get(d);y||(y=yd(void 0,sm,!0),y.factory=()=>Vt(y.multi),this.records.set(d,y)),d=o,y.multi.push(o)}this.records.set(d,p)}hydrate(o,a){return a.value===sm&&(a.value=$u,a.value=a.factory()),"object"==typeof a.value&&a.value&&function JI(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=J(o.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function Sy(s){const o=Mt(s),a=null!==o?o.factory:hi(s);if(null!==a)return a;if(s instanceof fn)throw new Me(204,!1);if(s instanceof Function)return function IE(s){const o=s.length;if(o>0)throw qr(o,"?"),new Me(204,!1);const a=function ir(s){const o=s&&(s[Li]||s[li]);if(o){const a=function ks(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new Me(204,!1)}function Hb(s,o,a){let u;if(vd(s)){const d=J(s);return hi(d)||Sy(d)}if(Gb(s))u=()=>J(s.useValue);else if(function SE(s){return!(!s||!s.useFactory)}(s))u=()=>s.useFactory(...Vt(s.deps||[]));else if(function Ay(s){return!(!s||!s.useExisting)}(s))u=()=>Fe(J(s.useExisting));else{const d=J(s&&(s.useClass||s.provide));if(!function AE(s){return!!s.deps}(s))return hi(d)||Sy(d);u=()=>new d(...Vt(s.deps))}return u}function yd(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function Gb(s){return null!==s&&"object"==typeof s&&F in s}function vd(s){return"function"==typeof s}let an=(()=>{class s{static create(a,u){var d;if(Array.isArray(a))return Ub({name:""},u,a,"");{const p=null!==(d=a.name)&&void 0!==d?d:"";return Ub({name:p},a.parent,a.providers,p)}}}return s.THROW_IF_NOT_FOUND=qi,s.NULL=new Cy,s.\u0275prov=$t({token:s,providedIn:"any",factory:()=>Fe(im)}),s.__NG_ELEMENT_ID__=-1,s})();function Fl(s,o){ys(df(s)[1],_n())}function lm(s){let o=function Yb(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const u=[s];for(;o;){let d;if(di(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Me(903,"");d=o.\u0275dir}if(d){if(a){u.push(d);const y=s;y.inputs=Oy(s.inputs),y.declaredInputs=Oy(s.declaredInputs),y.outputs=Oy(s.outputs);const w=d.hostBindings;w&&um(s,w);const D=d.viewQuery,I=d.contentQueries;if(D&&Qb(s,D),I&&xy(s,I),re(s.inputs,d.inputs),re(s.declaredInputs,d.declaredInputs),re(s.outputs,d.outputs),di(d)&&d.data.animation){const N=s.data;N.animation=(N.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let y=0;y<p.length;y++){const w=p[y];w&&w.ngInherit&&w(s),w===lm&&(a=!1)}}o=Object.getPrototypeOf(o)}!function Jb(s){let o=0,a=null;for(let u=s.length-1;u>=0;u--){const d=s[u];d.hostVars=o+=d.hostVars,d.hostAttrs=_l(d.hostAttrs,a=_l(a,d.hostAttrs))}}(u)}function Oy(s){return s===ui?{}:s===B?[]:s}function Qb(s,o){const a=s.viewQuery;s.viewQuery=a?(u,d)=>{o(u,d),a(u,d)}:o}function xy(s,o){const a=s.contentQueries;s.contentQueries=a?(u,d,p)=>{o(u,d,p),a(u,d,p)}:o}function um(s,o){const a=s.hostBindings;s.hostBindings=a?(u,d)=>{o(u,d),a(u,d)}:o}let Fr=null;function zu(){if(!Fr){const s=Rt.Symbol;if(s&&s.iterator)Fr=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const u=o[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Fr=u)}}}return Fr}function qu(s){return!!cm(s)&&(Array.isArray(s)||!(s instanceof Map)&&zu()in s)}function cm(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Js(s,o,a){return s[o]=a}function yi(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function Qs(s,o,a,u){const d=yi(s,o,a);return yi(s,o+1,u)||d}function dm(s,o,a,u){const d=Ee();return yi(d,Ui(),o)&&(Nt(),function So(s,o,a,u,d,p){const y=Zn(s,o);Qg(o[11],y,p,s.value,a,u,d)}(yn(),d,s,o,a,u)),dm}function Zu(s,o,a,u){return yi(s,Ui(),a)?o+z(a)+u:_t}function Uf(s,o,a,u,d,p,y,w){const D=Ee(),I=Nt(),N=s+20,P=I.firstCreatePass?function hm(s,o,a,u,d,p,y,w,D){const I=o.consts,N=pd(o,s,4,y||null,Wr(I,w));_y(o,a,N,Wr(I,D)),ys(o,N);const P=N.tViews=Zg(2,N,u,d,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,I);return null!==o.queries&&(o.queries.template(o,N),P.queries=o.queries.embeddedTView(N)),N}(N,I,D,o,a,u,d,p,y):I.data[N];Ir(P,!1);const j=D[11].createComment("");Jo(I,D,j,P),Bt(j,D),Xg(D,D[N]=kb(j,D,j,P)),Vs(P)&&py(I,D,P),null!=y&&gy(D,P,w)}function fm(s){return function gs(s,o){return s[o]}(function Rc(){return at.lFrame.contextLView}(),20+s)}function Gf(s,o=dt.Default){const a=Ee();return null===a?Fe(s,o):pi(_n(),a,J(s),o)}function jl(){throw new Error("invalid")}function _m(s,o,a){const u=Ee();return yi(u,Ui(),o)&&Jr(Nt(),yn(),u,s,o,u[11],a,!1),_m}function xd(s,o,a,u,d){const y=d?"class":"style";_d(s,a,o.inputs[y],y,u)}function Ku(s,o,a,u){const d=Ee(),p=Nt(),y=20+s,w=d[11],D=d[y]=Lu(w,o,function Lc(){return at.lFrame.currentNamespace}()),I=p.firstCreatePass?function _w(s,o,a,u,d,p,y){const w=o.consts,I=pd(o,s,2,d,Wr(w,p));return _y(o,a,I,Wr(w,y)),null!==I.attrs&&rm(I,I.attrs,!1),null!==I.mergedAttrs&&rm(I,I.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,I),I}(y,p,d,0,o,a,u):p.data[y];Ir(I,!0);const N=I.mergedAttrs;null!==N&&pr(w,D,N);const P=I.classes;null!==P&&Bg(w,D,P);const j=I.styles;null!==j&&wf(w,D,j),64!=(64&I.flags)&&Jo(p,d,D,I),0===function pa(){return at.lFrame.elementDepthCount}()&&Bt(D,d),function Oc(){at.lFrame.elementDepthCount++}(),Vs(I)&&(py(p,d,I),function fy(s,o,a){if(wc(o)){const d=o.directiveEnd;for(let p=o.directiveStart;p<d;p++){const y=s.data[p];y.contentQueries&&y.contentQueries(1,a[p],p)}}}(p,I,d)),null!==u&&gy(d,I)}function ym(){let s=_n();cu()?du():(s=s.parent,Ir(s,!1));const o=s;!function ga(){at.lFrame.elementDepthCount--}();const a=Nt();a.firstCreatePass&&(ys(a,s),wc(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Fh(s){return 0!=(16&s.flags)}(o)&&xd(a,o,Ee(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function hg(s){return 0!=(32&s.flags)}(o)&&xd(a,o,Ee(),o.stylesWithoutHost,!1)}function bi(s,o,a,u){Ku(s,o,a,u),ym()}function Jy(){return Ee()}function vm(s){return!!s&&"function"==typeof s.then}function Rd(s){return!!s&&"function"==typeof s.subscribe}const bm=Rd;function zf(s,o,a,u){const d=Ee(),p=Nt(),y=_n();return function kd(s,o,a,u,d,p,y,w){const D=Vs(u),N=s.firstCreatePass&&Lb(s),P=o[8],j=Qr(o);let K=!0;if(3&u.type||w){const je=Zn(u,o),ze=w?w(je):je,we=j.length,ct=w?It=>w(qt(It[u.index])):u.index;if(Yt(a)){let It=null;if(!w&&D&&(It=function Dm(s,o,a,u){const d=s.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const y=d[p];if(y===a&&d[p+1]===u){const w=o[7],D=d[p+2];return w.length>D?w[D]:null}"string"==typeof y&&(p+=2)}return null}(s,o,d,u.index)),null!==It)(It.__ngLastListenerFn__||It).__ngNextListenerFn__=p,It.__ngLastListenerFn__=p,K=!1;else{p=Xy(u,o,P,p,!1);const tn=a.listen(ze,d,p);j.push(p,tn),N&&N.push(d,ct,we,we+1)}}else p=Xy(u,o,P,p,!0),ze.addEventListener(d,p,y),j.push(p),N&&N.push(d,ct,we,y)}else p=Xy(u,o,P,p,!1);const ge=u.outputs;let Oe;if(K&&null!==ge&&(Oe=ge[d])){const je=Oe.length;if(je)for(let ze=0;ze<je;ze+=2){const Ns=o[Oe[ze]][Oe[ze+1]].subscribe(p),nl=j.length;j.push(p,Ns),N&&N.push(d,u.index,nl,-(nl+1))}}}(p,d,d[11],y,s,o,!!a,u),zf}function Qy(s,o,a,u){try{return!1!==a(u)}catch(d){return nm(s,d),!1}}function Xy(s,o,a,u,d){return function p(y){if(y===Function)return u;const w=2&s.flags?Kn(s.index,o):o;0==(32&o[2])&&Dy(w);let D=Qy(o,0,u,y),I=p.__ngNextListenerFn__;for(;I;)D=Qy(o,0,I,y)&&D,I=I.__ngNextListenerFn__;return d&&!1===D&&(y.preventDefault(),y.returnValue=!1),D}}function Em(s=1){return function ji(s){return(at.lFrame.contextLView=function Rh(s,o){for(;s>0;)o=o[15],s--;return o}(s,at.lFrame.contextLView))[8]}(s)}function Tm(s,o){let a=null;const u=function fb(s){const o=s.attrs;if(null!=o){const a=o.indexOf(5);if(0==(1&a))return o[a+1]}return null}(s);for(let d=0;d<o.length;d++){const p=o[d];if("*"!==p){if(null===u?hb(s,p,!0):Ha(u,p))return d}else a=d}return a}function Cm(s){const o=Ee()[16][6];if(!o.projection){const u=o.projection=qr(s?s.length:1,null),d=u.slice();let p=o.child;for(;null!==p;){const y=s?Tm(p,s):0;null!==y&&(d[y]?d[y].projectionNext=p:u[y]=p,d[y]=p),p=p.next}}}function ev(s,o=0,a){const u=Ee(),d=Nt(),p=pd(d,20+s,16,null,a||null);null===p.projection&&(p.projection=o),du(),64!=(64&p.flags)&&function cb(s,o,a){bf(o[11],0,o,a,sb(s,a,o),vf(a.parent||o[6],a,o))}(d,u,p)}function Im(s,o,a){return qf(s,"",o,"",a),Im}function qf(s,o,a,u,d){const p=Ee(),y=Zu(p,o,a,u);return y!==_t&&Jr(Nt(),yn(),p,s,y,p[11],d,!1),qf}function Gl(s,o,a,u,d){const p=s[a+1],y=null===o;let w=u?Is(p):Ga(p),D=!1;for(;0!==w&&(!1===D||y);){const N=s[w+1];ww(s[w],o)&&(D=!0,s[w+1]=u?oy(N):Cf(N)),w=u?Is(N):Ga(N)}D&&(s[a+1]=u?Cf(p):oy(p))}function ww(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&El(s,o)>=0}const yr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function $l(s){return s.substring(yr.key,yr.keyEnd)}function Kf(s,o){const a=yr.textEnd;return a===o?-1:(o=yr.keyEnd=function LE(s,o,a){for(;o<a&&s.charCodeAt(o)>32;)o++;return o}(s,yr.key=o,a),Za(s,o,a))}function Za(s,o,a){for(;o<a&&s.charCodeAt(o)<=32;)o++;return o}function iv(s,o,a){return Xs(s,o,a,!1),iv}function sv(s,o){return Xs(s,o,null,!0),sv}function Bd(s){!function eo(s,o,a,u){const d=Nt(),p=ms(2);d.firstUpdatePass&&Yu(d,null,p,u);const y=Ee();if(a!==_t&&yi(y,p,a)){const w=d.data[Yn()];if(Cw(w,u)&&!ov(d,p)){let D=u?w.classesWithoutHost:w.stylesWithoutHost;null!==D&&(a=ae(D,a||"")),xd(d,w,y,a,u)}else!function Tw(s,o,a,u,d,p,y,w){d===_t&&(d=B);let D=0,I=0,N=0<d.length?d[0]:null,P=0<p.length?p[0]:null;for(;null!==N||null!==P;){const j=D<d.length?d[D+1]:void 0,K=I<p.length?p[I+1]:void 0;let Oe,ge=null;N===P?(D+=2,I+=2,j!==K&&(ge=P,Oe=K)):null===P||null!==N&&N<P?(D+=2,ge=N):(I+=2,ge=P,Oe=K),null!==ge&&lv(s,o,a,u,ge,Oe,y,w),N=D<d.length?d[D]:null,P=I<p.length?p[I]:null}}(d,w,y,y[11],y[p+1],y[p+1]=function av(s,o,a){if(null==a||""===a)return B;const u=[],d=Cs(a);if(Array.isArray(d))for(let p=0;p<d.length;p++)s(u,d[p],!0);else if("object"==typeof d)for(const p in d)d.hasOwnProperty(p)&&s(u,p,d[p]);else"string"==typeof d&&o(u,d);return u}(s,o,a),u,p)}}(mi,ti,s,!0)}function ti(s,o){for(let a=function Am(s){return function Dn(s){yr.key=0,yr.keyEnd=0,yr.value=0,yr.valueEnd=0,yr.textEnd=s.length}(s),Kf(s,Za(s,0,yr.textEnd))}(o);a>=0;a=Kf(o,a))mi(s,$l(o),!0)}function Xs(s,o,a,u){const d=Ee(),p=Nt(),y=ms(2);p.firstUpdatePass&&Yu(p,s,y,u),o!==_t&&yi(d,y,o)&&lv(p,p.data[Yn()],d,d[11],s,d[y+1]=function $E(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=fe(Cs(s)))),s}(o,a),u,y)}function ov(s,o){return o>=s.expandoStartIndex}function Yu(s,o,a,u){const d=s.data;if(null===d[a+1]){const p=d[Yn()],y=ov(s,a);Cw(p,u)&&null===o&&!y&&(o=!1),o=function jE(s,o,a,u){const d=function fu(s){const o=at.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let p=u?o.residualClasses:o.residualStyles;if(null===d)0===(u?o.classBindings:o.styleBindings)&&(a=Ud(a=Mm(null,s,o,a,u),o.attrs,u),p=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==d)if(a=Mm(d,s,o,a,u),null===p){let D=function HE(s,o,a){const u=a?o.classBindings:o.styleBindings;if(0!==Ga(u))return s[Is(u)]}(s,o,u);void 0!==D&&Array.isArray(D)&&(D=Mm(null,s,o,D[1],u),D=Ud(D,o.attrs,u),function Ew(s,o,a,u){s[Is(a?o.classBindings:o.styleBindings)]=u}(s,o,u,D))}else p=function GE(s,o,a){let u;const d=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<d;p++)u=Ud(u,s[p].hostAttrs,a);return Ud(u,o.attrs,a)}(s,o,u)}return void 0!==p&&(u?o.residualClasses=p:o.residualStyles=p),a}(d,p,o,u),function Ld(s,o,a,u,d,p){let y=p?o.classBindings:o.styleBindings,w=Is(y),D=Ga(y);s[u]=a;let N,I=!1;if(Array.isArray(a)){const P=a;N=P[1],(null===N||El(P,N)>0)&&(I=!0)}else N=a;if(d)if(0!==D){const j=Is(s[w+1]);s[u+1]=Tf(j,w),0!==j&&(s[j+1]=Uu(s[j+1],u)),s[w+1]=function sy(s,o){return 131071&s|o<<17}(s[w+1],u)}else s[u+1]=Tf(w,0),0!==w&&(s[w+1]=Uu(s[w+1],u)),w=u;else s[u+1]=Tf(D,0),0===w?w=u:s[D+1]=Uu(s[D+1],u),D=u;I&&(s[u+1]=Cf(s[u+1])),Gl(s,N,u,!0),Gl(s,N,u,!1),function nv(s,o,a,u,d){const p=d?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&El(p,o)>=0&&(a[u+1]=oy(a[u+1]))}(o,N,s,u,p),y=Tf(w,D),p?o.classBindings=y:o.styleBindings=y}(d,p,o,a,y,u)}}function Mm(s,o,a,u,d){let p=null;const y=a.directiveEnd;let w=a.directiveStylingLast;for(-1===w?w=a.directiveStart:w++;w<y&&(p=o[w],u=Ud(u,p.hostAttrs,d),p!==s);)w++;return null!==s&&(a.directiveStylingLast=w),u}function Ud(s,o,a){const u=a?1:2;let d=-1;if(null!==o)for(let p=0;p<o.length;p++){const y=o[p];"number"==typeof y?d=y:d===u&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),mi(s,y,!!a||o[++p]))}return void 0===s?null:s}function lv(s,o,a,u,d,p,y,w){if(!(3&o.type))return;const D=s.data,I=D[w+1];Rm(function _b(s){return 1==(1&s)}(I)?xm(D,o,a,d,Ga(I),y):void 0)||(Rm(p)||function iy(s){return 2==(2&s)}(I)&&(p=xm(D,null,a,d,w,y)),function X_(s,o,a,u,d){const p=Yt(s);if(o)d?p?s.addClass(a,u):a.classList.add(u):p?s.removeClass(a,u):a.classList.remove(u);else{let y=-1===u.indexOf("-")?void 0:ce.DashCase;if(null==d)p?s.removeStyle(a,u,y):a.style.removeProperty(u);else{const w="string"==typeof d&&d.endsWith("!important");w&&(d=d.slice(0,-10),y|=ce.Important),p?s.setStyle(a,u,d,y):a.style.setProperty(u,d,w?"important":"")}}}(u,y,fo(Yn(),a),d,p))}function xm(s,o,a,u,d,p){const y=null===o;let w;for(;d>0;){const D=s[d],I=Array.isArray(D),N=I?D[1]:D,P=null===N;let j=a[d+1];j===_t&&(j=P?B:void 0);let K=P?jh(j,u):N===u?j:void 0;if(I&&!Rm(K)&&(K=jh(D,u)),Rm(K)&&(w=K,y))return w;const ge=s[d+1];d=y?Is(ge):Ga(ge)}if(null!==o){let D=p?o.residualClasses:o.residualStyles;null!=D&&(w=jh(D,u))}return w}function Rm(s){return void 0!==s}function Cw(s,o){return 0!=(s.flags&(o?16:32))}function Jf(s,o=""){const a=Ee(),u=Nt(),d=s+20,p=u.firstCreatePass?pd(u,d,1,o,null):u.data[d],y=a[d]=Dt(a[11],o);Jo(u,a,y,p),Ir(p,!1)}function Ju(s){return Qu("",s,""),Ju}function Qu(s,o,a){const u=Ee(),d=Zu(u,s,o,a);return d!==_t&&function Ji(s,o,a){const u=fo(o,s);gf(s[11],u,a)}(u,Yn(),d),Qu}function $d(s,o,a){const u=Ee();return yi(u,Ui(),o)&&Jr(Nt(),yn(),u,s,o,u[11],a,!0),$d}const Wl=void 0;var Fw=["en",[["a","p"],["AM","PM"],Wl],[["AM","PM"],Wl,Wl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Wl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Wl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Wl,"{1} 'at' {0}",Wl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Xu(s){const a=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let ec={};function Bm(s){const o=function JE(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=bv(o);if(a)return a;const u=o.split("-")[0];if(a=bv(u),a)return a;if("en"===u)return Fw;throw new Error(`Missing locale data for the locale "${s}".`)}function Xi(s){return Bm(s)[lt.PluralCase]}function bv(s){return s in ec||(ec[s]=Rt.ng&&Rt.ng.common&&Rt.ng.common.locales&&Rt.ng.common.locales[s]),ec[s]}var lt=(()=>((lt=lt||{})[lt.LocaleId=0]="LocaleId",lt[lt.DayPeriodsFormat=1]="DayPeriodsFormat",lt[lt.DayPeriodsStandalone=2]="DayPeriodsStandalone",lt[lt.DaysFormat=3]="DaysFormat",lt[lt.DaysStandalone=4]="DaysStandalone",lt[lt.MonthsFormat=5]="MonthsFormat",lt[lt.MonthsStandalone=6]="MonthsStandalone",lt[lt.Eras=7]="Eras",lt[lt.FirstDayOfWeek=8]="FirstDayOfWeek",lt[lt.WeekendRange=9]="WeekendRange",lt[lt.DateFormat=10]="DateFormat",lt[lt.TimeFormat=11]="TimeFormat",lt[lt.DateTimeFormat=12]="DateTimeFormat",lt[lt.NumberSymbols=13]="NumberSymbols",lt[lt.NumberFormats=14]="NumberFormats",lt[lt.CurrencyCode=15]="CurrencyCode",lt[lt.CurrencySymbol=16]="CurrencySymbol",lt[lt.CurrencyName=17]="CurrencyName",lt[lt.Currencies=18]="Currencies",lt[lt.Directionality=19]="Directionality",lt[lt.PluralCase=20]="PluralCase",lt[lt.ExtraData=21]="ExtraData",lt))();const QE=["zero","one","two","few","many"],Um="en-US",ep={marker:"element"},jm={marker:"ICU"};var En=(()=>((En=En||{})[En.SHIFT=2]="SHIFT",En[En.APPEND_EAGERLY=1]="APPEND_EAGERLY",En[En.COMMENT=2]="COMMENT",En))();let Dv=Um;function Ya(s,o,a){const u=o.insertBeforeIndex,d=Array.isArray(u)?u[0]:u;return null===d?kl(s,0,a):qt(a[d])}function Hm(s,o,a,u,d){const p=o.insertBeforeIndex;if(Array.isArray(p)){let y=u,w=null;if(3&o.type||(w=y,y=d),null!==y&&0==(2&o.flags))for(let D=1;D<p.length;D++)Rl(s,y,a[p[D]],w,!1)}}function Lw(s,o){if(s.push(o),s.length>1)for(let a=s.length-2;a>=0;a--){const u=s[a];Pe(u)||lr(u,o)&&null===tp(u)&&Ev(u,o.index)}}function Pe(s){return!(64&s.type)}function lr(s,o){return Pe(o)||s.index>o.index}function tp(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function Ev(s,o){const a=s.insertBeforeIndex;Array.isArray(a)?a[0]=o:(lb(Ya,Hm),s.insertBeforeIndex=o)}function tt(s,o){const a=s.data[o];return null===a||"string"==typeof a?null:a.hasOwnProperty("currentCaseLViewIndex")?a:a.value}function He(s,o,a){const u=gd(s,a,64,null,null);return Lw(o,u),u}function ue(s,o){const a=o[s.currentCaseLViewIndex];return null===a?a:a<0?~a:a}function Ne(s){return s>>>17}function vr(s){return(131070&s)>>>1}let np=0,rp=0;function Bw(s,o,a,u){const d=a[11];let y,p=null;for(let w=0;w<o.length;w++){const D=o[w];if("string"==typeof D){const I=o[++w];null===a[I]&&(a[I]=Dt(d,D))}else if("number"==typeof D)switch(1&D){case 0:const I=Ne(D);let N,P;if(null===p&&(p=I,y=yf(d,u)),I===p?(N=u,P=y):(N=null,P=qt(a[I])),null!==P){const Oe=vr(D);Rl(d,P,a[Oe],N,!1);const ze=tt(s,Oe);if(null!==ze&&"object"==typeof ze){const we=ue(ze,a);null!==we&&Bw(s,ze.create[we],a,a[ze.anchorIdx])}}break;case 1:const K=o[++w],ge=o[++w];Qg(d,fo(D>>>1,a),null,null,K,ge,null)}else switch(D){case jm:const I=o[++w],N=o[++w];null===a[N]&&Bt(a[N]=Zo(d,I),a);break;case ep:const P=o[++w],j=o[++w];null===a[j]&&Bt(a[j]=Lu(d,P,null),a)}}}function iT(s,o,a,u,d){for(let p=0;p<a.length;p++){const y=a[p],w=a[++p];if(y&d){let D="";for(let I=p+1;I<=p+w;I++){const N=a[I];if("string"==typeof N)D+=N;else if("number"==typeof N)if(N<0)D+=z(o[u-N]);else{const P=N>>>2;switch(3&N){case 1:const j=a[++I],K=a[++I],ge=s.data[P];"string"==typeof ge?Qg(o[11],o[P],null,ge,j,D,K):Jr(s,ge,o,j,D,o[11],K,!1);break;case 0:const Oe=o[P];null!==Oe&&gf(o[11],Oe,D);break;case 2:sT(s,tt(s,P),o,D);break;case 3:es(s,tt(s,P),u,o)}}}}else{const D=a[p+1];if(D>0&&3==(3&D)){const N=tt(s,D>>>2);o[N.currentCaseLViewIndex]<0&&es(s,N,u,o)}}p+=w}}function es(s,o,a,u){let d=u[o.currentCaseLViewIndex];if(null!==d){let p=np;d<0&&(d=u[o.currentCaseLViewIndex]=~d,p=-1),iT(s,u,o.update[d],a,p)}}function sT(s,o,a,u){const d=function Lt(s,o){let a=s.cases.indexOf(o);if(-1===a)switch(s.type){case 1:{const u=function wv(s,o){const a=Xi(o)(parseInt(s,10)),u=QE[a];return void 0!==u?u:"other"}(o,function Wd(){return Dv}());a=s.cases.indexOf(u),-1===a&&"other"!==u&&(a=s.cases.indexOf("other"));break}case 0:a=s.cases.indexOf("other")}return-1===a?null:a}(o,u);if(ue(o,a)!==d&&(Cv(s,o,a),a[o.currentCaseLViewIndex]=null===d?null:~d,null!==d)){const y=a[o.anchorIdx];y&&Bw(s,o.create[d],a,y)}}function Cv(s,o,a){let u=ue(o,a);if(null!==u){const d=o.remove[u];for(let p=0;p<d.length;p++){const y=d[p];if(y>0){const w=fo(y,a);null!==w&&ub(a[11],w)}else Cv(s,tt(s,~y),a)}}}function zd(){const s=[];let a,u,o=-1;function p(w,D){o=0;const I=ue(w,D);u=null!==I?w.remove[I]:B}function y(){if(o<u.length){const w=u[o++];return w>0?a[w]:(s.push(o,u),p(a[1].data[~w],a),y())}return 0===s.length?null:(u=s.pop(),o=s.pop(),y())}return function d(w,D){for(a=D;s.length;)s.pop();return p(w.value,D),y}}const ip=/\ufffd(\d+):?\d*\ufffd/gi,Qt=/\ufffd(\d+)\ufffd/,Uw=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,qd=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,lT=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,br=/\uE500/g;function tr(s,o,a,u,d,p,y){const w=Gu(s,u,1,null);let D=w<<En.SHIFT,I=ya();o===I&&(I=null),null===I&&(D|=En.APPEND_EAGERLY),y&&(D|=En.COMMENT,function gt(s){void 0===Be&&(Be=s())}(zd)),d.push(D,null===p?"":p);const N=gd(s,w,y?32:1,null===p?"":p,null);Lw(a,N);const P=N.index;return Ir(N,!1),null!==I&&o!==I&&function eT(s,o){let a=s.insertBeforeIndex;null===a?(lb(Ya,Hm),a=s.insertBeforeIndex=[null,o]):(function Z(s,o,a){s!=o&&st(a,s,o,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(o))}(I,P),N}function Zd(s,o,a,u,d,p,y){const w=y.match(ip),D=tr(s,o,a,p,u,w?null:y,!1);w&&tc(d,y,D.index,null,0,null)}function tc(s,o,a,u,d,p){const y=s.length,w=y+1;s.push(null,null);const D=y+2,I=o.split(ip);let N=0;for(let P=0;P<I.length;P++){const j=I[P];if(1&P){const K=d+parseInt(j,10);s.push(-1-K),N|=Zl(K)}else""!==j&&s.push(j)}return s.push(a<<2|(u?1:0)),u&&s.push(u,p),s[y]=N,s[w]=s.length-D,N}function Zl(s){return 1<<Math.min(s,31)}function Sv(s){let o,p,a="",u=0,d=!1;for(;null!==(o=qd.exec(s));)d?o[0]===`\ufffd/*${p}\ufffd`&&(u=o.index,d=!1):(a+=s.substring(u,o.index+o[0].length),p=o[1],d=!0);return a+=s.substr(u),a}function Kl(s,o,a,u,d,p){let y=0;const w={type:d.type,currentCaseLViewIndex:Gu(s,o,1,null),anchorIdx:p,cases:[],create:[],remove:[],update:[]};(function Wm(s,o,a){s.push(Zl(o.mainBinding),2,-1-o.mainBinding,a<<2|2)})(a,d,p),function yt(s,o,a){const u=s.data[o];null===u?s.data[o]=a:u.value=a}(s,p,w);const D=d.values;for(let I=0;I<D.length;I++){const N=D[I],P=[];for(let j=0;j<N.length;j++){const K=N[j];if("string"!=typeof K){const ge=P.push(K)-1;N[j]=`\x3c!--\ufffd${ge}\ufffd--\x3e`}}y=Kd(s,w,o,a,u,d.cases[I],N.join(""),P)|y}y&&function Mv(s,o,a){s.push(o,1,a<<2|3)}(a,y,p)}function ta(s){const o=[],a=[];let u=1,d=0;const p=nc(s=s.replace(Uw,function(y,w,D){return u="select"===D?0:1,d=parseInt(w.substr(1),10),""}));for(let y=0;y<p.length;){let w=p[y++].trim();1===u&&(w=w.replace(/\s*(?:=)?(\w+)\s*/,"$1")),w.length&&o.push(w);const D=nc(p[y++]);o.length>a.length&&a.push(D)}return{type:u,mainBinding:d,cases:o,values:a}}function nc(s){if(!s)return[];let o=0;const a=[],u=[],d=/[{}]/g;let p;for(d.lastIndex=0;p=d.exec(s);){const w=p.index;if("}"==p[0]){if(a.pop(),0==a.length){const D=s.substring(o,w);Uw.test(D)?u.push(ta(D)):u.push(D),o=w+1}}else{if(0==a.length){const D=s.substring(o,w);u.push(D),o=w+1}a.push("{")}}const y=s.substring(o);return u.push(y),u}function Kd(s,o,a,u,d,p,y,w){const D=[],I=[],N=[];o.cases.push(p),o.create.push(D),o.remove.push(I),o.update.push(N);const j=function wg(s){const o=new L_(s);return function Dg(){try{return!!(new window.DOMParser).parseFromString(Nu(""),"text/html")}catch(s){return!1}}()?new Xh(o):o}(ps()).getInertBodyElement(y),K=function lf(s){return"content"in s&&function Sg(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}(j)||j;return K?Av(s,o,a,u,D,I,N,K,d,w,0):0}function Av(s,o,a,u,d,p,y,w,D,I,N){let P=0,j=w.firstChild;for(;j;){const K=Gu(s,a,1,null);switch(j.nodeType){case Node.ELEMENT_NODE:const ge=j,Oe=ge.tagName.toLowerCase();if(rf.hasOwnProperty(Oe)){ap(d,ep,Oe,D,K),s.data[K]=Oe;const ct=ge.attributes;for(let It=0;It<ct.length;It++){const tn=ct.item(It),Ns=tn.name.toLowerCase();tn.value.match(ip)?rd.hasOwnProperty(Ns)&&tc(y,tn.value,K,tn.name,0,nd[Ns]?Sl:sf[Ns]?tf:null):jw(d,K,tn)}P=Av(s,o,a,u,d,p,y,j,K,I,N+1)|P,$m(p,K,N)}break;case Node.TEXT_NODE:const je=j.textContent||"",ze=je.match(ip);ap(d,null,ze?"":je,D,K),$m(p,K,N),ze&&(P=tc(y,je,K,null,0,null)|P);break;case Node.COMMENT_NODE:const we=Qt.exec(j.textContent||"");if(we){const It=I[parseInt(we[1],10)];ap(d,jm,"",D,K),Kl(s,a,u,D,It,K),Nv(p,K,N)}}j=j.nextSibling}return P}function $m(s,o,a){0===a&&s.push(o)}function Nv(s,o,a){0===a&&(s.push(~o),s.push(o))}function ap(s,o,a,u,d){null!==o&&s.push(o),s.push(a,d,function tT(s,o,a){return s|o<<17|a<<1}(0,u,d))}function jw(s,o,a){s.push(o<<1|1,a.name,a.value)}function $w(s,o,a=-1){const u=Nt(),d=Ee(),p=20+s,y=Wr(u.consts,o),w=ya();u.firstCreatePass&&function ql(s,o,a,u,d,p){const y=ya(),w=[],D=[],I=[[]];d=function nt(s,o){if(function Gm(s){return-1===s}(o))return Sv(s);{const a=s.indexOf(`:${o}\ufffd`)+2+o.toString().length,u=s.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return Sv(s.substring(a,u))}}(d,p);const N=function uT(s){return s.replace(br," ")}(d).split(lT);for(let P=0;P<N.length;P++){let j=N[P];if(0==(1&P)){const K=nc(j);for(let ge=0;ge<K.length;ge++){let Oe=K[ge];if(0==(1&ge)){const je=Oe;""!==je&&Zd(s,y,I[0],w,D,a,je)}else{const je=Oe;if("object"!=typeof je)throw new Error(`Unable to parse ICU expression in "${d}" message.`);Kl(s,a,D,o,je,tr(s,y,I[0],a,w,"",!0).index)}}}else{const K=47===j.charCodeAt(0),Oe=(j.charCodeAt(K?1:0),20+Number.parseInt(j.substring(K?2:1)));if(K)I.shift(),Ir(ya(),!1);else{const je=He(s,I[0],Oe);I.unshift([]),Ir(je,!0)}}}s.data[u]={create:w,update:D}}(u,null===w?0:w.index,d,p,y,a);const D=u.data[p],N=Y_(u,w===d[6]?null:w,d);(function Vw(s,o,a,u){const d=s[11];for(let p=0;p<o.length;p++){const y=o[p++],w=o[p],D=(y&En.COMMENT)===En.COMMENT,I=(y&En.APPEND_EAGERLY)===En.APPEND_EAGERLY,N=y>>>En.SHIFT;let P=s[N];null===P&&(P=s[N]=D?d.createComment(w):Dt(d,w)),I&&null!==a&&Rl(d,a,P,u,!1)}})(d,D.create,N,w&&8&w.type?d[w.index]:null),kc(!0)}function dp(s,o,a){$w(s,o,a),function cp(){kc(!1)}()}function xv(s){return function nT(s){s&&(np|=1<<Math.min(rp,31)),rp++}(yi(Ee(),Ui(),s)),xv}function Ww(s){!function rT(s,o,a){if(rp>0){const u=s.data[a];iT(s,o,Array.isArray(u)?u:u.update,function Ii(){return at.lFrame.bindingIndex}()-rp-1,np)}np=0,rp=0}(Nt(),Ee(),s+20)}function qm(s,o,a,u,d){if(s=J(s),Array.isArray(s))for(let p=0;p<s.length;p++)qm(s[p],o,a,u,d);else{const p=Nt(),y=Ee();let w=vd(s)?s:J(s.provide),D=Hb(s);const I=_n(),N=1048575&I.providerIndexes,P=I.directiveStart,j=I.providerIndexes>>20;if(vd(s)||!s.multi){const K=new Wo(D,d,Gf),ge=kv(w,o,d?N:N+j,P);-1===ge?(Ar(Sr(I,y),p,w),Rv(p,s,o.length),o.push(w),I.directiveStart++,I.directiveEnd++,d&&(I.providerIndexes+=1048576),a.push(K),y.push(K)):(a[ge]=K,y[ge]=K)}else{const K=kv(w,o,N+j,P),ge=kv(w,o,N,N+j),Oe=K>=0&&a[K],je=ge>=0&&a[ge];if(d&&!je||!d&&!Oe){Ar(Sr(I,y),p,w);const ze=function Jd(s,o,a,u,d){const p=new Wo(s,a,Gf);return p.multi=[],p.index=o,p.componentProviders=0,zw(p,d,u&&!a),p}(d?hp:fT,a.length,d,u,D);!d&&je&&(a[ge].providerFactory=ze),Rv(p,s,o.length,0),o.push(w),I.directiveStart++,I.directiveEnd++,d&&(I.providerIndexes+=1048576),a.push(ze),y.push(ze)}else Rv(p,s,K>-1?K:ge,zw(a[d?ge:K],D,!d&&u));!d&&u&&je&&a[ge].componentProviders++}}}function Rv(s,o,a,u){const d=vd(o),p=function $b(s){return!!s.useClass}(o);if(d||p){const D=(p?J(o.useClass):o).prototype.ngOnDestroy;if(D){const I=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const N=I.indexOf(a);-1===N?I.push(a,[u,D]):I[N+1].push(u,D)}else I.push(a,D)}}}function zw(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function kv(s,o,a,u){for(let d=a;d<u;d++)if(o[d]===s)return d;return-1}function fT(s,o,a,u){return Yd(this.multi,[])}function hp(s,o,a,u){const d=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=Si(a,a[1],this.providerFactory.index,u);p=w.slice(0,y),Yd(d,p);for(let D=y;D<w.length;D++)p.push(w[D])}else p=[],Yd(d,p);return p}function Yd(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function qw(s,o=[]){return a=>{a.providersResolver=(u,d)=>function hT(s,o,a){const u=Nt();if(u.firstCreatePass){const d=di(s);qm(a,u.data,u.blueprint,d,!0),qm(o,u.data,u.blueprint,d,!1)}}(u,d?d(s):s,o)}}class Pv{}class Zm{resolveComponentFactory(o){throw function Ja(s){const o=Error(`No component factory found for ${fe(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Yl=(()=>{class s{}return s.NULL=new Zm,s})();function Lv(){return Jl(_n(),Ee())}function Jl(s,o){return new rc(Zn(s,o))}let rc=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=Lv,s})();function Qd(s){return s instanceof rc?s.nativeElement:s}class Vv{}let pp=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function Bv(){const s=Ee(),a=Kn(_n().index,s);return function Kw(s){return s[11]}(Ci(a)?a:s)}(),s})(),gp=(()=>{class s{}return s.\u0275prov=$t({token:s,providedIn:"root",factory:()=>null}),s})();class Uv{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Yw=new Uv("13.2.1"),Km={};function mp(s,o,a,u,d=!1){for(;null!==a;){const p=o[a.index];if(null!==p&&u.push(qt(p)),ci(p))for(let w=10;w<p.length;w++){const D=p[w],I=D[1].firstChild;null!==I&&mp(D[1],D,I,u)}const y=a.type;if(8&y)mp(s,o,a.child,u);else if(32&y){const w=Je(a,o);let D;for(;D=w();)u.push(D)}else if(16&y){const w=Q_(o,a);if(Array.isArray(w))u.push(...w);else{const D=wn(o[16]);mp(D[1],D,w,u,!0)}}a=d?a.projectionNext:a.next}return u}class Xd{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return mp(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(ci(o)){const a=o[8],u=a?a.indexOf(this):-1;u>-1&&(Fg(o,u),wo(a,u))}this._attachedToViewContainer=!1}G1(this._lView[1],this._lView)}onDestroy(o){xf(this._lView[1],this._lView,null,o)}markForCheck(){Dy(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ty(this._lView[1],this._lView,this.context)}checkNoChanges(){!function wE(s,o,a){Go(!0);try{Ty(s,o,a)}finally{Go(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Me(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Z_(s,o){ja(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Me(902,"");this._appRef=o}}class Ym extends Xd{constructor(o){super(o),this._view=o}detectChanges(){Fb(this._view)}checkNoChanges(){!function DE(s){Go(!0);try{Fb(s)}finally{Go(!1)}}(this._view)}get context(){return null}}class Jw extends Yl{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Ln(o);return new Jm(a,this.ngModule)}}function Qw(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}const eh=new fn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>kg});class Jm extends Pv{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function gb(s){return s.map(pb).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Qw(this.componentDef.inputs)}get outputs(){return Qw(this.componentDef.outputs)}create(o,a,u,d){const p=(d=d||this.ngModule)?function ic(s,o){return{get:(a,u,d)=>{const p=s.get(a,Km,d);return p!==Km||u===Km?p:o.get(a,u,d)}}}(o,d.injector):o,y=p.get(Vv,da),w=p.get(gp,null),D=y.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",N=u?function my(s,o,a){if(Yt(s))return s.selectRootElement(o,a===At.ShadowDom);let u="string"==typeof o?s.querySelector(o):o;return u.textContent="",u}(D,u,this.componentDef.encapsulation):Lu(y.createRenderer(null,this.componentDef),I,function Xw(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(I)),P=this.componentDef.onPush?576:528,j=function Pr(s,o){return{components:[],scheduler:s||kg,clean:EE,playerHandler:o||null,flags:0}}(),K=Zg(0,null,null,1,0,null,null,null,null,null),ge=Mf(null,K,j,P,null,null,y,D,w,p);let Oe,je;go(ge);try{const ze=function kr(s,o,a,u,d,p){const y=a[1];a[20]=s;const D=pd(y,20,2,"#host",null),I=D.mergedAttrs=o.hostAttrs;null!==I&&(rm(D,I,!0),null!==s&&(pr(d,s,I),null!==D.classes&&Bg(d,s,D.classes),null!==D.styles&&wf(d,s,D.styles)));const N=u.createRenderer(s,o),P=Mf(a,Ib(o),null,o.onPush?64:16,a[20],D,u,N,p||null,null);return y.firstCreatePass&&(Ar(Sr(D,a),y,o.type),Mb(y,D),Ob(D,a.length,1)),Xg(a,P),a[20]=P}(N,this.componentDef,ge,y,D);if(N)if(u)pr(D,N,["ng-version",Yw.full]);else{const{attrs:we,classes:ct}=function J1(s){const o=[],a=[];let u=1,d=2;for(;u<s.length;){let p=s[u];if("string"==typeof p)2===d?""!==p&&o.push(p,s[++u]):8===d&&a.push(p);else{if(!Io(d))break;d=p}u++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);we&&pr(D,N,we),ct&&ct.length>0&&Bg(D,N,ct.join(" "))}if(je=mn(K,20),void 0!==a){const we=je.projection=[];for(let ct=0;ct<this.ngContentSelectors.length;ct++){const It=a[ct];we.push(null!=It?Array.from(It):null)}}Oe=function Lf(s,o,a,u,d){const p=a[1],y=function dE(s,o,a){const u=_n();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),vy(s,u,o,Gu(s,o,1,null),a));const d=Si(o,s,u.directiveStart,u);Bt(d,o);const p=Zn(u,o);return p&&Bt(p,o),d}(p,a,o);if(u.components.push(y),s[8]=y,d&&d.forEach(D=>D(y,o)),o.contentQueries){const D=_n();o.contentQueries(1,y,D.directiveStart)}const w=_n();return!p.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(_s(w.index),Nb(a[1],w,0,w.directiveStart,w.directiveEnd,o),yy(o,y)),y}(ze,this.componentDef,ge,j,[Fl]),md(K,ge,null)}finally{$o()}return new th(this.componentType,Oe,Jl(je,ge),ge,je)}}class th extends class Zw{}{constructor(o,a,u,d,p){super(),this.location=u,this._rootLView=d,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new Ym(d),this.componentType=o}get injector(){return new ws(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class oc{}class nh{}const rh=new Map;class rD extends oc{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Jw(this);const u=Vn(o);this._bootstrapComponents=g(u.bootstrap),this._r3Injector=Iy(o,a,[{provide:oc,useValue:this},{provide:Yl,useValue:this.componentFactoryResolver}],fe(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,a=an.THROW_IF_NOT_FOUND,u=dt.Default){return o===an||o===oc||o===im?this:this._r3Injector.get(o,a,u)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Xm extends nh{constructor(o){super(),this.moduleType=o,null!==Vn(o)&&function Qm(s){const o=new Set;!function a(u){const d=Vn(u,!0),p=d.id;null!==p&&(function nr(s,o,a){if(o&&o!==a)throw new Error(`Duplicate module registered for ${s} - ${fe(o)} vs ${fe(o.name)}`)}(p,rh.get(p),u),rh.set(p,u));const y=g(d.imports);for(const w of y)o.has(w)||(o.add(w),a(w))}(s)}(o)}create(o){return new rD(this.moduleType,o)}}function ih(s,o,a,u){return function $v(s,o,a,u,d,p){const y=o+a;return yi(s,y,d)?Js(s,y+1,p?u.call(p,d):u(d)):xt(s,y+1)}(Ee(),Un(),s,o,a,u)}function Qa(s,o,a,u,d){return function Wv(s,o,a,u,d,p,y){const w=o+a;return Qs(s,w,d,p)?Js(s,w+2,y?u.call(y,d,p):u(d,p)):xt(s,w+2)}(Ee(),Un(),s,o,a,u,d)}function Hv(s,o,a,u,d,p){return function cr(s,o,a,u,d,p,y,w){const D=o+a;return function Bf(s,o,a,u,d){const p=Qs(s,o,a,u);return yi(s,o+2,d)||p}(s,D,d,p,y)?Js(s,D+3,w?u.call(w,d,p,y):u(d,p,y)):xt(s,D+3)}(Ee(),Un(),s,o,a,u,d,p)}function xt(s,o){const a=s[o];return a===_t?void 0:a}function Xt(s){return o=>{setTimeout(s,void 0,o)}}const na=class vT extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,u){var d,p,y;let w=o,D=a||(()=>null),I=u;if(o&&"object"==typeof o){const P=o;w=null===(d=P.next)||void 0===d?void 0:d.bind(P),D=null===(p=P.error)||void 0===p?void 0:p.bind(P),I=null===(y=P.complete)||void 0===y?void 0:y.bind(P)}this.__isAsync&&(D=Xt(D),w&&(w=Xt(w)),I&&(I=Xt(I)));const N=super.subscribe({next:w,error:D,complete:I});return o instanceof Y.w0&&o.add(N),N}};function e_(){return this._results[zu()]()}class ac{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=zu(),u=ac.prototype;u[a]||(u[a]=e_)}get changes(){return this._changes||(this._changes=new na)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const u=this;u.dirty=!1;const d=Mr(o);(this._changesDetected=!function Dl(s,o,a){if(s.length!==o.length)return!1;for(let u=0;u<s.length;u++){let d=s[u],p=o[u];if(a&&(d=a(d),p=a(p)),p!==d)return!1}return!0}(u._results,d,a))&&(u._results=d,u.length=d.length,u.last=d[this.length-1],u.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Xa=(()=>{class s{}return s.__NG_ELEMENT_ID__=uD,s})();const t_=Xa,lD=class extends t_{constructor(o,a,u){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(o){const a=this._declarationTContainer.tViews,u=Mf(this._declarationLView,a,o,16,null,a.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(u[19]=p.createEmbeddedView(a)),md(a,u,o),new Xd(u)}};function uD(){return vp(_n(),Ee())}function vp(s,o){return 4&s.type?new lD(o,s,Jl(s,o)):null}let n_=(()=>{class s{}return s.__NG_ELEMENT_ID__=cD,s})();function cD(){return oh(_n(),Ee())}const dD=n_,hD=class extends dD{constructor(o,a,u){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=u}get element(){return Jl(this._hostTNode,this._hostLView)}get injector(){return new ws(this._hostTNode,this._hostLView)}get parentInjector(){const o=Sa(this._hostTNode,this._hostLView);if(Vc(o)){const a=Jt(o,this._hostLView),u=kt(o);return new ws(a[1].data[u+8],a)}return new ws(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=fD(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,u){const d=o.createEmbeddedView(a||{});return this.insert(d,u),d}createComponent(o,a,u,d,p){const y=o&&!function Nr(s){return"function"==typeof s}(o);let w;if(y)w=a;else{const P=a||{};w=P.index,u=P.injector,d=P.projectableNodes,p=P.ngModuleRef}const D=y?o:new Jm(Ln(o)),I=u||this.parentInjector;if(!p&&null==D.ngModule&&I){const P=I.get(oc,null);P&&(p=P)}const N=D.create(I,d,void 0,p);return this.insert(N.hostView,w),N}insert(o,a){const u=o._lView,d=u[1];if(function lu(s){return ci(s[3])}(u)){const N=this.indexOf(o);if(-1!==N)this.detach(N);else{const P=u[3],j=new hD(P,P[6],P[3]);j.detach(j.indexOf(o))}}const p=this._adjustIndex(a),y=this._lContainer;!function Ko(s,o,a,u){const d=10+u,p=a.length;u>0&&(a[d-1][4]=o),u<p-10?(o[4]=a[d],Du(a,10+u,o)):(a.push(o),o[4]=null),o[3]=a;const y=o[17];null!==y&&a!==y&&function ib(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(y,o);const w=o[19];null!==w&&w.insertView(s),o[2]|=128}(d,u,y,p);const w=Vg(p,y),D=u[11],I=yf(D,y[7]);return null!==I&&function _f(s,o,a,u,d,p){u[0]=d,u[6]=o,ja(s,u,a,1,d,p)}(d,y[6],D,u,I,w),o.attachToViewContainerRef(),Du(qv(y),p,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=fD(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),u=Fg(this._lContainer,a);u&&(wo(qv(this._lContainer),a),G1(u[1],u))}detach(o){const a=this._adjustIndex(o,-1),u=Fg(this._lContainer,a);return u&&null!=wo(qv(this._lContainer),a)?new Xd(u):null}_adjustIndex(o,a=0){return null==o?this.length+a:o}};function fD(s){return s[8]}function qv(s){return s[8]||(s[8]=[])}function oh(s,o){let a;const u=o[s.index];if(ci(u))a=u;else{let d;if(8&s.type)d=qt(u);else{const p=o[11];d=p.createComment("");const y=Zn(s,o);Rl(p,yf(p,y),d,function ab(s,o){return Yt(s)?s.nextSibling(o):o.nextSibling}(p,y),!1)}o[s.index]=a=kb(u,o,d,s),Xg(o,a)}return new hD(a,s,o)}class bp{constructor(o){this.queryList=o,this.matches=null}clone(){return new bp(this.queryList)}setDirty(){this.queryList.setDirty()}}class r_{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const u=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let p=0;p<u;p++){const y=a.getByIndex(p);d.push(this.queries[y.indexInDeclarationView].clone())}return new r_(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==Xv(o,a).matches&&this.queries[a].setDirty()}}class ah{constructor(o,a,u=null){this.predicate=o,this.flags=a,this.read=u}}class no{constructor(o=[]){this.queries=o}elementStart(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let u=0;u<this.length;u++){const d=null!==a?a.length:0,p=this.getByIndex(u).embeddedTView(o,d);p&&(p.indexInDeclarationView=u,null!==a?a.push(p):a=[p])}return null!==a?new no(a):null}template(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class wp{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new wp(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let d=0;d<u.length;d++){const p=u[d];this.matchTNodeWithReadOption(o,a,gD(a,p)),this.matchTNodeWithReadOption(o,a,Uc(a,o,p,!1,!1))}else u===Xa?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Uc(a,o,u,!1,!1))}matchTNodeWithReadOption(o,a,u){if(null!==u){const d=this.metadata.read;if(null!==d)if(d===rc||d===n_||d===Xa&&4&a.type)this.addMatch(a.index,-2);else{const p=Uc(a,o,d,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,u)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function gD(s,o){const a=s.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===o)return a[u+1];return null}function mD(s,o,a,u){return-1===a?function Dp(s,o){return 11&s.type?Jl(s,o):4&s.type?vp(s,o):null}(o,s):-2===a?function _D(s,o,a){return a===rc?Jl(o,s):a===Xa?vp(o,s):a===n_?oh(o,s):void 0}(s,o,u):Si(s,s[1],a,o)}function Zv(s,o,a,u){const d=o[19].queries[u];if(null===d.matches){const p=s.data,y=a.matches,w=[];for(let D=0;D<y.length;D+=2){const I=y[D];w.push(I<0?null:mD(o,p[I],y[D+1],a.metadata.read))}d.matches=w}return d.matches}function Kv(s,o,a,u){const d=s.queries.getByIndex(a),p=d.matches;if(null!==p){const y=Zv(s,o,d,a);for(let w=0;w<p.length;w+=2){const D=p[w];if(D>0)u.push(y[w/2]);else{const I=p[w+1],N=o[-D];for(let P=10;P<N.length;P++){const j=N[P];j[17]===j[3]&&Kv(j[1],j,I,u)}if(null!==N[9]){const P=N[9];for(let j=0;j<P.length;j++){const K=P[j];Kv(K[1],K,I,u)}}}}}return u}function yD(s){const o=Ee(),a=Nt(),u=Da();pu(u+1);const d=Xv(a,u);if(s.dirty&&Ho(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const p=d.crossesNgTemplate?Kv(a,o,u,[]):Zv(a,o,d,u);s.reset(p,Qd),s.notifyOnChanges()}return!0}return!1}function Ep(s,o,a){const u=Nt();u.firstCreatePass&&(Qv(u,new ah(s,o,a),-1),2==(2&o)&&(u.staticViewQueries=!0)),Jv(u,Ee(),o)}function Yv(s,o,a,u){const d=Nt();if(d.firstCreatePass){const p=_n();Qv(d,new ah(o,a,u),p.index),function wT(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(d,s),2==(2&a)&&(d.staticContentQueries=!0)}Jv(d,Ee(),a)}function vD(){return function bD(s,o){return s[19].queries[o].queryList}(Ee(),Da())}function Jv(s,o,a){const u=new ac(4==(4&a));xf(s,o,u,u.destroy),null===o[19]&&(o[19]=new r_),o[19].queries.push(new bp(u))}function Qv(s,o,a){null===s.queries&&(s.queries=new no),s.queries.track(new wp(o,a))}function Xv(s,o){return s.queries.getByIndex(o)}function e0(s,o){return vp(s,o)}function tl(...s){}const a_=new fn("Application Initializer");let eu=(()=>{class s{constructor(a){this.appInits=a,this.resolve=tl,this.reject=tl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,d)=>{this.resolve=u,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(vm(p))a.push(p);else if(bm(p)){const y=new Promise((w,D)=>{p.subscribe({complete:w,error:D})});a.push(y)}}Promise.all(a).then(()=>{u()}).catch(d=>{this.reject(d)}),0===a.length&&u(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(Fe(a_,8))},s.\u0275prov=$t({token:s,factory:s.\u0275fac}),s})();const xD=new fn("AppId"),kD={provide:xD,useFactory:function RD(){return`${s0()}${s0()}${s0()}`},deps:[]};function s0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const l_=new fn("Platform Initializer"),PD=new fn("Platform ID"),o0=new fn("appBootstrapListener");let Pi=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=$t({token:s,factory:s.\u0275fac}),s})();const Np=new fn("LocaleId"),Mp=new fn("DefaultCurrencyCode");class fh{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let u_=(()=>{class s{compileModuleSync(a){return new Xm(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),p=g(Vn(a).declarations).reduce((y,w)=>{const D=Ln(w);return D&&y.push(new Jm(D)),y},[]);return new fh(u,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=$t({token:s,factory:s.\u0275fac}),s})();const ph=(()=>Promise.resolve(0))();function c_(s){"undefined"==typeof Zone?ph.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class wr{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new na(!1),this.onMicrotaskEmpty=new na(!1),this.onStable=new na(!1),this.onError=new na(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!u&&a,d.shouldCoalesceRunChangeDetection=u,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function tu(){let s=Rt.requestAnimationFrame,o=Rt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function RT(s){const o=()=>{!function xT(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Rt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,l0(s),s.isCheckStableRunning=!0,d_(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),l0(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,d,p,y,w)=>{try{return LD(s),a.invokeTask(d,p,y,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),Op(s)}},onInvoke:(a,u,d,p,y,w,D)=>{try{return LD(s),a.invoke(d,p,y,w,D)}finally{s.shouldCoalesceRunChangeDetection&&o(),Op(s)}},onHasTask:(a,u,d,p)=>{a.hasTask(d,p),u===d&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,l0(s),d_(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,u,d,p)=>(a.handleError(d,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!wr.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(wr.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,a,u){return this._inner.run(o,a,u)}runTask(o,a,u,d){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+d,o,a0,tl,tl);try{return p.runTask(y,a,u)}finally{p.cancelTask(y)}}runGuarded(o,a,u){return this._inner.runGuarded(o,a,u)}runOutsideAngular(o){return this._outer.run(o)}}const a0={};function d_(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function l0(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function LD(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Op(s){s._nesting--,d_(s)}class gh{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new na,this.onMicrotaskEmpty=new na,this.onStable=new na,this.onError=new na}run(o,a,u){return o.apply(a,u)}runGuarded(o,a,u){return o.apply(a,u)}runOutsideAngular(o){return o()}runTask(o,a,u,d){return o.apply(a,u)}}let u0=(()=>{class s{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{wr.assertNotInAngularZone(),c_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())c_(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,d){let p=-1;u&&u>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:d})}whenStable(a,u,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,u,d){return[]}}return s.\u0275fac=function(a){return new(a||s)(Fe(wr))},s.\u0275prov=$t({token:s,factory:s.\u0275fac}),s})(),VD=(()=>{class s{constructor(){this._applications=new Map,ra.addToWindow(this)}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return ra.findTestabilityInTree(this,a,u)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=$t({token:s,factory:s.\u0275fac}),s})();class kT{addToWindow(o){}findTestabilityInTree(o,a,u){return null}}function BD(s){ra=s}let rs,ra=new kT;const h_=new fn("AllowMultipleToken");class xp{constructor(o,a){this.name=o,this.token=a}}function p_(s,o,a=[]){const u=`Platform: ${o}`,d=new fn(u);return(p=[])=>{let y=g_();if(!y||y.injector.get(h_,!1))if(s)s(a.concat(p).concat({provide:d,useValue:!0}));else{const w=a.concat(p).concat({provide:d,useValue:!0},{provide:kf,useValue:"platform"});!function f_(s){if(rs&&!rs.destroyed&&!rs.injector.get(h_,!1))throw new Me(400,"");rs=s.get(d0);const o=s.get(l_,null);o&&o.forEach(a=>a())}(an.create({providers:w,name:u}))}return function LT(s){const o=g_();if(!o)throw new Me(401,"");return o}()}}function g_(){return rs&&!rs.destroyed?rs:null}let d0=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const w=function BT(s,o){let a;return a="noop"===s?new gh:("zone.js"===s?void 0:s)||new wr({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),a}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),D=[{provide:wr,useValue:w}];return w.run(()=>{const I=an.create({providers:D,parent:this.injector,name:a.moduleType.name}),N=a.create(I),P=N.injector.get(Ht,null);if(!P)throw new Me(402,"");return w.runOutsideAngular(()=>{const j=w.onError.subscribe({next:K=>{P.handleError(K)}});N.onDestroy(()=>{f0(this._modules,N),j.unsubscribe()})}),function UD(s,o,a){try{const u=a();return vm(u)?u.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):u}catch(u){throw o.runOutsideAngular(()=>s.handleError(u)),u}}(P,w,()=>{const j=N.injector.get(eu);return j.runInitializers(),j.donePromise.then(()=>(function ni(s){(function rt(s,o){null==s&&st(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(Dv=s.toLowerCase().replace(/_/g,"-"))}(N.injector.get(Np,Um)||Um),this._moduleDoBootstrap(N),N))})})}bootstrapModule(a,u=[]){const d=h0({},u);return function PT(s,o,a){const u=new Xm(a);return Promise.resolve(u)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(a){const u=a.injector.get(hc);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>u.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Me(403,"");a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Me(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(Fe(an))},s.\u0275prov=$t({token:s,factory:s.\u0275fac}),s})();function h0(s,o){return Array.isArray(o)?o.reduce(h0,s):Object.assign(Object.assign({},s),o)}let hc=(()=>{class s{constructor(a,u,d,p,y){this._zone=a,this._injector=u,this._exceptionHandler=d,this._componentFactoryResolver=p,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new k.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),D=new k.y(I=>{let N;this._zone.runOutsideAngular(()=>{N=this._zone.onStable.subscribe(()=>{wr.assertNotInAngularZone(),c_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const P=this._zone.onUnstable.subscribe(()=>{wr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{N.unsubscribe(),P.unsubscribe()}});this.isStable=(0,le.T)(w,D.pipe((0,te.B)()))}bootstrap(a,u){if(!this._initStatus.done)throw new Me(405,"");let d;d=a instanceof Pv?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(d.componentType);const p=function c0(s){return s.isBoundToModule}(d)?void 0:this._injector.get(oc),w=d.create(an.NULL,[],u||d.selector,p),D=w.location.nativeElement,I=w.injector.get(u0,null),N=I&&w.injector.get(VD);return I&&N&&N.registerApplication(D,I),w.onDestroy(()=>{this.detachView(w.hostView),f0(this.components,w),N&&N.unregisterApplication(D)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Me(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;f0(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(o0,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(a){return new(a||s)(Fe(wr),Fe(an),Fe(Ht),Fe(Yl),Fe(eu))},s.\u0275prov=$t({token:s,factory:s.\u0275fac}),s})();function f0(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let g0=!0,jD=!1;function mh(){return jD=!0,g0}function _h(){if(jD)throw new Error("Cannot enable prod mode after platform setup.");g0=!1}let GD=(()=>{class s{}return s.__NG_ELEMENT_ID__=jT,s})();function jT(s){return function y0(s,o,a){if(al(s)&&!a){const u=Kn(s.index,o);return new Xd(u,u)}return 47&s.type?new Xd(o[16],o):null}(_n(),Ee(),16==(16&s))}class QD{constructor(){}supports(o){return qu(o)}create(o){return new qT(o)}}const zT=(s,o)=>o;class qT{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||zT}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,u=this._removalsHead,d=0,p=null;for(;a||u;){const y=!u||a&&a.currentIndex<y_(u,d,p)?a:u,w=y_(y,d,p),D=y.currentIndex;if(y===u)d--,u=u._nextRemoved;else if(a=a._next,null==y.previousIndex)d++;else{p||(p=[]);const I=w-d,N=D-d;if(I!=N){for(let j=0;j<I;j++){const K=j<p.length?p[j]:p[j]=0,ge=K+j;N<=ge&&ge<I&&(p[j]=K+1)}p[y.previousIndex]=N-I}}w!==D&&o(y,w,D)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!qu(o))throw new Me(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,p,y,a=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)p=o[w],y=this._trackByFn(w,p),null!==a&&Object.is(a.trackById,y)?(u&&(a=this._verifyReinsertion(a,p,y,w)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,y,w),u=!0),a=a._next}else d=0,function nw(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[zu()]();let u;for(;!(u=a.next()).done;)o(u.value)}}(o,w=>{y=this._trackByFn(d,w),null!==a&&Object.is(a.trackById,y)?(u&&(a=this._verifyReinsertion(a,w,y,d)),Object.is(a.item,w)||this._addIdentityChange(a,w)):(a=this._mismatch(a,w,y,d),u=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,u,d){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,d)):o=this._addAfter(new XD(a,u),p,d),o}_verifyReinsertion(o,a,u,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==p?o=this._reinsertAfter(p,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,p=o._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(o,a,u),this._addToMoves(o,u),o}_moveAfter(o,a,u){return this._unlink(o),this._insertAfter(o,a,u),this._addToMoves(o,u),o}_addAfter(o,a,u){return this._insertAfter(o,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,u){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new vh),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,u=o._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vh),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class XD{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class __{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const a=o._prevDup,u=o._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class vh{constructor(){this.map=new Map}put(o){const a=o.trackById;let u=this.map.get(a);u||(u=new __,this.map.set(a,u)),u.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function y_(s,o,a){const u=s.previousIndex;if(null===u)return u;let d=0;return a&&u<a.length&&(d=a[u]),u+o+d}class D0{constructor(){}supports(o){return o instanceof Map||cm(o)}create(){return new ZT}}class ZT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||cm(o)))throw new Me(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(d,u);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const u=o._prev;return a._next=o,a._prev=u,o._prev=a,u&&(u._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const p=d._prev,y=d._next;return p&&(p._next=y),y&&(y._prev=p),d._next=null,d._prev=null,d}const u=new KT(o);return this._records.set(o,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(u=>a(o[u],u))}}class KT{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function e1(){return new v_([new QD])}let v_=(()=>{class s{constructor(a){this.factories=a}static create(a,u){if(null!=u){const d=u.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:u=>s.create(a,u||e1()),deps:[[s,new xr,new gr]]}}find(a){const u=this.factories.find(d=>d.supports(a));if(null!=u)return u;throw new Me(901,"")}}return s.\u0275prov=$t({token:s,providedIn:"root",factory:e1}),s})();function bh(){return new wh([new D0])}let wh=(()=>{class s{constructor(a){this.factories=a}static create(a,u){if(u){const d=u.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:u=>s.create(a,u||bh()),deps:[[s,new xr,new gr]]}}find(a){const u=this.factories.find(p=>p.supports(a));if(u)return u;throw new Me(901,"")}}return s.\u0275prov=$t({token:s,providedIn:"root",factory:bh}),s})();const Dh=[new D0],b_=new v_([new QD]),Fp=new wh(Dh),n1=p_(null,"core",[{provide:PD,useValue:"unknown"},{provide:d0,deps:[an]},{provide:VD,deps:[]},{provide:Pi,deps:[]}]),YT=[{provide:hc,useClass:hc,deps:[wr,an,Ht,Yl,eu]},{provide:eh,deps:[wr],useFactory:function I0(s){let o=[];return s.onStable.subscribe(()=>{for(;o.length;)o.pop()()}),function(a){o.push(a)}}},{provide:eu,useClass:eu,deps:[[new gr,a_]]},{provide:u_,useClass:u_,deps:[]},kD,{provide:v_,useFactory:function T0(){return b_},deps:[]},{provide:wh,useFactory:function C0(){return Fp},deps:[]},{provide:Np,useFactory:function nu(s){return s||function r1(){return"undefined"!=typeof $localize&&$localize.locale||Um}()},deps:[[new Or(Np),new gr,new xr]]},{provide:Mp,useValue:"USD"}];let JT=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(Fe(hc))},s.\u0275mod=Er({type:s}),s.\u0275inj=Wt({providers:YT}),s})()},3942:(et,De,R)=>{"use strict";R.d(De,{Z:()=>Me});var c=R(2090),Y=R(4859),k=R(9681),le=R(1877);class te{constructor(z,ee){this._delegate=z,this.firebase=ee,(0,k._addComponent)(z,new Y.wA("app-compat",()=>this,"PUBLIC")),this.container=z.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(z){this._delegate.automaticDataCollectionEnabled=z}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(z=>{this._delegate.checkDestroyed(),z()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(z,ee=k._DEFAULT_ENTRY_NAME){var me;this._delegate.checkDestroyed();const Te=this._delegate.container.getProvider(z);return!Te.isInitialized()&&"EXPLICIT"===(null===(me=Te.getComponent())||void 0===me?void 0:me.instantiationMode)&&Te.initialize(),Te.getImmediate({identifier:ee})}_removeServiceInstance(z,ee=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(z).clearInstance(ee)}_addComponent(z){(0,k._addComponent)(this._delegate,z)}_addOrOverwriteComponent(z){(0,k._addOrOverwriteComponent)(this._delegate,z)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const re=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function ae(){const Le=function fe(Le){const z={},ee={__esModule:!0,initializeApp:function de(Ge,se={}){const Z=k.initializeApp(Ge,se);if((0,c.r3)(z,Z.name))return z[Z.name];const ie=new Le(Z,ee);return z[Z.name]=ie,ie},app:Te,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function Ce(Ge){const se=Ge.name,Z=se.replace("-compat","");if(k._registerComponent(Ge)&&"PUBLIC"===Ge.type){const ie=(_e=Te())=>{if("function"!=typeof _e[Z])throw re.create("invalid-app-argument",{appName:se});return _e[Z]()};void 0!==Ge.serviceProps&&(0,c.ZB)(ie,Ge.serviceProps),ee[Z]=ie,Le.prototype[Z]=function(..._e){return this._getService.bind(this,se).apply(this,Ge.multipleInstances?_e:[])}}return"PUBLIC"===Ge.type?ee[Z]:null},removeApp:function me(Ge){delete z[Ge]},useAsService:function qe(Ge,se){return"serverAuth"===se?null:se},modularAPIs:k}};function Te(Ge){if(!(0,c.r3)(z,Ge=Ge||k._DEFAULT_ENTRY_NAME))throw re.create("no-app",{appName:Ge});return z[Ge]}return ee.default=ee,Object.defineProperty(ee,"apps",{get:function xe(){return Object.keys(z).map(Ge=>z[Ge])}}),Te.App=Le,ee}(te);return Le.INTERNAL=Object.assign(Object.assign({},Le.INTERNAL),{createFirebaseNamespace:ae,extendNamespace:function z(ee){(0,c.ZB)(Le,ee)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Le}(),U=new le.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){U.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Le=self.firebase.SDK_VERSION;Le&&Le.indexOf("LITE")>=0&&U.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Me=H;!function Ie(Le){(0,k.registerVersion)("@firebase/app-compat","0.1.17",Le)}()},9681:(et,De,R)=>{"use strict";R.r(De),R.d(De,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>Dr,_DEFAULT_ENTRY_NAME:()=>Mn,_addComponent:()=>Zt,_addOrOverwriteComponent:()=>dr,_apps:()=>st,_clearComponents:()=>Mt,_components:()=>kn,_getProvider:()=>Fi,_registerComponent:()=>$t,_removeServiceInstance:()=>Wt,deleteApp:()=>Vi,getApp:()=>Ps,getApps:()=>li,initializeApp:()=>Li,onLog:()=>Pn,registerVersion:()=>Ur,setLogLevel:()=>Tn});var c=R(5861),Y=R(4859),k=R(1877),le=R(2090);class te{constructor(Ke){this.container=Ke}getPlatformInfoString(){return this.container.getProviders().map(St=>{if(function pe(ft){const Ke=ft.getComponent();return"VERSION"===(null==Ke?void 0:Ke.type)}(St)){const sn=St.getImmediate();return`${sn.library}/${sn.version}`}return null}).filter(St=>St).join(" ")}}const re="@firebase/app",ae=new k.Yd("@firebase/app"),Mn="[DEFAULT]",rt={[re]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},st=new Map,kn=new Map;function Zt(ft,Ke){try{ft.container.addComponent(Ke)}catch(St){ae.debug(`Component ${Ke.name} failed to register with FirebaseApp ${ft.name}`,St)}}function dr(ft,Ke){ft.container.addOrOverwriteComponent(Ke)}function $t(ft){const Ke=ft.name;if(kn.has(Ke))return ae.debug(`There were multiple attempts to register component ${Ke}.`),!1;kn.set(Ke,ft);for(const St of st.values())Zt(St,ft);return!0}function Fi(ft,Ke){return ft.container.getProvider(Ke)}function Wt(ft,Ke,St=Mn){Fi(ft,Ke).clearInstance(St)}function Mt(){kn.clear()}const ir=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class ks{constructor(Ke,St,sn){this._isDeleted=!1,this._options=Object.assign({},Ke),this._config=Object.assign({},St),this._name=St.name,this._automaticDataCollectionEnabled=St.automaticDataCollectionEnabled,this._container=sn,this.container.addComponent(new Y.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ke){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ke}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ke){this._isDeleted=Ke}checkDestroyed(){if(this.isDeleted)throw ir.create("app-deleted",{appName:this._name})}}const Dr="9.6.6";function Li(ft,Ke={}){"object"!=typeof Ke&&(Ke={name:Ke});const St=Object.assign({name:Mn,automaticDataCollectionEnabled:!1},Ke),sn=St.name;if("string"!=typeof sn||!sn)throw ir.create("bad-app-name",{appName:String(sn)});const hr=st.get(sn);if(hr){if((0,le.vZ)(ft,hr.options)&&(0,le.vZ)(St,hr.config))return hr;throw ir.create("duplicate-app",{appName:sn})}const At=new Y.H0(sn);for(const ot of kn.values())At.addComponent(ot);const Ye=new ks(ft,St,At);return st.set(sn,Ye),Ye}function Ps(ft=Mn){const Ke=st.get(ft);if(!Ke)throw ir.create("no-app",{appName:ft});return Ke}function li(){return Array.from(st.values())}function Vi(ft){return dt.apply(this,arguments)}function dt(){return(dt=(0,c.Z)(function*(ft){const Ke=ft.name;st.has(Ke)&&(st.delete(Ke),yield Promise.all(ft.container.getProviders().map(St=>St.delete())),ft.isDeleted=!0)})).apply(this,arguments)}function Ur(ft,Ke,St){var sn;let hr=null!==(sn=rt[ft])&&void 0!==sn?sn:ft;St&&(hr+=`-${St}`);const At=hr.match(/\s|\//),Ye=Ke.match(/\s|\//);if(At||Ye){const ot=[`Unable to register library "${hr}" with version "${Ke}":`];return At&&ot.push(`library name "${hr}" contains illegal characters (whitespace or "/")`),At&&Ye&&ot.push("and"),Ye&&ot.push(`version name "${Ke}" contains illegal characters (whitespace or "/")`),void ae.warn(ot.join(" "))}$t(new Y.wA(`${hr}-version`,()=>({library:hr,version:Ke}),"VERSION"))}function Pn(ft,Ke){if(null!==ft&&"function"!=typeof ft)throw ir.create("invalid-log-argument");(0,k.Am)(ft,Ke)}function Tn(ft){(0,k.Ub)(ft)}!function so(ft){$t(new Y.wA("platform-logger",Ke=>new te(Ke),"PRIVATE")),Ur(re,"0.7.16",ft),Ur(re,"0.7.16","esm2017"),Ur("fire-js","")}("")},4859:(et,De,R)=>{"use strict";R.d(De,{wA:()=>k,H0:()=>fe});var c=R(5861),Y=R(2090);class k{constructor(H,U,J){this.name=H,this.instanceFactory=U,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const le="[DEFAULT]";class te{constructor(H,U){this.name=H,this.container=U,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const U=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(U)){const J=new Y.BH;if(this.instancesDeferred.set(U,J),this.isInitialized(U)||this.shouldAutoInitialize())try{const Ve=this.getOrInitializeService({instanceIdentifier:U});Ve&&J.resolve(Ve)}catch(Ve){}}return this.instancesDeferred.get(U).promise}getImmediate(H){var U;const J=this.normalizeInstanceIdentifier(null==H?void 0:H.identifier),Ve=null!==(U=null==H?void 0:H.optional)&&void 0!==U&&U;if(!this.isInitialized(J)&&!this.shouldAutoInitialize()){if(Ve)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:J})}catch(Ie){if(Ve)return null;throw Ie}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function re(ae){return"EAGER"===ae.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:le})}catch(U){}for(const[U,J]of this.instancesDeferred.entries()){const Ve=this.normalizeInstanceIdentifier(U);try{const Ie=this.getOrInitializeService({instanceIdentifier:Ve});J.resolve(Ie)}catch(Ie){}}}}clearInstance(H=le){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,c.Z)(function*(){const U=Array.from(H.instances.values());yield Promise.all([...U.filter(J=>"INTERNAL"in J).map(J=>J.INTERNAL.delete()),...U.filter(J=>"_delete"in J).map(J=>J._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=le){return this.instances.has(H)}getOptions(H=le){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:U={}}=H,J=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(J))throw Error(`${this.name}(${J}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ve=this.getOrInitializeService({instanceIdentifier:J,options:U});for(const[Ie,Me]of this.instancesDeferred.entries())J===this.normalizeInstanceIdentifier(Ie)&&Me.resolve(Ve);return Ve}onInit(H,U){var J;const Ve=this.normalizeInstanceIdentifier(U),Ie=null!==(J=this.onInitCallbacks.get(Ve))&&void 0!==J?J:new Set;Ie.add(H),this.onInitCallbacks.set(Ve,Ie);const Me=this.instances.get(Ve);return Me&&H(Me,Ve),()=>{Ie.delete(H)}}invokeOnInitCallbacks(H,U){const J=this.onInitCallbacks.get(U);if(J)for(const Ve of J)try{Ve(H,U)}catch(Ie){}}getOrInitializeService({instanceIdentifier:H,options:U={}}){let J=this.instances.get(H);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:(ae=H,ae===le?void 0:ae),options:U}),this.instances.set(H,J),this.instancesOptions.set(H,U),this.invokeOnInitCallbacks(J,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,J)}catch(Ve){}var ae;return J||null}normalizeInstanceIdentifier(H=le){return this.component?this.component.multipleInstances?H:le:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const U=this.getProvider(H.name);if(U.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);U.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const U=new te(H,this);return this.providers.set(H,U),U}getProviders(){return Array.from(this.providers.values())}}},1877:(et,De,R)=>{"use strict";R.d(De,{in:()=>Y,Yd:()=>re,Ub:()=>fe,Am:()=>ae});const c=[];var Y=(()=>{return(H=Y||(Y={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",Y;var H})();const k={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},le=Y.INFO,te={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},pe=(H,U,...J)=>{if(U<H.logLevel)return;const Ve=(new Date).toISOString(),Ie=te[U];if(!Ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${U})`);console[Ie](`[${Ve}]  ${H.name}:`,...J)};class re{constructor(U){this.name=U,this._logLevel=le,this._logHandler=pe,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(U){if(!(U in Y))throw new TypeError(`Invalid value "${U}" assigned to \`logLevel\``);this._logLevel=U}setLogLevel(U){this._logLevel="string"==typeof U?k[U]:U}get logHandler(){return this._logHandler}set logHandler(U){if("function"!=typeof U)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=U}get userLogHandler(){return this._userLogHandler}set userLogHandler(U){this._userLogHandler=U}debug(...U){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...U),this._logHandler(this,Y.DEBUG,...U)}log(...U){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...U),this._logHandler(this,Y.VERBOSE,...U)}info(...U){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...U),this._logHandler(this,Y.INFO,...U)}warn(...U){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...U),this._logHandler(this,Y.WARN,...U)}error(...U){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...U),this._logHandler(this,Y.ERROR,...U)}}function fe(H){c.forEach(U=>{U.setLogLevel(H)})}function ae(H,U){for(const J of c){let Ve=null;U&&U.level&&(Ve=k[U.level]),J.userLogHandler=null===H?null:(Ie,Me,...Le)=>{const z=Le.map(ee=>{if(null==ee)return null;if("string"==typeof ee)return ee;if("number"==typeof ee||"boolean"==typeof ee)return ee.toString();if(ee instanceof Error)return ee.message;try{return JSON.stringify(ee)}catch(me){return null}}).filter(ee=>ee).join(" ");Me>=(null!=Ve?Ve:Ie.logLevel)&&H({level:Y[Me].toLowerCase(),message:z,args:Le,type:Ie.name})}}}},5861:(et,De,R)=>{"use strict";function c(k,le,te,pe,re,fe,ae){try{var H=k[fe](ae),U=H.value}catch(J){return void te(J)}H.done?le(U):Promise.resolve(U).then(pe,re)}function Y(k){return function(){var le=this,te=arguments;return new Promise(function(pe,re){var fe=k.apply(le,te);function ae(U){c(fe,pe,re,ae,H,"next",U)}function H(U){c(fe,pe,re,ae,H,"throw",U)}ae(void 0)})}}R.d(De,{Z:()=>Y})}},et=>{et(et.s=8279)}]);