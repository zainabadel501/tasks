(self.webpackChunktask=self.webpackChunktask||[]).push([[179],{2011:(it,De,P)=>{"use strict";P.d(De,{hO:()=>je,xv:()=>le,Dh:()=>ge,GT:()=>me,cc:()=>Ie,on:()=>G,pX:()=>ie});var c=P(5e3),Q=P(127),F=P(5813);it=P.hmd(it);const ce=["ngOnDestroy"],ie=(ne,ye,Te,fe={})=>new Proxy(ne,{get:(Re,Se)=>Te.runOutsideAngular(()=>{var Je;if(ne[Se])return(null===(Je=null==fe?void 0:fe.spy)||void 0===Je?void 0:Je.get)&&fe.spy.get(Se,ne[Se]),ne[Se];if(ce.indexOf(Se)>-1)return()=>{};const qe=ye.toPromise().then(oe=>{const Y=oe&&oe[Se];return"function"==typeof Y?Y.bind(oe):Y&&Y.then?Y.then(se=>Te.run(()=>se)):Te.run(()=>Y)});return new Proxy(()=>{},{get:(oe,Y)=>qe[Y],apply:(oe,Y,se)=>qe.then(ve=>{var ae;const Pe=ve&&ve(...se);return(null===(ae=null==fe?void 0:fe.spy)||void 0===ae?void 0:ae.apply)&&fe.spy.apply(Se,se,Pe),Pe})})})}),me=(ne,ye)=>{ye.forEach(Te=>{Object.getOwnPropertyNames(Te.prototype||Te).forEach(fe=>{Object.defineProperty(ne.prototype,fe,Object.getOwnPropertyDescriptor(Te.prototype||Te,fe))})})};class ee{constructor(ye){return ye}}const ge=new c.OlP("angularfire2.app.options"),le=new c.OlP("angularfire2.app.name");function G(ne,ye,Te){const Re="object"==typeof Te&&Te||{};Re.name=Re.name||"string"==typeof Te&&Te||"[DEFAULT]";const Je=Q.Z.apps.filter(qe=>qe&&qe.name===Re.name)[0]||ye.runOutsideAngular(()=>Q.Z.initializeApp(ne,Re));try{JSON.stringify(ne)!==JSON.stringify(Je.options)&&j("error",`${Je.name} Firebase App already initialized with different options${it.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(qe){}return new ee(Je)}const j=(ne,...ye)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[ne](...ye)},X={provide:ee,useFactory:G,deps:[ge,c.R0b,[new c.FiY,le]]};let je=(()=>{class ne{constructor(Te){Q.Z.registerVersion("angularfire",F.q4.full,"core"),Q.Z.registerVersion("angularfire",F.q4.full,"app-compat"),Q.Z.registerVersion("angular",c.q4F.full,Te.toString())}static initializeApp(Te,fe){return{ngModule:ne,providers:[{provide:ge,useValue:Te},{provide:le,useValue:fe}]}}}return ne.\u0275fac=function(Te){return new(Te||ne)(c.LFG(c.Lbi))},ne.\u0275mod=c.oAB({type:ne}),ne.\u0275inj=c.cJS({providers:[X]}),ne})();function Ie(ne,ye,Te,fe,Re){const[,Se,Je]=globalThis.\u0275AngularfireInstanceCache.find(qe=>qe[0]===ne)||[];if(Se)return function Ne(ne,ye){try{return ne.toString()===ye.toString()}catch(Te){return ne===ye}}(Re,Je)||(W("error",`${ye} was already initialized on the ${Te} Firebase App with different settings.${Ve?" You may need to reload as Firebase is not HMR aware.":""}`),W("warn",{is:Re,was:Je})),Se;{const qe=fe();return globalThis.\u0275AngularfireInstanceCache.push([ne,qe,Re]),qe}}const Ve=!!it.hot,W=(ne,...ye)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[ne](...ye)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(it,De,P)=>{"use strict";P.d(De,{q4:()=>Bs,iC:()=>cs,fc:()=>Uo,HU:()=>ou,vb:()=>kd,JM:()=>Pf});var c=P(5e3),Q=P(5867),F=P(5861),ce=P(9681),ie=P(2090),me=P(4859),ee=P(1877),ge=P(2940);const le="@firebase/installations",G="0.5.5",X=`w:${G}`,je="FIS_v2",ye=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Te(C){return C instanceof ie.ZR&&C.code.includes("request-failed")}function fe({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function Re(C){return{token:C.token,requestStatus:2,expiresIn:ve(C.expiresIn),creationTime:Date.now()}}function Se(C,S){return Je.apply(this,arguments)}function Je(){return(Je=(0,F.Z)(function*(C,S){const B=(yield S.json()).error;return ye.create("request-failed",{requestName:C,serverCode:B.code,serverMessage:B.message,serverStatus:B.status})})).apply(this,arguments)}function qe({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function oe(C,{refreshToken:S}){const N=qe(C);return N.append("Authorization",function ae(C){return`${je} ${C}`}(S)),N}function Y(C){return se.apply(this,arguments)}function se(){return(se=(0,F.Z)(function*(C){const S=yield C();return S.status>=500&&S.status<600?C():S})).apply(this,arguments)}function ve(C){return Number(C.replace("s","000"))}function Pe(C,S){return pe.apply(this,arguments)}function pe(){return(pe=(0,F.Z)(function*(C,{fid:S}){const N=fe(C),re={method:"POST",headers:qe(C),body:JSON.stringify({fid:S,authVersion:je,appId:C.appId,sdkVersion:X})},Me=yield Y(()=>fetch(N,re));if(Me.ok){const Be=yield Me.json();return{fid:Be.fid||S,registrationStatus:2,refreshToken:Be.refreshToken,authToken:Re(Be.authToken)}}throw yield Se("Create Installation",Me)})).apply(this,arguments)}function bt(C){return new Promise(S=>{setTimeout(S,C)})}const Vn=/^[cdef][\w-]{21}$/;function ut(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const N=function zn(C){return function Wt(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Vn.test(N)?N:""}catch(C){return""}}function nn(C){return`${C.appName}!${C.appId}`}const Di=new Map;function Qt(C,S){const N=nn(C);Lt(N,S),function Es(C,S){const N=function to(){return!_i&&"BroadcastChannel"in self&&(_i=new BroadcastChannel("[Firebase] FID Change"),_i.onmessage=C=>{Lt(C.data.key,C.data.fid)}),_i}();N&&N.postMessage({key:C,fid:S}),function Fi(){0===Di.size&&_i&&(_i.close(),_i=null)}()}(N,S)}function Lt(C,S){const N=Di.get(C);if(N)for(const B of N)B(S)}let _i=null;const wr="firebase-installations-store";let Xr=null;function gt(){return Xr||(Xr=(0,ge.openDb)("firebase-installations-database",1,C=>{0===C.oldVersion&&C.createObjectStore(wr)})),Xr}function er(C,S){return qn.apply(this,arguments)}function qn(){return(qn=(0,F.Z)(function*(C,S){const N=nn(C),K=(yield gt()).transaction(wr,"readwrite"),re=K.objectStore(wr),Me=yield re.get(N);return yield re.put(S,N),yield K.complete,(!Me||Me.fid!==S.fid)&&Qt(C,S.fid),S})).apply(this,arguments)}function xn(C){return Co.apply(this,arguments)}function Co(){return(Co=(0,F.Z)(function*(C){const S=nn(C),B=(yield gt()).transaction(wr,"readwrite");yield B.objectStore(wr).delete(S),yield B.complete})).apply(this,arguments)}function _t(C,S){return et.apply(this,arguments)}function et(){return(et=(0,F.Z)(function*(C,S){const N=nn(C),K=(yield gt()).transaction(wr,"readwrite"),re=K.objectStore(wr),Me=yield re.get(N),Be=S(Me);return void 0===Be?yield re.delete(N):yield re.put(Be,N),yield K.complete,Be&&(!Me||Me.fid!==Be.fid)&&Qt(C,Be.fid),Be})).apply(this,arguments)}function xt(C){return mn.apply(this,arguments)}function mn(){return(mn=(0,F.Z)(function*(C){let S;const N=yield _t(C,B=>{const K=Ci(B),re=Pt(C,K);return S=re.registrationPromise,re.installationEntry});return""===N.fid?{installationEntry:yield S}:{installationEntry:N,registrationPromise:S}})).apply(this,arguments)}function Ci(C){return Na(C||{fid:ut(),registrationStatus:0})}function Pt(C,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(ye.create("app-offline"))};const N={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},B=function tt(C,S){return dt.apply(this,arguments)}(C,N);return{installationEntry:N,registrationPromise:B}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:Ur(C)}:{installationEntry:S}}function dt(){return(dt=(0,F.Z)(function*(C,S){try{return er(C,yield Pe(C,S))}catch(N){throw Te(N)&&409===N.customData.serverCode?yield xn(C):yield er(C,{fid:S.fid,registrationStatus:0}),N}})).apply(this,arguments)}function Ur(C){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,F.Z)(function*(C){let S=yield Ht(C);for(;1===S.registrationStatus;)yield bt(100),S=yield Ht(C);if(0===S.registrationStatus){const{installationEntry:N,registrationPromise:B}=yield xt(C);return B||N}return S})).apply(this,arguments)}function Ht(C){return _t(C,S=>{if(!S)throw ye.create("installation-not-found");return Na(S)})}function Na(C){return function tr(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function Er(C,S){return U.apply(this,arguments)}function U(){return(U=(0,F.Z)(function*({appConfig:C,platformLoggerProvider:S},N){const B=$(C,N),K=oe(C,N),re=S.getImmediate({optional:!0});re&&K.append("x-firebase-client",re.getPlatformInfoString());const Be={method:"POST",headers:K,body:JSON.stringify({installation:{sdkVersion:X}})},Ke=yield Y(()=>fetch(B,Be));if(Ke.ok)return Re(yield Ke.json());throw yield Se("Generate Auth Token",Ke)})).apply(this,arguments)}function $(C,{fid:S}){return`${fe(C)}/${S}/authTokens:generate`}function z(C){return we.apply(this,arguments)}function we(){return(we=(0,F.Z)(function*(C,S=!1){let N;const B=yield _t(C.appConfig,re=>{if(!_n(re))throw ye.create("not-registered");const Me=re.authToken;if(!S&&nr(Me))return re;if(1===Me.requestStatus)return N=te(C,S),re;{if(!navigator.onLine)throw ye.create("app-offline");const Be=Zn(re);return N=rn(C,Be),Be}});return N?yield N:B.authToken})).apply(this,arguments)}function te(C,S){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,F.Z)(function*(C,S){let N=yield mt(C.appConfig);for(;1===N.authToken.requestStatus;)yield bt(100),N=yield mt(C.appConfig);const B=N.authToken;return 0===B.requestStatus?z(C,S):B})).apply(this,arguments)}function mt(C){return _t(C,S=>{if(!_n(S))throw ye.create("not-registered");return function Li(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function rn(C,S){return fn.apply(this,arguments)}function fn(){return(fn=(0,F.Z)(function*(C,S){try{const N=yield Er(C,S),B=Object.assign(Object.assign({},S),{authToken:N});return yield er(C.appConfig,B),N}catch(N){if(!Te(N)||401!==N.customData.serverCode&&404!==N.customData.serverCode){const B=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield er(C.appConfig,B)}else yield xn(C.appConfig);throw N}})).apply(this,arguments)}function _n(C){return void 0!==C&&2===C.registrationStatus}function nr(C){return 2===C.requestStatus&&!function Nt(C){const S=Date.now();return S<C.creationTime||C.creationTime+C.expiresIn<S+36e5}(C)}function Zn(C){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:S})}function Ra(){return(Ra=(0,F.Z)(function*(C){const S=C,{installationEntry:N,registrationPromise:B}=yield xt(S.appConfig);return B?B.catch(console.error):z(S).catch(console.error),N.fid})).apply(this,arguments)}function xa(){return(xa=(0,F.Z)(function*(C,S=!1){const N=C;return yield Wn(N.appConfig),(yield z(N,S)).token})).apply(this,arguments)}function Wn(C){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,F.Z)(function*(C){const{registrationPromise:S}=yield xt(C);S&&(yield S)})).apply(this,arguments)}function sa(C){return ye.create("missing-app-config-values",{valueName:C})}const rr="installations",It=C=>{const S=C.getProvider("app").getImmediate(),N=function yi(C){if(!C||!C.options)throw sa("App Configuration");if(!C.name)throw sa("App Name");const S=["projectId","apiKey","appId"];for(const N of S)if(!C.options[N])throw sa(N);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(S);return{app:S,appConfig:N,platformLoggerProvider:(0,ce._getProvider)(S,"platform-logger"),_delete:()=>Promise.resolve()}},un=C=>{const S=C.getProvider("app").getImmediate(),N=(0,ce._getProvider)(S,rr).getImmediate();return{getId:()=>function ka(C){return Ra.apply(this,arguments)}(N),getToken:K=>function xl(C){return xa.apply(this,arguments)}(N,K)}};(function Vi(){(0,ce._registerComponent)(new me.wA(rr,It,"PUBLIC")),(0,ce._registerComponent)(new me.wA("installations-internal",un,"PRIVATE"))})(),(0,ce.registerVersion)(le,G),(0,ce.registerVersion)(le,G,"esm2017");const Ts="@firebase/remote-config",In=new ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class la{constructor(S,N,B,K){this.client=S,this.storage=N,this.storageCache=B,this.logger=K}isCachedDataFresh(S,N){if(!N)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const B=Date.now()-N,K=B<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${B}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${K}.`),K}fetch(S){var N=this;return(0,F.Z)(function*(){const[B,K]=yield Promise.all([N.storage.getLastSuccessfulFetchTimestampMillis(),N.storage.getLastSuccessfulFetchResponse()]);if(K&&N.isCachedDataFresh(S.cacheMaxAgeMillis,B))return K;S.eTag=K&&K.eTag;const re=yield N.client.fetch(S),Me=[N.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===re.status&&Me.push(N.storage.setLastSuccessfulFetchResponse(re)),yield Promise.all(Me),re})()}}function Fl(C=navigator){return C.languages&&C.languages[0]||C.language}class Un{constructor(S,N,B,K,re,Me){this.firebaseInstallations=S,this.sdkVersion=N,this.namespace=B,this.projectId=K,this.apiKey=re,this.appId=Me}fetch(S){var N=this;return(0,F.Z)(function*(){const[B,K]=yield Promise.all([N.firebaseInstallations.getId(),N.firebaseInstallations.getToken()]),Me=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${N.projectId}/namespaces/${N.namespace}:fetch?key=${N.apiKey}`,Be={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},Ke={sdk_version:N.sdkVersion,app_instance_id:B,app_instance_id_token:K,app_id:N.appId,language_code:Fl()},Bt={method:"POST",headers:Be,body:JSON.stringify(Ke)},qt=fetch(Me,Bt),Qn=new Promise((js,qi)=>{S.signal.addEventListener(()=>{const ec=new Error("The operation was aborted.");ec.name="AbortError",qi(ec)})});let ci;try{yield Promise.race([qt,Qn]),ci=yield qt}catch(js){let qi="fetch-client-network";throw"AbortError"===js.name&&(qi="fetch-timeout"),In.create(qi,{originalErrorMessage:js.message})}let wn=ci.status;const go=ci.headers.get("ETag")||void 0;let zi,Ai;if(200===ci.status){let js;try{js=yield ci.json()}catch(qi){throw In.create("fetch-client-parse",{originalErrorMessage:qi.message})}zi=js.entries,Ai=js.state}if("INSTANCE_STATE_UNSPECIFIED"===Ai?wn=500:"NO_CHANGE"===Ai?wn=304:("NO_TEMPLATE"===Ai||"EMPTY_CONFIG"===Ai)&&(zi={}),304!==wn&&200!==wn)throw In.create("fetch-status",{httpStatus:wn});return{status:wn,eTag:go,config:zi}})()}}class Is{constructor(S,N){this.client=S,this.storage=N}fetch(S){var N=this;return(0,F.Z)(function*(){const B=(yield N.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return N.attemptFetch(S,B)})()}attemptFetch(S,{throttleEndTimeMillis:N,backoffCount:B}){var K=this;return(0,F.Z)(function*(){yield function od(C,S){return new Promise((N,B)=>{const K=Math.max(S-Date.now(),0),re=setTimeout(N,K);C.addEventListener(()=>{clearTimeout(re),B(In.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,N);try{const re=yield K.client.fetch(S);return yield K.storage.deleteThrottleMetadata(),re}catch(re){if(!function tm(C){if(!(C instanceof ie.ZR&&C.customData))return!1;const S=Number(C.customData.httpStatus);return 429===S||500===S||503===S||504===S}(re))throw re;const Me={throttleEndTimeMillis:Date.now()+(0,ie.$s)(B),backoffCount:B+1};return yield K.storage.setThrottleMetadata(Me),K.attemptFetch(S,Me)}})()}}class im{constructor(S,N,B,K,re){this.app=S,this._client=N,this._storageCache=B,this._storage=K,this._logger=re,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Fa(C,S){const N=C.target.error||void 0;return In.create(S,{originalErrorMessage:N&&N.message})}const ca="app_namespace_store";class ld{constructor(S,N,B,K=function sm(){return new Promise((C,S)=>{try{const N=indexedDB.open("firebase_remote_config",1);N.onerror=B=>{S(Fa(B,"storage-open"))},N.onsuccess=B=>{C(B.target.result)},N.onupgradeneeded=B=>{0===B.oldVersion&&B.target.result.createObjectStore(ca,{keyPath:"compositeKey"})}}catch(N){S(In.create("storage-open",{originalErrorMessage:N}))}})}()){this.appId=S,this.appName=N,this.namespace=B,this.openDbPromise=K}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var N=this;return(0,F.Z)(function*(){const B=yield N.openDbPromise;return new Promise((K,re)=>{const Be=B.transaction([ca],"readonly").objectStore(ca),Ke=N.createCompositeKey(S);try{const Bt=Be.get(Ke);Bt.onerror=qt=>{re(Fa(qt,"storage-get"))},Bt.onsuccess=qt=>{const Qn=qt.target.result;K(Qn?Qn.value:void 0)}}catch(Bt){re(In.create("storage-get",{originalErrorMessage:Bt&&Bt.message}))}})})()}set(S,N){var B=this;return(0,F.Z)(function*(){const K=yield B.openDbPromise;return new Promise((re,Me)=>{const Ke=K.transaction([ca],"readwrite").objectStore(ca),Bt=B.createCompositeKey(S);try{const qt=Ke.put({compositeKey:Bt,value:N});qt.onerror=Qn=>{Me(Fa(Qn,"storage-set"))},qt.onsuccess=()=>{re()}}catch(qt){Me(In.create("storage-set",{originalErrorMessage:qt&&qt.message}))}})})()}delete(S){var N=this;return(0,F.Z)(function*(){const B=yield N.openDbPromise;return new Promise((K,re)=>{const Be=B.transaction([ca],"readwrite").objectStore(ca),Ke=N.createCompositeKey(S);try{const Bt=Be.delete(Ke);Bt.onerror=qt=>{re(Fa(qt,"storage-delete"))},Bt.onsuccess=()=>{K()}}catch(Bt){re(In.create("storage-delete",{originalErrorMessage:Bt&&Bt.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class ua{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,F.Z)(function*(){const N=S.storage.getLastFetchStatus(),B=S.storage.getLastSuccessfulFetchTimestampMillis(),K=S.storage.getActiveConfig(),re=yield N;re&&(S.lastFetchStatus=re);const Me=yield B;Me&&(S.lastSuccessfulFetchTimestampMillis=Me);const Be=yield K;Be&&(S.activeConfig=Be)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function xy(){return La.apply(this,arguments)}function La(){return(La=(0,F.Z)(function*(){if(!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch(C){return!1}})).apply(this,arguments)}!function om(){(0,ce._registerComponent)(new me.wA("remote-config",function C(S,{instanceIdentifier:N}){const B=S.getProvider("app").getImmediate(),K=S.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw In.create("registration-window");if(!(0,ie.hl)())throw In.create("indexed-db-unavailable");const{projectId:re,apiKey:Me,appId:Be}=B.options;if(!re)throw In.create("registration-project-id");if(!Me)throw In.create("registration-api-key");if(!Be)throw In.create("registration-app-id");const Ke=new ld(Be,B.name,N=N||"firebase"),Bt=new ua(Ke),qt=new ee.Yd(Ts);qt.logLevel=ee.in.ERROR;const Qn=new Un(K,ce.SDK_VERSION,N,re,Me,Be),ci=new Is(Qn,Ke),wn=new la(ci,Ke,Bt,qt),go=new im(B,wn,Bt,Ke,qt);return function en(C){const S=(0,ie.m9)(C);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(go),go},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(Ts,"0.3.4"),(0,ce.registerVersion)(Ts,"0.3.4","esm2017")}();const oo="/firebase-messaging-sw.js",Cr="/firebase-cloud-messaging-push-scope",No="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ha="google.c.a.c_id",cd="google.c.a.c_l",am="google.c.a.ts",vn="google.c.a.e";var Ms=(()=>{return(C=Ms||(Ms={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",Ms;var C})();function Tr(C){const S=new Uint8Array(C);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function dd(C){const N=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),B=atob(N),K=new Uint8Array(B.length);for(let re=0;re<B.length;++re)K[re]=B.charCodeAt(re);return K}const ri="fcm_token_details_db",hd="fcm_token_object_Store";function fd(C){return Ll.apply(this,arguments)}function Ll(){return Ll=(0,F.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(re=>re.name).includes(ri))return null;let S=null;return(yield(0,ge.openDb)(ri,5,function(){var B=(0,F.Z)(function*(K){var re;if(K.oldVersion<2||!K.objectStoreNames.contains(hd))return;const Me=K.transaction.objectStore(hd),Be=yield Me.index("fcmSenderId").get(C);if(yield Me.clear(),Be)if(2===K.oldVersion){const Ke=Be;if(!Ke.auth||!Ke.p256dh||!Ke.endpoint)return;S={token:Ke.fcmToken,createTime:null!==(re=Ke.createTime)&&void 0!==re?re:Date.now(),subscriptionOptions:{auth:Ke.auth,p256dh:Ke.p256dh,endpoint:Ke.endpoint,swScope:Ke.swScope,vapidKey:"string"==typeof Ke.vapidKey?Ke.vapidKey:Tr(Ke.vapidKey)}}}else if(3===K.oldVersion){const Ke=Be;S={token:Ke.fcmToken,createTime:Ke.createTime,subscriptionOptions:{auth:Tr(Ke.auth),p256dh:Tr(Ke.p256dh),endpoint:Ke.endpoint,swScope:Ke.swScope,vapidKey:Tr(Ke.vapidKey)}}}else if(4===K.oldVersion){const Ke=Be;S={token:Ke.fcmToken,createTime:Ke.createTime,subscriptionOptions:{auth:Tr(Ke.auth),p256dh:Tr(Ke.p256dh),endpoint:Ke.endpoint,swScope:Ke.swScope,vapidKey:Tr(Ke.vapidKey)}}}});return function(K){return B.apply(this,arguments)}}())).close(),yield(0,ge.deleteDb)(ri),yield(0,ge.deleteDb)("fcm_vapid_details_db"),yield(0,ge.deleteDb)("undefined"),Bl(S)?S:null}),Ll.apply(this,arguments)}function Bl(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:S}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const Os="firebase-messaging-store";let zc=null;function sn(){return zc||(zc=(0,ge.openDb)("firebase-messaging-database",1,C=>{0===C.oldVersion&&C.createObjectStore(Os)})),zc}function Ba(C){return ao.apply(this,arguments)}function ao(){return(ao=(0,F.Z)(function*(C){const S=si(C),B=yield(yield sn()).transaction(Os).objectStore(Os).get(S);if(B)return B;{const K=yield fd(C.appConfig.senderId);if(K)return yield tn(C,K),K}})).apply(this,arguments)}function tn(C,S){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,F.Z)(function*(C,S){const N=si(C),K=(yield sn()).transaction(Os,"readwrite");return yield K.objectStore(Os).put(S,N),yield K.complete,S})).apply(this,arguments)}function Va(C){return ko.apply(this,arguments)}function ko(){return(ko=(0,F.Z)(function*(C){const S=si(C),B=(yield sn()).transaction(Os,"readwrite");yield B.objectStore(Os).delete(S),yield B.complete})).apply(this,arguments)}function si({appConfig:C}){return C.appId}const An=new ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ns(C,S){return oi.apply(this,arguments)}function oi(){return(oi=(0,F.Z)(function*(C,S){const N=yield co(C),B=Ua(S),K={method:"POST",headers:N,body:JSON.stringify(B)};let re;try{re=yield(yield fetch(lo(C.appConfig),K)).json()}catch(Me){throw An.create("token-subscribe-failed",{errorInfo:Me})}if(re.error)throw An.create("token-subscribe-failed",{errorInfo:re.error.message});if(!re.token)throw An.create("token-subscribe-no-token");return re.token})).apply(this,arguments)}function fa(C,S){return es.apply(this,arguments)}function es(){return(es=(0,F.Z)(function*(C,S){const N=yield co(C),B=Ua(S.subscriptionOptions),K={method:"PATCH",headers:N,body:JSON.stringify(B)};let re;try{re=yield(yield fetch(`${lo(C.appConfig)}/${S.token}`,K)).json()}catch(Me){throw An.create("token-update-failed",{errorInfo:Me})}if(re.error)throw An.create("token-update-failed",{errorInfo:re.error.message});if(!re.token)throw An.create("token-update-no-token");return re.token})).apply(this,arguments)}function qc(C,S){return or.apply(this,arguments)}function or(){return(or=(0,F.Z)(function*(C,S){const B={method:"DELETE",headers:yield co(C)};try{const re=yield(yield fetch(`${lo(C.appConfig)}/${S}`,B)).json();if(re.error)throw An.create("token-unsubscribe-failed",{errorInfo:re.error.message})}catch(K){throw An.create("token-unsubscribe-failed",{errorInfo:K})}})).apply(this,arguments)}function lo({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function co(C){return ht.apply(this,arguments)}function ht(){return(ht=(0,F.Z)(function*({appConfig:C,installations:S}){const N=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${N}`})})).apply(this,arguments)}function Ua({p256dh:C,auth:S,endpoint:N,vapidKey:B}){const K={web:{endpoint:N,auth:S,p256dh:C}};return B!==No&&(K.web.applicationPubKey=B),K}const ja=6048e5;function pd(C){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,F.Z)(function*(C){const S=yield Cn(C.swRegistration,C.vapidKey),N={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:S.endpoint,auth:Tr(S.getKey("auth")),p256dh:Tr(S.getKey("p256dh"))},B=yield Ba(C.firebaseDependencies);if(B){if(za(B.subscriptionOptions,N))return Date.now()>=B.createTime+ja?Cf(C,{token:B.token,createTime:Date.now(),subscriptionOptions:N}):B.token;try{yield qc(C.firebaseDependencies,B.token)}catch(K){console.warn(K)}return Ft(C.firebaseDependencies,N)}return Ft(C.firebaseDependencies,N)})).apply(this,arguments)}function Zc(C){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,F.Z)(function*(C){const S=yield Ba(C.firebaseDependencies);S&&(yield qc(C.firebaseDependencies,S.token),yield Va(C.firebaseDependencies));const N=yield C.swRegistration.pushManager.getSubscription();return!N||N.unsubscribe()})).apply(this,arguments)}function Cf(C,S){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,F.Z)(function*(C,S){try{const N=yield fa(C.firebaseDependencies,S),B=Object.assign(Object.assign({},S),{token:N,createTime:Date.now()});return yield tn(C.firebaseDependencies,B),N}catch(N){throw yield Zc(C),N}})).apply(this,arguments)}function Ft(C,S){return $a.apply(this,arguments)}function $a(){return($a=(0,F.Z)(function*(C,S){const B={token:yield Ns(C,S),createTime:Date.now(),subscriptionOptions:S};return yield tn(C,B),B.token})).apply(this,arguments)}function Cn(C,S){return uo.apply(this,arguments)}function uo(){return(uo=(0,F.Z)(function*(C,S){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:dd(S)})})).apply(this,arguments)}function za(C,S){return S.vapidKey===C.vapidKey&&S.endpoint===C.endpoint&&S.auth===C.auth&&S.p256dh===C.p256dh}function ji(C){const S={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Wc(C,S){if(!S.notification)return;C.notification={};const N=S.notification.title;N&&(C.notification.title=N);const B=S.notification.body;B&&(C.notification.body=B);const K=S.notification.image;K&&(C.notification.image=K)}(S,C),function Kc(C,S){!S.data||(C.data=S.data)}(S,C),function gd(C,S){if(!S.fcmOptions)return;C.fcmOptions={};const N=S.fcmOptions.link;N&&(C.fcmOptions.link=N);const B=S.fcmOptions.analytics_label;B&&(C.fcmOptions.analyticsLabel=B)}(S,C),S}function md(C){return"object"==typeof C&&!!C&&ha in C}function qa(C,S){const N=[];for(let B=0;B<C.length;B++)N.push(C.charAt(B)),B<S.length&&N.push(S.charAt(B));return N.join("")}function Yn(C){return An.create("missing-app-config-values",{valueName:C})}qa("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),qa("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class jr{constructor(S,N,B){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const K=function pa(C){if(!C||!C.options)throw Yn("App Configuration Object");if(!C.name)throw Yn("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:N}=C;for(const B of S)if(!N[B])throw Yn(B);return{appName:C.name,projectId:N.projectId,apiKey:N.apiKey,appId:N.appId,senderId:N.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:K,installations:N,analyticsProvider:B}}_delete(){return Promise.resolve()}}function Yc(C){return ts.apply(this,arguments)}function ts(){return(ts=(0,F.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(oo,{scope:Cr}),C.swRegistration.update().catch(()=>{})}catch(S){throw An.create("failed-service-worker-registration",{browserErrorMessage:S.message})}})).apply(this,arguments)}function ks(C,S){return Za.apply(this,arguments)}function Za(){return(Za=(0,F.Z)(function*(C,S){if(!S&&!C.swRegistration&&(yield Yc(C)),S||!C.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw An.create("invalid-sw-registration");C.swRegistration=S}})).apply(this,arguments)}function _d(C,S){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,F.Z)(function*(C,S){S?C.vapidKey=S:C.vapidKey||(C.vapidKey=No)})).apply(this,arguments)}function Ro(){return(Ro=(0,F.Z)(function*(C,S){if(!navigator)throw An.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw An.create("permission-blocked");return yield _d(C,null==S?void 0:S.vapidKey),yield ks(C,null==S?void 0:S.serviceWorkerRegistration),pd(C)})).apply(this,arguments)}function Hl(C,S,N){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,F.Z)(function*(C,S,N){const B=Jc(S);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(B,{message_id:N[ha],message_name:N[cd],message_time:N[am],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Jc(C){switch(C){case Ms.NOTIFICATION_CLICKED:return"notification_open";case Ms.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Gl(){return(Gl=(0,F.Z)(function*(C,S){const N=S.data;if(!N.isFirebaseMessaging)return;C.onMessageHandler&&N.messageType===Ms.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(ji(N)):C.onMessageHandler.next(ji(N)));const B=N.data;md(B)&&"1"===B[vn]&&(yield Hl(C,N.messageType,B))})).apply(this,arguments)}const xo="@firebase/messaging",Po=C=>{const S=new jr(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",N=>function lm(C,S){return Gl.apply(this,arguments)}(S,N)),S},vd=C=>{const S=C.getProvider("messaging").getImmediate();return{getToken:B=>function yd(C,S){return Ro.apply(this,arguments)}(S,B)}};function ga(){return ns.apply(this,arguments)}function ns(){return(ns=(0,F.Z)(function*(){try{yield(0,ie.eu)()}catch(C){return!1}return"undefined"!=typeof window&&(0,ie.hl)()&&(0,ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Tf(){(0,ce._registerComponent)(new me.wA("messaging",Po,"PUBLIC")),(0,ce._registerComponent)(new me.wA("messaging-internal",vd,"PRIVATE")),(0,ce.registerVersion)(xo,"0.9.8"),(0,ce.registerVersion)(xo,"0.9.8","esm2017")}();const bd="analytics",Xc="firebase_id",eu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$l="https://www.googletagmanager.com/gtag/js",li=new ee.Yd("@firebase/analytics");function Af(C){return Promise.all(C.map(S=>S.catch(N=>N)))}function Ps(C,S){const N=document.createElement("script");N.src=`${$l}?l=${C}&id=${S}`,N.async=!0,document.head.appendChild(N)}function cm(C,S,N,B,K,re){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,F.Z)(function*(C,S,N,B,K,re){const Me=B[K];try{if(Me)yield S[Me];else{const Ke=(yield Af(N)).find(Bt=>Bt.measurementId===K);Ke&&(yield S[Ke.appId])}}catch(Be){li.error(Be)}C("config",K,re)})).apply(this,arguments)}function Qa(C,S,N,B,K){return zl.apply(this,arguments)}function zl(){return(zl=(0,F.Z)(function*(C,S,N,B,K){try{let re=[];if(K&&K.send_to){let Me=K.send_to;Array.isArray(Me)||(Me=[Me]);const Be=yield Af(N);for(const Ke of Me){const Bt=Be.find(Qn=>Qn.measurementId===Ke),qt=Bt&&S[Bt.appId];if(!qt){re=[];break}re.push(qt)}}0===re.length&&(re=Object.values(S)),yield Promise.all(re),C("event",B,K||{})}catch(re){li.error(re)}})).apply(this,arguments)}function bn(){const C=window.document.getElementsByTagName("script");for(const S of Object.values(C))if(S.src&&S.src.includes($l))return S;return null}const Si=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ho=new class ql{constructor(S={},N=1e3){this.throttleMetadata=S,this.intervalMillis=N}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,N){this.throttleMetadata[S]=N}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function wd(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function Vt(C){return is.apply(this,arguments)}function is(){return(is=(0,F.Z)(function*(C){var S;const{appId:N,apiKey:B}=C,K={method:"GET",headers:wd(B)},re=eu.replace("{app-id}",N),Me=yield fetch(re,K);if(200!==Me.status&&304!==Me.status){let Be="";try{const Ke=yield Me.json();(null===(S=Ke.error)||void 0===S?void 0:S.message)&&(Be=Ke.error.message)}catch(Ke){}throw Si.create("config-fetch-failed",{httpStatus:Me.status,responseMessage:Be})}return Me.json()})).apply(this,arguments)}function zt(C){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,F.Z)(function*(C,S=ho,N){const{appId:B,apiKey:K,measurementId:re}=C.options;if(!B)throw Si.create("no-app-id");if(!K){if(re)return{measurementId:re,appId:B};throw Si.create("no-api-key")}const Me=S.getThrottleMetadata(B)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Be=new Of;return setTimeout((0,F.Z)(function*(){Be.abort()}),void 0!==N?N:6e4),Fo({appId:B,apiKey:K,measurementId:re},Me,Be,S)})).apply(this,arguments)}function Fo(C,S,N){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,F.Z)(function*(C,{throttleEndTimeMillis:S,backoffCount:N},B,K=ho){const{appId:re,measurementId:Me}=C;try{yield Zl(B,S)}catch(Be){if(Me)return li.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Me} provided in the "measurementId" field in the local Firebase config. [${Be.message}]`),{appId:re,measurementId:Me};throw Be}try{const Be=yield Vt(C);return K.deleteThrottleMetadata(re),Be}catch(Be){if(!Wl(Be)){if(K.deleteThrottleMetadata(re),Me)return li.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Me} provided in the "measurementId" field in the local Firebase config. [${Be.message}]`),{appId:re,measurementId:Me};throw Be}const Ke=503===Number(Be.customData.httpStatus)?(0,ie.$s)(N,K.intervalMillis,30):(0,ie.$s)(N,K.intervalMillis),Bt={throttleEndTimeMillis:Date.now()+Ke,backoffCount:N+1};return K.setThrottleMetadata(re,Bt),li.debug(`Calling attemptFetch again in ${Ke} millis`),Fo(C,Bt,B,K)}})).apply(this,arguments)}function Zl(C,S){return new Promise((N,B)=>{const K=Math.max(S-Date.now(),0),re=setTimeout(N,K);C.addEventListener(()=>{clearTimeout(re),B(Si.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function Wl(C){if(!(C instanceof ie.ZR&&C.customData))return!1;const S=Number(C.customData.httpStatus);return 429===S||500===S||503===S||504===S}class Of{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}function Xa(){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,F.Z)(function*(){if(!(0,ie.hl)())return li.warn(Si.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(C){return li.warn(Si.create("indexeddb-unavailable",{errorInfo:C}).message),!1}return!0})).apply(this,arguments)}function fo(){return(fo=(0,F.Z)(function*(C,S,N,B,K,re,Me){var Be;const Ke=zt(C);Ke.then(wn=>{N[wn.measurementId]=wn.appId,C.options.measurementId&&wn.measurementId!==C.options.measurementId&&li.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${wn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(wn=>li.error(wn)),S.push(Ke);const Bt=Xa().then(wn=>{if(wn)return B.getId()}),[qt,Qn]=yield Promise.all([Ke,Bt]);bn()||Ps(re,qt.measurementId),K("js",new Date);const ci=null!==(Be=null==Me?void 0:Me.config)&&void 0!==Be?Be:{};return ci.origin="firebase",ci.update=!0,null!=Qn&&(ci[Xc]=Qn),K("config",qt.measurementId,ci),qt.measurementId})).apply(this,arguments)}class el{constructor(S){this.app=S}_delete(){return delete Gi[this.app.options.appId],Promise.resolve()}}let Gi={},nu=[];const tl={};let nl,Fn,rs="dataLayer",ss=!1;function Cd(C,S,N){!function jn(){const C=[];if((0,ie.ru)()&&C.push("This is a browser extension environment."),(0,ie.zI)()||C.push("Cookies are not available."),C.length>0){const S=C.map((B,K)=>`(${K+1}) ${B}`).join(" "),N=Si.create("invalid-analytics-context",{errorInfo:S});li.warn(N.message)}}();const B=C.options.appId;if(!B)throw Si.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw Si.create("no-api-key");li.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Gi[B])throw Si.create("already-exists",{id:B});if(!ss){!function ma(C){let S=[];Array.isArray(window[C])?S=window[C]:window[C]=S}(rs);const{wrappedGtag:re,gtagCore:Me}=function um(C,S,N,B,K){let re=function(...Me){window[B].push(arguments)};return window[K]&&"function"==typeof window[K]&&(re=window[K]),window[K]=function Mf(C,S,N,B){function re(){return(re=(0,F.Z)(function*(Me,Be,Ke){try{"event"===Me?yield Qa(C,S,N,Be,Ke):"config"===Me?yield cm(C,S,N,B,Be,Ke):C("set",Be)}catch(Bt){li.error(Bt)}})).apply(this,arguments)}return function K(Me,Be,Ke){return re.apply(this,arguments)}}(re,C,S,N),{gtagCore:re,wrappedGtag:window[K]}}(Gi,nu,tl,rs,"gtag");Fn=re,nl=Me,ss=!0}return Gi[B]=function Jn(C,S,N,B,K,re,Me){return fo.apply(this,arguments)}(C,nu,tl,S,nl,rs,N),new el(C)}function il(){return(il=(0,F.Z)(function*(C,S,N,B,K){if(K&&K.global)C("event",N,B);else{const re=yield S;C("event",N,Object.assign(Object.assign({},B),{send_to:re}))}})).apply(this,arguments)}function Td(){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,F.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch(C){return!1}})).apply(this,arguments)}const Ad="@firebase/analytics";!function Od(){(0,ce._registerComponent)(new me.wA(bd,(S,{options:N})=>Cd(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),N),"PUBLIC")),(0,ce._registerComponent)(new me.wA("analytics-internal",function C(S){try{const N=S.getProvider(bd).getImmediate();return{logEvent:(B,K,re)=>function Id(C,S,N,B){C=(0,ie.m9)(C),function iu(C,S,N,B,K){return il.apply(this,arguments)}(Fn,Gi[C.app.options.appId],S,N,B).catch(K=>li.error(K))}(N,B,K,re)}}catch(N){throw Si.create("interop-component-reg-failed",{reason:N})}},"PRIVATE")),(0,ce.registerVersion)(Ad,"0.7.5"),(0,ce.registerVersion)(Ad,"0.7.5","esm2017")}();var as=P(4408),Sn=P(7565);const Ii=new class Yl extends Sn.v{}(class kf extends as.o{constructor(S,N){super(S,N),this.scheduler=S,this.work=N}schedule(S,N=0){return N>0?super.schedule(S,N):(this.delay=N,this.state=S,this.scheduler.flush(this),this)}execute(S,N){return N>0||this.closed?super.execute(S,N):this._execute(S,N)}requestAsyncId(S,N,B=0){return null!=B&&B>0||null==B&&this.delay>0?super.requestAsyncId(S,N,B):S.flush(this)}});var Jl=P(4986),$i=P(8505),Ar=P(5363),al=P(9468);const Bs=new c.GfV("7.2.1"),lr="__angularfire_symbol__analyticsIsSupportedValue",cr="__angularfire_symbol__analyticsIsSupported",ll="__angularfire_symbol__remoteConfigIsSupportedValue",cl="__angularfire_symbol__remoteConfigIsSupported",Nd="__angularfire_symbol__messagingIsSupportedValue",Rf="__angularfire_symbol__messagingIsSupported";function Pf(C,S,N){if(S){if(1===S.length)return S[0];const re=S.filter(Me=>Me.app===N);if(1===re.length)return re[0]}return N.container.getProvider(C).getImmediate({optional:!0})}globalThis[cr]||(globalThis[cr]=Td().then(C=>globalThis[lr]=C).catch(()=>globalThis[lr]=!1)),globalThis[Rf]||(globalThis[Rf]=ga().then(C=>globalThis[Nd]=C).catch(()=>globalThis[Nd]=!1)),globalThis[cl]||(globalThis[cl]=xy().then(C=>globalThis[ll]=C).catch(()=>globalThis[ll]=!1));const kd=(C,S)=>{const N=S?[S]:(0,Q.C6)(),B=[];return N.forEach(K=>{K.container.getProvider(C).instances.forEach(Me=>{B.includes(Me)||B.push(Me)})}),B};function Vs(){}class Rd{constructor(S,N=Ii){this.zone=S,this.delegate=N}now(){return this.delegate.now()}schedule(S,N,B){const K=this.zone;return this.delegate.schedule(function(Me){K.runGuarded(()=>{S.apply(this,[Me])})},N,B)}}class su{constructor(S){this.zone=S,this.task=null}call(S,N){const B=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Vs,{},Vs,Vs)),N.pipe((0,$i.b)({next:B,complete:B,error:B})).subscribe(S).add(B)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ou=(()=>{class C{constructor(N){this.ngZone=N,this.outsideAngular=N.runOutsideAngular(()=>new Rd(Zone.current)),this.insideAngular=N.run(()=>new Rd(Zone.current,Jl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(N){return new(N||C)(c.LFG(c.R0b))},C.\u0275prov=c.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function ls(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Uo(C){return C.pipe((0,Ar.Q)(ls().outsideAngular))}function cs(C){return ls(),function po(C){return function(N){return(N=N.lift(new su(C.ngZone))).pipe((0,al.R)(C.outsideAngular),(0,Ar.Q)(C.insideAngular))}}(ls())(C)}},2090:(it,De,P)=>{"use strict";P.d(De,{BH:()=>je,LL:()=>pe,ZR:()=>Pe,zI:()=>se,US:()=>me,tV:()=>le,$s:()=>Ht,r3:()=>Jr,Sg:()=>Ie,ne:()=>Xr,vZ:()=>_i,ZB:()=>j,pd:()=>no,m9:()=>Er,z$:()=>Ne,jU:()=>ne,ru:()=>ye,d:()=>fe,xb:()=>Lt,w1:()=>Re,hl:()=>oe,uI:()=>Ve,UG:()=>W,b$:()=>Te,G6:()=>qe,Mn:()=>Se,xO:()=>Fi,zd:()=>Qr,eu:()=>Y});const ce=function(U){const $=[];let z=0;for(let we=0;we<U.length;we++){let te=U.charCodeAt(we);te<128?$[z++]=te:te<2048?($[z++]=te>>6|192,$[z++]=63&te|128):55296==(64512&te)&&we+1<U.length&&56320==(64512&U.charCodeAt(we+1))?(te=65536+((1023&te)<<10)+(1023&U.charCodeAt(++we)),$[z++]=te>>18|240,$[z++]=te>>12&63|128,$[z++]=te>>6&63|128,$[z++]=63&te|128):($[z++]=te>>12|224,$[z++]=te>>6&63|128,$[z++]=63&te|128)}return $},me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,$){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,we=[];for(let te=0;te<U.length;te+=3){const Ze=U[te],mt=te+1<U.length,rn=mt?U[te+1]:0,fn=te+2<U.length,_n=fn?U[te+2]:0;let Zn=(15&rn)<<2|_n>>6,Li=63&_n;fn||(Li=64,mt||(Zn=64)),we.push(z[Ze>>2],z[(3&Ze)<<4|rn>>4],z[Zn],z[Li])}return we.join("")},encodeString(U,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(U):this.encodeByteArray(ce(U),$)},decodeString(U,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(U):function(U){const $=[];let z=0,we=0;for(;z<U.length;){const te=U[z++];if(te<128)$[we++]=String.fromCharCode(te);else if(te>191&&te<224){const Ze=U[z++];$[we++]=String.fromCharCode((31&te)<<6|63&Ze)}else if(te>239&&te<365){const fn=((7&te)<<18|(63&U[z++])<<12|(63&U[z++])<<6|63&U[z++])-65536;$[we++]=String.fromCharCode(55296+(fn>>10)),$[we++]=String.fromCharCode(56320+(1023&fn))}else{const Ze=U[z++],mt=U[z++];$[we++]=String.fromCharCode((15&te)<<12|(63&Ze)<<6|63&mt)}}return $.join("")}(this.decodeStringToByteArray(U,$))},decodeStringToByteArray(U,$){this.init_();const z=$?this.charToByteMapWebSafe_:this.charToByteMap_,we=[];for(let te=0;te<U.length;){const Ze=z[U.charAt(te++)],rn=te<U.length?z[U.charAt(te)]:0;++te;const _n=te<U.length?z[U.charAt(te)]:64;++te;const Nt=te<U.length?z[U.charAt(te)]:64;if(++te,null==Ze||null==rn||null==_n||null==Nt)throw Error();we.push(Ze<<2|rn>>4),64!==_n&&(we.push(rn<<4&240|_n>>2),64!==Nt&&we.push(_n<<6&192|Nt))}return we},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}},ge=function(U){return function(U){const $=ce(U);return me.encodeByteArray($,!0)}(U).replace(/\./g,"")},le=function(U){try{return me.decodeString(U,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function j(U,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return $}for(const z in $)!$.hasOwnProperty(z)||!X(z)||(U[z]=j(U[z],$[z]));return U}function X(U){return"__proto__"!==U}class je{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,z)=>{this.resolve=$,this.reject=z})}wrapCallback($){return(z,we)=>{z?this.reject(z):this.resolve(we),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(z):$(z,we))}}}function Ie(U,$){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const we=$||"demo-project",te=U.iat||0,Ze=U.sub||U.user_id;if(!Ze)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const mt=Object.assign({iss:`https://securetoken.google.com/${we}`,aud:we,iat:te,exp:te+3600,auth_time:te,sub:Ze,user_id:Ze,firebase:{sign_in_provider:"custom",identities:{}}},U);return[ge(JSON.stringify({alg:"none",type:"JWT"})),ge(JSON.stringify(mt)),""].join(".")}function Ne(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ve(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())}function W(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(U){return!1}}function ne(){return"object"==typeof self&&self.self===self}function ye(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function Te(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function fe(){return Ne().indexOf("Electron/")>=0}function Re(){const U=Ne();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function Se(){return Ne().indexOf("MSAppHost/")>=0}function qe(){return!W()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oe(){return"object"==typeof indexedDB}function Y(){return new Promise((U,$)=>{try{let z=!0;const we="validate-browser-context-for-indexeddb-analytics-module",te=self.indexedDB.open(we);te.onsuccess=()=>{te.result.close(),z||self.indexedDB.deleteDatabase(we),U(!0)},te.onupgradeneeded=()=>{z=!1},te.onerror=()=>{var Ze;$((null===(Ze=te.error)||void 0===Ze?void 0:Ze.message)||"")}}catch(z){$(z)}})}function se(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Pe extends Error{constructor($,z,we){super(z),this.code=$,this.customData=we,this.name="FirebaseError",Object.setPrototypeOf(this,Pe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pe.prototype.create)}}class pe{constructor($,z,we){this.service=$,this.serviceName=z,this.errors=we}create($,...z){const we=z[0]||{},te=`${this.service}/${$}`,Ze=this.errors[$],mt=Ze?function bt(U,$){return U.replace(Wt,(z,we)=>{const te=$[we];return null!=te?String(te):`<${we}?>`})}(Ze,we):"Error";return new Pe(te,`${this.serviceName}: ${mt} (${te}).`,we)}}const Wt=/\{\$([^}]+)}/g;function Jr(U,$){return Object.prototype.hasOwnProperty.call(U,$)}function Lt(U){for(const $ in U)if(Object.prototype.hasOwnProperty.call(U,$))return!1;return!0}function _i(U,$){if(U===$)return!0;const z=Object.keys(U),we=Object.keys($);for(const te of z){if(!we.includes(te))return!1;const Ze=U[te],mt=$[te];if(to(Ze)&&to(mt)){if(!_i(Ze,mt))return!1}else if(Ze!==mt)return!1}for(const te of we)if(!z.includes(te))return!1;return!0}function to(U){return null!==U&&"object"==typeof U}function Fi(U){const $=[];for(const[z,we]of Object.entries(U))Array.isArray(we)?we.forEach(te=>{$.push(encodeURIComponent(z)+"="+encodeURIComponent(te))}):$.push(encodeURIComponent(z)+"="+encodeURIComponent(we));return $.length?"&"+$.join("&"):""}function Qr(U){const $={};return U.replace(/^\?/,"").split("&").forEach(we=>{if(we){const[te,Ze]=we.split("=");$[decodeURIComponent(te)]=decodeURIComponent(Ze)}}),$}function no(U){const $=U.indexOf("?");if(!$)return"";const z=U.indexOf("#",$);return U.substring($,z>0?z:void 0)}function Xr(U,$){const z=new gt(U,$);return z.subscribe.bind(z)}class gt{constructor($,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{$(this)}).catch(we=>{this.error(we)})}next($){this.forEachObserver(z=>{z.next($)})}error($){this.forEachObserver(z=>{z.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,z,we){let te;if(void 0===$&&void 0===z&&void 0===we)throw new Error("Missing Observer.");te=function qn(U,$){if("object"!=typeof U||null===U)return!1;for(const z of $)if(z in U&&"function"==typeof U[z])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:z,complete:we},void 0===te.next&&(te.next=xn),void 0===te.error&&(te.error=xn),void 0===te.complete&&(te.complete=xn);const Ze=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?te.error(this.finalError):te.complete()}catch(mt){}}),this.observers.push(te),Ze}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,$)}sendOne($,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{z(this.observers[$])}catch(we){"undefined"!=typeof console&&console.error&&console.error(we)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xn(){}function Ht(U,$=1e3,z=2){const we=$*Math.pow(z,U),te=Math.round(.5*we*(Math.random()-.5)*2);return Math.min(144e5,we+te)}function Er(U){return U&&U._delegate?U._delegate:U}},6141:(it,De,P)=>{"use strict";var c=P(5e3);let Q=null;function F(){return Q}const ee=new c.OlP("DocumentToken");let ge=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function le(){return(0,c.LFG)(j)}()},providedIn:"platform"}),n})();const G=new c.OlP("Location Initialized");let j=(()=>{class n extends ge{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(t){const i=F().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=F().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){X()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){X()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ee))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function je(){return new j((0,c.LFG)(ee))}()},providedIn:"platform"}),n})();function X(){return!!window.history.pushState}function Ie(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ne(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ve(n){return n&&"?"!==n[0]?"?"+n:n}let W=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function ne(n){const e=(0,c.LFG)(ee).location;return new Te((0,c.LFG)(ge),e&&e.origin||"")}()},providedIn:"root"}),n})();const ye=new c.OlP("appBaseHref");let Te=(()=>{class n extends W{constructor(t,i){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ie(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Ve(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,a){const u=this.prepareExternalUrl(r+Ve(a));this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,a){const u=this.prepareExternalUrl(r+Ve(a));this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ge),c.LFG(ye,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),fe=(()=>{class n extends W{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Ie(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,a){let u=this.prepareExternalUrl(r+Ve(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,a){let u=this.prepareExternalUrl(r+Ve(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ge),c.LFG(ye,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Re=(()=>{class n{constructor(t,i){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Ne(qe(r)),this._platformStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Ve(i))}normalize(t){return n.stripTrailingSlash(function Je(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,qe(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._platformStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ve(i)),r)}replaceState(t,i="",r=null){this._platformStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ve(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=Ve,n.joinWithSlash=Ie,n.stripTrailingSlash=Ne,n.\u0275fac=function(t){return new(t||n)(c.LFG(W),c.LFG(ge))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Se(){return new Re((0,c.LFG)(W),(0,c.LFG)(ge))}()},providedIn:"root"}),n})();function qe(n){return n.replace(/\/index.html$/,"")}var se=(()=>((se=se||{})[se.Zero=0]="Zero",se[se.One=1]="One",se[se.Two=2]="Two",se[se.Few=3]="Few",se[se.Many=4]="Many",se[se.Other=5]="Other",se))();const no=c.kL8;class Kt{}let In=(()=>{class n extends Kt{constructor(t){super(),this.locale=t}getPluralCategory(t,i){switch(no(i||this.locale)(t)){case se.Zero:return"zero";case se.One:return"one";case se.Two:return"two";case se.Few:return"few";case se.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.soG))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Io(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,a]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(a)}return null}let Ao=(()=>{class n{constructor(t,i,r,a){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class aa{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let yn=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,a,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new aa(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===a?void 0:a);else if(null!==a){const f=i.get(a);i.move(f,u),ro(f,r)}});for(let r=0,a=i.length;r<a;r++){const f=i.get(r).context;f.index=r,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{ro(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function ro(n,e){n.context.$implicit=e.item}let Dn=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new en,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){sd("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){sd("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class en{constructor(){this.$implicit=null,this.ngIf=null}}function sd(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}class Oo{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let sr=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),Ui=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new Oo(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(sr,9))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),Hc=(()=>{class n{constructor(t,i,r){r._addDefault(new Oo(t,i))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(sr,9))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitchDefault",""]]}),n})();class od{createSubscription(e,t){return e.subscribe({next:t,error:i=>{throw i}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class tm{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}onDestroy(e){}}const Is=new tm,nm=new od;let Gc=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if((0,c.QGY)(t))return Is;if((0,c.F4k)(t))return nm;throw function Un(n,e){return new c.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO,16))},n.\u0275pipe=c.Yjl({name:"async",type:n,pure:!1}),n})(),vn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[{provide:Kt,useClass:In}]}),n})();const ud="browser";function Ti(n){return"server"===n}let Bl=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new Vl((0,c.LFG)(ee),window)}),n})();class Vl{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Os(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const a=r.shadowRoot;if(a){const u=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],r-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=$c(this.window.history)||$c(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function $c(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class sn{}class ao extends class Ba extends class me{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ie(n){Q||(Q=n)}(new ao)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Ul(){return tn=tn||document.querySelector("base"),tn?tn.getAttribute("href"):null}();return null==t?null:function ko(n){Va=Va||document.createElement("a"),Va.setAttribute("href",n);const e=Va.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){tn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Io(document.cookie,e)}}let Va,tn=null;const si=new c.OlP("TRANSITION_ID"),An=[{provide:c.ip1,useFactory:function jl(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const i=F(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<r.length;a++)i.remove(r[a])})}},deps:[si,ee,c.zs3],multi:!0}];class Ns{static init(){(0,c.VLi)(new Ns)}addToWindow(e){c.dqk.getAngularTestability=(i,r=!0)=>{const a=e.findTestabilityInTree(i,r);if(null==a)throw new Error("Could not find testability for element.");return a},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(i=>{const r=c.dqk.getAllAngularTestabilities();let a=r.length,u=!1;const f=function(_){u=u||_,a--,0==a&&i(u)};r.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:i?F().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let oi=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const fa=new c.OlP("EventManagerPlugins");let es=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let a=0;a<r.length;a++){const u=r[a];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fa),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class qc{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=F().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let or=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),lo=(()=>{class n extends or{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(a=>{const u=this._doc.createElement("style");u.textContent=a,r.push(i.appendChild(u))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(co),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(co))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ee))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function co(n){F().remove(n)}const ht={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ua=/%COMP%/g;function Ce(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Ce(n,r,t):(r=r.replace(Ua,n),t.push(r))}return t}function Ft(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Cn=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new uo(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case c.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Wc(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case c.ifc.ShadowDom:return new Kc(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=Ce(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(es),c.LFG(lo),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class uo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ht[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const a=ht[r];a?e.setAttributeNS(a,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=ht[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,i,r&c.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ft(i)):this.eventManager.addEventListener(e,t,Ft(i))}}class Wc extends uo{constructor(e,t,i,r){super(e),this.component=i;const a=Ce(r+"-"+i.id,i.styles,[]);t.addStyles(a),this.contentAttr=function Ga(n){return"_ngcontent-%COMP%".replace(Ua,n)}(r+"-"+i.id),this.hostAttr=function Cf(n){return"_nghost-%COMP%".replace(Ua,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class Kc extends uo{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Ce(r.id,r.styles,[]);for(let u=0;u<a.length;u++){const f=document.createElement("style");f.textContent=a[u],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let gd=(()=>{class n extends qc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ee))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const md=["alt","control","meta","shift"],pa={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Yn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},jr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Yc=(()=>{class n extends qc{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const a=n.parseEventName(i),u=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F().onAndCancel(t,a.domEventName,u))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const a=n._normalizeKey(i.pop());let u="";if(md.forEach(_=>{const b=i.indexOf(_);b>-1&&(i.splice(b,1),u+=_+".")}),u+=a,0!=i.length||0===a.length)return null;const f={};return f.domEventName=r,f.fullKey=u,f}static getEventFullKey(t){let i="",r=function ts(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Yn.hasOwnProperty(e)&&(e=Yn[e]))}return pa[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),md.forEach(a=>{a!=r&&jr[a](t)&&(i+=a+".")}),i+=r,i}static eventCallback(t,i,r){return a=>{n.getEventFullKey(a)===t&&r.runGuarded(()=>i(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ee))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const yd=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:ud},{provide:c.g9A,useValue:function ks(){ao.makeCurrent(),Ns.init()},multi:!0},{provide:ee,useFactory:function _d(){return(0,c.RDi)(document),document},deps:[]}]),Ro=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function Za(){return new c.qLn},deps:[]},{provide:fa,useClass:gd,multi:!0,deps:[ee,c.R0b,c.Lbi]},{provide:fa,useClass:Yc,multi:!0,deps:[ee]},{provide:Cn,useClass:Cn,deps:[es,lo,c.AFp]},{provide:c.FYo,useExisting:Cn},{provide:or,useExisting:lo},{provide:lo,useClass:lo,deps:[ee]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:es,useClass:es,deps:[fa,c.R0b]},{provide:sn,useClass:oi,deps:[]}];let Hl=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:si,useExisting:c.AFp},An]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(n,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:Ro,imports:[vn,c.hGG]}),n})();"undefined"!=typeof window&&window;var bn=P(8996),pn=P(8306);const{isArray:Si}=Array,{getPrototypeOf:Fs,prototype:tu,keys:ql}=Object;function ho(n){if(1===n.length){const e=n[0];if(Si(e))return{args:e,keys:null};if(function wd(n){return n&&"object"==typeof n&&Fs(n)===tu}(e)){const t=ql(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var Vt=P(8421),is=P(3269),zt=P(5403),Qe=P(4004);const{isArray:Fo}=Array;function Zl(n){return(0,Qe.U)(e=>function Ed(n,e){return Fo(e)?n(...e):n(e)}(n,e))}function Wl(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}let Xa=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),Hi=(()=>{class n extends Xa{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const Jn=new c.OlP("NgValueAccessor"),Gi={provide:Jn,useExisting:(0,c.Gpc)(()=>rs),multi:!0},tl=new c.OlP("CompositionEventMode");let rs=(()=>{class n extends Xa{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function nu(){const n=F()?F().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(tl,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&c.NdJ("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[c._Bn([Gi]),c.qOj]}),n})();function Sr(n){return null==n||0===n.length}function nl(n){return null!=n&&"number"==typeof n.length}const Fn=new c.OlP("NgValidators"),ss=new c.OlP("NgAsyncValidators"),Dd=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class jn{static min(e){return function Cd(n){return e=>{if(Sr(e.value)||Sr(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function iu(n){return e=>{if(Sr(e.value)||Sr(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return il(e)}static requiredTrue(e){return function Ls(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function rl(n){return Sr(n.value)||Dd.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function sl(n){return e=>Sr(e.value)||!nl(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Lo(n){return e=>nl(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return Bo(e)}static nullValidator(e){return null}static compose(e){return Tn(e)}static composeAsync(e){return dm(e)}}function il(n){return Sr(n.value)?{required:!0}:null}function Bo(n){if(!n)return Ir;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Sr(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function Ir(n){return null}function os(n){return null!=n}function ol(n){const e=(0,c.QGY)(n)?(0,bn.D)(n):n;return(0,c.CqO)(e),e}function ru(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Vo(n,e){return e.map(t=>t(n))}function Kl(n){return n.map(e=>function Td(n){return!n.validate}(e)?e:t=>e.validate(t))}function Tn(n){if(!n)return null;const e=n.filter(os);return 0==e.length?null:function(t){return ru(Vo(t,e))}}function Sd(n){return null!=n?Tn(Kl(n)):null}function dm(n){if(!n)return null;const e=n.filter(os);return 0==e.length?null:function(t){return function Of(...n){const e=(0,is.jO)(n),{args:t,keys:i}=ho(n),r=new pn.y(a=>{const{length:u}=t;if(!u)return void a.complete();const f=new Array(u);let _=u,b=u;for(let T=0;T<u;T++){let I=!1;(0,Vt.Xf)(t[T]).subscribe(new zt.Q(a,R=>{I||(I=!0,b--),f[T]=R},()=>_--,void 0,()=>{(!_||!I)&&(b||a.next(i?Wl(i,f):f),a.complete())}))}});return e?r.pipe(Zl(e)):r}(Vo(t,e).map(ol)).pipe((0,Qe.U)(ru))}}function Nf(n){return null!=n?dm(Kl(n)):null}function Id(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Ad(n){return n._rawValidators}function Md(n){return n._rawAsyncValidators}function Od(n){return n?Array.isArray(n)?n:[n]:[]}function as(n,e){return Array.isArray(n)?n.includes(e):n===e}function kf(n,e){const t=Od(e);return Od(n).forEach(r=>{as(t,r)||t.push(r)}),t}function Sn(n,e){return Od(e).filter(t=>!as(n,t))}class Yl{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Sd(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Nf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ii extends Yl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ar extends Yl{get formDirective(){return null}get path(){return null}}class Jl{constructor(e){this._cd=e}is(e){var t,i,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[e])}}let al=(()=>{class n extends Jl{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ii,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&c.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[c.qOj]}),n})(),Bs=(()=>{class n extends Jl{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ar,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&c.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[c.qOj]}),n})();function Us(n,e){cs(n,e),e.valueAccessor.writeValue(n.value),function Xl(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&C(n,e)})}(n,e),function S(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Lf(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&C(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Ff(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Or(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),po(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Uo(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function cs(n,e){const t=Ad(n);null!==e.validator?n.setValidators(Id(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=Md(n);null!==e.asyncValidator?n.setAsyncValidators(Id(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Uo(e._rawValidators,r),Uo(e._rawAsyncValidators,r)}function po(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=Ad(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==e.validator);a.length!==r.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const r=Md(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==e.asyncValidator);a.length!==r.length&&(t=!0,n.setAsyncValidators(a))}}}const i=()=>{};return Uo(e._rawValidators,i),Uo(e._rawAsyncValidators,i),t}function C(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function N(n,e){cs(n,e)}function Ke(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function qt(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const wn="VALID",go="INVALID",zi="PENDING",Ai="DISABLED";function qi(n){return(jo(n)?n.validators:n)||null}function ec(n){return Array.isArray(n)?Sd(n):n||null}function xd(n,e){return(jo(e)?e.asyncValidators:n)||null}function au(n){return Array.isArray(n)?Nf(n):n||null}function jo(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Bf=n=>n instanceof mo,Vf=n=>n instanceof Go;function Ho(n){return Bf(n)?n.value:n.getRawValue()}function tc(n,e){const t=Vf(n),i=n.controls;if(!(t?Object.keys(i):i).length)throw new c.vHH(1e3,"");if(!i[e])throw new c.vHH(1001,"")}function hm(n,e){Vf(n),n._forEachChild((i,r)=>{if(void 0===e[r])throw new c.vHH(1002,"")})}class Uf{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=ec(this._rawValidators),this._composedAsyncValidatorFn=au(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===wn}get invalid(){return this.status===go}get pending(){return this.status==zi}get disabled(){return this.status===Ai}get enabled(){return this.status!==Ai}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=ec(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=au(e)}addValidators(e){this.setValidators(kf(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(kf(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Sn(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Sn(e,this._rawAsyncValidators))}hasValidator(e){return as(this._rawValidators,e)}hasAsyncValidator(e){return as(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=zi,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ai,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=wn,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===wn||this.status===zi)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ai:wn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=zi,this._hasOwnPendingAsyncValidator=!0;const t=ol(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function js(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let i=n;return e.forEach(r=>{i=Vf(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:(n=>n instanceof gw)(i)&&i.at(r)||null}),i}(this,e,".")}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?Ai:this.errors?go:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(zi)?zi:this._anyControlsHaveStatus(go)?go:wn}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){jo(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class mo extends Uf{constructor(e=null,t,i){super(qi(t),xd(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),jo(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){qt(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){qt(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Go extends Uf{constructor(e,t,i){super(qi(t),xd(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){hm(this,e),Object.keys(e).forEach(i=>{tc(this,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=Ho(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const i=this.controls[t];if(this.contains(t)&&e(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,a)=>{i=t(i,r,a)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class gw extends Uf{constructor(e,t,i){super(qi(t),xd(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){hm(this,e),e.forEach((i,r)=>{tc(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>Ho(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const Ly={provide:ar,useExisting:(0,c.Gpc)(()=>Pd)},lu=(()=>Promise.resolve(null))();let Pd=(()=>{class n extends ar{constructor(t,i){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new c.vpe,this.form=new Go({},Sd(t),Nf(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){lu.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Us(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){lu.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),qt(this._directives,t)})}addFormGroup(t){lu.then(()=>{const i=this._findContainer(t.path),r=new Go({});N(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){lu.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){lu.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Ke(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Fn,10),c.Y36(ss,10))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&c.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([Ly]),c.qOj]}),n})(),nc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Fd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const _m=new c.OlP("NgModelWithFormControlWarning"),jy={provide:ar,useExisting:(0,c.Gpc)(()=>dl)};let dl=(()=>{class n extends ar{constructor(t,i){super(),this.validators=t,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(po(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return Us(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){Or(t.control||null,t,!1),qt(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,Ke(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(Or(i||null,t),Bf(r)&&(Us(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);N(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function B(n,e){return po(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){cs(this.form,this),this._oldForm&&po(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Fn,10),c.Y36(ss,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&c.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([jy]),c.qOj,c.TTD]}),n})();const vw={provide:Ii,useExisting:(0,c.Gpc)(()=>fu)};let fu=(()=>{class n extends Ii{constructor(t,i,r,a,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function Bt(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(a=>{a.constructor===rs?t=a:function Be(n){return Object.getPrototypeOf(n.constructor)===Hi}(a)?i=a:r=a}),r||i||t||null}(0,a)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function Me(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function ls(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(c.Y36(ar,13),c.Y36(Fn,10),c.Y36(ss,10),c.Y36(Jn,10),c.Y36(_m,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([vw]),c.qOj,c.TTD]}),n})(),rc=(()=>{class n{constructor(){this._validator=Ir}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Ir,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();const Yf={provide:Fn,useExisting:(0,c.Gpc)(()=>fl),multi:!0};let fl=(()=>{class n extends rc{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t=>function Kf(n){return null!=n&&!1!==n&&"false"!=`${n}`}(t),this.createValidator=t=>il}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,i){2&t&&c.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([Yf]),c.qOj]}),n})();const Sm={provide:Fn,useExisting:(0,c.Gpc)(()=>Xf),multi:!0};let Xf=(()=>{class n{constructor(){this._validator=Ir}ngOnChanges(t){"pattern"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=Bo(this.pattern)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,i){2&t&&c.uIk("pattern",i.pattern?i.pattern:null)},inputs:{pattern:"pattern"},features:[c._Bn([Sm]),c.TTD]}),n})(),Im=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Fd]]}),n})(),Wy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Im]}),n})(),Ew=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:_m,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Im]}),n})();function st(...n){const e=(0,is.yG)(n);return(0,bn.D)(n,e)}var At=P(7579);class Zt extends At.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}var ds=P(4671),tp=P(9672);function $d(n,e,t){n?(0,tp.f)(t,n,e):e()}const pl=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var sc=P(8189);function oc(...n){return function Am(){return(0,sc.J)(1)}()((0,bn.D)(n,(0,is.yG)(n)))}function np(n){return new pn.y(e=>{(0,Vt.Xf)(n()).subscribe(e)})}var Mi=P(515),Gs=P(727),ui=P(4482);function zd(){return(0,ui.e)((n,e)=>{let t=null;n._refCount++;const i=new zt.Q(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,a=t;t=null,r&&(!a||r===a)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Yy extends pn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ui.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Gs.w0;const t=this.getSubject();e.add(this.source.subscribe(new zt.Q(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Gs.w0.EMPTY)}return e}refCount(){return zd()(this)}}function Ln(n,e){return(0,ui.e)((t,i)=>{let r=null,a=0,u=!1;const f=()=>u&&!r&&i.complete();t.subscribe(new zt.Q(i,_=>{null==r||r.unsubscribe();let b=0;const T=a++;(0,Vt.Xf)(n(_,T)).subscribe(r=new zt.Q(i,I=>i.next(e?e(_,I,T,b++):I),()=>{r=null,f()}))},()=>{u=!0,f()}))})}var Ut=P(5698);function Nr(...n){const e=(0,is.yG)(n);return(0,ui.e)((t,i)=>{(e?oc(n,t,e):oc(n,t)).subscribe(i)})}function ip(n,e,t,i,r){return(a,u)=>{let f=t,_=e,b=0;a.subscribe(new zt.Q(u,T=>{const I=b++;_=f?n(_,T,I):(f=!0,T),i&&u.next(_)},r&&(()=>{f&&u.next(_),u.complete()})))}}function mu(n,e){return(0,ui.e)(ip(n,e,arguments.length>=2,!0))}function on(n,e){return(0,ui.e)((t,i)=>{let r=0;t.subscribe(new zt.Q(i,a=>n.call(e,a,r++)&&i.next(a)))})}function Hr(n){return(0,ui.e)((e,t)=>{let a,i=null,r=!1;i=e.subscribe(new zt.Q(t,void 0,void 0,u=>{a=(0,Vt.Xf)(n(u,Hr(n)(e))),i?(i.unsubscribe(),i=null,a.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,a.subscribe(t))})}var ei=P(5577),$s=P(576);function ac(n,e){return(0,$s.m)(e)?(0,ei.z)(n,e,1):(0,ei.z)(n,1)}function _u(n){return n<=0?()=>Mi.E:(0,ui.e)((e,t)=>{let i=[];e.subscribe(new zt.Q(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Mm(n=Om){return(0,ui.e)((e,t)=>{let i=!1;e.subscribe(new zt.Q(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function Om(){return new pl}function Nm(n){return(0,ui.e)((e,t)=>{let i=!1;e.subscribe(new zt.Q(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function y(n,e){const t=arguments.length>=2;return i=>i.pipe(n?on((r,a)=>n(r,a,i)):ds.y,(0,Ut.q)(1),t?Nm(e):Mm(()=>new pl))}var p=P(8505);function m(n){return(0,ui.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class w{constructor(e,t){this.id=e,this.url=t}}class M extends w{constructor(e,t,i="imperative",r=null){super(e,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class k extends w{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class q extends w{constructor(e,t,i){super(e,t),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class de extends w{constructor(e,t,i){super(e,t),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class He extends w{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nt extends w{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vt extends w{constructor(e,t,i,r,a){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ct extends w{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class On extends w{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gr{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class lc{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class qd{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yu{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rp{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qy{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $o{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Mt="primary";class sp{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ya(n){return new sp(n)}const vu="ngNavigationCancelingError";function op(n){const e=Error("NavigationCancelingError: "+n);return e[vu]=!0,e}function Xy(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let a=0;a<i.length;a++){const u=i[a],f=n[a];if(u.startsWith(":"))r[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function va(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let a=0;a<t.length;a++)if(r=t[a],!Dw(n[r],e[r]))return!1;return!0}function Dw(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,a)=>i[a]===r)}return n===e}function ev(n){return Array.prototype.concat.apply([],n)}function km(n){return n.length>0?n[n.length-1]:null}function Oi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ba(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,bn.D)(Promise.resolve(n)):st(n)}const Cw={exact:function nv(n,e,t){if(!wa(n.segments,e.segments)||!cp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!nv(n.children[i],e.children[i],t))return!1;return!0},subset:lp},tv={exact:function Tw(n,e){return va(n,e)},subset:function YT(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Dw(n[t],e[t]))},ignored:()=>!0};function cc(n,e,t){return Cw[t.paths](n.root,e.root,t.matrixParams)&&tv[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function lp(n,e,t){return Sw(n,e,e.segments,t)}function Sw(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!wa(r,t)||e.hasChildren()||!cp(r,t,i))}if(n.segments.length===t.length){if(!wa(n.segments,t)||!cp(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!lp(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(wa(n.segments,r)&&cp(n.segments,r,i)&&n.children[Mt])&&Sw(n.children[Mt],e,a,i)}}function cp(n,e,t){return e.every((i,r)=>tv[t](n[r].parameters,i.parameters))}class uc{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ya(this.queryParams)),this._queryParamMap}toString(){return Aw.serialize(this)}}class Gt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Oi(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zd(this)}}class bu{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ya(this.parameters)),this._parameterMap}toString(){return sv(this)}}function wa(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}class iv{}class xm{parse(e){const t=new Nw(e);return new uc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${gl(e.root,!0)}`,i=function Ow(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${up(t)}=${up(r)}`).join("&"):`${up(t)}=${up(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function JT(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Aw=new xm;function Zd(n){return n.segments.map(e=>sv(e)).join("/")}function gl(n,e){if(!n.hasChildren())return Zd(n);if(e){const t=n.children[Mt]?gl(n.children[Mt],!1):"",i=[];return Oi(n.children,(r,a)=>{a!==Mt&&i.push(`${a}:${gl(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function Rm(n,e){let t=[];return Oi(n.children,(i,r)=>{r===Mt&&(t=t.concat(e(i,r)))}),Oi(n.children,(i,r)=>{r!==Mt&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Mt?[gl(n.children[Mt],!1)]:[`${r}:${gl(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Mt]?`${Zd(n)}/${t[0]}`:`${Zd(n)}/(${t.join("//")})`}}function Mw(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function up(n){return Mw(n).replace(/%3B/gi,";")}function rv(n){return Mw(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function dp(n){return decodeURIComponent(n)}function Pm(n){return dp(n.replace(/\+/g,"%20"))}function sv(n){return`${rv(n.path)}${function VM(n){return Object.keys(n).map(e=>`;${rv(e)}=${rv(n[e])}`).join("")}(n.parameters)}`}const QT=/^[^\/()?;=#]+/;function hp(n){const e=n.match(QT);return e?e[0]:""}const XT=/^[^=?&#]+/,zo=/^[^&#]+/;class Nw{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Gt([],{}):new Gt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Mt]=new Gt(e,t)),i}parseSegment(){const e=hp(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new bu(dp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=hp(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=hp(this.remaining);r&&(i=r,this.capture(i))}e[dp(t)]=dp(i)}parseQueryParam(e){const t=function e1(n){const e=n.match(XT);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const u=function t1(n){const e=n.match(zo);return e?e[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=Pm(t),a=Pm(i);if(e.hasOwnProperty(r)){let u=e[r];Array.isArray(u)||(u=[u],e[r]=u),u.push(a)}else e[r]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=hp(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let a;i.indexOf(":")>-1?(a=i.substr(0,i.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Mt);const u=this.parseChildren();t[a]=1===Object.keys(u).length?u[Mt]:new Gt([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class kw{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ov(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=ov(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=av(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return av(e,this._root).map(t=>t.value)}}function ov(n,e){if(n===e.value)return e;for(const t of e.children){const i=ov(n,t);if(i)return i}return null}function av(n,e){if(n===e.value)return[e];for(const t of e.children){const i=av(n,t);if(i.length)return i.unshift(e),i}return[]}class ml{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function wu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Rw extends kw{constructor(e,t){super(e),this.snapshot=t,zs(this,e)}toString(){return this.snapshot.toString()}}function xw(n,e){const t=function n1(n,e){const u=new fp([],{},{},"",{},Mt,e,null,n.root,-1,{});return new pp("",new ml(u,[]))}(n,e),i=new Zt([new bu("",{})]),r=new Zt({}),a=new Zt({}),u=new Zt({}),f=new Zt(""),_=new wt(i,r,u,f,a,Mt,e,t.root);return _.snapshot=t.root,new Rw(new ml(_,[]),t)}class wt{constructor(e,t,i,r,a,u,f,_){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=f,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Qe.U)(e=>ya(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Qe.U)(e=>ya(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function lv(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],a=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function Pw(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(i))}class fp{constructor(e,t,i,r,a,u,f,_,b,T,I){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=f,this.routeConfig=_,this._urlSegment=b,this._lastPathIndex=T,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ya(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ya(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class pp extends kw{constructor(e,t){super(t),this.url=e,zs(this,t)}toString(){return cv(this._root)}}function zs(n,e){e.value._routerState=n,e.children.forEach(t=>zs(n,t))}function cv(n){const e=n.children.length>0?` { ${n.children.map(cv).join(", ")} } `:"";return`${n.value}${e}`}function uv(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,va(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),va(e.params,t.params)||n.params.next(t.params),function ZT(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!va(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),va(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function gp(n,e){const t=va(n.params,e.params)&&function Iw(n,e){return wa(n,e)&&n.every((t,i)=>va(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||gp(n.parent,e.parent))}function Eu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function Fw(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Eu(n,i,r);return Eu(n,i)})}(n,e,t);return new ml(i,r)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const u=a.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(f=>Eu(n,f)),u}}const i=function dv(n){return new wt(new Zt(n.url),new Zt(n.params),new Zt(n.queryParams),new Zt(n.fragment),new Zt(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(a=>Eu(n,a));return new ml(i,r)}}function mp(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Fm(n){return"object"==typeof n&&null!=n&&n.outlets}function Wd(n,e,t,i,r){let a={};return i&&Oi(i,(u,f)=>{a[f]=Array.isArray(u)?u.map(_=>`${_}`):`${u}`}),new uc(t.root===n?e:_p(t.root,n,e),a,r)}function _p(n,e,t){const i={};return Oi(n.children,(r,a)=>{i[a]=r===e?t:_p(r,e,t)}),new Gt(n.segments,i)}class Lm{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&mp(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(Fm);if(r&&r!==km(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class yp{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function Lw(n,e,t){if(n||(n=new Gt([],{})),0===n.segments.length&&n.hasChildren())return Bm(n,e,t);const i=function Bw(n,e,t){let i=0,r=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return a;const u=n.segments[r],f=t[i];if(Fm(f))break;const _=`${f}`,b=i<t.length-1?t[i+1]:null;if(r>0&&void 0===_)break;if(_&&b&&"object"==typeof b&&void 0===b.outlets){if(!fv(_,b,u))return a;i+=2}else{if(!fv(_,{},u))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const a=new Gt(n.segments.slice(0,i.pathIndex),{});return a.children[Mt]=new Gt(n.segments.slice(i.pathIndex),n.children),Bm(a,0,r)}return i.match&&0===r.length?new Gt(n.segments,{}):i.match&&!n.hasChildren()?Vw(n,e,t):i.match?Bm(n,0,r):Vw(n,e,t)}function Bm(n,e,t){if(0===t.length)return new Gt(n.segments,{});{const i=function s1(n){return Fm(n[0])?n[0].outlets:{[Mt]:n}}(t),r={};return Oi(i,(a,u)=>{"string"==typeof a&&(a=[a]),null!==a&&(r[u]=Lw(n.children[u],e,a))}),Oi(n.children,(a,u)=>{void 0===i[u]&&(r[u]=a)}),new Gt(n.segments,r)}}function Vw(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const a=t[r];if(Fm(a)){const _=o1(a.outlets);return new Gt(i,_)}if(0===r&&mp(t[0])){i.push(new bu(n.segments[e].path,a1(t[0]))),r++;continue}const u=Fm(a)?a.outlets[Mt]:`${a}`,f=r<t.length-1?t[r+1]:null;u&&f&&mp(f)?(i.push(new bu(u,a1(f))),r+=2):(i.push(new bu(u,{})),r++)}return new Gt(i,{})}function o1(n){const e={};return Oi(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=Vw(new Gt([],{}),0,t))}),e}function a1(n){const e={};return Oi(n,(t,i)=>e[i]=`${t}`),e}function fv(n,e,t){return n==t.path&&va(e,t.parameters)}class l1{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),uv(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=wu(t);e.children.forEach(a=>{const u=a.value.outlet;this.deactivateRoutes(a,r[u],i),delete r[u]}),Oi(r,(a,u)=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(r===a)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,i);else a&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=wu(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);if(i&&i.outlet){const u=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=wu(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=wu(t);e.children.forEach(a=>{this.activateRoutes(a,r[a.value.outlet],i),this.forwardEvent(new Qy(a.value.snapshot))}),e.children.length&&this.forwardEvent(new yu(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(uv(r),r===a)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),uv(f.route.value),this.activateChildRoutes(e,null,u.children)}else{const f=function pv(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),_=f?f.module.componentFactoryResolver:null;u.attachRef=null,u.route=r,u.resolver=_,u.outlet&&u.outlet.activateWith(r,_),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}}class jw{constructor(e,t){this.routes=e,this.module=t}}function Du(n){return"function"==typeof n}function Kd(n){return n instanceof uc}const Vm=Symbol("INITIAL_VALUE");function Um(){return Ln(n=>function dr(...n){const e=(0,is.yG)(n),t=(0,is.jO)(n),{args:i,keys:r}=ho(n);if(0===i.length)return(0,bn.D)([],e);const a=new pn.y(function gu(n,e,t=ds.y){return i=>{$d(e,()=>{const{length:r}=n,a=new Array(r);let u=r,f=r;for(let _=0;_<r;_++)$d(e,()=>{const b=(0,bn.D)(n[_],e);let T=!1;b.subscribe(new zt.Q(i,I=>{a[_]=I,T||(T=!0,f--),f||i.next(t(a.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,e,r?u=>Wl(r,u):ds.y));return t?a.pipe(Zl(t)):a}(n.map(e=>e.pipe((0,Ut.q)(1),Nr(Vm)))).pipe(mu((e,t)=>{let i=!1;return t.reduce((r,a,u)=>r!==Vm?r:(a===Vm&&(i=!0),i||!1!==a&&u!==t.length-1&&!Kd(a)?r:a),e)},Vm),on(e=>e!==Vm),(0,Qe.U)(e=>Kd(e)?e:!0===e),(0,Ut.q)(1)))}class dc{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Cu,this.attachRef=null}}class Cu{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new dc,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let gv=(()=>{class n{constructor(t,i,r,a,u){this.parentContexts=t,this.location=i,this.resolver=r,this.changeDetector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=a||Mt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const u=(i=i||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,_=new Hw(t,f,this.location.injector);this.activated=this.location.createComponent(u,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Cu),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Hw{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===wt?this.route:e===Cu?this.childContexts:this.parent.get(e,t)}}let jm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,i){1&t&&c._UZ(0,"router-outlet")},directives:[gv],encapsulation:2}),n})();function mv(n,e=""){for(let t=0;t<n.length;t++){const i=n[t];_v(i,c1(e,i))}}function _v(n,e){n.children&&mv(n.children,e)}function c1(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Ea(n){const e=n.children&&n.children.map(Ea),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Mt&&(t.component=jm),t}function qs(n){return n.outlet||Mt}function Gw(n,e){const t=n.filter(i=>qs(i)===e);return t.push(...n.filter(i=>qs(i)!==e)),t}const Hm={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Gm(n,e,t){var i;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Hm):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const a=(e.matcher||Xy)(t,n,e);if(!a)return Object.assign({},Hm);const u={};Oi(a.posParams,(_,b)=>{u[b]=_.path});const f=a.consumed.length>0?Object.assign(Object.assign({},u),a.consumed[a.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:a.consumed,lastChild:a.consumed.length,parameters:f,positionalParamSegments:null!==(i=a.posParams)&&void 0!==i?i:{}}}function vp(n,e,t,i,r="corrected"){if(t.length>0&&function bp(n,e,t){return t.some(i=>Jd(n,e,i)&&qs(i)!==Mt)}(n,t,i)){const u=new Gt(e,function d1(n,e,t,i){const r={};r[Mt]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&qs(a)!==Mt){const u=new Gt([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,r[qs(a)]=u}return r}(n,e,i,new Gt(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function Yd(n,e,t){return t.some(i=>Jd(n,e,i))}(n,t,i)){const u=new Gt(n.segments,function u1(n,e,t,i,r,a){const u={};for(const f of i)if(Jd(n,t,f)&&!r[qs(f)]){const _=new Gt([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===a?n.segments.length:e.length,u[qs(f)]=_}return Object.assign(Object.assign({},r),u)}(n,e,t,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const a=new Gt(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function Jd(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Tu(n,e,t,i){return!!(qs(n)===i||i!==Mt&&Jd(e,t,n))&&("**"===n.path||Gm(e,n,t).matched)}function Qd(n,e,t){return 0===e.length&&!n.children[t]}class Da{constructor(e){this.segmentGroup=e||null}}class $w{constructor(e){this.urlTree=e}}function wp(n){return new pn.y(e=>e.error(new Da(n)))}function yv(n){return new pn.y(e=>e.error(new $w(n)))}function vv(n){return new pn.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class $m{constructor(e,t,i,r,a){this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(c.h0i)}apply(){const e=vp(this.urlTree.root,[],[],this.config).segmentGroup,t=new Gt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Mt).pipe((0,Qe.U)(a=>this.createUrlTree(zm(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Hr(a=>{if(a instanceof $w)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Da?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Mt).pipe((0,Qe.U)(r=>this.createUrlTree(zm(r),e.queryParams,e.fragment))).pipe(Hr(r=>{throw r instanceof Da?this.noMatchError(r):r}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,i){const r=e.segments.length>0?new Gt([],{[Mt]:e}):e;return new uc(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,Qe.U)(a=>new Gt([],a))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const a of Object.keys(i.children))"primary"===a?r.unshift(a):r.push(a);return(0,bn.D)(r).pipe(ac(a=>{const u=i.children[a],f=Gw(t,a);return this.expandSegmentGroup(e,f,u,a).pipe((0,Qe.U)(_=>({segment:_,outlet:a})))}),mu((a,u)=>(a[u.outlet]=u.segment,a),{}),function Jy(n,e){const t=arguments.length>=2;return i=>i.pipe(n?on((r,a)=>n(r,a,i)):ds.y,_u(1),t?Nm(e):Mm(()=>new pl))}())}expandSegment(e,t,i,r,a,u){return(0,bn.D)(i).pipe(ac(f=>this.expandSegmentAgainstRoute(e,t,i,f,r,a,u).pipe(Hr(b=>{if(b instanceof Da)return st(null);throw b}))),y(f=>!!f),Hr((f,_)=>{if(f instanceof pl||"EmptyError"===f.name){if(Qd(t,r,a))return st(new Gt([],{}));throw new Da(t)}throw f}))}expandSegmentAgainstRoute(e,t,i,r,a,u,f){return Tu(r,t,a,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,a,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u):wp(t):wp(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const a=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?yv(a):this.lineralizeSegments(i,a).pipe((0,ei.z)(u=>{const f=new Gt(u,{});return this.expandSegment(e,f,t,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u){const{matched:f,consumedSegments:_,lastChild:b,positionalParamSegments:T}=Gm(t,r,a);if(!f)return wp(t);const I=this.applyRedirectCommands(_,r.redirectTo,T);return r.redirectTo.startsWith("/")?yv(I):this.lineralizeSegments(r,I).pipe((0,ei.z)(R=>this.expandSegment(e,t,i,R.concat(a.slice(b)),u,!1)))}matchSegmentAgainstRoute(e,t,i,r,a){if("**"===i.path)return i.loadChildren?(i._loadedConfig?st(i._loadedConfig):this.configLoader.load(e.injector,i)).pipe((0,Qe.U)(R=>(i._loadedConfig=R,new Gt(r,{})))):st(new Gt(r,{}));const{matched:u,consumedSegments:f,lastChild:_}=Gm(t,i,r);if(!u)return wp(t);const b=r.slice(_);return this.getChildConfig(e,i,r).pipe((0,ei.z)(I=>{const R=I.module,x=I.routes,{segmentGroup:V,slicedSegments:Z}=vp(t,f,b,x),he=new Gt(V.segments,V.children);if(0===Z.length&&he.hasChildren())return this.expandChildren(R,x,he).pipe((0,Qe.U)(Ge=>new Gt(f,Ge)));if(0===x.length&&0===Z.length)return st(new Gt(f,{}));const ke=qs(i)===a;return this.expandSegment(R,he,x,Z,ke?Mt:a,!0).pipe((0,Qe.U)(We=>new Gt(f.concat(We.segments),We.children)))}))}getChildConfig(e,t,i){return t.children?st(new jw(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?st(t._loadedConfig):this.runCanLoadGuards(e.injector,t,i).pipe((0,ei.z)(r=>r?this.configLoader.load(e.injector,t).pipe((0,Qe.U)(a=>(t._loadedConfig=a,a))):function bv(n){return new pn.y(e=>e.error(op(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):st(new jw([],e))}runCanLoadGuards(e,t,i){const r=t.canLoad;return r&&0!==r.length?st(r.map(u=>{const f=e.get(u);let _;if(function GM(n){return n&&Du(n.canLoad)}(f))_=f.canLoad(t,i);else{if(!Du(f))throw new Error("Invalid CanLoad guard");_=f(t,i)}return ba(_)})).pipe(Um(),(0,p.b)(u=>{if(!Kd(u))return;const f=op(`Redirecting to "${this.urlSerializer.serialize(u)}"`);throw f.url=u,f}),(0,Qe.U)(u=>!0===u)):st(!0)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return st(i);if(r.numberOfChildren>1||!r.children[Mt])return vv(e.redirectTo);r=r.children[Mt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreatreUrlTree(e,t,i,r){const a=this.createSegmentGroup(e,t.root,i,r);return new uc(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Oi(e,(r,a)=>{if("string"==typeof r&&r.startsWith(":")){const f=r.substring(1);i[a]=t[f]}else i[a]=r}),i}createSegmentGroup(e,t,i,r){const a=this.createSegments(e,t.segments,i,r);let u={};return Oi(t.children,(f,_)=>{u[_]=this.createSegmentGroup(e,f,i,r)}),new Gt(a,u)}createSegments(e,t,i,r){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,r):this.findOrReturn(a,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}function zm(n){const e={};for(const i of Object.keys(n.children)){const a=zm(n.children[i]);(a.segments.length>0||a.hasChildren())&&(e[i]=a)}return function h1(n){if(1===n.numberOfChildren&&n.children[Mt]){const e=n.children[Mt];return new Gt(n.segments.concat(e.segments),e.children)}return n}(new Gt(n.segments,e))}class wv{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ep{constructor(e,t){this.component=e,this.route=t}}function f1(n,e,t){const i=n._root;return hr(i,e?e._root:null,t,[i.value])}function qm(n,e,t){const i=function p1(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:t).get(n)}function hr(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=wu(e);return n.children.forEach(u=>{(function g1(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,u=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){const _=function m1(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!wa(n.url,e.url);case"pathParamsOrQueryParamsChange":return!wa(n.url,e.url)||!va(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gp(n,e)||!va(n.queryParams,e.queryParams);default:return!gp(n,e)}}(u,a,a.routeConfig.runGuardsAndResolvers);_?r.canActivateChecks.push(new wv(i)):(a.data=u.data,a._resolvedData=u._resolvedData),hr(n,e,a.component?f?f.children:null:t,i,r),_&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new Ep(f.outlet.component,u))}else u&&Zm(e,f,r),r.canActivateChecks.push(new wv(i)),hr(n,null,a.component?f?f.children:null:t,i,r)})(u,a[u.value.outlet],t,i.concat([u.value]),r),delete a[u.value.outlet]}),Oi(a,(u,f)=>Zm(u,t.getContext(f),r)),r}function Zm(n,e,t){const i=wu(n),r=n.value;Oi(i,(a,u)=>{Zm(a,r.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Ep(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class b1{}function Dv(n){return new pn.y(e=>e.error(n))}class Kw{constructor(e,t,i,r,a,u){this.rootComponentType=e,this.config=t,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=u}recognize(){const e=vp(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Mt);if(null===t)return null;const i=new fp([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Mt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new ml(i,t),a=new pp(this.url,r);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(e){const t=e.value,i=lv(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,i)}processChildren(e,t){const i=[];for(const a of Object.keys(t.children)){const u=t.children[a],f=Gw(e,a),_=this.processSegmentGroup(f,u,a);if(null===_)return null;i.push(..._)}const r=Cv(i);return function E1(n){n.sort((e,t)=>e.value.outlet===Mt?-1:t.value.outlet===Mt?1:e.value.outlet.localeCompare(t.value.outlet))}(r),r}processSegment(e,t,i,r){for(const a of e){const u=this.processSegmentAgainstRoute(a,t,i,r);if(null!==u)return u}return Qd(t,i,r)?[]:null}processSegmentAgainstRoute(e,t,i,r){if(e.redirectTo||!Tu(e,t,i,r))return null;let a,u=[],f=[];if("**"===e.path){const x=i.length>0?km(i).parameters:{};a=new fp(i,x,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Jw(e),qs(e),e.component,e,qo(t),Wm(t)+i.length,Qw(e))}else{const x=Gm(t,e,i);if(!x.matched)return null;u=x.consumedSegments,f=i.slice(x.lastChild),a=new fp(u,x.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Jw(e),qs(e),e.component,e,qo(t),Wm(t)+u.length,Qw(e))}const _=function D1(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:b,slicedSegments:T}=vp(t,u,f,_.filter(x=>void 0===x.redirectTo),this.relativeLinkResolution);if(0===T.length&&b.hasChildren()){const x=this.processChildren(_,b);return null===x?null:[new ml(a,x)]}if(0===_.length&&0===T.length)return[new ml(a,[])];const I=qs(e)===r,R=this.processSegment(_,b,T,I?Mt:r);return null===R?null:[new ml(a,R)]}}function Yw(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Cv(n){const e=[],t=new Set;for(const i of n){if(!Yw(i)){e.push(i);continue}const r=e.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=Cv(i.children);e.push(new ml(i.value,r))}return e.filter(i=>!t.has(i))}function qo(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Wm(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function Jw(n){return n.data||{}}function Qw(n){return n.resolve||{}}function eE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Sv(n){return Ln(e=>{const t=n(e);return t?(0,bn.D)(t).pipe((0,Qe.U)(()=>e)):st(e)})}class Iv extends class Km{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Av=new c.OlP("ROUTES");class Ym{constructor(e,t,i,r){this.injector=e,this.compiler=t,this.onLoadStartListener=i,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const r=this.loadModuleFactory(t.loadChildren).pipe((0,Qe.U)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t);const u=a.create(e);return new jw(ev(u.injector.get(Av,void 0,c.XFs.Self|c.XFs.Optional)).map(Ea),u)}),Hr(a=>{throw t._loader$=void 0,a}));return t._loader$=new Yy(r,()=>new At.x).pipe(zd()),t._loader$}loadModuleFactory(e){return ba(e()).pipe((0,ei.z)(t=>t instanceof c.YKP?st(t):(0,bn.D)(this.compiler.compileModuleAsync(t))))}}class tE{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function I1(n){throw n}function A1(n,e,t){return e.parse("/")}function Jm(n,e){return st(null)}const QM={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},M1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ni=(()=>{class n{constructor(t,i,r,a,u,f,_){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=a,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new At.x,this.errorHandler=I1,this.malformedUriErrorHandler=A1,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Jm,afterPreactivation:Jm},this.urlHandlingStrategy=new tE,this.routeReuseStrategy=new Iv,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=u.get(c.h0i),this.console=u.get(c.c2e);const I=u.get(c.R0b);this.isNgZoneEnabled=I instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function KT(){return new uc(new Gt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ym(u,f,R=>this.triggerEvent(new Gr(R)),R=>this.triggerEvent(new lc(R))),this.routerState=xw(this.currentUrlTree,this.rootComponentType),this.transitions=new Zt({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(on(r=>0!==r.id),(0,Qe.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Ln(r=>{let a=!1,u=!1;return st(r).pipe((0,p.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ln(f=>{const _=this.browserUrlTree.toString(),b=!this.navigated||f.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return Dp(f.source)&&(this.browserUrlTree=f.extractedUrl),st(f).pipe(Ln(I=>{const R=this.transitions.getValue();return i.next(new M(I.id,this.serializeUrl(I.extractedUrl),I.source,I.restoredState)),R!==this.transitions.getValue()?Mi.E:Promise.resolve(I)}),function ZM(n,e,t,i){return Ln(r=>function zw(n,e,t,i,r){return new $m(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,Qe.U)(a=>Object.assign(Object.assign({},r),{urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,p.b)(I=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:I.urlAfterRedirects})}),function JM(n,e,t,i,r){return(0,ei.z)(a=>function w1(n,e,t,i,r="emptyOnly",a="legacy"){try{const u=new Kw(n,e,t,i,r,a).recognize();return null===u?Dv(new b1):st(u)}catch(u){return Dv(u)}}(n,e,a.urlAfterRedirects,t(a.urlAfterRedirects),i,r).pipe((0,Qe.U)(u=>Object.assign(Object.assign({},a),{targetSnapshot:u}))))}(this.rootComponentType,this.config,I=>this.serializeUrl(I),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,p.b)(I=>{if("eager"===this.urlUpdateStrategy){if(!I.extras.skipLocationChange){const x=this.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);this.setBrowserUrl(x,I)}this.browserUrlTree=I.urlAfterRedirects}const R=new He(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);i.next(R)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:R,extractedUrl:x,source:V,restoredState:Z,extras:he}=f,ke=new M(R,this.serializeUrl(x),V,Z);i.next(ke);const Ue=xw(x,this.rootComponentType).snapshot;return st(Object.assign(Object.assign({},f),{targetSnapshot:Ue,urlAfterRedirects:x,extras:Object.assign(Object.assign({},he),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),Mi.E}),Sv(f=>{const{targetSnapshot:_,id:b,extractedUrl:T,rawUrl:I,extras:{skipLocationChange:R,replaceUrl:x}}=f;return this.hooks.beforePreactivation(_,{navigationId:b,appliedUrlTree:T,rawUrlTree:I,skipLocationChange:!!R,replaceUrl:!!x})}),(0,p.b)(f=>{const _=new nt(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}),(0,Qe.U)(f=>Object.assign(Object.assign({},f),{guards:f1(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function WM(n,e){return(0,ei.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:u}}=t;return 0===u.length&&0===a.length?st(Object.assign(Object.assign({},t),{guardsResult:!0})):function Zw(n,e,t,i){return(0,bn.D)(n).pipe((0,ei.z)(r=>function v1(n,e,t,i,r){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?st(a.map(f=>{const _=qm(f,e,r);let b;if(function qM(n){return n&&Du(n.canDeactivate)}(_))b=ba(_.canDeactivate(n,e,t,i));else{if(!Du(_))throw new Error("Invalid CanDeactivate guard");b=ba(_(n,e,t,i))}return b.pipe(y())})).pipe(Um()):st(!0)}(r.component,r.route,t,e,i)),y(r=>!0!==r,!0))}(u,i,r,n).pipe((0,ei.z)(f=>f&&function HM(n){return"boolean"==typeof n}(f)?function KM(n,e,t,i){return(0,bn.D)(e).pipe(ac(r=>oc(function Ev(n,e){return null!==n&&e&&e(new qd(n)),st(!0)}(r.route.parent,i),function _1(n,e){return null!==n&&e&&e(new rp(n)),st(!0)}(r.route,i),function y1(n,e,t){const i=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(u=>function qw(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>np(()=>st(u.guards.map(_=>{const b=qm(_,u.node,t);let T;if(function zM(n){return n&&Du(n.canActivateChild)}(b))T=ba(b.canActivateChild(i,n));else{if(!Du(b))throw new Error("Invalid CanActivateChild guard");T=ba(b(i,n))}return T.pipe(y())})).pipe(Um())));return st(a).pipe(Um())}(n,r.path,t),function Ww(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return st(!0);const r=i.map(a=>np(()=>{const u=qm(a,e,t);let f;if(function $M(n){return n&&Du(n.canActivate)}(u))f=ba(u.canActivate(e,n));else{if(!Du(u))throw new Error("Invalid CanActivate guard");f=ba(u(e,n))}return f.pipe(y())}));return st(r).pipe(Um())}(n,r.route,t))),y(r=>!0!==r,!0))}(i,a,n,e):st(f)),(0,Qe.U)(f=>Object.assign(Object.assign({},t),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,p.b)(f=>{if(Kd(f.guardsResult)){const b=op(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw b.url=f.guardsResult,b}const _=new vt(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(_)}),on(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),Sv(f=>{if(f.guards.canActivateChecks.length)return st(f).pipe((0,p.b)(_=>{const b=new ct(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}),Ln(_=>{let b=!1;return st(_).pipe(function Xw(n,e){return(0,ei.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return st(t);let a=0;return(0,bn.D)(r).pipe(ac(u=>function C1(n,e,t,i){return function T1(n,e,t,i){const r=eE(n);if(0===r.length)return st({});const a={};return(0,bn.D)(r).pipe((0,ei.z)(u=>function Tv(n,e,t,i){const r=qm(n,e,i);return ba(r.resolve?r.resolve(e,t):r(e,t))}(n[u],e,t,i).pipe((0,p.b)(f=>{a[u]=f}))),_u(1),(0,ei.z)(()=>eE(a).length===r.length?st(a):Mi.E))}(n._resolve,n,e,i).pipe((0,Qe.U)(a=>(n._resolvedData=a,n.data=Object.assign(Object.assign({},n.data),lv(n,t).resolve),null)))}(u.route,i,n,e)),(0,p.b)(()=>a++),_u(1),(0,ei.z)(u=>a===r.length?st(t):Mi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,p.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,p.b)(_=>{const b=new On(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}))}),Sv(f=>{const{targetSnapshot:_,id:b,extractedUrl:T,rawUrl:I,extras:{skipLocationChange:R,replaceUrl:x}}=f;return this.hooks.afterPreactivation(_,{navigationId:b,appliedUrlTree:T,rawUrlTree:I,skipLocationChange:!!R,replaceUrl:!!x})}),(0,Qe.U)(f=>{const _=function _l(n,e,t){const i=Eu(n,e._root,t?t._root:void 0);return new Rw(i,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:_})}),(0,p.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,Qe.U)(i=>(new l1(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,p.b)({next(){a=!0},complete(){a=!0}}),m(()=>{var f;a||u||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===r.id&&(this.currentNavigation=null)}),Hr(f=>{if(u=!0,function ap(n){return n&&n[vu]}(f)){const _=Kd(f.url);_||(this.navigated=!0,this.restoreHistory(r,!0));const b=new q(r.id,this.serializeUrl(r.extractedUrl),f.message);i.next(b),_?setTimeout(()=>{const T=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),I={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Dp(r.source)};this.scheduleNavigation(T,"imperative",null,I,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const _=new de(r.id,this.serializeUrl(r.extractedUrl),f);i.next(_);try{r.resolve(this.errorHandler(f))}catch(b){r.reject(b)}}return Mi.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const a={replaceUrl:!0},u=(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null;if(u){const _=Object.assign({},u);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(a.state=_)}const f=this.parseUrl(t.url);this.scheduleNavigation(f,i,u,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){mv(t),this.config=t.map(Ea),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:a,fragment:u,queryParamsHandling:f,preserveFragment:_}=i,b=r||this.routerState.root,T=_?this.currentUrlTree.fragment:u;let I=null;switch(f){case"merge":I=Object.assign(Object.assign({},this.currentUrlTree.queryParams),a);break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=a||null}return null!==I&&(I=this.removeEmptyProps(I)),function UM(n,e,t,i,r){if(0===t.length)return Wd(e.root,e.root,e,i,r);const a=function hv(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Lm(!0,0,n);let e=0,t=!1;const i=n.reduce((r,a,u)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return Oi(a.outlets,(_,b)=>{f[b]="string"==typeof _?_.split("/"):_}),[...r,{outlets:f}]}if(a.segmentPath)return[...r,a.segmentPath]}return"string"!=typeof a?[...r,a]:0===u?(a.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&r.push(f))}),r):[...r,a]},[]);return new Lm(t,e,i)}(t);if(a.toRoot())return Wd(e.root,new Gt([],{}),e,i,r);const u=function jM(n,e,t){if(n.isAbsolute)return new yp(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const a=t.snapshot._urlSegment;return new yp(a,a===e.root,0)}const i=mp(n.commands[0])?0:1;return function r1(n,e,t){let i=n,r=e,a=t;for(;a>r;){if(a-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new yp(i,!1,r-a)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(a,e,n),f=u.processChildren?Bm(u.segmentGroup,u.index,a.commands):Lw(u.segmentGroup,u.index,a.commands);return Wd(u.segmentGroup,f,e,i,r)}(b,this.currentUrlTree,t,I,null!=T?T:null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Kd(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function nE(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?Object.assign({},QM):!1===i?Object.assign({},M1):i,Kd(t))return cc(this.currentUrlTree,t,r);const a=this.parseUrl(t);return cc(this.currentUrlTree,a,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const a=t[r];return null!=a&&(i[r]=a),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new k(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,a,u){var f,_,b;if(this.disposed)return Promise.resolve(!1);const T=this.transitions.value,I=Dp(i)&&T&&!Dp(T.source),R=T.rawUrl.toString()===t.toString(),x=T.id===(null===(f=this.currentNavigation)||void 0===f?void 0:f.id);if(I&&R&&x)return Promise.resolve(!0);let Z,he,ke;u?(Z=u.resolve,he=u.reject,ke=u.promise):ke=new Promise((Ge,Rt)=>{Z=Ge,he=Rt});const Ue=++this.navigationId;let We;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),We=r&&r.\u0275routerPageId?r.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?null!==(_=this.browserPageId)&&void 0!==_?_:0:(null!==(b=this.browserPageId)&&void 0!==b?b:0)+1):We=0,this.setTransition({id:Ue,targetPageId:We,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:Z,reject:he,promise:ke,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ke.catch(Ge=>Promise.reject(Ge))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),a=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",a):this.location.go(r,"",a)}restoreHistory(t,i=!1){var r,a;if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===u?this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i){const r=new q(t.id,this.serializeUrl(t.extractedUrl),i);this.triggerEvent(r),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Dp(n){return"imperative"!==n}let Su=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new At.x,this.subscription=t.events.subscribe(a=>{a instanceof k&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,a,u){if(0!==t||i||r||a||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const f={skipLocationChange:hs(this.skipLocationChange),replaceUrl:hs(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:hs(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ni),c.Y36(wt),c.Y36(W))},n.\u0275dir=c.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&c.NdJ("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&c.uIk("target",i.target)("href",i.href,c.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),n})();function hs(n){return""===n||!!n}class iE{}class e_{preload(e,t){return st(null)}}let Ov=(()=>{class n{constructor(t,i,r,a){this.router=t,this.injector=r,this.preloadingStrategy=a,this.loader=new Ym(r,i,_=>t.triggerEvent(new Gr(_)),_=>t.triggerEvent(new lc(_)))}setUpPreloading(){this.subscription=this.router.events.pipe(on(t=>t instanceof k),ac(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(c.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const a of i)if(a.loadChildren&&!a.canLoad&&a._loadedConfig){const u=a._loadedConfig;r.push(this.processRoutes(u.module,u.routes))}else a.loadChildren&&!a.canLoad?r.push(this.preloadConfig(t,a)):a.children&&r.push(this.processRoutes(t,a.children));return(0,bn.D)(r).pipe((0,sc.J)(),(0,Qe.U)(a=>{}))}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?st(i._loadedConfig):this.loader.load(t.injector,i)).pipe((0,ei.z)(a=>(i._loadedConfig=a,this.processRoutes(a.module,a.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ni),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(iE))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Cp=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof M?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof k&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof $o&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new $o(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Iu=new c.OlP("ROUTER_CONFIGURATION"),n_=new c.OlP("ROUTER_FORROOT_GUARD"),rE=[Re,{provide:iv,useClass:xm},{provide:Ni,useFactory:function aE(n,e,t,i,r,a,u={},f,_){const b=new Ni(null,n,e,t,i,r,ev(a));return f&&(b.urlHandlingStrategy=f),_&&(b.routeReuseStrategy=_),function Xd(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,b),u.enableTracing&&b.events.subscribe(T=>{var I,R;null===(I=console.group)||void 0===I||I.call(console,`Router Event: ${T.constructor.name}`),console.log(T.toString()),console.log(T),null===(R=console.groupEnd)||void 0===R||R.call(console)}),b},deps:[iv,Cu,Re,c.zs3,c.Sil,Av,Iu,[class Mv{},new c.FiY],[class S1{},new c.FiY]]},Cu,{provide:wt,useFactory:function lE(n){return n.routerState.root},deps:[Ni]},Ov,e_,class XM{preload(e,t){return t().pipe(Hr(()=>st(null)))}},{provide:Iu,useValue:{enableTracing:!1}}];function sE(){return new c.PXZ("Router",Ni)}let Nv=(()=>{class n{constructor(t,i){}static forRoot(t,i){return{ngModule:n,providers:[rE,oE(t),{provide:n_,useFactory:k1,deps:[[Ni,new c.FiY,new c.tp0]]},{provide:Iu,useValue:i||{}},{provide:W,useFactory:kv,deps:[ge,[new c.tBr(ye),new c.FiY],Iu]},{provide:Cp,useFactory:N1,deps:[Ni,Bl,Iu]},{provide:iE,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:e_},{provide:c.PXZ,multi:!0,useFactory:sE},[Rv,{provide:c.ip1,multi:!0,useFactory:R1,deps:[Rv]},{provide:cE,useFactory:eh,deps:[Rv]},{provide:c.tb,multi:!0,useExisting:cE}]]}}static forChild(t){return{ngModule:n,providers:[oE(t)]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(n_,8),c.LFG(Ni,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function N1(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Cp(n,e,t)}function kv(n,e,t={}){return t.useHash?new fe(n,e):new Te(n,e)}function k1(n){return"guarded"}function oE(n){return[{provide:c.deG,multi:!0,useValue:n},{provide:Av,multi:!0,useValue:n}]}let Rv=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new At.x}appInitializer(){return this.injector.get(G,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(f=>i=f),a=this.injector.get(Ni),u=this.injector.get(Iu);return"disabled"===u.initialNavigation?(a.setUpLocationChangeListener(),i(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(a.hooks.afterPreactivation=()=>this.initNavigation?st(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),a.initialNavigation()):i(!0),r})}bootstrapListener(t){const i=this.injector.get(Iu),r=this.injector.get(Ov),a=this.injector.get(Cp),u=this.injector.get(Ni),f=this.injector.get(c.z2F);t===f.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&u.initialNavigation(),r.setUpPreloading(),a.init(),u.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function R1(n){return n.appInitializer.bind(n)}function eh(n){return n.bootstrapListener.bind(n)}const cE=new c.OlP("Router Initializer");var Tp=P(4986),Yt=P(5813);function Sp(){return(0,ui.e)((n,e)=>{let t,i=!1;n.subscribe(new zt.Q(e,r=>{const a=t;t=r,i&&e.next([a,r]),i=!0}))})}function th(n,e=ds.y){return n=null!=n?n:uE,(0,ui.e)((t,i)=>{let r,a=!0;t.subscribe(new zt.Q(i,u=>{const f=e(u);(a||!n(r,f))&&(a=!1,r=f,i.next(u))}))})}function uE(n,e){return n===e}var Xe,kr=P(2011),dE=(P(389),P(3942)),be=P(5861),Zo=P(9681),nh=P(4859),yl=P(1877),Ct=P(2090),hE="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},vl={},fE=fE||{},St=hE||self;function ih(){}function xv(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function rh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var gE="closure_uid_"+(1e9*Math.random()>>>0),Wo=0;function tO(n,e,t){return n.call.apply(n.bind,arguments)}function nO(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Zi(n,e,t){return(Zi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?tO:nO).apply(null,arguments)}function Ip(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Wi(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(i,r,a){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return e.prototype[r].apply(i,u)}}function hc(){this.s=this.s,this.o=this.o}var mE={};hc.prototype.s=!1,hc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function pE(n){return Object.prototype.hasOwnProperty.call(n,gE)&&n[gE]||(n[gE]=++Wo)}(this);delete mE[n]}},hc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const i_=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},_E=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const i=n.length,r="string"==typeof n?n.split(""):n;for(let a=0;a<i;a++)a in r&&e.call(t,r[a],a,n)};function yE(n){return Array.prototype.concat.apply([],arguments)}function Fv(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function r_(n){return/^[\s\xa0]*$/.test(n)}var Ki,vE=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function $r(n,e){return-1!=n.indexOf(e)}function Lv(n,e){return n<e?-1:n>e?1:0}e:{var Au=St.navigator;if(Au){var bE=Au.userAgent;if(bE){Ki=bE;break e}}Ki=""}function Mu(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function wE(n){const e={};for(const t in n)e[t]=n[t];return e}var EE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function s_(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let a=0;a<EE.length;a++)t=EE[a],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function _o(n){return _o[" "](n),n}_o[" "]=ih;var bl,n,Rr=$r(Ki,"Opera"),yo=$r(Ki,"Trident")||$r(Ki,"MSIE"),Mp=$r(Ki,"Edge"),fs=Mp||yo,o_=$r(Ki,"Gecko")&&!($r(Ki.toLowerCase(),"webkit")&&!$r(Ki,"Edge"))&&!($r(Ki,"Trident")||$r(Ki,"MSIE"))&&!$r(Ki,"Edge"),sh=$r(Ki.toLowerCase(),"webkit")&&!$r(Ki,"Edge");function Ou(){var n=St.document;return n?n.documentMode:void 0}e:{var fc="",pc=(n=Ki,o_?/rv:([^\);]+)(\)|;)/.exec(n):Mp?/Edge\/([\d\.]+)/.exec(n):yo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):sh?/WebKit\/(\S+)/.exec(n):Rr?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(pc&&(fc=pc?pc[1]:""),yo){var gc=Ou();if(null!=gc&&gc>parseFloat(fc)){bl=String(gc);break e}}bl=fc}var oh={};var DE=St.document&&yo&&(Ou()||parseInt(bl,10))||void 0,CE=function(){if(!St.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{St.addEventListener("test",ih,e),St.removeEventListener("test",ih,e)}catch(t){}return n}();function fr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function lh(n,e){if(fr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(o_){e:{try{_o(e.nodeName);var r=!0;break e}catch(a){}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:TE[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&lh.Z.h.call(this)}}fr.prototype.h=function(){this.defaultPrevented=!0},Wi(lh,fr);var TE={2:"touch",3:"pen",4:"mouse"};lh.prototype.h=function(){lh.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ch="closure_listenable_"+(1e6*Math.random()|0),SE=0;function IE(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ia=r,this.key=++SE,this.ca=this.fa=!1}function a_(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Op(n){this.src=n,this.g={},this.h=0}function Vv(n,e){var t=e.type;if(t in n.g){var a,i=n.g[t],r=i_(i,e);(a=0<=r)&&Array.prototype.splice.call(i,r,1),a&&(a_(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function l_(n,e,t,i){for(var r=0;r<n.length;++r){var a=n[r];if(!a.ca&&a.listener==e&&a.capture==!!t&&a.ia==i)return r}return-1}Op.prototype.add=function(n,e,t,i,r){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var u=l_(n,e,i,r);return-1<u?(e=n[u],t||(e.fa=!1)):((e=new IE(e,this.src,a,!!i,r)).fa=t,n.push(e)),e};var c_="closure_lm_"+(1e6*Math.random()|0),Uv={};function AE(n,e,t,i,r){if(i&&i.once)return Hv(n,e,t,i,r);if(Array.isArray(e)){for(var a=0;a<e.length;a++)AE(n,e[a],t,i,r);return null}return t=$v(t),n&&n[ch]?n.N(e,t,rh(i)?!!i.capture:!!i,r):jv(n,e,t,!1,i,r)}function jv(n,e,t,i,r,a){if(!e)throw Error("Invalid event type");var u=rh(r)?!!r.capture:!!r,f=Np(n);if(f||(n[c_]=f=new Op(n)),(t=f.add(e,t,i,u,a)).proxy)return t;if(i=function F1(){var e=B1;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)CE||(r=u),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(L1(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function Hv(n,e,t,i,r){if(Array.isArray(e)){for(var a=0;a<e.length;a++)Hv(n,e[a],t,i,r);return null}return t=$v(t),n&&n[ch]?n.O(e,t,rh(i)?!!i.capture:!!i,r):jv(n,e,t,!0,i,r)}function ME(n,e,t,i,r){if(Array.isArray(e))for(var a=0;a<e.length;a++)ME(n,e[a],t,i,r);else i=rh(i)?!!i.capture:!!i,t=$v(t),n&&n[ch]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=l_(a=n.g[e],t,i,r))&&(a_(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=Np(n))&&(e=n.g[e.toString()],n=-1,e&&(n=l_(e,t,i,r)),(t=-1<n?e[n]:null)&&Gv(t))}function Gv(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[ch])Vv(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(L1(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=Np(e))?(Vv(t,n),0==t.h&&(t.src=null,e[c_]=null)):a_(n)}}}function L1(n){return n in Uv?Uv[n]:Uv[n]="on"+n}function B1(n,e){if(n.ca)n=!0;else{e=new lh(e,this);var t=n.listener,i=n.ia||n.src;n.fa&&Gv(n),n=t.call(i,e)}return n}function Np(n){return(n=n[c_])instanceof Op?n:null}var kp="__closure_events_fn_"+(1e9*Math.random()>>>0);function $v(n){return"function"==typeof n?n:(n[kp]||(n[kp]=function(e){return n.handleEvent(e)}),n[kp])}function pr(){hc.call(this),this.i=new Op(this),this.P=this,this.I=null}function xr(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new fr(e,n);else if(e instanceof fr)e.target=e.target||n;else{var r=e;s_(e=new fr(i,n),r)}if(r=!0,t)for(var a=t.length-1;0<=a;a--){var u=e.g=t[a];r=zv(u,i,!0,e)&&r}if(r=zv(u=e.g=n,i,!0,e)&&r,r=zv(u,i,!1,e)&&r,t)for(a=0;a<t.length;a++)r=zv(u=e.g=t[a],i,!1,e)&&r}function zv(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,a=0;a<e.length;++a){var u=e[a];if(u&&!u.ca&&u.capture==t){var f=u.listener,_=u.ia||u.src;u.fa&&Vv(n.i,u),r=!1!==f.call(_,i)&&r}}return r&&!i.defaultPrevented}Wi(pr,hc),pr.prototype[ch]=!0,pr.prototype.removeEventListener=function(n,e,t,i){ME(this,n,e,t,i)},pr.prototype.M=function(){if(pr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)a_(t[i]);delete n.g[e],n.h--}}this.I=null},pr.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},pr.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var qv=St.JSON.stringify;function OE(){var n=RE;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Zv,NE=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new uh,n=>n.reset());class uh{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function V1(n){St.setTimeout(()=>{throw n},0)}function u_(n,e){Zv||function kE(){var n=St.Promise.resolve(void 0);Zv=function(){n.then(xE)}}(),dh||(Zv(),dh=!0),RE.add(n,e)}var dh=!1,RE=new class rO{constructor(){this.h=this.g=null}add(e,t){const i=NE.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function xE(){for(var n;n=OE();){try{n.h.call(n.g)}catch(t){V1(t)}var e=NE;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}dh=!1}function d_(n,e){pr.call(this),this.h=n||1,this.g=e||St,this.j=Zi(this.kb,this),this.l=Date.now()}function Wv(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Kv(n,e,t){if("function"==typeof n)t&&(n=Zi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Zi(n.handleEvent,n)}return 2147483647<Number(e)?-1:St.setTimeout(n,e||0)}function PE(n){n.g=Kv(()=>{n.g=null,n.i&&(n.i=!1,PE(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Wi(d_,pr),(Xe=d_.prototype).da=!1,Xe.S=null,Xe.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),xr(this,"tick"),this.da&&(Wv(this),this.start()))}},Xe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Xe.M=function(){d_.Z.M.call(this),Wv(this),delete this.g};class U1 extends hc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:PE(this)}M(){super.M(),this.g&&(St.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hh(n){hc.call(this),this.h=n,this.g={}}Wi(hh,hc);var FE=[];function Yv(n,e,t,i){Array.isArray(t)||(t&&(FE[0]=t.toString()),t=FE);for(var r=0;r<t.length;r++){var a=AE(e,t[r],i||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function Jv(n){Mu(n.g,function(e,t){this.g.hasOwnProperty(t)&&Gv(e)},n),n.g={}}function fh(){this.g=!0}function ph(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Rp(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<r.length;u++)r[u]=""}}}return qv(t)}catch(f){return e}}(n,t)+(i?" "+i:"")})}hh.prototype.M=function(){hh.Z.M.call(this),Jv(this)},hh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},fh.prototype.Aa=function(){this.g=!1},fh.prototype.info=function(){};var _c={},h_=null;function gh(){return h_=h_||new pr}function LE(n){fr.call(this,_c.Ma,n)}function Nu(n){const e=gh();xr(e,new LE(e,n))}function f_(n,e){fr.call(this,_c.STAT_EVENT,n),this.stat=e}function Pr(n){const e=gh();xr(e,new f_(e,n))}function j1(n,e){fr.call(this,_c.Na,n),this.size=e}function xp(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return St.setTimeout(function(){n()},e)}_c.Ma="serverreachability",Wi(LE,fr),_c.STAT_EVENT="statevent",Wi(f_,fr),_c.Na="timingevent",Wi(j1,fr);var mh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},p_={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Xv(){}function g_(){}Xv.prototype.h=null;var __,_h={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function m_(){fr.call(this,"d")}function Pp(){fr.call(this,"c")}function y_(){}function yh(n,e,t,i){this.l=n,this.j=e,this.m=t,this.X=i||1,this.V=new hh(this),this.P=n0,this.W=new d_(n=fs?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new t0}function t0(){this.i=null,this.g="",this.h=!1}Wi(m_,fr),Wi(Pp,fr),Wi(y_,Xv),y_.prototype.g=function(){return new XMLHttpRequest},y_.prototype.i=function(){return{}},__=new y_;var n0=45e3,v_={},b_={};function w_(n,e,t){n.K=1,n.v=El(wl(e)),n.s=t,n.U=!0,r0(n,null)}function r0(n,e){n.F=Date.now(),vh(n),n.A=wl(n.v);var t=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),u0(t.h,"t",i),n.C=0,t=n.l.H,n.h=new t0,n.g=X1(n.l,t?e:null,!n.s),0<n.O&&(n.L=new U1(Zi(n.Ia,n,n.g),n.O)),Yv(n.V,n.g,"readystatechange",n.gb),e=n.H?wE(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Nu(1),function sO(n,e,t,i,r,a){n.info(function(){if(n.g)if(a)for(var u="",f=a.split("&"),_=0;_<f.length;_++){var b=f[_].split("=");if(1<b.length){var T=b[0];b=b[1];var I=T.split("_");u=2<=I.length&&"type"==I[1]?u+(T+"=")+b+"&":u+(T+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function E_(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Fp(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=BE(n,t),r==b_){4==e&&(n.o=4,Pr(14),i=!1),ph(n.j,n.m,null,"[Incomplete Response]");break}if(r==v_){n.o=4,Pr(15),ph(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}ph(n.j,n.m,r,null),D_(n,r)}E_(n)&&r!=b_&&r!=v_&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Pr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),x_(e),e.L=!0,Pr(11))):(ph(n.j,n.m,t,"[Invalid Chunked Response]"),yc(n),bh(n))}function BE(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?b_:(t=Number(e.substring(t,i)),isNaN(t)?v_:(i+=1)+t>e.length?b_:(e=e.substr(i,t),n.C=i+t,e))}function vh(n){n.Y=Date.now()+n.P,s0(n,n.P)}function s0(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=xp(Zi(n.eb,n),e)}function Lp(n){n.B&&(St.clearTimeout(n.B),n.B=null)}function bh(n){0==n.l.G||n.I||E0(n.l,n)}function yc(n){Lp(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Wv(n.W),Jv(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function D_(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||d0(t.i,n)))if(t.I=n.N,!n.J&&d0(t.i,n)&&3==t.G){try{var i=t.Ca.g.parse(e)}catch(b){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(t.u)t.ta=r[1],0<t.ta-t.U&&37500>r[2]&&t.N&&0==t.A&&!t.v&&(t.v=xp(Zi(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Ah(t),k_(t)}R_(t),Pr(18)}if(1>=Ch(t.i)&&t.ka){try{t.ka()}catch(b){}t.ka=void 0}}else Pu(t,11)}else if((n.J||t.g==n)&&Ah(t),!r_(e))for(r=t.Ca.g.parse(e),e=0;e<r.length;e++){let b=r[e];if(t.U=b[0],b=b[1],2==t.G)if("c"==b[0]){t.J=b[1],t.la=b[2];const T=b[3];null!=T&&(t.ma=T,t.h.info("VER="+t.ma));const I=b[4];null!=I&&(t.za=I,t.h.info("SVER="+t.za));const R=b[5];null!=R&&"number"==typeof R&&0<R&&(t.K=i=1.5*R,t.h.info("backChannelRequestTimeoutMs_="+i)),i=t;const x=n.g;if(x){const V=x.g?x.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(V){var a=i.i;!a.g&&($r(V,"spdy")||$r(V,"quic")||$r(V,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(I_(a,a.h),a.h=null))}if(i.D){const Z=x.g?x.g.getResponseHeader("X-HTTP-Session-Id"):null;Z&&(i.sa=Z,Nn(i.F,i.D,Z))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var u=n;if((i=t).oa=Fu(i,i.H?i.la:null,i.W),u.J){$E(i.i,u);var f=u,_=i.K;_&&f.setTimeout(_),f.B&&(Lp(f),vh(f)),i.g=u}else b0(i);0<t.l.length&&Hp(t)}else"stop"!=b[0]&&"close"!=b[0]||Pu(t,7);else 3==t.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?Pu(t,7):m0(t):"noop"!=b[0]&&t.j&&t.j.wa(b),t.A=0)}Nu(4)}catch(b){}}function UE(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(xv(n)||"string"==typeof n)_E(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(xv(n)||"string"==typeof n){t=[];for(var i=n.length,r=0;r<i;r++)t.push(r)}else for(r in t=[],i=0,n)t[i++]=r;i=function VE(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(xv(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length;for(var a=0;a<r;a++)e.call(void 0,i[a],t&&t[a],n)}}function wh(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var i=0;i<t;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof wh)for(t=n.T(),i=0;i<t.length;i++)this.set(t[i],n.get(t[i]));else for(i in n)this.set(i,n[i])}function o0(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var i=n.g[e];vc(n.h,i)&&(n.g[t++]=i),e++}n.g.length=t}if(n.i!=n.g.length){var r={};for(t=e=0;e<n.g.length;)vc(r,i=n.g[e])||(n.g[t++]=i,r[i]=1),e++;n.g.length=t}}function vc(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Xe=yh.prototype).setTimeout=function(n){this.P=n},Xe.gb=function(n){n=n.target;const e=this.L;e&&3==Dl(n)?e.l():this.Ia(n)},Xe.Ia=function(n){try{if(n==this.g)e:{const T=Dl(this.g);var e=this.g.Da();const I=this.g.ba();if(!(3>T)&&(3!=T||fs||this.g&&(this.h.h||this.g.ga()||XE(this.g)))){this.I||4!=T||7==e||Nu(8==e||0>=I?3:2),Lp(this);var t=this.g.ba();this.N=t;t:if(E_(this)){var i=XE(this.g);n="";var r=i.length,a=4==Dl(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){yc(this),bh(this);var u="";break t}this.h.i=new St.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:a&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==t,function Qv(n,e,t,i,r,a,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.X,T,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!r_(f)){var b=f;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,Pr(12),yc(this),bh(this);break e}ph(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,D_(this,t)}this.U?(Fp(this,T,u),fs&&this.i&&3==T&&(Yv(this.V,this.W,"tick",this.fb),this.W.start())):(ph(this.j,this.m,u,null),D_(this,u)),4==T&&yc(this),this.i&&!this.I&&(4==T?E0(this.l,this):(this.i=!1,vh(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Pr(12)):(this.o=0,Pr(13)),yc(this),bh(this)}}}catch(T){}},Xe.fb=function(){if(this.g){var n=Dl(this.g),e=this.g.ga();this.C<e.length&&(Lp(this),Fp(this,n,e),this.i&&4!=n&&vh(this))}},Xe.cancel=function(){this.I=!0,yc(this)},Xe.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function oO(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Nu(3),Pr(17)),yc(this),this.o=2,bh(this)):s0(this,this.Y-n)},(Xe=wh.prototype).R=function(){o0(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Xe.T=function(){return o0(this),this.g.concat()},Xe.get=function(n,e){return vc(this.h,n)?this.h[n]:e},Xe.set=function(n,e){vc(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Xe.forEach=function(n,e){for(var t=this.T(),i=0;i<t.length;i++){var r=t[i],a=this.get(r);n.call(e,a,r,this)}};var jE=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function bc(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof bc){this.g=void 0!==e?e:n.g,C_(this,n.j),this.s=n.s,Bp(this,n.i),T_(this,n.m),this.l=n.l,e=n.h;var t=new Dh;t.i=e.i,e.g&&(t.g=new wh(e.g),t.h=e.h),a0(this,t),this.o=n.o}else n&&(t=String(n).match(jE))?(this.g=!!e,C_(this,t[1]||"",!0),this.s=Eh(t[2]||""),Bp(this,t[3]||"",!0),T_(this,t[4]),this.l=Eh(t[5]||"",!0),a0(this,t[6]||"",!0),this.o=Eh(t[7]||"")):(this.g=!!e,this.h=new Dh(null,this.g))}function wl(n){return new bc(n)}function C_(n,e,t){n.j=t?Eh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Bp(n,e,t){n.i=t?Eh(e,!0):e}function T_(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function a0(n,e,t){e instanceof Dh?(n.h=e,function q1(n,e){e&&!n.j&&(gr(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(vo(this,i),u0(this,r,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Vp(e,Ca)),n.h=new Dh(e,n.g))}function Nn(n,e,t){n.h.set(e,t)}function El(n){return Nn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Eh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Vp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,HE),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function HE(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}bc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Vp(e,$1,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Vp(e,$1,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Vp(t,"/"==t.charAt(0)?c0:l0,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Vp(t,z1)),n.join("")};var $1=/[#\/\?@]/g,l0=/[#\?:]/g,c0=/[#\?]/g,Ca=/[#\?@]/g,z1=/#/g;function Dh(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function gr(n){n.g||(n.g=new wh,n.h=0,n.i&&function ki(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var a=n[t].substring(0,i);r=n[t].substring(i+1)}else a=n[t];e(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function vo(n,e){gr(n),e=ku(n,e),vc(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,vc((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&o0(n)))}function bo(n,e){return gr(n),e=ku(n,e),vc(n.g.h,e)}function u0(n,e,t){vo(n,e),0<t.length&&(n.i=null,n.g.set(ku(n,e),Fv(t)),n.h+=t.length)}function ku(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function GE(n){this.l=n||W1,n=St.PerformanceNavigationTiming?0<(n=St.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(St.g&&St.g.Ea&&St.g.Ea()&&St.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Xe=Dh.prototype).add=function(n,e){gr(this),this.i=null,n=ku(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Xe.forEach=function(n,e){gr(this),this.g.forEach(function(t,i){_E(t,function(r){n.call(e,r,i,this)},this)},this)},Xe.T=function(){gr(this);for(var n=this.g.R(),e=this.g.T(),t=[],i=0;i<e.length;i++)for(var r=n[i],a=0;a<r.length;a++)t.push(e[i]);return t},Xe.R=function(n){gr(this);var e=[];if("string"==typeof n)bo(this,n)&&(e=yE(e,this.g.get(ku(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=yE(e,n[t])}return e},Xe.set=function(n,e){return gr(this),this.i=null,bo(this,n=ku(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Xe.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Xe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var i=e[t],r=encodeURIComponent(String(i));i=this.R(i);for(var a=0;a<i.length;a++){var u=r;""!==i[a]&&(u+="="+encodeURIComponent(String(i[a]))),n.push(u)}}return this.i=n.join("&")};var W1=10;function S_(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Ch(n){return n.h?1:n.g?n.g.size:0}function d0(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function I_(n,e){n.g?n.g.add(e):n.h=e}function $E(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function h0(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Fv(n.i)}function A_(){}function M_(){this.g=new A_}function K1(n,e,t){const i=t||"";try{UE(n,function(r,a){let u=r;rh(r)&&(u=qv(r)),e.push(i+a+"="+encodeURIComponent(u))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Up(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(a){}}function Ru(n){this.l=n.$b||null,this.j=n.ib||!1}function xu(n,e){pr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=O_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}GE.prototype.cancel=function(){if(this.i=h0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},A_.prototype.stringify=function(n){return St.JSON.stringify(n,void 0)},A_.prototype.parse=function(n){return St.JSON.parse(n,void 0)},Wi(Ru,Xv),Ru.prototype.g=function(){return new xu(this.l,this.j)},Ru.prototype.i=function(n){return function(){return n}}({}),Wi(xu,pr);var O_=0;function f0(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Th(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Sh(n)}function Sh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Xe=xu.prototype).open=function(n,e){if(this.readyState!=O_)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Sh(this)},Xe.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||St).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Xe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Th(this)),this.readyState=O_},Xe.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Sh(this)),this.g&&(this.readyState=3,Sh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==St.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;f0(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Xe.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Th(this):Sh(this),3==this.readyState&&f0(this)}},Xe.Ua=function(n){this.g&&(this.response=this.responseText=n,Th(this))},Xe.Ta=function(n){this.g&&(this.response=n,Th(this))},Xe.ha=function(){this.g&&Th(this)},Xe.setRequestHeader=function(n,e){this.v.append(n,e)},Xe.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Xe.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(xu.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var qE=St.JSON.parse;function di(n){pr.call(this),this.headers=new wh,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=p0,this.K=this.L=!1}Wi(di,pr);var p0="",ZE=/^https?$/i,WE=["POST","PUT"];function J1(n){return"content-type"==n.toLowerCase()}function KE(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,YE(n),N_(n)}function YE(n){n.D||(n.D=!0,xr(n,"complete"),xr(n,"error"))}function JE(n){if(n.h&&void 0!==fE&&(!n.C[1]||4!=Dl(n)||2!=n.ba()))if(n.v&&4==Dl(n))Kv(n.Fa,0,n);else if(xr(n,"readystatechange"),4==Dl(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===f){var r=String(n.H).match(jE)[1]||null;if(!r&&St.self&&St.self.location){var a=St.self.location.protocol;r=a.substr(0,a.length-1)}i=!ZE.test(r?r.toLowerCase():"")}t=i}if(t)xr(n,"complete"),xr(n,"success");else{n.m=6;try{var u=2<Dl(n)?n.g.statusText:""}catch(_){u=""}n.j=u+" ["+n.ba()+"]",YE(n)}}finally{N_(n)}}}function N_(n,e){if(n.g){QE(n);const t=n.g,i=n.C[0]?ih:null;n.g=null,n.C=null,e||xr(n,"ready");try{t.onreadystatechange=i}catch(r){}}}function QE(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(St.clearTimeout(n.A),n.A=null)}function Dl(n){return n.g?n.g.readyState:0}function XE(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case p0:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function g0(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=function Q1(n){let e="";return Mu(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Nn(n,e,t))}function jp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function eD(n){this.za=0,this.l=[],this.h=new fh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=jp("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=jp("baseRetryDelayMs",5e3,n),this.$a=jp("retryDelaySeedMs",1e4,n),this.Ya=jp("forwardChannelMaxRetries",2,n),this.ra=jp("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new GE(n&&n.concurrentRequestLimit),this.Ca=new M_,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function m0(n){if(tD(n),3==n.G){var e=n.V++,t=wl(n.F);Nn(t,"SID",n.J),Nn(t,"RID",e),Nn(t,"TYPE","terminate"),Ih(n,t),(e=new yh(n,n.h,e,void 0)).K=2,e.v=El(wl(t)),t=!1,St.navigator&&St.navigator.sendBeacon&&(t=St.navigator.sendBeacon(e.v.toString(),"")),!t&&St.Image&&((new Image).src=e.v,t=!0),t||(e.g=X1(e.l,null),e.g.ea(e.v)),e.F=Date.now(),vh(e)}iD(n)}function k_(n){n.g&&(x_(n),n.g.cancel(),n.g=null)}function tD(n){k_(n),n.u&&(St.clearTimeout(n.u),n.u=null),Ah(n),n.i.cancel(),n.m&&("number"==typeof n.m&&St.clearTimeout(n.m),n.m=null)}function _0(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Hp(n)}function Hp(n){S_(n.i)||n.m||(n.m=!0,u_(n.Ha,n),n.C=0)}function y0(n,e){var t;t=e?e.m:n.V++;const i=wl(n.F);Nn(i,"SID",n.J),Nn(i,"RID",t),Nn(i,"AID",n.U),Ih(n,i),n.o&&n.s&&g0(i,n.o,n.s),t=new yh(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=v0(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),I_(n.i,t),w_(t,i,e)}function Ih(n,e){n.j&&UE({},function(t,i){Nn(e,i,t)})}function v0(n,e,t){t=Math.min(n.l.length,t);var i=n.j?Zi(n.j.Oa,n.j,n):null;e:{var r=n.l;let a=-1;for(;;){const u=["count="+t];-1==a?0<t?(a=r[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);let f=!0;for(let _=0;_<t;_++){let b=r[_].h;const T=r[_].g;if(b-=a,0>b)a=Math.max(0,r[_].h-100),f=!1;else try{K1(T,u,"req"+b+"_")}catch(I){i&&i(T)}}if(f){i=u.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,i}function b0(n){n.g||n.u||(n.Y=1,u_(n.Ga,n),n.A=0)}function R_(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=xp(Zi(n.Ga,n),wc(n,n.A)),n.A++,0))}function x_(n){null!=n.B&&(St.clearTimeout(n.B),n.B=null)}function w0(n){n.g=new yh(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=wl(n.oa);Nn(e,"RID","rpc"),Nn(e,"SID",n.J),Nn(e,"CI",n.N?"0":"1"),Nn(e,"AID",n.U),Ih(n,e),Nn(e,"TYPE","xmlhttp"),n.o&&n.s&&g0(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=El(wl(e)),t.s=null,t.U=!0,r0(t,n)}function Ah(n){null!=n.v&&(St.clearTimeout(n.v),n.v=null)}function E0(n,e){var t=null;if(n.g==e){Ah(n),x_(n),n.g=null;var i=2}else{if(!d0(n.i,e))return;t=e.D,$E(n.i,e),i=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;xr(i=gh(),new j1(i,t,e,r)),Hp(n)}else b0(n);else if(3==(r=e.o)||0==r&&0<n.I||!(1==i&&function nD(n,e){return!(Ch(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=xp(Zi(n.Ha,n,e),wc(n,n.C)),n.C++,0)))}(n,e)||2==i&&R_(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Pu(n,5);break;case 4:Pu(n,10);break;case 3:Pu(n,6);break;default:Pu(n,2)}}function wc(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Pu(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var i=Zi(n.jb,n);t||(t=new bc("//www.google.com/images/cleardot.gif"),St.location&&"http"==St.location.protocol||C_(t,"https"),El(t)),function zE(n,e){const t=new fh;if(St.Image){const i=new Image;i.onload=Ip(Up,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Ip(Up,t,i,"TestLoadImage: error",!1,e),i.onabort=Ip(Up,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Ip(Up,t,i,"TestLoadImage: timeout",!1,e),St.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Pr(2);n.G=0,n.j&&n.j.va(e),iD(n),tD(n)}function iD(n){n.G=0,n.I=-1,n.j&&((0!=h0(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Fv(n.l),n.l.length=0),n.j.ua())}function Fu(n,e,t){let i=function H1(n){return n instanceof bc?wl(n):new bc(n,void 0)}(t);if(""!=i.i)e&&Bp(i,e+"."+i.i),T_(i,i.m);else{const r=St.location;i=function G1(n,e,t,i){var r=new bc(null,void 0);return n&&C_(r,n),e&&Bp(r,e),t&&T_(r,t),i&&(r.l=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,t)}return n.aa&&Mu(n.aa,function(r,a){Nn(i,a,r)}),t=n.sa,(e=n.D)&&t&&Nn(i,e,t),Nn(i,"VER",n.ma),Ih(n,i),i}function X1(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new di(t&&n.Ba&&!n.qa?new Ru({ib:!0}):n.qa)).L=n.H,e}function P_(){}function D0(){if(yo&&!(10<=Number(DE)))throw Error("Environmental error: no available transport.")}function ps(n,e){pr.call(this),this.g=new eD(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!r_(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!r_(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ft(this)}function C0(n){m_.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function eS(){Pp.call(this),this.status=1}function ft(n){this.g=n}(Xe=di.prototype).ea=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():__.g(),this.C=function e0(n){return n.h||(n.h=n.i())}(this.u?this.u:__),this.g.onreadystatechange=Zi(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void KE(this,a)}n=t||"";const r=new wh(this.headers);i&&UE(i,function(a,u){r.set(u,a)}),i=function Pv(n){e:{var e=J1;const t=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<t;r++)if(r in i&&e.call(void 0,i[r],r,n)){e=r;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(r.T()),t=St.FormData&&n instanceof St.FormData,!(0<=i_(WE,e))||i||t||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(a,u){this.g.setRequestHeader(u,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{QE(this),0<this.B&&((this.K=function Y1(n){return yo&&function ah(){return function Ap(n){var e=oh;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=vE(String(bl)).split("."),t=vE("9").split("."),i=Math.max(e.length,t.length);for(let u=0;0==n&&u<i;u++){var r=e[u]||"",a=t[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==r[0].length&&0==a[0].length)break;n=Lv(0==r[1].length?0:parseInt(r[1],10),0==a[1].length?0:parseInt(a[1],10))||Lv(0==r[2].length,0==a[2].length)||Lv(r[2],a[2]),r=r[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Zi(this.pa,this)):this.A=Kv(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){KE(this,a)}},Xe.pa=function(){void 0!==fE&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xr(this,"timeout"),this.abort(8))},Xe.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,xr(this,"complete"),xr(this,"abort"),N_(this))},Xe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),N_(this,!0)),di.Z.M.call(this)},Xe.Fa=function(){this.s||(this.F||this.v||this.l?JE(this):this.cb())},Xe.cb=function(){JE(this)},Xe.ba=function(){try{return 2<Dl(this)?this.g.status:-1}catch(n){return-1}},Xe.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Xe.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),qE(e)}},Xe.Da=function(){return this.m},Xe.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Xe=eD.prototype).ma=8,Xe.G=1,Xe.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Xe.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new yh(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=wE(a),s_(a,this.P)):a=this.P),null===this.o&&(r.H=a),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var i=this.l[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=v0(this,r,e),Nn(t=wl(this.F),"RID",n),Nn(t,"CVER",22),this.D&&Nn(t,"X-HTTP-Session-Id",this.D),Ih(this,t),this.o&&a&&g0(t,this.o,a),I_(this.i,r),this.Ra&&Nn(t,"TYPE","init"),this.ja?(Nn(t,"$req",e),Nn(t,"SID","null"),r.$=!0,w_(r,t,null)):w_(r,t,e),this.G=2}}else 3==this.G&&(n?y0(this,n):0==this.l.length||S_(this.i)||y0(this))},Xe.Ga=function(){if(this.u=null,w0(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=xp(Zi(this.bb,this),n)}},Xe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Pr(10),k_(this),w0(this))},Xe.ab=function(){null!=this.v&&(this.v=null,k_(this),R_(this),Pr(19))},Xe.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Pr(2)):(this.h.info("Failed to ping google.com"),Pr(1))},(Xe=P_.prototype).xa=function(){},Xe.wa=function(){},Xe.va=function(){},Xe.ua=function(){},Xe.Oa=function(){},D0.prototype.g=function(n,e){return new ps(n,e)},Wi(ps,pr),ps.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),u_(Zi(n.hb,n,e))),Pr(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Fu(n,null,n.W),Hp(n)},ps.prototype.close=function(){m0(this.g)},ps.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,_0(this.g,e)}else this.v?((e={}).__data__=qv(n),_0(this.g,e)):_0(this.g,n)},ps.prototype.M=function(){this.g.j=null,delete this.j,m0(this.g),delete this.g,ps.Z.M.call(this)},Wi(C0,m_),Wi(eS,Pp),Wi(ft,P_),ft.prototype.xa=function(){xr(this.g,"a")},ft.prototype.wa=function(n){xr(this.g,new C0(n))},ft.prototype.va=function(n){xr(this.g,new eS(n))},ft.prototype.ua=function(){xr(this.g,"b")},D0.prototype.createWebChannel=D0.prototype.g,ps.prototype.send=ps.prototype.u,ps.prototype.open=ps.prototype.m,ps.prototype.close=ps.prototype.close,mh.NO_ERROR=0,mh.TIMEOUT=8,mh.HTTP_ERROR=6,p_.COMPLETE="complete",g_.EventType=_h,_h.OPEN="a",_h.CLOSE="b",_h.ERROR="c",_h.MESSAGE="d",pr.prototype.listen=pr.prototype.N,di.prototype.listenOnce=di.prototype.O,di.prototype.getLastError=di.prototype.La,di.prototype.getLastErrorCode=di.prototype.Da,di.prototype.getStatus=di.prototype.ba,di.prototype.getResponseJson=di.prototype.Qa,di.prototype.getResponseText=di.prototype.ga,di.prototype.send=di.prototype.ea;var tS=vl.createWebChannelTransport=function(){return new D0},nS=vl.getStatEventTarget=function(){return gh()},T0=vl.ErrorCode=mh,F_=vl.EventType=p_,iS=vl.Event=_c,Gp=vl.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},L_=vl.FetchXmlHttpFactory=Ru,kn=vl.WebChannel=g_,aO=vl.XhrIo=di;const S0="@firebase/firestore";class mr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mr.UNAUTHENTICATED=new mr(null),mr.GOOGLE_CREDENTIALS=new mr("google-credentials-uid"),mr.FIRST_PARTY=new mr("first-party-uid"),mr.MOCK_USER=new mr("mock-user");let Mh="9.6.5";const Cl=new yl.Yd("@firebase/firestore");function B_(){return Cl.logLevel}function Le(n,...e){if(Cl.logLevel<=yl.in.DEBUG){const t=e.map(I0);Cl.debug(`Firestore (${Mh}): ${n}`,...t)}}function vi(n,...e){if(Cl.logLevel<=yl.in.ERROR){const t=e.map(I0);Cl.error(`Firestore (${Mh}): ${n}`,...t)}}function $p(n,...e){if(Cl.logLevel<=yl.in.WARN){const t=e.map(I0);Cl.warn(`Firestore (${Mh}): ${n}`,...t)}}function I0(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function rt(n="Unexpected state"){const e=`FIRESTORE (${Mh}) INTERNAL ASSERTION FAILED: `+n;throw vi(e),new Error(e)}function Et(n,e){n||rt()}function ze(n,e){return n}const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends Ct.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ri{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class A0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(mr.UNAUTHENTICATED))}shutdown(){}}class zp{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class qp{constructor(e){this.t=e,this.currentUser=mr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const a=b=>this.i!==r?(r=this.i,t(b)):Promise.resolve();let u=new Ri;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ri,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const b=u;e.enqueueRetryable((0,be.Z)(function*(){yield b.promise,yield a(i.currentUser)}))},_=b=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(b=>_(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?_(b):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ri)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Et("string"==typeof i.accessToken),new A0(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Et(null===e||"string"==typeof e),new mr(e)}}class oS{constructor(e,t,i){this.type="FirstParty",this.user=mr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class aS{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new oS(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(mr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oD{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=r=>{e.enqueueRetryable(()=>{return null!=(a=r).error&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`),t(a.token);var a})};const i=r=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.appCheck.addTokenListener(this.o)};this.g.onInit(r=>i(r)),setTimeout(()=>{if(!this.appCheck){const r=this.g.getImmediate({optional:!0});r?i(r):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Et("string"==typeof t.token),new sD(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class gs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.p(i),this.T=i=>t.writeSequenceNumber(i))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function cS(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}gs.I=-1;class M0{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=cS(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%e.length))}return i}}function $t(n,e){return n<e?-1:n>e?1:0}function Oh(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function uS(n){return n+"\0"}class _r{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Oe(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Oe(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Oe(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return _r.fromMillis(Date.now())}static fromDate(e){return _r.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new _r(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$t(this.nanoseconds,e.nanoseconds):$t(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ot{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ot(e)}static min(){return new Ot(new _r(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function dS(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ec(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Zp(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Wp{constructor(e,t,i){void 0===t?t=0:t>e.length&&rt(),void 0===i?i=e.length-t:i>e.length-t&&rt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Wp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Wp?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=e.get(r),u=t.get(r);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class an extends Wp{construct(e,t,i){return new an(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Oe(ue.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new an(t)}static emptyPath(){return new an([])}}const aD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hi extends Wp{construct(e,t,i){return new hi(e,t,i)}static isValidIdentifier(e){return aD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new hi(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(0===i.length)throw new Oe(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;r<e.length;){const f=e[r];if("\\"===f){if(r+1===e.length)throw new Oe(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Oe(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=_,r+=2}else"`"===f?(u=!u,r++):"."!==f||u?(i+=f,r++):(a(),r++)}if(a(),u)throw new Oe(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hi(t)}static emptyPath(){return new hi([])}}class Nh{constructor(e){this.fields=e,e.sort(hi.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Oh(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class xi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new xi(t)}static fromUint8Array(e){const t=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(e);return new xi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $t(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xi.EMPTY_BYTE_STRING=new xi("");const fS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dc(n){if(Et(!!n),"string"==typeof n){let e=0;const t=fS.exec(n);if(Et(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:fi(n.seconds),nanos:fi(n.nanos)}}function fi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function kh(n){return"string"==typeof n?xi.fromBase64String(n):xi.fromUint8Array(n)}function O0(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Lu(n){const e=n.mapValue.fields.__previous_value__;return O0(e)?Lu(e):e}function Kp(n){const e=Dc(n.mapValue.fields.__local_write_time__.timestampValue);return new _r(e.seconds,e.nanos)}function Cc(n){return null==n}function V_(n){return 0===n&&1/n==-1/0}function N0(n){return"number"==typeof n&&Number.isInteger(n)&&!V_(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class at{constructor(e){this.path=e}static fromPath(e){return new at(an.fromString(e))}static fromName(e){return new at(an.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===an.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return an.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new at(new an(e.slice()))}}function Tc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?O0(n)?4:10:rt()}function Ta(n,e){if(n===e)return!0;const t=Tc(n);if(t!==Tc(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Kp(n).isEqual(Kp(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=Dc(i.timestampValue),u=Dc(r.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,kh(n.bytesValue).isEqual(kh(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return fi(i.geoPointValue.latitude)===fi(r.geoPointValue.latitude)&&fi(i.geoPointValue.longitude)===fi(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return fi(i.integerValue)===fi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=fi(i.doubleValue),u=fi(r.doubleValue);return a===u?V_(a)===V_(u):isNaN(a)&&isNaN(u)}return!1}(n,e);case 9:return Oh(n.arrayValue.values||[],e.arrayValue.values||[],Ta);case 10:return function(i,r){const a=i.mapValue.fields||{},u=r.mapValue.fields||{};if(dS(a)!==dS(u))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===u[f]||!Ta(a[f],u[f])))return!1;return!0}(n,e);default:return rt()}var r}function Bu(n,e){return void 0!==(n.values||[]).find(t=>Ta(t,e))}function Rh(n,e){if(n===e)return 0;const t=Tc(n),i=Tc(e);if(t!==i)return $t(t,i);switch(t){case 0:return 0;case 1:return $t(n.booleanValue,e.booleanValue);case 2:return function(r,a){const u=fi(r.integerValue||r.doubleValue),f=fi(a.integerValue||a.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return k0(n.timestampValue,e.timestampValue);case 4:return k0(Kp(n),Kp(e));case 5:return $t(n.stringValue,e.stringValue);case 6:return function(r,a){const u=kh(r),f=kh(a);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(r,a){const u=r.split("/"),f=a.split("/");for(let _=0;_<u.length&&_<f.length;_++){const b=$t(u[_],f[_]);if(0!==b)return b}return $t(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,a){const u=$t(fi(r.latitude),fi(a.latitude));return 0!==u?u:$t(fi(r.longitude),fi(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,a){const u=r.values||[],f=a.values||[];for(let _=0;_<u.length&&_<f.length;++_){const b=Rh(u[_],f[_]);if(b)return b}return $t(u.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,a){const u=r.fields||{},f=Object.keys(u),_=a.fields||{},b=Object.keys(_);f.sort(),b.sort();for(let T=0;T<f.length&&T<b.length;++T){const I=$t(f[T],b[T]);if(0!==I)return I;const R=Rh(u[f[T]],_[b[T]]);if(0!==R)return R}return $t(f.length,b.length)}(n.mapValue,e.mapValue);default:throw rt()}}function k0(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return $t(n,e);const t=Dc(n),i=Dc(e),r=$t(t.seconds,i.seconds);return 0!==r?r:$t(t.nanos,i.nanos)}function U_(n){return R0(n)}function R0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Dc(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?kh(n.bytesValue).toBase64():"referenceValue"in n?at.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",a=!0;for(const u of i.values||[])a?a=!1:r+=",",r+=R0(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let a="{",u=!0;for(const f of r)u?u=!1:a+=",",a+=`${f}:${R0(i.fields[f])}`;return a+"}"}(n.mapValue):rt();var e}function j_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function x0(n){return!!n&&"integerValue"in n}function Yp(n){return!!n&&"arrayValue"in n}function lD(n){return!!n&&"nullValue"in n}function P0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function H_(n){return!!n&&"mapValue"in n}function Jp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ec(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Jp(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Jp(n.arrayValue.values[t]);return e}return Object.assign({},n)}class Fr{constructor(e){this.value=e}static empty(){return new Fr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!H_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jp(t)}setAll(e){let t=hi.emptyPath(),i={},r=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,i,r),i={},r=[],t=f.popLast()}u?i[f.lastSegment()]=Jp(u):r.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());H_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ta(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];H_(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Ec(t,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new Fr(Jp(this.value))}}function cD(n){const e=[];return Ec(n.fields,(t,i)=>{const r=new hi([t]);if(H_(i)){const a=cD(i.mapValue).fields;if(0===a.length)e.push(r);else for(const u of a)e.push(r.child(u))}else e.push(r)}),new Nh(e)}class Bn{constructor(e,t,i,r,a){this.key=e,this.documentType=t,this.version=i,this.data=r,this.documentState=a}static newInvalidDocument(e){return new Bn(e,0,Ot.min(),Fr.empty(),0)}static newFoundDocument(e,t,i){return new Bn(e,1,t,i,0)}static newNoDocument(e,t){return new Bn(e,2,t,Fr.empty(),0)}static newUnknownDocument(e,t){return new Bn(e,3,t,Fr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class pS{constructor(e,t=null,i=[],r=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=u,this.endAt=f,this.R=null}}function uD(n,e=null,t=[],i=[],r=null,a=null,u=null){return new pS(n,e,t,i,r,a,u)}function Qp(n){const e=ze(n);if(null===e.R){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>function F0(n){return n.field.canonicalString()+n.op.toString()+U_(n.value)}(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Cc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=xh(e.startAt)),e.endAt&&(t+="|ub:",t+=xh(e.endAt)),e.R=t}return e.R}function Xp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!pD(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!Ta(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!V0(n.startAt,e.startAt)&&V0(n.endAt,e.endAt)}function eg(n){return at.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class zr extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,i):new hD(e,t,i):"array-contains"===t?new L0(e,i):"in"===t?new fD(e,i):"not-in"===t?new B0(e,i):"array-contains-any"===t?new _S(e,i):new zr(e,t,i)}static P(e,t,i){return"in"===t?new gS(e,i):new mS(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Rh(t,this.value)):null!==t&&Tc(this.value)===Tc(t)&&this.v(Rh(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rt()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class hD extends zr{constructor(e,t,i){super(e,t,i),this.key=at.fromName(i.referenceValue)}matches(e){const t=at.comparator(e.key,this.key);return this.v(t)}}class gS extends zr{constructor(e,t){super(e,"in",t),this.keys=G_(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class mS extends zr{constructor(e,t){super(e,"not-in",t),this.keys=G_(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function G_(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>at.fromName(i.referenceValue))}class L0 extends zr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Yp(t)&&Bu(t.arrayValue,this.value)}}class fD extends zr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Bu(this.value.arrayValue,t)}}class B0 extends zr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Bu(this.value.arrayValue,t)}}class _S extends zr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Yp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Bu(this.value.arrayValue,i))}}class tg{constructor(e,t){this.position=e,this.before=t}}function xh(n){return`${n.before?"b":"a"}:${n.position.map(e=>U_(e)).join(",")}`}class Ph{constructor(e,t="asc"){this.field=e,this.dir=t}}function pD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function gD(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],u=n.position[r];if(i=a.field.isKeyField()?at.comparator(at.fromName(u.referenceValue),t.key):Rh(u,t.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return n.before?i<=0:i<0}function V0(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ta(n.position[t],e.position[t]))return!1;return!0}class Tl{constructor(e,t=null,i=[],r=[],a=null,u="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=_,this.S=null,this.D=null}}function U0(n,e,t,i,r,a,u,f){return new Tl(n,e,t,i,r,a,u,f)}function ng(n){return new Tl(n)}function $_(n){return!Cc(n.limit)&&"F"===n.limitType}function Sc(n){return!Cc(n.limit)&&"L"===n.limitType}function j0(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Ic(n){for(const e of n.filters)if(e.V())return e.field;return null}function Vu(n){return null!==n.collectionGroup}function Fh(n){const e=ze(n);if(null===e.S){e.S=[];const t=Ic(e),i=j0(e);if(null!==t&&null===i)t.isKeyField()||e.S.push(new Ph(t)),e.S.push(new Ph(hi.keyField(),"asc"));else{let r=!1;for(const a of e.explicitOrderBy)e.S.push(a),a.field.isKeyField()&&(r=!0);if(!r){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new Ph(hi.keyField(),a))}}}return e.S}function Ko(n){const e=ze(n);if(!e.D)if("F"===e.limitType)e.D=uD(e.path,e.collectionGroup,Fh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Fh(e))t.push(new Ph(a.field,"desc"===a.dir?"asc":"desc"));const i=e.endAt?new tg(e.endAt.position,!e.endAt.before):null,r=e.startAt?new tg(e.startAt.position,!e.startAt.before):null;e.D=uD(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.D}function H0(n,e,t){return new Tl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ig(n,e){return Xp(Ko(n),Ko(e))&&n.limitType===e.limitType}function mD(n){return`${Qp(Ko(n))}|lt:${n.limitType}`}function G0(n){return`Query(target=${function dD(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${U_(i.value)}`;var i}).join(", ")}]`),Cc(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: "+xh(n.startAt)),n.endAt&&(e+=", endAt: "+xh(n.endAt)),`Target(${e})`}(Ko(n))}; limitType=${n.limitType})`}function rg(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):at.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!gD(t.startAt,Fh(t),i)||t.endAt&&gD(t.endAt,Fh(t),i)));var t,i}function $0(n){return(e,t)=>{let i=!1;for(const r of Fh(n)){const a=_D(r,e,t);if(0!==a)return a;i=i||r.field.isKeyField()}return 0}}function _D(n,e,t){const i=n.field.isKeyField()?at.comparator(e.key,t.key):function(r,a,u){const f=a.data.field(r),_=u.data.field(r);return null!==f&&null!==_?Rh(f,_):rt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return rt()}}function z_(n,e){if(n.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:V_(e)?"-0":e}}function sg(n){return{integerValue:""+n}}function Lh(n,e){return N0(e)?sg(e):z_(n,e)}class q_{constructor(){this._=void 0}}function yD(n,e,t){return n instanceof Bh?function(i,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(a.fields.__previous_value__=r),{mapValue:a}}(t,e):n instanceof Uu?Z_(n,e):n instanceof ju?yS(n,e):function(i,r){const a=bD(i,r),u=wD(a)+wD(i.N);return x0(a)&&x0(i.N)?sg(u):z_(i.k,u)}(n,e)}function vD(n,e,t){return n instanceof Uu?Z_(n,e):n instanceof ju?yS(n,e):t}function bD(n,e){return n instanceof Vh?x0(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Bh extends q_{}class Uu extends q_{constructor(e){super(),this.elements=e}}function Z_(n,e){const t=Hu(e);for(const i of n.elements)t.some(r=>Ta(r,i))||t.push(i);return{arrayValue:{values:t}}}class ju extends q_{constructor(e){super(),this.elements=e}}function yS(n,e){let t=Hu(e);for(const i of n.elements)t=t.filter(r=>!Ta(r,i));return{arrayValue:{values:t}}}class Vh extends q_{constructor(e,t){super(),this.k=e,this.N=t}}function wD(n){return fi(n.integerValue||n.doubleValue)}function Hu(n){return Yp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Uh{constructor(e,t){this.field=e,this.transform=t}}class lO{constructor(e,t){this.version=e,this.transformResults=t}}class pi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new pi}static exists(e){return new pi(void 0,e)}static updateTime(e){return new pi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function W_(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class z0{}function ED(n,e,t){n instanceof Hh?function(i,r,a){const u=i.value.clone(),f=TD(i.fieldTransforms,r,a.transformResults);u.setAll(f),r.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Sl?function(i,r,a){if(!W_(i.precondition,r))return void r.convertToUnknownDocument(a.version);const u=TD(i.fieldTransforms,r,a.transformResults),f=r.data;f.setAll(Z0(i)),f.setAll(u),r.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function DD(n,e,t){var r;n instanceof Hh?function(i,r,a){if(!W_(i.precondition,r))return;const u=i.value.clone(),f=SD(i.fieldTransforms,a,r);u.setAll(f),r.convertToFoundDocument(q0(r),u).setHasLocalMutations()}(n,e,t):n instanceof Sl?function(i,r,a){if(!W_(i.precondition,r))return;const u=SD(i.fieldTransforms,a,r),f=r.data;f.setAll(Z0(i)),f.setAll(u),r.convertToFoundDocument(q0(r),f).setHasLocalMutations()}(n,e,t):W_(n.precondition,r=e)&&r.convertToNoDocument(Ot.min())}function CD(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=bD(i.transform,r||null);null!=a&&(null==t&&(t=Fr.empty()),t.set(i.field,a))}return t||null}function K_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Oh(t,i,(r,a)=>function jh(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Uu&&i instanceof Uu||t instanceof ju&&i instanceof ju?Oh(t.elements,i.elements,Ta):t instanceof Vh&&i instanceof Vh?Ta(t.N,i.N):t instanceof Bh&&i instanceof Bh);var t,i}(r,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}function q0(n){return n.isFoundDocument()?n.version:Ot.min()}class Hh extends z0{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}}class Sl extends z0{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}}function Z0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function TD(n,e,t){const i=new Map;Et(n.length===t.length);for(let r=0;r<t.length;r++){const a=n[r],u=a.transform,f=e.data.field(a.field);i.set(a.field,vD(u,f,t[r]))}return i}function SD(n,e,t){const i=new Map;for(const r of n){const a=r.transform,u=t.data.field(r.field);i.set(r.field,yD(a,u,e))}return i}class og extends z0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class W0 extends z0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class vS{constructor(e){this.count=e}}var bi,jt;function K0(n){switch(n){default:return rt();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0}}function Y0(n){if(void 0===n)return vi("GRPC error has no .code"),ue.UNKNOWN;switch(n){case bi.OK:return ue.OK;case bi.CANCELLED:return ue.CANCELLED;case bi.UNKNOWN:return ue.UNKNOWN;case bi.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case bi.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case bi.INTERNAL:return ue.INTERNAL;case bi.UNAVAILABLE:return ue.UNAVAILABLE;case bi.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case bi.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case bi.NOT_FOUND:return ue.NOT_FOUND;case bi.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case bi.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case bi.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case bi.ABORTED:return ue.ABORTED;case bi.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case bi.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case bi.DATA_LOSS:return ue.DATA_LOSS;default:return rt()}}(jt=bi||(bi={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";class wi{constructor(e,t){this.comparator=e,this.root=t||Yi.EMPTY}insert(e,t){return new wi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yi.BLACK,null,null))}remove(e){return new wi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ag(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ag(this.root,e,this.comparator,!1)}getReverseIterator(){return new ag(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ag(this.root,e,this.comparator,!0)}}class ag{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yi{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=null!=i?i:Yi.RED,this.left=null!=r?r:Yi.EMPTY,this.right=null!=a?a:Yi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new Yi(null!=e?e:this.key,null!=t?t:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Yi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Yi.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}}Yi.EMPTY=null,Yi.RED=!0,Yi.BLACK=!1,Yi.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Yi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Hn{constructor(e){this.comparator=e,this.data=new wi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ID(this.data.getIterator())}getIteratorFrom(e){return new ID(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Hn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(0!==this.comparator(r,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Hn(this.comparator);return t.data=e,t}}class ID{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const AD=new wi(at.comparator);function wo(){return AD}const bS=new wi(at.comparator);function J0(){return bS}const wS=new wi(at.comparator);function Gh(){return wS}const ES=new Hn(at.comparator);function ln(...n){let e=ES;for(const t of n)e=e.add(t);return e}const Sa=new Hn($t);function Y_(){return Sa}class Ac{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const i=new Map;return i.set(e,Il.createSynthesizedTargetChangeForCurrentChange(e,t)),new Ac(Ot.min(),i,Y_(),wo(),ln())}}class Il{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Il(xi.EMPTY_BYTE_STRING,t,ln(),ln(),ln())}}class J_{constructor(e,t,i,r){this.$=e,this.removedTargetIds=t,this.key=i,this.O=r}}class MD{constructor(e,t){this.targetId=e,this.M=t}}class OD{constructor(e,t,i=xi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class lg{constructor(){this.F=0,this.L=kD(),this.B=xi.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.F}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=ln(),t=ln(),i=ln();return this.L.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:rt()}}),new Il(this.B,this.U,e,t,i)}H(){this.q=!1,this.L=kD()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.F+=1}Z(){this.F-=1}tt(){this.q=!0,this.U=!0}}class Q_{constructor(e){this.et=e,this.nt=new Map,this.st=wo(),this.it=ND(),this.rt=new Hn($t)}ot(e){for(const t of e.$)e.O&&e.O.isFoundDocument()?this.ct(t,e.O):this.at(t,e.key,e.O);for(const t of e.removedTargetIds)this.at(t,e.key,e.O)}ut(e){this.forEachTarget(e,t=>{const i=this.ht(t);switch(e.state){case 0:this.lt(t)&&i.W(e.resumeToken);break;case 1:i.Z(),i.K||i.H(),i.W(e.resumeToken);break;case 2:i.Z(),i.K||this.removeTarget(t);break;case 3:this.lt(t)&&(i.tt(),i.W(e.resumeToken));break;case 4:this.lt(t)&&(this.ft(t),i.W(e.resumeToken));break;default:rt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((i,r)=>{this.lt(r)&&t(r)})}dt(e){const t=e.targetId,i=e.M.count,r=this.wt(t);if(r){const a=r.target;if(eg(a))if(0===i){const u=new at(a.path);this.at(t,u,Bn.newNoDocument(u,Ot.min()))}else Et(1===i);else this._t(t)!==i&&(this.ft(t),this.rt=this.rt.add(t))}}gt(e){const t=new Map;this.nt.forEach((a,u)=>{const f=this.wt(u);if(f){if(a.current&&eg(f.target)){const _=new at(f.target.path);null!==this.st.get(_)||this.yt(u,_)||this.at(u,_,Bn.newNoDocument(_,e))}a.j&&(t.set(u,a.G()),a.H())}});let i=ln();this.it.forEach((a,u)=>{let f=!0;u.forEachWhile(_=>{const b=this.wt(_);return!b||2===b.purpose||(f=!1,!1)}),f&&(i=i.add(a))});const r=new Ac(e,t,this.rt,this.st,i);return this.st=wo(),this.it=ND(),this.rt=new Hn($t),r}ct(e,t){if(!this.lt(e))return;const i=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,i),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}at(e,t,i){if(!this.lt(e))return;const r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),i&&(this.st=this.st.insert(t,i))}removeTarget(e){this.nt.delete(e)}_t(e){const t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new lg,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new Hn($t),this.it=this.it.insert(e,t)),t}lt(e){const t=null!==this.wt(e);return t||Le("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new lg),this.et.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function ND(){return new wi(at.comparator)}function kD(){return new wi(at.comparator)}const RD={asc:"ASCENDING",desc:"DESCENDING"},xD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Q0{constructor(e,t){this.databaseId=e,this.C=t}}function $h(n,e){return n.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function PD(n,e){return n.C?e.toBase64():e.toUint8Array()}function DS(n,e){return $h(n,e.toTimestamp())}function yr(n){return Et(!!n),Ot.fromTimestamp(function(e){const t=Dc(e);return new _r(t.seconds,t.nanos)}(n))}function cg(n,e){return(t=n,new an(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function X_(n){const e=an.fromString(n);return Et(HD(e)),e}function zh(n,e){return cg(n.databaseId,e.path)}function Eo(n,e){const t=X_(e);if(t.get(1)!==n.databaseId.projectId)throw new Oe(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Oe(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new at(LD(t))}function ug(n,e){return cg(n.databaseId,e)}function FD(n){const e=X_(n);return 4===e.length?an.emptyPath():LD(e)}function dg(n){return new an(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function LD(n){return Et(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function BD(n,e,t){return{name:zh(n,e),fields:t.value.mapValue.fields}}function X0(n,e,t){const i=Eo(n,e.name),r=yr(e.updateTime),a=new Fr({mapValue:{fields:e.fields}}),u=Bn.newFoundDocument(i,r,a);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function hg(n,e){let t;if(e instanceof Hh)t={update:BD(n,e.key,e.value)};else if(e instanceof og)t={delete:zh(n,e.key)};else if(e instanceof Sl)t={update:BD(n,e.key,e.data),updateMask:ob(e.fieldMask)};else{if(!(e instanceof W0))return rt();t={verify:zh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const u=a.transform;if(u instanceof Bh)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Uu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof ju)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Vh)return{fieldPath:a.field.canonicalString(),increment:u.N};throw rt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:DS(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:rt()),t;var r}function tb(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?pi.updateTime(yr(r.updateTime)):void 0!==r.exists?pi.exists(r.exists):pi.none():pi.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(a,u){let f=null;"setToServerValue"in u?(Et("REQUEST_TIME"===u.setToServerValue),f=new Bh):"appendMissingElements"in u?f=new Uu(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new ju(u.removeAllFromArray.values||[]):"increment"in u?f=new Vh(a,u.increment):rt();const _=hi.fromServerFormat(u.fieldPath);return new Uh(_,f)}(n,r)):[];var r;if(e.update){const r=Eo(n,e.update.name),a=new Fr({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new Nh((e.updateMask.fieldPaths||[]).map(b=>hi.fromServerFormat(b)));return new Sl(r,a,u,t,i)}return new Hh(r,a,t,i)}if(e.delete){const r=Eo(n,e.delete);return new og(r,t)}if(e.verify){const r=Eo(n,e.verify);return new W0(r,t)}return rt()}function jD(n,e){return{documents:[ug(n,e.path)]}}function nb(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=ug(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=ug(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(f){if(0===f.length)return;const _=f.map(b=>function(T){if("=="===T.op){if(P0(T.value))return{unaryFilter:{field:Zh(T.field),op:"IS_NAN"}};if(lD(T.value))return{unaryFilter:{field:Zh(T.field),op:"IS_NULL"}}}else if("!="===T.op){if(P0(T.value))return{unaryFilter:{field:Zh(T.field),op:"IS_NOT_NAN"}};if(lD(T.value))return{unaryFilter:{field:Zh(T.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zh(T.field),op:TS(T.op),value:T.value}}}(b));return 1===_.length?_[0]:{compositeFilter:{op:"AND",filters:_}}}(e.filters);r&&(t.structuredQuery.where=r);const a=function(f){if(0!==f.length)return f.map(_=>{return{field:Zh((b=_).field),direction:qh(b.dir)};var b})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=(_=e.limit,n.C||Cc(_)?_:{value:_});var _;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=sb(e.startAt)),e.endAt&&(t.structuredQuery.endAt=sb(e.endAt)),t}function ib(n){let e=FD(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Et(1===i);const T=t.from[0];T.allDescendants?r=T.collectionId:e=e.child(T.collectionId)}let a=[];t.where&&(a=rb(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(T=>{return new Ph(fg((I=T).field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction));var I}));let f=null;t.limit&&(f=function(T){let I;return I="object"==typeof T?T.value:T,Cc(I)?null:I}(t.limit));let _=null;t.startAt&&(_=Lr(t.startAt));let b=null;return t.endAt&&(b=Lr(t.endAt)),U0(e,r,u,a,f,"F",_,b)}function rb(n){return n?void 0!==n.unaryFilter?[SS(n)]:void 0!==n.fieldFilter?[pg(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>rb(e)).reduce((e,t)=>e.concat(t)):rt():[]}function sb(n){return{before:n.before,values:n.position}}function Lr(n){return new tg(n.values||[],!!n.before)}function qh(n){return RD[n]}function TS(n){return xD[n]}function Zh(n){return{fieldPath:n.canonicalString()}}function fg(n){return hi.fromServerFormat(n.fieldPath)}function pg(n){return zr.create(fg(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(n.fieldFilter.op),n.fieldFilter.value)}function SS(n){switch(n.unaryFilter.op){case"IS_NAN":const e=fg(n.unaryFilter.field);return zr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=fg(n.unaryFilter.field);return zr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=fg(n.unaryFilter.field);return zr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=fg(n.unaryFilter.field);return zr.create(r,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}function ob(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function HD(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Do(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=GD(e)),e=IS(n.get(t),e);return GD(e)}function IS(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function GD(n){return n+"\x01\x01"}function Yo(n){const e=n.length;if(Et(e>=2),2===e)return Et("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),an.emptyPath();const t=e-2,i=[];let r="";for(let a=0;a<e;){const u=n.indexOf("\x01",a);switch((u<0||u>t)&&rt(),n.charAt(u+1)){case"\x01":const f=n.substring(a,u);let _;0===r.length?_=f:(r+=f,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(a,u),r+="\0";break;case"\x11":r+=n.substring(a,u+1);break;default:rt()}a=u+2}return new an(i)}class $D{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class ms{constructor(e,t,i){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=i}}ms.store="owner",ms.key="owner";class Jo{constructor(e,t,i){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=i}}Jo.store="mutationQueues",Jo.keyPath="userId";class En{constructor(e,t,i,r,a){this.userId=e,this.batchId=t,this.localWriteTimeMs=i,this.baseMutations=r,this.mutations=a}}En.store="mutations",En.keyPath="batchId",En.userMutationsIndex="userMutationsIndex",En.userMutationsKeyPath=["userId","batchId"];class qr{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Do(t)]}static key(e,t,i){return[e,Do(t),i]}}qr.store="documentMutations",qr.PLACEHOLDER=new qr;class zD{constructor(e,t){this.path=e,this.readTime=t}}class AS{constructor(e,t){this.path=e,this.version=t}}class Gn{constructor(e,t,i,r,a,u){this.unknownDocument=e,this.noDocument=t,this.document=i,this.hasCommittedMutations=r,this.readTime=a,this.parentPath=u}}Gn.store="remoteDocuments",Gn.readTimeIndex="readTimeIndex",Gn.readTimeIndexPath="readTime",Gn.collectionReadTimeIndex="collectionReadTimeIndex",Gn.collectionReadTimeIndexPath=["parentPath","readTime"];class Zs{constructor(e){this.byteSize=e}}Zs.store="remoteDocumentGlobal",Zs.key="remoteDocumentGlobalKey";class Zr{constructor(e,t,i,r,a,u,f){this.targetId=e,this.canonicalId=t,this.readTime=i,this.resumeToken=r,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=u,this.query=f}}Zr.store="targets",Zr.keyPath="targetId",Zr.queryTargetsIndexName="queryTargetsIndex",Zr.queryTargetsKeyPath=["canonicalId","targetId"];class vr{constructor(e,t,i){this.targetId=e,this.path=t,this.sequenceNumber=i}}vr.store="targetDocuments",vr.keyPath=["targetId","path"],vr.documentTargetsIndex="documentTargetsIndex",vr.documentTargetsKeyPath=["path","targetId"];class Wr{constructor(e,t,i,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=i,this.targetCount=r}}Wr.key="targetGlobalKey",Wr.store="targetGlobal";class Al{constructor(e,t){this.collectionId=e,this.parent=t}}Al.store="collectionParents",Al.keyPath=["collectionId","parent"];class Mc{constructor(e,t,i,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=i,this.inForeground=r}}Mc.store="clientMetadata",Mc.keyPath="clientId";class Wh{constructor(e,t,i){this.bundleId=e,this.createTime=t,this.version=i}}Wh.store="bundles",Wh.keyPath="bundleId";class Kh{constructor(e,t,i){this.name=e,this.readTime=t,this.bundledQuery=i}}Kh.store="namedQueries",Kh.keyPath="name";const qD=[Jo.store,En.store,qr.store,Gn.store,Zr.store,ms.store,Wr.store,vr.store,Mc.store,Zs.store,Al.store,Wh.store,Kh.store],ab="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ae((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ae?t:Ae.resolve(t)}catch(t){return Ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ae.reject(t)}static resolve(e){return new Ae((t,i)=>{t(e)})}static reject(e){return new Ae((t,i)=>{i(e)})}static waitFor(e){return new Ae((t,i)=>{let r=0,a=0,u=!1;e.forEach(f=>{++r,f.next(()=>{++a,u&&a===r&&t()},_=>i(_))}),u=!0,a===r&&t()})}static or(e){let t=Ae.resolve(!1);for(const i of e)t=t.next(r=>r?Ae.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,a)=>{i.push(t.call(this,r,a))}),this.waitFor(i)}}class gg{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.It=new Ri,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{t.error?this.It.reject(new Yh(e,t.error)):this.It.resolve()},this.transaction.onerror=i=>{const r=ey(i.target.error);this.It.reject(new Yh(e,r))}}static open(e,t,i,r){try{return new gg(t,e.transaction(r,i))}catch(a){throw new Yh(t,a)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(Le("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new WD(t)}}class Qo{constructor(e,t,i){this.name=e,this.version=t,this.Rt=i,12.2===Qo.bt((0,Ct.z$)())&&vi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Le("SimpleDb","Removing database:",e),Oc(window.indexedDB.deleteDatabase(e)).toPromise()}static Pt(){if(!(0,Ct.hl)())return!1;if(Qo.vt())return!0;const e=(0,Ct.z$)(),t=Qo.bt(e),i=0<t&&t<10,r=Qo.Vt(e),a=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||a)}static vt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.St)}static Dt(e,t){return e.store(t)}static bt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Vt(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Ct(e){var t=this;return(0,be.Z)(function*(){return t.db||(Le("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=u=>{i(u.target.result)},a.onblocked=()=>{r(new Yh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const f=u.target.error;r("VersionError"===f.name?new Oe(ue.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Oe(ue.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Yh(e,f))},a.onupgradeneeded=u=>{Le("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.Rt.Nt(u.target.result,a.transaction,u.oldVersion,t.version).next(()=>{Le("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.kt&&(t.db.onversionchange=i=>t.kt(i)),t.db})()}xt(e){this.kt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var a=this;return(0,be.Z)(function*(){const u="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.Ct(e);const _=gg.open(a.db,e,u?"readonly":"readwrite",i),b=r(_).catch(T=>(_.abort(T),Ae.reject(T))).toPromise();return b.catch(()=>{}),yield _.At,b}catch(_){const b="FirebaseError"!==_.name&&f<3;if(Le("SimpleDb","Transaction failed with error:",_.message,"Retrying:",b),a.close(),!b)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class MS{constructor(e){this.$t=e,this.Ot=!1,this.Mt=null}get isDone(){return this.Ot}get Ft(){return this.Mt}set cursor(e){this.$t=e}done(){this.Ot=!0}Lt(e){this.Mt=e}delete(){return Oc(this.$t.delete())}}class Yh extends Oe{constructor(e,t){super(ue.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Gu(n){return"IndexedDbTransactionError"===n.name}class WD{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Le("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Le("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Oc(i)}add(e){return Le("SimpleDb","ADD",this.store.name,e,e),Oc(this.store.add(e))}get(e){return Oc(this.store.get(e)).next(t=>(void 0===t&&(t=null),Le("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Le("SimpleDb","DELETE",this.store.name,e),Oc(this.store.delete(e))}count(){return Le("SimpleDb","COUNT",this.store.name),Oc(this.store.count())}Bt(e,t){const i=this.cursor(this.options(e,t)),r=[];return this.Ut(i,(a,u)=>{r.push(u)}).next(()=>r)}qt(e,t){Le("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Kt=!1;const r=this.cursor(i);return this.Ut(r,(a,u,f)=>f.delete())}jt(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.Ut(r,t)}Qt(e){const t=this.cursor({});return new Ae((i,r)=>{t.onerror=a=>{const u=ey(a.target.error);r(u)},t.onsuccess=a=>{const u=a.target.result;u?e(u.primaryKey,u.value).next(f=>{f?u.continue():i()}):i()}})}Ut(e,t){const i=[];return new Ae((r,a)=>{e.onerror=u=>{a(u.target.error)},e.onsuccess=u=>{const f=u.target.result;if(!f)return void r();const _=new MS(f),b=t(f.primaryKey,f.value,_);if(b instanceof Ae){const T=b.catch(I=>(_.done(),Ae.reject(I)));i.push(T)}_.isDone?r():null===_.Ft?f.continue():f.continue(_.Ft)}}).next(()=>Ae.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Kt?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Oc(n){return new Ae((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=ey(i.target.error);t(r)}})}let lb=!1;function ey(n){const e=Qo.bt((0,Ct.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return lb||(lb=!0,setTimeout(()=>{throw i},0)),i}}return n}class KD extends ZD{constructor(e,t){super(),this.Wt=e,this.currentSequenceNumber=t}}function _s(n,e){const t=ze(n);return Qo.Dt(t.Wt,e)}class YD{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&ED(a,e,i[r])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&DD(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&DD(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const i=e.get(t.key),r=i;this.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(Ot.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ln())}isEqual(e){return this.batchId===e.batchId&&Oh(this.mutations,e.mutations,(t,i)=>K_(t,i))&&Oh(this.baseMutations,e.baseMutations,(t,i)=>K_(t,i))}}class ty{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Et(e.mutations.length===i.length);let r=Gh();const a=e.mutations;for(let u=0;u<a.length;u++)r=r.insert(a[u].key,i[u].version);return new ty(e,t,i,r)}}class $u{constructor(e,t,i,r,a=Ot.min(),u=Ot.min(),f=xi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f}withSequenceNumber(e){return new $u(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new $u(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new $u(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class OS{constructor(e){this.Gt=e}}function JD(n,e){if(e.document)return X0(n.Gt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=at.fromSegments(e.noDocument.path),i=_g(e.noDocument.readTime),r=Bn.newNoDocument(t,i);return e.hasCommittedMutations?r.setHasCommittedMutations():r}if(e.unknownDocument){const t=at.fromSegments(e.unknownDocument.path),i=_g(e.unknownDocument.version);return Bn.newUnknownDocument(t,i)}return rt()}function NS(n,e,t){const i=QD(t),r=e.key.path.popLast().toArray();if(e.isFoundDocument()){const a={name:zh(f=n.Gt,(_=e).key),fields:_.data.value.mapValue.fields,updateTime:$h(f,_.version.toTimestamp())};return new Gn(null,null,a,e.hasCommittedMutations,i,r)}var f,_;if(e.isNoDocument()){const a=e.key.path.toArray(),u=mg(e.version),f=e.hasCommittedMutations;return new Gn(null,new zD(a,u),null,f,i,r)}if(e.isUnknownDocument()){const a=e.key.path.toArray(),u=mg(e.version);return new Gn(new AS(a,u),null,null,!0,i,r)}return rt()}function QD(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function kS(n){const e=new _r(n[0],n[1]);return Ot.fromTimestamp(e)}function mg(n){const e=n.toTimestamp();return new $D(e.seconds,e.nanoseconds)}function _g(n){const e=new _r(n.seconds,n.nanoseconds);return Ot.fromTimestamp(e)}function Ml(n,e){const t=(e.baseMutations||[]).map(a=>tb(n.Gt,a));for(let a=0;a<e.mutations.length-1;++a){const u=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(u.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const i=e.mutations.map(a=>tb(n.Gt,a)),r=_r.fromMillis(e.localWriteTimeMs);return new YD(e.batchId,r,t,i)}function ny(n){const e=_g(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?_g(n.lastLimboFreeSnapshotVersion):Ot.min();let i;var r;return void 0!==n.query.documents?(Et(1===(r=n.query).documents.length),i=Ko(ng(FD(r.documents[0])))):i=Ko(ib(n.query)),new $u(i,n.targetId,0,n.lastListenSequenceNumber,e,t,xi.fromBase64String(n.resumeToken))}function iy(n,e){const t=mg(e.snapshotVersion),i=mg(e.lastLimboFreeSnapshotVersion);let r;r=eg(e.target)?jD(n.Gt,e.target):nb(n.Gt,e.target);const a=e.resumeToken.toBase64();return new Zr(e.targetId,Qp(e.target),t,a,e.sequenceNumber,i,r)}function Nc(n){const e=ib({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?H0(e,e.limit,"L"):e}class XD{getBundleMetadata(e,t){return eC(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:_g(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return eC(e).put({bundleId:(i=t).id,createTime:mg(yr(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return tC(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:Nc(r.bundledQuery),readTime:_g(r.readTime)};var r})}saveNamedQuery(e,t){return tC(e).put({name:(i=t).name,readTime:mg(yr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function eC(n){return _s(n,Wh.store)}function tC(n){return _s(n,Kh.store)}class cb{constructor(){this.zt=new ry}addToCollectionParentIndex(e,t){return this.zt.add(t),Ae.resolve()}getCollectionParents(e,t){return Ae.resolve(this.zt.getEntries(t))}}class ry{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Hn(an.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Hn(an.comparator)).toArray()}}class nC{constructor(){this.Ht=new ry}addToCollectionParentIndex(e,t){if(!this.Ht.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Ht.add(t)});const a={collectionId:i,parent:Do(r)};return ub(e).put(a)}return Ae.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[uS(t),""],!1,!0);return ub(e).Bt(r).next(a=>{for(const u of a){if(u.collectionId!==t)break;i.push(Yo(u.parent))}return i})}}function ub(n){return _s(n,Al.store)}const RS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Kr{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Kr(e,Kr.DEFAULT_COLLECTION_PERCENTILE,Kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function yg(n,e,t){const i=n.store(En.store),r=n.store(qr.store),a=[],u=IDBKeyRange.only(t.batchId);let f=0;const _=i.jt({range:u},(T,I,R)=>(f++,R.delete()));a.push(_.next(()=>{Et(1===f)}));const b=[];for(const T of t.mutations){const I=qr.key(e,T.key.path,t.batchId);a.push(r.delete(I)),b.push(T.key)}return Ae.waitFor(a).next(()=>b)}function vg(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw rt();e=n.noDocument}return JSON.stringify(e).length}Kr.DEFAULT_COLLECTION_PERCENTILE=10,Kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kr.DEFAULT=new Kr(41943040,Kr.DEFAULT_COLLECTION_PERCENTILE,Kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kr.DISABLED=new Kr(-1,0,0);class iC{constructor(e,t,i,r){this.userId=e,this.k=t,this.Jt=i,this.referenceDelegate=r,this.Yt={}}static Xt(e,t,i,r){Et(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new iC(a,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return zu(e).jt({index:En.userMutationsIndex,range:i},(r,a,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const a=Jh(e),u=zu(e);return u.add({}).next(f=>{Et("number"==typeof f);const _=new YD(f,t,i,r),b=function(R,x,V){const Z=V.baseMutations.map(ke=>hg(R.Gt,ke)),he=V.mutations.map(ke=>hg(R.Gt,ke));return new En(x,V.batchId,V.localWriteTime.toMillis(),Z,he)}(this.k,this.userId,_),T=[];let I=new Hn((R,x)=>$t(R.canonicalString(),x.canonicalString()));for(const R of r){const x=qr.key(this.userId,R.key.path,f);I=I.add(R.key.path.popLast()),T.push(u.put(b)),T.push(a.put(x,qr.PLACEHOLDER))}return I.forEach(R=>{T.push(this.Jt.addToCollectionParentIndex(e,R))}),e.addOnCommittedListener(()=>{this.Yt[f]=_.keys()}),Ae.waitFor(T).next(()=>_)})}lookupMutationBatch(e,t){return zu(e).get(t).next(i=>i?(Et(i.userId===this.userId),Ml(this.k,i)):null)}Zt(e,t){return this.Yt[t]?Ae.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.Yt[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let a=null;return zu(e).jt({index:En.userMutationsIndex,range:r},(u,f,_)=>{f.userId===this.userId&&(Et(f.batchId>=i),a=Ml(this.k,f)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return zu(e).jt({index:En.userMutationsIndex,range:t,reverse:!0},(r,a,u)=>{i=a.batchId,u.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return zu(e).Bt(En.userMutationsIndex,t).next(i=>i.map(r=>Ml(this.k,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=qr.prefixForPath(this.userId,t.path),r=IDBKeyRange.lowerBound(i),a=[];return Jh(e).jt({range:r},(u,f,_)=>{const[b,T,I]=u,R=Yo(T);if(b===this.userId&&t.path.isEqual(R))return zu(e).get(I).next(x=>{if(!x)throw rt();Et(x.userId===this.userId),a.push(Ml(this.k,x))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Hn($t);const r=[];return t.forEach(a=>{const u=qr.prefixForPath(this.userId,a.path),f=IDBKeyRange.lowerBound(u),_=Jh(e).jt({range:f},(b,T,I)=>{const[R,x,V]=b,Z=Yo(x);R===this.userId&&a.path.isEqual(Z)?i=i.add(V):I.done()});r.push(_)}),Ae.waitFor(r).next(()=>this.te(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,a=qr.prefixForPath(this.userId,i),u=IDBKeyRange.lowerBound(a);let f=new Hn($t);return Jh(e).jt({range:u},(_,b,T)=>{const[I,R,x]=_,V=Yo(R);I===this.userId&&i.isPrefixOf(V)?V.length===r&&(f=f.add(x)):T.done()}).next(()=>this.te(e,f))}te(e,t){const i=[],r=[];return t.forEach(a=>{r.push(zu(e).get(a).next(u=>{if(null===u)throw rt();Et(u.userId===this.userId),i.push(Ml(this.k,u))}))}),Ae.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return yg(e.Wt,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.ee(t.batchId)}),Ae.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ae.resolve();const i=IDBKeyRange.lowerBound(qr.prefixForUser(this.userId)),r=[];return Jh(e).jt({range:i},(a,u,f)=>{if(a[0]===this.userId){const _=Yo(a[1]);r.push(_)}else f.done()}).next(()=>{Et(0===r.length)})})}containsKey(e,t){return xS(e,this.userId,t)}ne(e){return sy(e).get(this.userId).next(t=>t||new Jo(this.userId,-1,""))}}function xS(n,e,t){const i=qr.prefixForPath(e,t.path),r=i[1],a=IDBKeyRange.lowerBound(i);let u=!1;return Jh(n).jt({range:a,Kt:!0},(f,_,b)=>{const[T,I,R]=f;T===e&&I===r&&(u=!0),b.done()}).next(()=>u)}function zu(n){return _s(n,En.store)}function Jh(n){return _s(n,qr.store)}function sy(n){return _s(n,Jo.store)}class qu{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new qu(0)}static re(){return new qu(-1)}}class cO{constructor(e,t){this.referenceDelegate=e,this.k=t}allocateTargetId(e){return this.oe(e).next(t=>{const i=new qu(t.highestTargetId);return t.highestTargetId=i.next(),this.ce(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.oe(e).next(t=>Ot.fromTimestamp(new _r(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.oe(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.oe(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.ce(e,r)))}addTargetData(e,t){return this.ae(e,t).next(()=>this.oe(e).next(i=>(i.targetCount+=1,this.ue(t,i),this.ce(e,i))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Qh(e).delete(t.targetId)).next(()=>this.oe(e)).next(i=>(Et(i.targetCount>0),i.targetCount-=1,this.ce(e,i)))}removeTargets(e,t,i){let r=0;const a=[];return Qh(e).jt((u,f)=>{const _=ny(f);_.sequenceNumber<=t&&null===i.get(_.targetId)&&(r++,a.push(this.removeTargetData(e,_)))}).next(()=>Ae.waitFor(a)).next(()=>r)}forEachTarget(e,t){return Qh(e).jt((i,r)=>{const a=ny(r);t(a)})}oe(e){return oy(e).get(Wr.key).next(t=>(Et(null!==t),t))}ce(e,t){return oy(e).put(Wr.key,t)}ae(e,t){return Qh(e).put(iy(this.k,t))}ue(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.oe(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Qp(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let a=null;return Qh(e).jt({range:r,index:Zr.queryTargetsIndexName},(u,f,_)=>{const b=ny(f);Xp(t,b.target)&&(a=b,_.done())}).next(()=>a)}addMatchingKeys(e,t,i){const r=[],a=kc(e);return t.forEach(u=>{const f=Do(u.path);r.push(a.put(new vr(i,f))),r.push(this.referenceDelegate.addReference(e,i,u))}),Ae.waitFor(r)}removeMatchingKeys(e,t,i){const r=kc(e);return Ae.forEach(t,a=>{const u=Do(a.path);return Ae.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(e,i,a)])})}removeMatchingKeysForTargetId(e,t){const i=kc(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=kc(e);let a=ln();return r.jt({range:i,Kt:!0},(u,f,_)=>{const b=Yo(u[1]),T=new at(b);a=a.add(T)}).next(()=>a)}containsKey(e,t){const i=Do(t.path),r=IDBKeyRange.bound([i],[uS(i)],!1,!0);let a=0;return kc(e).jt({index:vr.documentTargetsIndex,Kt:!0,range:r},([u,f],_,b)=>{0!==u&&(a++,b.done())}).next(()=>a>0)}Et(e,t){return Qh(e).get(t).next(i=>i?ny(i):null)}}function Qh(n){return _s(n,Zr.store)}function oy(n){return _s(n,Wr.store)}function kc(n){return _s(n,vr.store)}function Pi(n){return db.apply(this,arguments)}function db(){return db=(0,be.Z)(function*(n){if(n.code!==ue.FAILED_PRECONDITION||n.message!==ab)throw n;Le("LocalStore","Unexpectedly lost primary lease")}),db.apply(this,arguments)}function ay([n,e],[t,i]){const r=$t(n,t);return 0===r?$t(e,i):r}class PS{constructor(e){this.he=e,this.buffer=new Hn(ay),this.le=0}fe(){return++this.le}de(e){const t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();ay(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class FS{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){var t=this;const i=this.we?3e5:6e4;Le("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,be.Z)(function*(){t._e=null,t.we=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(r){Gu(r)?Le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Pi(r)}yield t.me(e)}))}}class hb{constructor(e,t){this.ge=e,this.params=t}calculateTargetCount(e,t){return this.ge.ye(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return Ae.resolve(gs.I);const i=new PS(t);return this.ge.forEachTarget(e,r=>i.de(r.sequenceNumber)).next(()=>this.ge.pe(e,r=>i.de(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.ge.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.ge.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),Ae.resolve(RS)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),RS):this.Te(e,t))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,t){let i,r,a,u,f,_,b;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),r=this.params.maximumSequenceNumbersToCollect):r=I,u=Date.now(),this.nthSequenceNumber(e,r))).next(I=>(i=I,f=Date.now(),this.removeTargets(e,i,t))).next(I=>(a=I,_=Date.now(),this.removeOrphanedDocuments(e,i))).next(I=>(b=Date.now(),B_()<=yl.in.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-T}ms\n\tDetermined least recently used ${r} in `+(f-u)+`ms\n\tRemoved ${a} targets in `+(_-f)+`ms\n\tRemoved ${I} documents in `+(b-_)+`ms\nTotal Duration: ${b-T}ms`),Ae.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:I})))}}class rC{constructor(e,t){this.db=e,this.garbageCollector=new hb(this,t)}ye(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Ee(e){let t=0;return this.pe(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pe(e,t){return this.Ie(e,(i,r)=>t(r))}addReference(e,t,i){return bg(e,i)}removeReference(e,t,i){return bg(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return bg(e,t)}Ae(e,t){return function(i,r){let a=!1;return sy(i).Qt(u=>xS(i,u,r).next(f=>(f&&(a=!0),Ae.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let a=0;return this.Ie(e,(u,f)=>{if(f<=t){const _=this.Ae(e,u).next(b=>{if(!b)return a++,i.getEntry(e,u).next(()=>(i.removeEntry(u),kc(e).delete([0,Do(u.path)])))});r.push(_)}}).next(()=>Ae.waitFor(r)).next(()=>i.apply(e)).next(()=>a)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return bg(e,t)}Ie(e,t){const i=kc(e);let r,a=gs.I;return i.jt({index:vr.documentTargetsIndex},([u,f],{path:_,sequenceNumber:b})=>{0===u?(a!==gs.I&&t(new at(Yo(r)),a),a=b,r=_):a=gs.I}).next(()=>{a!==gs.I&&t(new at(Yo(r)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function bg(n,e){return kc(n).put((i=n.currentSequenceNumber,new vr(0,Do(e.path),i)));var i}class Xh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,a]of i)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0!==r){for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t])}else this.inner[i]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),!0;return!1}forEach(e){Ec(this.inner,(t,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return Zp(this.inner)}}class fb{constructor(){this.changes=new Xh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:Ot.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Bn.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?Ae.resolve(i.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class sC{constructor(e,t){this.k=e,this.Jt=t}addEntry(e,t,i){return Ia(e).put(ys(t),i)}removeEntry(e,t){const i=Ia(e),r=ys(t);return i.delete(r)}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Re(e,i)))}getEntry(e,t){return Ia(e).get(ys(t)).next(i=>this.be(t,i))}Pe(e,t){return Ia(e).get(ys(t)).next(i=>({document:this.be(t,i),size:vg(i)}))}getEntries(e,t){let i=wo();return this.ve(e,t,(r,a)=>{const u=this.be(r,a);i=i.insert(r,u)}).next(()=>i)}Ve(e,t){let i=wo(),r=new wi(at.comparator);return this.ve(e,t,(a,u)=>{const f=this.be(a,u);i=i.insert(a,f),r=r.insert(a,vg(u))}).next(()=>({documents:i,Se:r}))}ve(e,t,i){if(t.isEmpty())return Ae.resolve();const r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),a=t.getIterator();let u=a.getNext();return Ia(e).jt({range:r},(f,_,b)=>{const T=at.fromSegments(f);for(;u&&at.comparator(u,T)<0;)i(u,null),u=a.getNext();u&&u.isEqual(T)&&(i(u,_),u=a.hasNext()?a.getNext():null),u?b.Lt(u.path.toArray()):b.done()}).next(()=>{for(;u;)i(u,null),u=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(e,t,i){let r=wo();const a=t.path.length+1,u={};if(i.isEqual(Ot.min())){const f=t.path.toArray();u.range=IDBKeyRange.lowerBound(f)}else{const f=t.path.toArray(),_=QD(i);u.range=IDBKeyRange.lowerBound([f,_],!0),u.index=Gn.collectionReadTimeIndex}return Ia(e).jt(u,(f,_,b)=>{if(f.length!==a)return;const T=JD(this.k,_);t.path.isPrefixOf(T.key.path)?rg(t,T)&&(r=r.insert(T.key,T)):b.done()}).next(()=>r)}newChangeBuffer(e){return new LS(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return oC(e).get(Zs.key).next(t=>(Et(!!t),t))}Re(e,t){return oC(e).put(Zs.key,t)}be(e,t){if(t){const i=JD(this.k,t);if(!i.isNoDocument()||!i.version.isEqual(Ot.min()))return i}return Bn.newInvalidDocument(e)}}class LS extends fb{constructor(e,t){super(),this.De=e,this.trackRemovals=t,this.Ce=new Xh(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new Hn((a,u)=>$t(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const f=this.Ce.get(a);if(u.document.isValidDocument()){const _=NS(this.De.k,u.document,this.getReadTime(a));r=r.add(a.path.popLast()),i+=vg(_)-f,t.push(this.De.addEntry(e,a,_))}else if(i-=f,this.trackRemovals){const _=NS(this.De.k,Bn.newNoDocument(a,Ot.min()),this.getReadTime(a));t.push(this.De.addEntry(e,a,_))}else t.push(this.De.removeEntry(e,a))}),r.forEach(a=>{t.push(this.De.Jt.addToCollectionParentIndex(e,a))}),t.push(this.De.updateMetadata(e,i)),Ae.waitFor(t)}getFromCache(e,t){return this.De.Pe(e,t).next(i=>(this.Ce.set(t,i.size),i.document))}getAllFromCache(e,t){return this.De.Ve(e,t).next(({documents:i,Se:r})=>(r.forEach((a,u)=>{this.Ce.set(a,u)}),i))}}function oC(n){return _s(n,Zs.store)}function Ia(n){return _s(n,Gn.store)}function ys(n){return n.path.toArray()}class BS{constructor(e){this.k=e}Nt(e,t,i,r){Et(i<r&&i>=0&&r<=11);const a=new gg("createOrUpgrade",t);var f;i<1&&r>=1&&(e.createObjectStore(ms.store),(f=e).createObjectStore(Jo.store,{keyPath:Jo.keyPath}),f.createObjectStore(En.store,{keyPath:En.keyPath,autoIncrement:!0}).createIndex(En.userMutationsIndex,En.userMutationsKeyPath,{unique:!0}),f.createObjectStore(qr.store),VS(e),function(f){f.createObjectStore(Gn.store)}(e));let u=Ae.resolve();return i<3&&r>=3&&(0!==i&&(function(f){f.deleteObjectStore(vr.store),f.deleteObjectStore(Zr.store),f.deleteObjectStore(Wr.store)}(e),VS(e)),u=u.next(()=>function(f){const _=f.store(Wr.store),b=new Wr(0,0,Ot.min().toTimestamp(),0);return _.put(Wr.key,b)}(a))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(f,_){return _.store(En.store).Bt().next(b=>{f.deleteObjectStore(En.store),f.createObjectStore(En.store,{keyPath:En.keyPath,autoIncrement:!0}).createIndex(En.userMutationsIndex,En.userMutationsKeyPath,{unique:!0});const T=_.store(En.store),I=b.map(R=>T.put(R));return Ae.waitFor(I)})}(e,a))),u=u.next(()=>{!function(f){f.createObjectStore(Mc.store,{keyPath:Mc.keyPath})}(e)})),i<5&&r>=5&&(u=u.next(()=>this.Ne(a))),i<6&&r>=6&&(u=u.next(()=>(function(f){f.createObjectStore(Zs.store)}(e),this.ke(a)))),i<7&&r>=7&&(u=u.next(()=>this.xe(a))),i<8&&r>=8&&(u=u.next(()=>this.$e(e,a))),i<9&&r>=9&&(u=u.next(()=>{(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(e),function(f){const _=f.objectStore(Gn.store);_.createIndex(Gn.readTimeIndex,Gn.readTimeIndexPath,{unique:!1}),_.createIndex(Gn.collectionReadTimeIndex,Gn.collectionReadTimeIndexPath,{unique:!1})}(t)})),i<10&&r>=10&&(u=u.next(()=>this.Oe(a))),i<11&&r>=11&&(u=u.next(()=>{(function(f){f.createObjectStore(Wh.store,{keyPath:Wh.keyPath})})(e),function(f){f.createObjectStore(Kh.store,{keyPath:Kh.keyPath})}(e)})),u}ke(e){let t=0;return e.store(Gn.store).jt((i,r)=>{t+=vg(r)}).next(()=>{const i=new Zs(t);return e.store(Zs.store).put(Zs.key,i)})}Ne(e){const t=e.store(Jo.store),i=e.store(En.store);return t.Bt().next(r=>Ae.forEach(r,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.Bt(En.userMutationsIndex,u).next(f=>Ae.forEach(f,_=>{Et(_.userId===a.userId);const b=Ml(this.k,_);return yg(e,a.userId,b).next(()=>{})}))}))}xe(e){const t=e.store(vr.store),i=e.store(Gn.store);return e.store(Wr.store).get(Wr.key).next(r=>{const a=[];return i.jt((u,f)=>{const _=new an(u),b=[0,Do(_)];a.push(t.get(b).next(T=>T?Ae.resolve():t.put(new vr(0,Do(_),r.highestListenSequenceNumber))))}).next(()=>Ae.waitFor(a))})}$e(e,t){e.createObjectStore(Al.store,{keyPath:Al.keyPath});const i=t.store(Al.store),r=new ry,a=u=>{if(r.add(u)){const f=u.lastSegment(),_=u.popLast();return i.put({collectionId:f,parent:Do(_)})}};return t.store(Gn.store).jt({Kt:!0},(u,f)=>{const _=new an(u);return a(_.popLast())}).next(()=>t.store(qr.store).jt({Kt:!0},([u,f,_],b)=>{const T=Yo(f);return a(T.popLast())}))}Oe(e){const t=e.store(Zr.store);return t.jt((i,r)=>{const a=ny(r),u=iy(this.k,a);return t.put(u)})}}function VS(n){n.createObjectStore(vr.store,{keyPath:vr.keyPath}).createIndex(vr.documentTargetsIndex,vr.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(Zr.store,{keyPath:Zr.keyPath}).createIndex(Zr.queryTargetsIndexName,Zr.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(Wr.store)}const pb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ly{constructor(e,t,i,r,a,u,f,_,b,T){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Me=a,this.window=u,this.document=f,this.Fe=b,this.Le=T,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=I=>Promise.resolve(),!ly.Pt())throw new Oe(ue.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new rC(this,r),this.Ge=t+"main",this.k=new OS(_),this.ze=new Qo(this.Ge,11,new BS(this.k)),this.He=new cO(this.referenceDelegate,this.k),this.Jt=new nC,this.Je=new sC(this.k,this.Jt),this.Ye=new XD,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===T&&vi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Oe(ue.FAILED_PRECONDITION,pb);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.He.getHighestSequenceNumber(e))}).then(e=>{this.Be=new gs(e,this.Fe)}).then(()=>{this.Ue=!0}).catch(e=>(this.ze&&this.ze.close(),Promise.reject(e)))}sn(e){var t=this;return this.We=function(){var i=(0,be.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt(function(){var t=(0,be.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Me.enqueueAndForget((0,be.Z)(function*(){t.started&&(yield t.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>cy(e).put(new Mc(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(e).next(t=>{t||(this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(e)).next(t=>this.isPrimary&&!t?this.cn(e).next(()=>!1):!!t&&this.an(e).next(()=>!0))).catch(e=>{if(Gu(e))return Le("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Le("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Me.enqueueRetryable(()=>this.We(e)),this.isPrimary=e})}rn(e){return wg(e).get(ms.key).next(t=>Ae.resolve(this.un(t)))}hn(e){return cy(e).delete(this.clientId)}ln(){var e=this;return(0,be.Z)(function*(){if(e.isPrimary&&!e.fn(e.Qe,18e5)){e.Qe=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=_s(i,Mc.store);return r.Bt().next(a=>{const u=e.dn(a,18e5),f=a.filter(_=>-1===u.indexOf(_));return Ae.forEach(f,_=>r.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e.Xe)for(const i of t)e.Xe.removeItem(e.wn(i.clientId))}})()}nn(){this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?Ae.resolve(!0):wg(e).get(ms.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)){if(this.un(t)&&this.networkEnabled)return!0;if(!this.un(t)){if(!t.allowTabSynchronization)throw new Oe(ue.FAILED_PRECONDITION,pb);return!1}}return!(!this.networkEnabled||!this.inForeground)||cy(e).Bt().next(i=>void 0===this.dn(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,f=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Le("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,be.Z)(function*(){e.Ue=!1,e.mn(),e.je&&(e.je.cancel(),e.je=null),e.gn(),e.yn(),yield e.ze.runTransaction("shutdown","readwrite",[ms.store,Mc.store],t=>{const i=new KD(t,gs.I);return e.cn(i).next(()=>e.hn(i))}),e.ze.close(),e.pn()})()}dn(e,t){return e.filter(i=>this.fn(i.updateTimeMs,t)&&!this._n(i.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",e=>cy(e).Bt().next(t=>this.dn(t,18e5).map(i=>i.clientId)))}get started(){return this.Ue}getMutationQueue(e){return iC.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,t,i){let a;return Le("IndexedDbPersistence","Starting transaction:",e),this.ze.runTransaction(e,"readonly"===t?"readonly":"readwrite",qD,u=>(a=new KD(u,this.Be?this.Be.next():gs.I),"readwrite-primary"===t?this.rn(a).next(f=>!!f||this.on(a)).next(f=>{if(!f)throw vi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)),new Oe(ue.FAILED_PRECONDITION,ab);return i(a)}).next(f=>this.an(a).next(()=>f)):this.En(a).next(()=>i(a)))).then(u=>(a.raiseOnCommittedEvent(),u))}En(e){return wg(e).get(ms.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)&&!this.un(t)&&!(this.Le||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Oe(ue.FAILED_PRECONDITION,pb)})}an(e){const t=new ms(this.clientId,this.allowTabSynchronization,Date.now());return wg(e).put(ms.key,t)}static Pt(){return Qo.Pt()}cn(e){const t=wg(e);return t.get(ms.key).next(i=>this.un(i)?(Le("IndexedDbPersistence","Releasing primary lease."),t.delete(ms.key)):Ae.resolve())}fn(e,t){const i=Date.now();return!(e<i-t||e>i&&(vi(`Detected an update time that is in the future: ${e} > ${i}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Me.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),(0,Ct.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Me.enterRestrictedMode(!0),this.Me.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var t;try{const i=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return Le("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return vi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){vi("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function wg(n){return _s(n,ms.store)}function cy(n){return _s(n,Mc.store)}function uy(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class US{constructor(e,t){this.progress=e,this.In=t}}class jS{constructor(e,t,i){this.Je=e,this.An=t,this.Jt=i}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next(i=>this.bn(e,t,i))}bn(e,t,i){return this.Je.getEntry(e,t).next(r=>{for(const a of i)a.applyToLocalView(r);return r})}Pn(e,t){e.forEach((i,r)=>{for(const a of t)a.applyToLocalView(r)})}vn(e,t){return this.Je.getEntries(e,t).next(i=>this.Vn(e,i).next(()=>i))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next(i=>this.Pn(t,i))}getDocumentsMatchingQuery(e,t,i){return at.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.Sn(e,t.path):Vu(t)?this.Dn(e,t,i):this.Cn(e,t,i);var r}Sn(e,t){return this.Rn(e,new at(t)).next(i=>{let r=J0();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}Dn(e,t,i){const r=t.collectionGroup;let a=J0();return this.Jt.getCollectionParents(e,r).next(u=>Ae.forEach(u,f=>{const _=(b=t,T=f.child(r),new Tl(T,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,T;return this.Cn(e,_,i).next(b=>{b.forEach((T,I)=>{a=a.insert(T,I)})})}).next(()=>a))}Cn(e,t,i){let r,a;return this.Je.getDocumentsMatchingQuery(e,t,i).next(u=>(r=u,this.An.getAllMutationBatchesAffectingQuery(e,t))).next(u=>(a=u,this.Nn(e,a,r).next(f=>{r=f;for(const _ of a)for(const b of _.mutations){const T=b.key;let I=r.get(T);null==I&&(I=Bn.newInvalidDocument(T),r=r.insert(T,I)),DD(b,I,_.localWriteTime),I.isFoundDocument()||(r=r.remove(T))}}))).next(()=>(r.forEach((u,f)=>{rg(t,f)||(r=r.remove(u))}),r))}Nn(e,t,i){let r=ln();for(const u of t)for(const f of u.mutations)f instanceof Sl&&null===i.get(f.key)&&(r=r.add(f.key));let a=i;return this.Je.getEntries(e,r).next(u=>(u.forEach((f,_)=>{_.isFoundDocument()&&(a=a.insert(f,_))}),a))}}class dy{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.kn=i,this.xn=r}static $n(e,t){let i=ln(),r=ln();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new dy(e,t.fromCache,i,r)}}class gb{On(e){this.Mn=e}getDocumentsMatchingQuery(e,t,i,r){return 0===(a=t).filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())||i.isEqual(Ot.min())?this.Fn(e,t):this.Mn.vn(e,r).next(a=>{const u=this.Ln(t,a);return($_(t)||Sc(t))&&this.Bn(t.limitType,u,r,i)?this.Fn(e,t):(B_()<=yl.in.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),G0(t)),this.Mn.getDocumentsMatchingQuery(e,t,i).next(f=>(u.forEach(_=>{f=f.insert(_.key,_)}),f)))});var a}Ln(e,t){let i=new Hn($0(e));return t.forEach((r,a)=>{rg(e,a)&&(i=i.add(a))}),i}Bn(e,t,i,r){if(i.size!==t.size)return!0;const a="F"===e?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Fn(e,t){return B_()<=yl.in.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",G0(t)),this.Mn.getDocumentsMatchingQuery(e,t,Ot.min())}}class HS{constructor(e,t,i,r){this.persistence=e,this.Un=t,this.k=r,this.qn=new wi($t),this.Kn=new Xh(a=>Qp(a),Xp),this.jn=Ot.min(),this.An=e.getMutationQueue(i),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new jS(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.On(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qn))}}function aC(n,e,t,i){return new HS(n,e,t,i)}function mb(n,e){return Zu.apply(this,arguments)}function Zu(){return Zu=(0,be.Z)(function*(n,e){const t=ze(n);let i=t.An,r=t.Wn;const a=yield t.persistence.runTransaction("Handle user change","readonly",u=>{let f;return t.An.getAllMutationBatches(u).next(_=>(f=_,i=t.persistence.getMutationQueue(e),r=new jS(t.Qn,i,t.persistence.getIndexManager()),i.getAllMutationBatches(u))).next(_=>{const b=[],T=[];let I=ln();for(const R of f){b.push(R.batchId);for(const x of R.mutations)I=I.add(x.key)}for(const R of _){T.push(R.batchId);for(const x of R.mutations)I=I.add(x.key)}return r.vn(u,I).next(R=>({Gn:R,removedBatchIds:b,addedBatchIds:T}))})});return t.An=i,t.Wn=r,t.Un.On(t.Wn),a}),Zu.apply(this,arguments)}function _b(n,e){const t=ze(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=t.Qn.newChangeBuffer({trackRemovals:!0});return function(u,f,_,b){const T=_.batch,I=T.keys();let R=Ae.resolve();return I.forEach(x=>{R=R.next(()=>b.getEntry(f,x)).next(V=>{const Z=_.docVersions.get(x);Et(null!==Z),V.version.compareTo(Z)<0&&(T.applyToRemoteDocument(V,_),V.isValidDocument()&&b.addEntry(V,_.commitVersion))})}),R.next(()=>u.An.removeMutationBatch(f,T))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.An.performConsistencyCheck(i)).next(()=>t.Wn.vn(i,r))})}function yb(n){const e=ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.He.getLastRemoteSnapshotVersion(t))}function GS(n,e){const t=ze(n),i=e.snapshotVersion;let r=t.qn;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Qn.newChangeBuffer({trackRemovals:!0});r=t.qn;const f=[];e.targetChanges.forEach((b,T)=>{const I=r.get(T);if(!I)return;f.push(t.He.removeMatchingKeys(a,b.removedDocuments,T).next(()=>t.He.addMatchingKeys(a,b.addedDocuments,T)));let R=I.withSequenceNumber(a.currentSequenceNumber);var x,V,Z;e.targetMismatches.has(T)?R=R.withResumeToken(xi.EMPTY_BYTE_STRING,Ot.min()).withLastLimboFreeSnapshotVersion(Ot.min()):b.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(b.resumeToken,i)),r=r.insert(T,R),V=R,Z=b,(0===(x=I).resumeToken.approximateByteSize()||V.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8||Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0)&&f.push(t.He.updateTargetData(a,R))});let _=wo();if(e.documentUpdates.forEach((b,T)=>{e.resolvedLimboDocuments.has(b)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,b))}),f.push(vb(a,u,e.documentUpdates,i,void 0).next(b=>{_=b})),!i.isEqual(Ot.min())){const b=t.He.getLastRemoteSnapshotVersion(a).next(T=>t.He.setTargetsMetadata(a,a.currentSequenceNumber,i));f.push(b)}return Ae.waitFor(f).next(()=>u.apply(a)).next(()=>t.Wn.Vn(a,_)).next(()=>_)}).then(a=>(t.qn=r,a))}function vb(n,e,t,i,r){let a=ln();return t.forEach(u=>a=a.add(u)),e.getEntries(n,a).next(u=>{let f=wo();return t.forEach((_,b)=>{const T=u.get(_),I=(null==r?void 0:r.get(_))||i;b.isNoDocument()&&b.version.isEqual(Ot.min())?(e.removeEntry(_,I),f=f.insert(_,b)):!T.isValidDocument()||b.version.compareTo(T.version)>0||0===b.version.compareTo(T.version)&&T.hasPendingWrites?(e.addEntry(b,I),f=f.insert(_,b)):Le("LocalStore","Ignoring outdated watch update for ",_,". Current version:",T.version," Watch version:",b.version)}),f})}function lC(n,e){const t=ze(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.An.getNextMutationBatchAfterBatchId(i,e)))}function ef(n,e){const t=ze(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.He.getTargetData(i,e).next(a=>a?(r=a,Ae.resolve(r)):t.He.allocateTargetId(i).next(u=>(r=new $u(e,u,0,i.currentSequenceNumber),t.He.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.qn.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.qn=t.qn.insert(i.targetId,i),t.Kn.set(e,i.targetId)),i})}function tf(n,e,t){return cC.apply(this,arguments)}function cC(){return cC=(0,be.Z)(function*(n,e,t){const i=ze(n),r=i.qn.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!Gu(u))throw u;Le("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.qn=i.qn.remove(e),i.Kn.delete(r.target)}),cC.apply(this,arguments)}function bb(n,e,t){const i=ze(n);let r=Ot.min(),a=ln();return i.persistence.runTransaction("Execute query","readonly",u=>function(f,_,b){const T=ze(f),I=T.Kn.get(b);return void 0!==I?Ae.resolve(T.qn.get(I)):T.He.getTargetData(_,b)}(i,u,Ko(e)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.He.getMatchingKeysForTargetId(u,f.targetId).next(_=>{a=_})}).next(()=>i.Un.getDocumentsMatchingQuery(u,e,t?r:Ot.min(),t?a:ln())).next(f=>({documents:f,zn:a})))}function wb(n,e){const t=ze(n),i=ze(t.He),r=t.qn.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",a=>i.Et(a,e).next(u=>u?u.target:null))}function uC(n){const e=ze(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(i,r,a){const u=ze(i);let f=wo(),_=QD(a);const b=Ia(r),T=IDBKeyRange.lowerBound(_,!0);return b.jt({index:Gn.readTimeIndex,range:T},(I,R)=>{const x=JD(u.k,R);f=f.insert(x.key,x),_=R.readTime}).next(()=>({In:f,readTime:kS(_)}))}(e.Qn,t,e.jn)).then(({In:t,readTime:i})=>(e.jn=i,t))}function Eb(){return Eb=(0,be.Z)(function*(n){const e=ze(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(i){const r=Ia(i);let a=Ot.min();return r.jt({index:Gn.readTimeIndex,reverse:!0},(u,f,_)=>{f.readTime&&(a=kS(f.readTime)),_.done()}).next(()=>a)}(t)).then(t=>{e.jn=t})}),Eb.apply(this,arguments)}function dC(){return dC=(0,be.Z)(function*(n,e,t,i){const r=ze(n);let a=ln(),u=wo(),f=Gh();for(const T of t){const I=e.Hn(T.metadata.name);T.document&&(a=a.add(I)),u=u.insert(I,e.Jn(T)),f=f.insert(I,e.Yn(T.metadata.readTime))}const _=r.Qn.newChangeBuffer({trackRemovals:!0}),b=yield ef(r,(T=i,Ko(ng(an.fromString(`__bundle__/docs/${T}`)))));var T;return r.persistence.runTransaction("Apply bundle documents","readwrite",T=>vb(T,_,u,Ot.min(),f).next(I=>(_.apply(T),I)).next(I=>r.He.removeMatchingKeysForTargetId(T,b.targetId).next(()=>r.He.addMatchingKeys(T,a,b.targetId)).next(()=>r.Wn.Vn(T,I)).next(()=>I)))}),dC.apply(this,arguments)}function dO(n,e){return hC.apply(this,arguments)}function hC(){return hC=(0,be.Z)(function*(n,e,t=ln()){const i=yield ef(n,Ko(Nc(e.bundledQuery))),r=ze(n);return r.persistence.runTransaction("Save named query","readwrite",a=>{const u=yr(e.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.Ye.saveNamedQuery(a,e);const f=i.withResumeToken(xi.EMPTY_BYTE_STRING,u);return r.qn=r.qn.insert(f.targetId,f),r.He.updateTargetData(a,f).next(()=>r.He.removeMatchingKeysForTargetId(a,i.targetId)).next(()=>r.He.addMatchingKeys(a,t,i.targetId)).next(()=>r.Ye.saveNamedQuery(a,e))})}),hC.apply(this,arguments)}class hO{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return Ae.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var i;return this.Xn.set(t.id,{id:(i=t).id,version:i.version,createTime:yr(i.createTime)}),Ae.resolve()}getNamedQuery(e,t){return Ae.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,{name:(i=t).name,query:Nc(i.bundledQuery),readTime:yr(i.readTime)}),Ae.resolve();var i}}class Db{constructor(){this.ts=new Hn(gi.es),this.ns=new Hn(gi.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const i=new gi(e,t);this.ts=this.ts.add(i),this.ns=this.ns.add(i)}rs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.os(new gi(e,t))}cs(e,t){e.forEach(i=>this.removeReference(i,t))}us(e){const t=new at(new an([])),i=new gi(t,e),r=new gi(t,e+1),a=[];return this.ns.forEachInRange([i,r],u=>{this.os(u),a.push(u.key)}),a}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new at(new an([])),i=new gi(t,e),r=new gi(t,e+1);let a=ln();return this.ns.forEachInRange([i,r],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new gi(e,0),i=this.ts.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class gi{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return at.comparator(e.key,t.key)||$t(e.fs,t.fs)}static ss(e,t){return $t(e.fs,t.fs)||at.comparator(e.key,t.key)}}class zS{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new Hn(gi.es)}checkEmpty(e){return Ae.resolve(0===this.An.length)}addMutationBatch(e,t,i,r){const a=this.ds;this.ds++;const u=new YD(a,t,i,r);this.An.push(u);for(const f of r)this.ws=this.ws.add(new gi(f.key,a)),this.Jt.addToCollectionParentIndex(e,f.key.path.popLast());return Ae.resolve(u)}lookupMutationBatch(e,t){return Ae.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.gs(t+1),a=r<0?0:r;return Ae.resolve(this.An.length>a?this.An[a]:null)}getHighestUnacknowledgedBatchId(){return Ae.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return Ae.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new gi(t,0),r=new gi(t,Number.POSITIVE_INFINITY),a=[];return this.ws.forEachInRange([i,r],u=>{const f=this._s(u.fs);a.push(f)}),Ae.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Hn($t);return t.forEach(r=>{const a=new gi(r,0),u=new gi(r,Number.POSITIVE_INFINITY);this.ws.forEachInRange([a,u],f=>{i=i.add(f.fs)})}),Ae.resolve(this.ys(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;at.isDocumentKey(a)||(a=a.child(""));const u=new gi(new at(a),0);let f=new Hn($t);return this.ws.forEachWhile(_=>{const b=_.key.path;return!!i.isPrefixOf(b)&&(b.length===r&&(f=f.add(_.fs)),!0)},u),Ae.resolve(this.ys(f))}ys(e){const t=[];return e.forEach(i=>{const r=this._s(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Et(0===this.ps(t.batchId,"removed")),this.An.shift();let i=this.ws;return Ae.forEach(t.mutations,r=>{const a=new gi(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ws=i})}ee(e){}containsKey(e,t){const i=new gi(t,0),r=this.ws.firstAfterOrEqual(i);return Ae.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return Ae.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}class qS{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new wi(at.comparator),this.size=0}addEntry(e,t,i){const r=t.key,a=this.docs.get(r),u=a?a.size:0,f=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:f,readTime:i}),this.size+=f-u,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Ae.resolve(i?i.document.mutableCopy():Bn.newInvalidDocument(t))}getEntries(e,t){let i=wo();return t.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():Bn.newInvalidDocument(r))}),Ae.resolve(i)}getDocumentsMatchingQuery(e,t,i){let r=wo();const a=new at(t.path.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:f,value:{document:_,readTime:b}}=u.getNext();if(!t.path.isPrefixOf(f.path))break;b.compareTo(i)<=0||rg(t,_)&&(r=r.insert(_.key,_.mutableCopy()))}return Ae.resolve(r)}Es(e,t){return Ae.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new fC(this)}getSize(e){return Ae.resolve(this.size)}}class fC extends fb{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.document.isValidDocument()?t.push(this.De.addEntry(e,r.document,this.getReadTime(i))):this.De.removeEntry(i)}),Ae.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class Wu{constructor(e){this.persistence=e,this.Is=new Xh(t=>Qp(t),Xp),this.lastRemoteSnapshotVersion=Ot.min(),this.highestTargetId=0,this.As=0,this.Rs=new Db,this.targetCount=0,this.bs=qu.ie()}forEachTarget(e,t){return this.Is.forEach((i,r)=>t(r)),Ae.resolve()}getLastRemoteSnapshotVersion(e){return Ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ae.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),Ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.As&&(this.As=t),Ae.resolve()}ae(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new qu(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,Ae.resolve()}updateTargetData(e,t){return this.ae(t),Ae.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,Ae.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.Is.forEach((u,f)=>{f.sequenceNumber<=t&&null===i.get(f.targetId)&&(this.Is.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),r++)}),Ae.waitFor(a).next(()=>r)}getTargetCount(e){return Ae.resolve(this.targetCount)}getTargetData(e,t){const i=this.Is.get(t)||null;return Ae.resolve(i)}addMatchingKeys(e,t,i){return this.Rs.rs(t,i),Ae.resolve()}removeMatchingKeys(e,t,i){this.Rs.cs(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(u=>{a.push(r.markPotentiallyOrphaned(e,u))}),Ae.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),Ae.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Rs.ls(t);return Ae.resolve(i)}containsKey(e,t){return Ae.resolve(this.Rs.containsKey(t))}}class pC{constructor(e,t){this.Ps={},this.Be=new gs(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new Wu(this),this.Jt=new cb,this.Je=new qS(this.Jt,i=>this.referenceDelegate.vs(i)),this.k=new OS(t),this.Ye=new hO(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.Ps[e.toKey()];return t||(t=new zS(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,i){Le("MemoryPersistence","Starting transaction:",e);const r=new Cb(this.Be.next());return this.referenceDelegate.Vs(),i(r).next(a=>this.referenceDelegate.Ss(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Ds(e,t){return Ae.or(Object.values(this.Ps).map(i=>()=>i.containsKey(e,t)))}}class Cb extends ZD{constructor(e){super(),this.currentSequenceNumber=e}}class Eg{constructor(e){this.persistence=e,this.Cs=new Db,this.Ns=null}static ks(e){return new Eg(e)}get xs(){if(this.Ns)return this.Ns;throw rt()}addReference(e,t,i){return this.Cs.addReference(i,t),this.xs.delete(i.toString()),Ae.resolve()}removeReference(e,t,i){return this.Cs.removeReference(i,t),this.xs.add(i.toString()),Ae.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Ae.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach(r=>this.xs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(a=>this.xs.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ae.forEach(this.xs,i=>{const r=at.fromPath(i);return this.$s(e,r).next(a=>{a||t.removeEntry(r)})}).next(()=>(this.Ns=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(i=>{i?this.xs.delete(t.toString()):this.xs.add(t.toString())})}vs(e){return 0}$s(e,t){return Ae.or([()=>Ae.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}function gC(n,e){return`firestore_clients_${n}_${e}`}function hy(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function Dg(n,e){return`firestore_targets_${n}_${e}`}class Cg{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Os(e,t,i){const r=JSON.parse(i);let a,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(a=new Oe(r.error.code,r.error.message))),u?new Cg(e,t,r.state,a):(vi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class nf{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Os(e,t){const i=JSON.parse(t);let r,a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new Oe(i.error.code,i.error.message))),a?new nf(e,i.state,r):(vi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Tb{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Os(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,a=Y_();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=N0(i.activeTargetIds[u]),a=a.add(i.activeTargetIds[u]);return r?new Tb(e,a):(vi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class mC{constructor(e,t){this.clientId=e,this.onlineState=t}static Os(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new mC(t.clientId,t.onlineState):(vi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class _C{constructor(){this.activeTargetIds=Y_()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ms(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yC{constructor(e,t,i,r,a){this.window=e,this.Me=t,this.persistenceKey=i,this.Bs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new wi($t),this.started=!1,this.js=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Qs=gC(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new _C),this.Gs=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(f){return`firestore_bundle_loaded_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static Pt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,be.Z)(function*(){const t=yield e.syncEngine.Tn();for(const r of t){if(r===e.Bs)continue;const a=e.getItem(gC(e.persistenceKey,r));if(a){const u=Tb.Os(r,a);u&&(e.Ks=e.Ks.insert(u.clientId,u))}}e.Xs();const i=e.storage.getItem(e.Js);if(i){const r=e.Zs(i);r&&e.ti(r)}for(const r of e.js)e.qs(r);e.js=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(e){let t=!1;return this.Ks.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ni(e,"pending")}updateMutationState(e,t,i){this.ni(e,t,i),this.si(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(Dg(this.persistenceKey,e));if(i){const r=nf.Os(e,i);r&&(t=r.state)}}return this.ii.Fs(e),this.Xs(),t}removeLocalQueryTarget(e){this.ii.Ls(e),this.Xs()}isLocalQueryTarget(e){return this.ii.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Dg(this.persistenceKey,e))}updateQueryState(e,t,i){this.ri(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.si(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.oi(e)}notifyBundleLoaded(){this.ci()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Le("SharedClientState","READ",e,t),t}setItem(e,t){Le("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Le("SharedClientState","REMOVE",e),this.storage.removeItem(e)}qs(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Le("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Qs)return void vi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable((0,be.Z)(function*(){if(t.started){if(null!==i.key)if(t.Gs.test(i.key)){if(null==i.newValue){const r=t.ai(i.key);return t.ui(r,null)}{const r=t.hi(i.key,i.newValue);if(r)return t.ui(r.clientId,r)}}else if(t.zs.test(i.key)){if(null!==i.newValue){const r=t.li(i.key,i.newValue);if(r)return t.fi(r)}}else if(t.Hs.test(i.key)){if(null!==i.newValue){const r=t.di(i.key,i.newValue);if(r)return t.wi(r)}}else if(i.key===t.Js){if(null!==i.newValue){const r=t.Zs(i.newValue);if(r)return t.ti(r)}}else if(i.key===t.Ws){const r=function(a){let u=gs.I;if(null!=a)try{const f=JSON.parse(a);Et("number"==typeof f),u=f}catch(f){vi("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(i.newValue);r!==gs.I&&t.sequenceNumberHandler(r)}else if(i.key===t.Ys)return t.syncEngine._i()}else t.js.push(i)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Ms())}ni(e,t,i){const r=new Cg(this.currentUser,e,t,i),a=hy(this.persistenceKey,this.currentUser,e);this.setItem(a,r.Ms())}si(e){const t=hy(this.persistenceKey,this.currentUser,e);this.removeItem(t)}oi(e){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:e}))}ri(e,t,i){const r=Dg(this.persistenceKey,e),a=new nf(e,t,i);this.setItem(r,a.Ms())}ci(){this.setItem(this.Ys,"value-not-used")}ai(e){const t=this.Gs.exec(e);return t?t[1]:null}hi(e,t){const i=this.ai(e);return Tb.Os(i,t)}li(e,t){const i=this.zs.exec(e),r=Number(i[1]);return Cg.Os(new mr(void 0!==i[2]?i[2]:null),r,t)}di(e,t){const i=this.Hs.exec(e),r=Number(i[1]);return nf.Os(r,t)}Zs(e){return mC.Os(e)}fi(e){var t=this;return(0,be.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.mi(e.batchId,e.state,e.error);Le("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}wi(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}ui(e,t){const i=t?this.Ks.insert(e,t):this.Ks.remove(e),r=this.ei(this.Ks),a=this.ei(i),u=[],f=[];return a.forEach(_=>{r.has(_)||u.push(_)}),r.forEach(_=>{a.has(_)||f.push(_)}),this.syncEngine.yi(u,f).then(()=>{this.Ks=i})}ti(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ei(e){let t=Y_();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class ZS{constructor(){this.pi=new _C,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}updateQueryState(e,t,i){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new _C,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class fO{Ei(e){}shutdown(){}}class WS{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.bi(),this.Pi=[],this.vi()}Ei(e){this.Pi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Pi)e(0)}bi(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Pi)e(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const vC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class KS{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Oi(e){this.ki(e)}Mi(e){this.xi(e)}}class YS extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,i,r,a){const u=this.Ui(e,t);Le("RestConnection","Sending: ",u,i);const f={};return this.qi(f,r,a),this.Ki(e,u,f,i).then(_=>(Le("RestConnection","Received: ",_),_),_=>{throw $p("RestConnection",`${e} failed with error: `,_,"url: ",u,"request:",i),_})}ji(e,t,i,r,a){return this.Bi(e,t,i,r,a)}qi(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Mh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,a)=>e[a]=r),i&&i.headers.forEach((r,a)=>e[a]=r)}Ui(e,t){return`${this.Fi}/v1/${t}:${vC[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,i,r){return new Promise((a,u)=>{const f=new aO;f.listenOnce(F_.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case T0.NO_ERROR:const b=f.getResponseJson();Le("Connection","XHR received:",JSON.stringify(b)),a(b);break;case T0.TIMEOUT:Le("Connection",'RPC "'+e+'" timed out'),u(new Oe(ue.DEADLINE_EXCEEDED,"Request time out"));break;case T0.HTTP_ERROR:const T=f.getStatus();if(Le("Connection",'RPC "'+e+'" failed with status:',T,"response text:",f.getResponseText()),T>0){const I=f.getResponseJson().error;if(I&&I.status&&I.message){const R=function(x){const V=x.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(V)>=0?V:ue.UNKNOWN}(I.status);u(new Oe(R,I.message))}else u(new Oe(ue.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new Oe(ue.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{Le("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(r);f.send(t,"POST",_,i,15)})}Qi(e,t,i){const r=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=tS(),u=nS(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new L_({})),this.qi(f.initMessageHeaders,t,i),(0,Ct.uI)()||(0,Ct.b$)()||(0,Ct.d)()||(0,Ct.w1)()||(0,Ct.Mn)()||(0,Ct.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const _=r.join("");Le("Connection","Creating WebChannel: "+_,f);const b=a.createWebChannel(_,f);let T=!1,I=!1;const R=new KS({Vi:V=>{I?Le("Connection","Not sending because WebChannel is closed:",V):(T||(Le("Connection","Opening WebChannel transport."),b.open(),T=!0),Le("Connection","WebChannel sending:",V),b.send(V))},Si:()=>b.close()}),x=(V,Z,he)=>{V.listen(Z,ke=>{try{he(ke)}catch(Ue){setTimeout(()=>{throw Ue},0)}})};return x(b,kn.EventType.OPEN,()=>{I||Le("Connection","WebChannel transport opened.")}),x(b,kn.EventType.CLOSE,()=>{I||(I=!0,Le("Connection","WebChannel transport closed"),R.Oi())}),x(b,kn.EventType.ERROR,V=>{I||(I=!0,$p("Connection","WebChannel transport errored:",V),R.Oi(new Oe(ue.UNAVAILABLE,"The operation could not be completed")))}),x(b,kn.EventType.MESSAGE,V=>{var Z;if(!I){const he=V.data[0];Et(!!he);const ke=he,Ue=ke.error||(null===(Z=ke[0])||void 0===Z?void 0:Z.error);if(Ue){Le("Connection","WebChannel received error:",Ue);const We=Ue.status;let Ge=function(hn){const Rn=bi[hn];if(void 0!==Rn)return Y0(Rn)}(We),Rt=Ue.message;void 0===Ge&&(Ge=ue.INTERNAL,Rt="Unknown error status: "+We+" with message "+Ue.message),I=!0,R.Oi(new Oe(Ge,Rt)),b.close()}else Le("Connection","WebChannel received:",he),R.Mi(he)}}),x(u,iS.STAT_EVENT,V=>{V.stat===Gp.PROXY?Le("Connection","Detected buffering proxy"):V.stat===Gp.NOPROXY&&Le("Connection","Detected no buffering proxy")}),setTimeout(()=>{R.$i()},0),R}}function bC(){return"undefined"!=typeof window?window:null}function fy(){return"undefined"!=typeof document?document:null}function rf(n){return new Q0(n,!0)}class py{constructor(e,t,i=1e3,r=1.5,a=6e4){this.Me=e,this.timerId=t,this.Wi=i,this.Gi=r,this.zi=a,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),i=Math.max(0,Date.now()-this.Yi),r=Math.max(0,t-i);r>0&&Le("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Hi} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Ji=this.Me.enqueueAfterDelay(this.timerId,r,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class Sb{constructor(e,t,i,r,a,u,f,_){this.Me=e,this.nr=i,this.sr=r,this.ir=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new py(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return(0,be.Z)(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return(0,be.Z)(function*(){if(e.lr())return e.close(0)})()}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}pr(){this.ar&&(this.ar.cancel(),this.ar=null)}close(e,t){var i=this;return(0,be.Z)(function*(){i.yr(),i.pr(),i.ur.cancel(),i.rr++,4!==e?i.ur.reset():t&&t.code===ue.RESOURCE_EXHAUSTED?(vi(t.toString()),vi("Using maximum backoff delay to prevent overloading the backend."),i.ur.Xi()):t&&t.code===ue.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Tr(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Ni(t)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.rr===t&&this.Ir(i,r)},i=>{e(()=>{const r=new Oe(ue.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Ar(r)})})}Ir(e,t){const i=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di(()=>{i(()=>(this.state=2,this.ar=this.Me.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(r=>{i(()=>this.Ar(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}dr(){var e=this;this.state=5,this.ur.Zi((0,be.Z)(function*(){e.state=0,e.start()}))}Ar(e){return Le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Me.enqueueAndForget(()=>this.rr===e?t():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class JS extends Sb{constructor(e,t,i,r,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,u),this.k=a}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();const t=function VD(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:rt(),r=e.targetChange.targetIds||[],a=function(_,b){return _.C?(Et(void 0===b||"string"==typeof b),xi.fromBase64String(b||"")):(Et(void 0===b||b instanceof Uint8Array),xi.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(_){const b=void 0===_.code?ue.UNKNOWN:Y0(_.code);return new Oe(b,_.message||"")}(u);t=new OD(i,r,a,f||null)}else if("documentChange"in e){const i=e.documentChange,r=Eo(n,i.document.name),a=yr(i.document.updateTime),u=new Fr({mapValue:{fields:i.document.fields}}),f=Bn.newFoundDocument(r,a,u);t=new J_(i.targetIds||[],i.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const i=e.documentDelete,r=Eo(n,i.document),a=i.readTime?yr(i.readTime):Ot.min(),u=Bn.newNoDocument(r,a);t=new J_([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const i=e.documentRemove,r=Eo(n,i.document);t=new J_([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return rt();{const i=e.filter,a=new vS(i.count||0);t=new MD(i.targetId,a)}}var _;return t}(this.k,e),i=function(r){if(!("targetChange"in r))return Ot.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?Ot.min():a.readTime?yr(a.readTime):Ot.min()}(e);return this.listener.br(t,i)}Pr(e){const t={};t.database=dg(this.k),t.addTarget=function(r,a){let u;const f=a.target;return u=eg(f)?{documents:jD(r,f)}:{query:nb(r,f)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=PD(r,a.resumeToken):a.snapshotVersion.compareTo(Ot.min())>0&&(u.readTime=$h(r,a.snapshotVersion.toTimestamp())),u}(this.k,e);const i=function CS(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return rt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.gr(t)}vr(e){const t={};t.database=dg(this.k),t.removeTarget=e,this.gr(t)}}class QS extends Sb{constructor(e,t,i,r,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,u),this.k=a,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(Et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=function UD(n,e){return n&&n.length>0?(Et(void 0!==e),n.map(t=>function(i,r){let a=yr(i.updateTime?i.updateTime:r);return a.isEqual(Ot.min())&&(a=yr(r)),new lO(a,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=yr(e.commitTime);return this.listener.Cr(i,t)}return Et(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=dg(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>hg(this.k,i))};this.gr(t)}}class wC extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=i,this.k=r,this.$r=!1}Or(){if(this.$r)throw new Oe(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,i){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.ir.Bi(e,t,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Oe(ue.UNKNOWN,r.toString())})}ji(e,t,i){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.ir.ji(e,t,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Oe(ue.UNKNOWN,r.toString())})}terminate(){this.$r=!0}}class gy{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}Br(){0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(vi(t),this.Lr=!1):Le("OnlineStateTracker",t)}jr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class pO{constructor(e,t,i,r,a){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=a,this.Hr.Ei(f=>{i.enqueueAndForget((0,be.Z)(function*(){var _;Rc(u)&&(Le("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,be.Z)(function*(b){const T=ze(b);T.Gr.add(4),yield lf(T),T.Jr.set("Unknown"),T.Gr.delete(4),yield sf(T)}),function(b){return _.apply(this,arguments)})(u))}))}),this.Jr=new gy(i,r)}}function sf(n){return af.apply(this,arguments)}function af(){return af=(0,be.Z)(function*(n){if(Rc(n))for(const e of n.zr)yield e(!0)}),af.apply(this,arguments)}function lf(n){return Ib.apply(this,arguments)}function Ib(){return Ib=(0,be.Z)(function*(n){for(const e of n.zr)yield e(!1)}),Ib.apply(this,arguments)}function my(n,e){const t=ze(n);t.Wr.has(e.targetId)||(t.Wr.set(e.targetId,e),Mb(t)?Ab(t):_e(t).lr()&&EC(t,e))}function Tg(n,e){const t=ze(n),i=_e(t);t.Wr.delete(e),i.lr()&&DC(t,e),0===t.Wr.size&&(i.lr()?i._r():Rc(t)&&t.Jr.set("Unknown"))}function EC(n,e){n.Yr.X(e.targetId),_e(n).Pr(e)}function DC(n,e){n.Yr.X(e),_e(n).vr(e)}function Ab(n){n.Yr=new Q_({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Wr.get(e)||null}),_e(n).start(),n.Jr.Br()}function Mb(n){return Rc(n)&&!_e(n).hr()&&n.Wr.size>0}function Rc(n){return 0===ze(n).Gr.size}function CC(n){n.Yr=void 0}function XS(n){return Ob.apply(this,arguments)}function Ob(){return Ob=(0,be.Z)(function*(n){n.Wr.forEach((e,t)=>{EC(n,e)})}),Ob.apply(this,arguments)}function eI(n,e){return TC.apply(this,arguments)}function TC(){return TC=(0,be.Z)(function*(n,e){CC(n),Mb(n)?(n.Jr.Kr(e),Ab(n)):n.Jr.set("Unknown")}),TC.apply(this,arguments)}function gO(n,e,t){return SC.apply(this,arguments)}function SC(){return SC=(0,be.Z)(function*(n,e,t){if(n.Jr.set("Online"),e instanceof OD&&2===e.state&&e.cause)try{yield(i=(0,be.Z)(function*(r,a){const u=a.cause;for(const f of a.targetIds)r.Wr.has(f)&&(yield r.remoteSyncer.rejectListen(f,u),r.Wr.delete(f),r.Yr.removeTarget(f))}),function(r,a){return i.apply(this,arguments)})(n,e)}catch(i){Le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Nb(n,i)}else if(e instanceof J_?n.Yr.ot(e):e instanceof MD?n.Yr.dt(e):n.Yr.ut(e),!t.isEqual(Ot.min()))try{const i=yield yb(n.localStore);t.compareTo(i)>=0&&(yield function(r,a){const u=r.Yr.gt(a);return u.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const b=r.Wr.get(_);b&&r.Wr.set(_,b.withResumeToken(f.resumeToken,a))}}),u.targetMismatches.forEach(f=>{const _=r.Wr.get(f);if(!_)return;r.Wr.set(f,_.withResumeToken(xi.EMPTY_BYTE_STRING,_.snapshotVersion)),DC(r,f);const b=new $u(_.target,f,1,_.sequenceNumber);EC(r,b)}),r.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(i){Le("RemoteStore","Failed to raise snapshot:",i),yield Nb(n,i)}var i}),SC.apply(this,arguments)}function Nb(n,e,t){return IC.apply(this,arguments)}function IC(){return IC=(0,be.Z)(function*(n,e,t){if(!Gu(e))throw e;n.Gr.add(1),yield lf(n),n.Jr.set("Offline"),t||(t=()=>yb(n.localStore)),n.asyncQueue.enqueueRetryable((0,be.Z)(function*(){Le("RemoteStore","Retrying IndexedDB access"),yield t(),n.Gr.delete(1),yield sf(n)}))}),IC.apply(this,arguments)}function AC(n,e){return e().catch(t=>Nb(n,t,e))}function Sg(n){return MC.apply(this,arguments)}function MC(){return MC=(0,be.Z)(function*(n){const e=ze(n),t=xe(e);let i=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;mO(e);)try{const r=yield lC(e.localStore,i);if(null===r){0===e.Qr.length&&t._r();break}i=r.batchId,_O(e,r)}catch(r){yield Nb(e,r)}s(e)&&o(e)}),MC.apply(this,arguments)}function mO(n){return Rc(n)&&n.Qr.length<10}function _O(n,e){n.Qr.push(e);const t=xe(n);t.lr()&&t.Sr&&t.Dr(e.mutations)}function s(n){return Rc(n)&&!xe(n).hr()&&n.Qr.length>0}function o(n){xe(n).start()}function l(n){return d.apply(this,arguments)}function d(){return d=(0,be.Z)(function*(n){xe(n).kr()}),d.apply(this,arguments)}function h(n){return g.apply(this,arguments)}function g(){return g=(0,be.Z)(function*(n){const e=xe(n);for(const t of n.Qr)e.Dr(t.mutations)}),g.apply(this,arguments)}function v(n,e,t){return E.apply(this,arguments)}function E(){return E=(0,be.Z)(function*(n,e,t){const i=n.Qr.shift(),r=ty.from(i,e,t);yield AC(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Sg(n)}),E.apply(this,arguments)}function D(n,e){return A.apply(this,arguments)}function A(){return A=(0,be.Z)(function*(n,e){var t;e&&xe(n).Sr&&(yield(t=(0,be.Z)(function*(i,r){if(K0(a=r.code)&&a!==ue.ABORTED){const u=i.Qr.shift();xe(i).wr(),yield AC(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield Sg(i)}var a}),function(i,r){return t.apply(this,arguments)})(n,e)),s(n)&&o(n)}),A.apply(this,arguments)}function O(n,e){return L.apply(this,arguments)}function L(){return L=(0,be.Z)(function*(n,e){const t=ze(n);t.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const i=Rc(t);t.Gr.add(3),yield lf(t),i&&t.Jr.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Gr.delete(3),yield sf(t)}),L.apply(this,arguments)}function H(n,e){return J.apply(this,arguments)}function J(){return J=(0,be.Z)(function*(n,e){const t=ze(n);e?(t.Gr.delete(2),yield sf(t)):e||(t.Gr.add(2),yield lf(t),t.Jr.set("Unknown"))}),J.apply(this,arguments)}function _e(n){return n.Xr||(n.Xr=function(e,t,i){const r=ze(e);return r.Or(),new JS(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,i)}(n.datastore,n.asyncQueue,{Di:XS.bind(null,n),Ni:eI.bind(null,n),br:gO.bind(null,n)}),n.zr.push(function(){var e=(0,be.Z)(function*(t){t?(n.Xr.wr(),Mb(n)?Ab(n):n.Jr.set("Unknown")):(yield n.Xr.stop(),CC(n))});return function(t){return e.apply(this,arguments)}}())),n.Xr}function xe(n){return n.Zr||(n.Zr=function(e,t,i){const r=ze(e);return r.Or(),new QS(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,i)}(n.datastore,n.asyncQueue,{Di:l.bind(null,n),Ni:D.bind(null,n),Nr:h.bind(null,n),Cr:v.bind(null,n)}),n.zr.push(function(){var e=(0,be.Z)(function*(t){t?(n.Zr.wr(),yield Sg(n)):(yield n.Zr.stop(),n.Qr.length>0&&(Le("RemoteStore",`Stopping write stream with ${n.Qr.length} pending writes`),n.Qr=[]))});return function(t){return e.apply(this,arguments)}}())),n.Zr}class $e{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new Ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,i,r,a){const u=Date.now()+i,f=new $e(e,t,u,r,a);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ye(n,e){if(vi("AsyncQueue",`${e}: ${n}`),Gu(n))return new Oe(ue.UNAVAILABLE,`${e}: ${n}`);throw n}class Ee{constructor(e){this.comparator=e?(t,i)=>e(t,i)||at.comparator(t.key,i.key):(t,i)=>at.comparator(t.key,i.key),this.keyedMap=J0(),this.sortedSet=new wi(this.comparator)}static emptySet(e){return new Ee(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ee)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Ee;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class pt{constructor(){this.eo=new wi(at.comparator)}track(e){const t=e.doc.key,i=this.eo.get(t);i?0!==e.type&&3===i.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==i.type?this.eo=this.eo.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.eo=this.eo.remove(t):1===e.type&&2===i.type?this.eo=this.eo.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):rt():this.eo=this.eo.insert(t,e)}no(){const e=[];return this.eo.inorderTraversal((t,i)=>{e.push(i)}),e}}class kt{constructor(e,t,i,r,a,u,f,_){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=_}static fromInitialDocuments(e,t,i,r){const a=[];return t.forEach(u=>{a.push({type:0,doc:u})}),new kt(e,t,Ee.emptySet(t),a,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ig(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class dn{constructor(){this.so=void 0,this.listeners=[]}}class Ws{constructor(){this.queries=new Xh(e=>mD(e),ig),this.onlineState="Unknown",this.io=new Set}}function Ol(n,e){return Ig.apply(this,arguments)}function Ig(){return Ig=(0,be.Z)(function*(n,e){const t=ze(n),i=e.query;let r=!1,a=t.queries.get(i);if(a||(r=!0,a=new dn),r)try{a.so=yield t.onListen(i)}catch(u){const f=Ye(u,`Initialization of query '${G0(e.query)}' failed`);return void e.onError(f)}t.queries.set(i,a),a.listeners.push(e),e.ro(t.onlineState),a.so&&e.oo(a.so)&&Og(t)}),Ig.apply(this,arguments)}function Ag(n,e){return Mg.apply(this,arguments)}function Mg(){return Mg=(0,be.Z)(function*(n,e){const t=ze(n),i=e.query;let r=!1;const a=t.queries.get(i);if(a){const u=a.listeners.indexOf(e);u>=0&&(a.listeners.splice(u,1),r=0===a.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),Mg.apply(this,arguments)}function kb(n,e){const t=ze(n);let i=!1;for(const r of e){const u=t.queries.get(r.query);if(u){for(const f of u.listeners)f.oo(r)&&(i=!0);u.so=r}}i&&Og(t)}function Rb(n,e,t){const i=ze(n),r=i.queries.get(e);if(r)for(const a of r.listeners)a.onError(t);i.queries.delete(e)}function Og(n){n.io.forEach(e=>{e.next()})}class Ng{constructor(e,t,i){this.query=e,this.co=t,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=i||{}}oo(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new kt(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.ao?this.ho(e)&&(this.co.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.co.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){return!e.fromCache||!(this.options.wo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=kt.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}class xb{constructor(e,t){this.payload=e,this.byteLength=t}_o(){return"metadata"in this.payload}}class _y{constructor(e){this.k=e}Hn(e){return Eo(this.k,e)}Jn(e){return e.metadata.exists?X0(this.k,e.document,!1):Bn.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return yr(e)}}class KP{constructor(e,t,i){this.mo=e,this.localStore=t,this.k=i,this.queries=[],this.documents=[],this.progress=yO(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}po(e){const t=new Map,i=new _y(this.k);for(const r of e)if(r.metadata.queries){const a=i.Hn(r.metadata.name);for(const u of r.metadata.queries){const f=(t.get(u)||ln()).add(a);t.set(u,f)}}return t}complete(){var e=this;return(0,be.Z)(function*(){const t=yield function uO(n,e,t,i){return dC.apply(this,arguments)}(e.localStore,new _y(e.k),e.documents,e.mo.id),i=e.po(e.documents);for(const r of e.queries)yield dO(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",new US(Object.assign({},e.progress),t)})()}}function yO(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class vO{constructor(e){this.key=e}}class bO{constructor(e){this.key=e}}class wO{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=ln(),this.mutatedKeys=ln(),this.Ao=$0(e),this.Ro=new Ee(this.Ao)}get bo(){return this.To}Po(e,t){const i=t?t.vo:new pt,r=t?t.Ro:this.Ro;let a=t?t.mutatedKeys:this.mutatedKeys,u=r,f=!1;const _=$_(this.query)&&r.size===this.query.limit?r.last():null,b=Sc(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((T,I)=>{const R=r.get(T),x=rg(this.query,I)?I:null,V=!!R&&this.mutatedKeys.has(R.key),Z=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let he=!1;R&&x?R.data.isEqual(x.data)?V!==Z&&(i.track({type:3,doc:x}),he=!0):this.Vo(R,x)||(i.track({type:2,doc:x}),he=!0,(_&&this.Ao(x,_)>0||b&&this.Ao(x,b)<0)&&(f=!0)):!R&&x?(i.track({type:0,doc:x}),he=!0):R&&!x&&(i.track({type:1,doc:R}),he=!0,(_||b)&&(f=!0)),he&&(x?(u=u.add(x),a=Z?a.add(T):a.delete(T)):(u=u.delete(T),a=a.delete(T)))}),$_(this.query)||Sc(this.query))for(;u.size>this.query.limit;){const T=$_(this.query)?u.last():u.first();u=u.delete(T.key),a=a.delete(T.key),i.track({type:1,doc:T})}return{Ro:u,vo:i,Bn:f,mutatedKeys:a}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const a=e.vo.no();a.sort((b,T)=>function(I,R){const x=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return x(I)-x(R)}(b.type,T.type)||this.Ao(b.doc,T.doc)),this.So(i);const u=t?this.Do():[],f=0===this.Io.size&&this.current?1:0,_=f!==this.Eo;return this.Eo=f,0!==a.length||_?{snapshot:new kt(this.query,e.Ro,r,a,e.mutatedKeys,0===f,_,!1),Co:u}:{Co:u}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new pt,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(t=>this.To=this.To.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.To=this.To.delete(t)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=ln(),this.Ro.forEach(i=>{this.No(i.key)&&(this.Io=this.Io.add(i.key))});const t=[];return e.forEach(i=>{this.Io.has(i)||t.push(new bO(i))}),this.Io.forEach(i=>{e.has(i)||t.push(new vO(i))}),t}ko(e){this.To=e.zn,this.Io=ln();const t=this.Po(e.documents);return this.applyChanges(t,!0)}xo(){return kt.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class YP{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class JP{constructor(e){this.key=e,this.$o=!1}}class QP{constructor(e,t,i,r,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Oo={},this.Mo=new Xh(f=>mD(f),ig),this.Fo=new Map,this.Lo=new Set,this.Bo=new wi(at.comparator),this.Uo=new Map,this.qo=new Db,this.Ko={},this.jo=new Map,this.Qo=qu.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function XP(n,e){return tI.apply(this,arguments)}function tI(){return tI=(0,be.Z)(function*(n,e){const t=CI(n);let i,r;const a=t.Mo.get(e);if(a)i=a.targetId,t.sharedClientState.addLocalQueryTarget(i),r=a.view.xo();else{const u=yield ef(t.localStore,Ko(e)),f=t.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield nI(t,e,i,"current"===f),t.isPrimaryClient&&my(t.remoteStore,u)}return r}),tI.apply(this,arguments)}function nI(n,e,t,i){return iI.apply(this,arguments)}function iI(){return iI=(0,be.Z)(function*(n,e,t,i){n.Go=(T,I,R)=>{return(x=(0,be.Z)(function*(V,Z,he,ke){let Ue=Z.view.Po(he);Ue.Bn&&(Ue=yield bb(V.localStore,Z.query,!1).then(({documents:Rt})=>Z.view.Po(Rt,Ue)));const We=ke&&ke.targetChanges.get(Z.targetId),Ge=Z.view.applyChanges(Ue,V.isPrimaryClient,We);return fI(V,Z.targetId,Ge.Co),Ge.snapshot}),function(V,Z,he,ke){return x.apply(this,arguments)})(n,T,I,R);var x};const r=yield bb(n.localStore,e,!0),a=new wO(e,r.zn),u=a.Po(r.documents),f=Il.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState),_=a.applyChanges(u,n.isPrimaryClient,f);fI(n,t,_.Co);const b=new YP(e,t,a);return n.Mo.set(e,b),n.Fo.has(t)?n.Fo.get(t).push(e):n.Fo.set(t,[e]),_.snapshot}),iI.apply(this,arguments)}function eF(n,e){return rI.apply(this,arguments)}function rI(){return rI=(0,be.Z)(function*(n,e){const t=ze(n),i=t.Mo.get(e),r=t.Fo.get(i.targetId);if(r.length>1)return t.Fo.set(i.targetId,r.filter(a=>!ig(a,e))),void t.Mo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield tf(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Tg(t.remoteStore,i.targetId),yy(t,i.targetId)}).catch(Pi))):(yy(t,i.targetId),yield tf(t.localStore,i.targetId,!0))}),rI.apply(this,arguments)}function sI(){return sI=(0,be.Z)(function*(n,e,t){const i=TI(n);try{const r=yield function(a,u){const f=ze(a),_=_r.now(),b=u.reduce((I,R)=>I.add(R.key),ln());let T;return f.persistence.runTransaction("Locally write mutations","readwrite",I=>f.Wn.vn(I,b).next(R=>{T=R;const x=[];for(const V of u){const Z=CD(V,T.get(V.key));null!=Z&&x.push(new Sl(V.key,Z,cD(Z.value.mapValue),pi.exists(!0)))}return f.An.addMutationBatch(I,_,x,u)})).then(I=>(I.applyToLocalDocumentSet(T),{batchId:I.batchId,changes:T}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,u,f){let _=a.Ko[a.currentUser.toKey()];_||(_=new wi($t)),_=_.insert(u,f),a.Ko[a.currentUser.toKey()]=_}(i,r.batchId,t),yield Ku(i,r.changes),yield Sg(i.remoteStore)}catch(r){const a=Ye(r,"Failed to persist write");t.reject(a)}}),sI.apply(this,arguments)}function EO(n,e){return oI.apply(this,arguments)}function oI(){return oI=(0,be.Z)(function*(n,e){const t=ze(n);try{const i=yield GS(t.localStore,e);e.targetChanges.forEach((r,a)=>{const u=t.Uo.get(a);u&&(Et(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.$o=!0:r.modifiedDocuments.size>0?Et(u.$o):r.removedDocuments.size>0&&(Et(u.$o),u.$o=!1))}),yield Ku(t,i,e)}catch(i){yield Pi(i)}}),oI.apply(this,arguments)}function DO(n,e,t){const i=ze(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.Mo.forEach((a,u)=>{const f=u.view.ro(e);f.snapshot&&r.push(f.snapshot)}),function(a,u){const f=ze(a);f.onlineState=u;let _=!1;f.queries.forEach((b,T)=>{for(const I of T.listeners)I.ro(u)&&(_=!0)}),_&&Og(f)}(i.eventManager,e),r.length&&i.Oo.br(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function nF(n,e,t){return aI.apply(this,arguments)}function aI(){return aI=(0,be.Z)(function*(n,e,t){const i=ze(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.Uo.get(e),a=r&&r.key;if(a){let u=new wi(at.comparator);u=u.insert(a,Bn.newNoDocument(a,Ot.min()));const f=ln().add(a),_=new Ac(Ot.min(),new Map,new Hn($t),u,f);yield EO(i,_),i.Bo=i.Bo.remove(a),i.Uo.delete(e),pI(i)}else yield tf(i.localStore,e,!1).then(()=>yy(i,e,t)).catch(Pi)}),aI.apply(this,arguments)}function iF(n,e){return lI.apply(this,arguments)}function lI(){return lI=(0,be.Z)(function*(n,e){const t=ze(n),i=e.batch.batchId;try{const r=yield _b(t.localStore,e);hI(t,i,null),dI(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Ku(t,r)}catch(r){yield Pi(r)}}),lI.apply(this,arguments)}function rF(n,e,t){return cI.apply(this,arguments)}function cI(){return cI=(0,be.Z)(function*(n,e,t){const i=ze(n);try{const r=yield function(a,u){const f=ze(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let b;return f.An.lookupMutationBatch(_,u).next(T=>(Et(null!==T),b=T.keys(),f.An.removeMutationBatch(_,T))).next(()=>f.An.performConsistencyCheck(_)).next(()=>f.Wn.vn(_,b))})}(i.localStore,e);hI(i,e,t),dI(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Ku(i,r)}catch(r){yield Pi(r)}}),cI.apply(this,arguments)}function uI(){return uI=(0,be.Z)(function*(n,e){const t=ze(n);Rc(t.remoteStore)||Le("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(a){const u=ze(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.An.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===i)return void e.resolve();const r=t.jo.get(i)||[];r.push(e),t.jo.set(i,r)}catch(i){const r=Ye(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),uI.apply(this,arguments)}function dI(n,e){(n.jo.get(e)||[]).forEach(t=>{t.resolve()}),n.jo.delete(e)}function hI(n,e,t){const i=ze(n);let r=i.Ko[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.Ko[i.currentUser.toKey()]=r}}function yy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Fo.get(e))n.Mo.delete(i),t&&n.Oo.zo(i,t);n.Fo.delete(e),n.isPrimaryClient&&n.qo.us(e).forEach(i=>{n.qo.containsKey(i)||CO(n,i)})}function CO(n,e){n.Lo.delete(e.path.canonicalString());const t=n.Bo.get(e);null!==t&&(Tg(n.remoteStore,t),n.Bo=n.Bo.remove(e),n.Uo.delete(t),pI(n))}function fI(n,e,t){for(const i of t)i instanceof vO?(n.qo.addReference(i.key,e),oF(n,i)):i instanceof bO?(Le("SyncEngine","Document no longer in limbo: "+i.key),n.qo.removeReference(i.key,e),n.qo.containsKey(i.key)||CO(n,i.key)):rt()}function oF(n,e){const t=e.key,i=t.path.canonicalString();n.Bo.get(t)||n.Lo.has(i)||(Le("SyncEngine","New document in limbo: "+t),n.Lo.add(i),pI(n))}function pI(n){for(;n.Lo.size>0&&n.Bo.size<n.maxConcurrentLimboResolutions;){const e=n.Lo.values().next().value;n.Lo.delete(e);const t=new at(an.fromString(e)),i=n.Qo.next();n.Uo.set(i,new JP(t)),n.Bo=n.Bo.insert(t,i),my(n.remoteStore,new $u(Ko(ng(t.path)),i,2,gs.I))}}function Ku(n,e,t){return gI.apply(this,arguments)}function gI(){return gI=(0,be.Z)(function*(n,e,t){const i=ze(n),r=[],a=[],u=[];var f;i.Mo.isEmpty()||(i.Mo.forEach((f,_)=>{u.push(i.Go(_,e,t).then(b=>{if(b){i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,b.fromCache?"not-current":"current"),r.push(b);const T=dy.$n(_.targetId,b);a.push(T)}}))}),yield Promise.all(u),i.Oo.br(r),yield(f=(0,be.Z)(function*(_,b){const T=ze(_);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>Ae.forEach(b,R=>Ae.forEach(R.kn,x=>T.persistence.referenceDelegate.addReference(I,R.targetId,x)).next(()=>Ae.forEach(R.xn,x=>T.persistence.referenceDelegate.removeReference(I,R.targetId,x)))))}catch(I){if(!Gu(I))throw I;Le("LocalStore","Failed to update sequence numbers: "+I)}for(const I of b){const R=I.targetId;if(!I.fromCache){const x=T.qn.get(R),Z=x.withLastLimboFreeSnapshotVersion(x.snapshotVersion);T.qn=T.qn.insert(R,Z)}}}),function(_,b){return f.apply(this,arguments)})(i.localStore,a))}),gI.apply(this,arguments)}function aF(n,e){return mI.apply(this,arguments)}function mI(){return mI=(0,be.Z)(function*(n,e){const t=ze(n);if(!t.currentUser.isEqual(e)){Le("SyncEngine","User change. New user:",e.toKey());const i=yield mb(t.localStore,e);t.currentUser=e,(r=t).jo.forEach(u=>{u.forEach(f=>{f.reject(new Oe(ue.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.jo.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Ku(t,i.Gn)}var r}),mI.apply(this,arguments)}function lF(n,e){const t=ze(n),i=t.Uo.get(e);if(i&&i.$o)return ln().add(i.key);{let r=ln();const a=t.Fo.get(e);if(!a)return r;for(const u of a){const f=t.Mo.get(u);r=r.unionWith(f.view.bo)}return r}}function cF(n,e){return _I.apply(this,arguments)}function _I(){return _I=(0,be.Z)(function*(n,e){const t=ze(n),i=yield bb(t.localStore,e.query,!0),r=e.view.ko(i);return t.isPrimaryClient&&fI(t,e.targetId,r.Co),r}),_I.apply(this,arguments)}function uF(n){return yI.apply(this,arguments)}function yI(){return yI=(0,be.Z)(function*(n){const e=ze(n);return uC(e.localStore).then(t=>Ku(e,t))}),yI.apply(this,arguments)}function dF(n,e,t,i){return vI.apply(this,arguments)}function vI(){return vI=(0,be.Z)(function*(n,e,t,i){const r=ze(n),a=yield function(u,f){const _=ze(u),b=ze(_.An);return _.persistence.runTransaction("Lookup mutation documents","readonly",T=>b.Zt(T,f).next(I=>I?_.Wn.vn(T,I):Ae.resolve(null)))}(r.localStore,e);var f;null!==a?("pending"===t?yield Sg(r.remoteStore):"acknowledged"===t||"rejected"===t?(hI(r,e,i||null),dI(r,e),f=e,ze(ze(r.localStore).An).ee(f)):rt(),yield Ku(r,a)):Le("SyncEngine","Cannot apply mutation batch with id: "+e)}),vI.apply(this,arguments)}function bI(){return bI=(0,be.Z)(function*(n,e){const t=ze(n);if(CI(t),TI(t),!0===e&&!0!==t.Wo){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield TO(t,i.toArray());t.Wo=!0,yield H(t.remoteStore,!0);for(const a of r)my(t.remoteStore,a)}else if(!1===e&&!1!==t.Wo){const i=[];let r=Promise.resolve();t.Fo.forEach((a,u)=>{t.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(yy(t,u),tf(t.localStore,u,!0))),Tg(t.remoteStore,u)}),yield r,yield TO(t,i),function(a){const u=ze(a);u.Uo.forEach((f,_)=>{Tg(u.remoteStore,_)}),u.qo.hs(),u.Uo=new Map,u.Bo=new wi(at.comparator)}(t),t.Wo=!1,yield H(t.remoteStore,!1)}}),bI.apply(this,arguments)}function TO(n,e,t){return wI.apply(this,arguments)}function wI(){return wI=(0,be.Z)(function*(n,e,t){const i=ze(n),r=[],a=[];for(const u of e){let f;const _=i.Fo.get(u);if(_&&0!==_.length){f=yield ef(i.localStore,Ko(_[0]));for(const b of _){const T=i.Mo.get(b),I=yield cF(i,T);I.snapshot&&a.push(I.snapshot)}}else{const b=yield wb(i.localStore,u);f=yield ef(i.localStore,b),yield nI(i,SO(b),u,!1)}r.push(f)}return i.Oo.br(a),r}),wI.apply(this,arguments)}function SO(n){return U0(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function fF(n){const e=ze(n);return ze(ze(e.localStore).persistence).Tn()}function pF(n,e,t,i){return EI.apply(this,arguments)}function EI(){return EI=(0,be.Z)(function*(n,e,t,i){const r=ze(n);if(r.Wo)Le("SyncEngine","Ignoring unexpected query state notification.");else if(r.Fo.has(e))switch(t){case"current":case"not-current":{const a=yield uC(r.localStore),u=Ac.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Ku(r,a,u);break}case"rejected":yield tf(r.localStore,e,!0),yy(r,e,i);break;default:rt()}}),EI.apply(this,arguments)}function gF(n,e,t){return DI.apply(this,arguments)}function DI(){return DI=(0,be.Z)(function*(n,e,t){const i=CI(n);if(i.Wo){for(const r of e){if(i.Fo.has(r)){Le("SyncEngine","Adding an already active target "+r);continue}const a=yield wb(i.localStore,r),u=yield ef(i.localStore,a);yield nI(i,SO(a),u.targetId,!1),my(i.remoteStore,u)}for(const r of t)i.Fo.has(r)&&(yield tf(i.localStore,r,!1).then(()=>{Tg(i.remoteStore,r),yy(i,r)}).catch(Pi))}}),DI.apply(this,arguments)}function CI(n){const e=ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=EO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nF.bind(null,e),e.Oo.br=kb.bind(null,e.eventManager),e.Oo.zo=Rb.bind(null,e.eventManager),e}function TI(n){const e=ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rF.bind(null,e),e}class IO{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,be.Z)(function*(){t.k=rf(e.databaseInfo.databaseId),t.sharedClientState=t.Jo(e),t.persistence=t.Yo(e),yield t.persistence.start(),t.gcScheduler=t.Xo(e),t.localStore=t.Zo(e)})()}Xo(e){return null}Zo(e){return aC(this.persistence,new gb,e.initialUser,this.k)}Yo(e){return new pC(Eg.ks,this.k)}Jo(e){return new ZS}terminate(){var e=this;return(0,be.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class AO extends IO{constructor(e,t,i){super(),this.tc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,be.Z)(function*(){yield t().call(i,e),yield function $S(n){return Eb.apply(this,arguments)}(i.localStore),yield i.tc.initialize(i,e),yield TI(i.tc.syncEngine),yield Sg(i.tc.remoteStore),yield i.persistence.sn(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}Zo(e){return aC(this.persistence,new gb,e.initialUser,this.k)}Xo(e){return new FS(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Yo(e){const t=uy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Kr.withCacheSize(this.cacheSizeBytes):Kr.DEFAULT;return new ly(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,bC(),fy(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new ZS}}class _F extends AO{constructor(e,t){super(e,t,!1),this.tc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,be.Z)(function*(){yield t().call(i,e);const r=i.tc.syncEngine;i.sharedClientState instanceof yC&&(i.sharedClientState.syncEngine={mi:dF.bind(null,r),gi:pF.bind(null,r),yi:gF.bind(null,r),Tn:fF.bind(null,r),_i:uF.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.sn(function(){var a=(0,be.Z)(function*(u){yield function hF(n,e){return bI.apply(this,arguments)}(i.tc.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):u||i.gcScheduler.stop())});return function(u){return a.apply(this,arguments)}}())})()}Jo(e){const t=bC();if(!yC.Pt(t))throw new Oe(ue.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=uy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new yC(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class SI{initialize(e,t){var i=this;return(0,be.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>DO(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=aF.bind(null,i.syncEngine),yield H(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Ws}createDatastore(e){const t=rf(e.databaseInfo.databaseId),i=new YS(e.databaseInfo);return new wC(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,a=f=>DO(this.syncEngine,f,0),u=WS.Pt()?new WS:new fO,new pO(t,i,r,a,u);var t,i,r,a,u}createSyncEngine(e,t){return function(i,r,a,u,f,_,b){const T=new QP(i,r,a,u,f,_);return b&&(T.Wo=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,be.Z)(function*(t){const i=ze(t);Le("RemoteStore","RemoteStore shutting down."),i.Gr.add(5),yield lf(i),i.Hr.shutdown(),i.Jr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function MO(n,e=10240){let t=0;return{read:()=>(0,be.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,be.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class OC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ec(this.observer.next,e)}error(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}nc(){this.muted=!0}ec(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class yF{constructor(e,t){this.sc=e,this.k=t,this.metadata=new Ri,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then(i=>{i&&i._o()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.sc.cancel()}getMetadata(){var e=this;return(0,be.Z)(function*(){return e.metadata.promise})()}Ho(){var e=this;return(0,be.Z)(function*(){return yield e.getMetadata(),e.rc()})()}rc(){var e=this;return(0,be.Z)(function*(){const t=yield e.oc();if(null===t)return null;const i=e.ic.decode(t),r=Number(i);isNaN(r)&&e.cc(`length string (${i}) is not valid number`);const a=yield e.ac(r);return new xb(JSON.parse(a),t.length+r)})()}uc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}oc(){var e=this;return(0,be.Z)(function*(){for(;e.uc()<0&&!(yield e.hc()););if(0===e.buffer.length)return null;const t=e.uc();t<0&&e.cc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}ac(e){var t=this;return(0,be.Z)(function*(){for(;t.buffer.length<e;)(yield t.hc())&&t.cc("Reached the end of bundle when more is expected.");const i=t.ic.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}cc(e){throw this.sc.cancel(),new Error(`Invalid bundle format: ${e}`)}hc(){var e=this;return(0,be.Z)(function*(){const t=yield e.sc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class vF{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,be.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Oe(ue.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,be.Z)(function*(a,u){const f=ze(a),_=dg(f.k)+"/documents",b={documents:u.map(x=>zh(f.k,x))},T=yield f.ji("BatchGetDocuments",_,b),I=new Map;T.forEach(x=>{const V=function eb(n,e){return"found"in e?function(t,i){Et(!!i.found);const r=Eo(t,i.found.name),a=yr(i.found.updateTime),u=new Fr({mapValue:{fields:i.found.fields}});return Bn.newFoundDocument(r,a,u)}(n,e):"missing"in e?function(t,i){Et(!!i.missing),Et(!!i.readTime);const r=Eo(t,i.missing),a=yr(i.readTime);return Bn.newNoDocument(r,a)}(n,e):rt()}(f.k,x);I.set(V.key.toString(),V)});const R=[];return u.forEach(x=>{const V=I.get(x.toString());Et(!!V),R.push(V)}),R}),function(a,u){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new og(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,be.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const a=at.fromPath(r);e.mutations.push(new W0(a,e.precondition(a)))}),yield(i=(0,be.Z)(function*(r,a){const u=ze(r),f=dg(u.k)+"/documents",_={writes:a.map(b=>hg(u.k,b))};yield u.Bi("Commit",f,_)}),function(r,a){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw rt();t=Ot.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Oe(ue.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?pi.updateTime(t):pi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ot.min()))throw new Oe(ue.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return pi.updateTime(t)}return pi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class bF{constructor(e,t,i,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=i,this.deferred=r,this.lc=5,this.ur=new py(this.asyncQueue,"transaction_retry")}run(){this.lc-=1,this.fc()}fc(){var e=this;this.ur.Zi((0,be.Z)(function*(){const t=new vF(e.datastore),i=e.dc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(a=>{e.wc(a)}))}).catch(r=>{e.wc(r)})}))}dc(e){try{const t=this.updateFunction(e);return!Cc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}wc(e){this.lc>0&&this._c(e)?(this.lc-=1,this.asyncQueue.enqueueAndForget(()=>(this.fc(),Promise.resolve()))):this.deferred.reject(e)}_c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!K0(t)}return!1}}class wF{constructor(e,t,i,r){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=mr.UNAUTHENTICATED,this.clientId=M0.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,be.Z)(function*(f){Le("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Le("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,be.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(ue.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Ye(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function OO(n,e){return II.apply(this,arguments)}function II(){return II=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,be.Z)(function*(a){i.isEqual(a)||(yield mb(e.localStore,a),i=a)});return function(a){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),II.apply(this,arguments)}function NO(n,e){return AI.apply(this,arguments)}function AI(){return AI=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield MI(n);Le("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>O(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>O(e.remoteStore,a)),n.onlineComponents=e}),AI.apply(this,arguments)}function MI(n){return OI.apply(this,arguments)}function OI(){return OI=(0,be.Z)(function*(n){return n.offlineComponents||(Le("FirestoreClient","Using default OfflineComponentProvider"),yield OO(n,new IO)),n.offlineComponents}),OI.apply(this,arguments)}function NC(n){return NI.apply(this,arguments)}function NI(){return NI=(0,be.Z)(function*(n){return n.onlineComponents||(Le("FirestoreClient","Using default OnlineComponentProvider"),yield NO(n,new SI)),n.onlineComponents}),NI.apply(this,arguments)}function kO(n){return MI(n).then(e=>e.persistence)}function kI(n){return MI(n).then(e=>e.localStore)}function RO(n){return NC(n).then(e=>e.remoteStore)}function RI(n){return NC(n).then(e=>e.syncEngine)}function vy(n){return xI.apply(this,arguments)}function xI(){return xI=(0,be.Z)(function*(n){const e=yield NC(n),t=e.eventManager;return t.onListen=XP.bind(null,e.syncEngine),t.onUnlisten=eF.bind(null,e.syncEngine),t}),xI.apply(this,arguments)}function xO(n,e,t={}){const i=new Ri;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(r,a,u,f,_){const b=new OC({next:I=>{a.enqueueAndForget(()=>Ag(r,T));const R=I.docs.has(u);!R&&I.fromCache?_.reject(new Oe(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&I.fromCache&&f&&"server"===f.source?_.reject(new Oe(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(I)},error:I=>_.reject(I)}),T=new Ng(ng(u.path),b,{includeMetadataChanges:!0,wo:!0});return Ol(r,T)}(yield vy(n),n.asyncQueue,e,t,i)})),i.promise}function PO(n,e,t={}){const i=new Ri;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(r,a,u,f,_){const b=new OC({next:I=>{a.enqueueAndForget(()=>Ag(r,T)),I.fromCache&&"server"===f.source?_.reject(new Oe(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(I)},error:I=>_.reject(I)}),T=new Ng(u,b,{includeMetadataChanges:!0,wo:!0});return Ol(r,T)}(yield vy(n),n.asyncQueue,e,t,i)})),i.promise}class OF{constructor(e,t,i,r,a,u,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class by{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof by&&e.projectId===this.projectId&&e.database===this.database}}const FO=new Map;function PI(n,e,t){if(!t)throw new Oe(ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function LO(n,e,t,i){if(!0===e&&!0===i)throw new Oe(ue.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function BO(n){if(!at.isDocumentKey(n))throw new Oe(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function VO(n){if(at.isDocumentKey(n))throw new Oe(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function kC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":rt()}function Jt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Oe(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=kC(n);throw new Oe(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function UO(n,e){if(e<=0)throw new Oe(ue.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class jO{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Oe(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Oe(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,LO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pb{constructor(e,t,i){this._authCredentials=t,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jO({}),this._settingsFrozen=!1,e instanceof by?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Oe(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new by(r.options.projectId)}(e))}get app(){if(!this._app)throw new Oe(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Oe(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jO(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new sS;switch(t.type){case"gapi":const i=t.client;return Et(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new aS(i,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Oe(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=FO.get(e);t&&(Le("ComponentProvider","Removing Datastore"),FO.delete(e),t.terminate())}(this),Promise.resolve()}}class $n{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $n(this.firestore,e,this._key)}}class vs{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new vs(this.firestore,e,this._query)}}class xc extends vs{constructor(e,t,i){super(e,t,ng(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $n(this.firestore,null,new at(e))}withConverter(e){return new xc(this.firestore,e,this._path)}}function HO(n,e,...t){if(n=(0,Ct.m9)(n),PI("collection","path",e),n instanceof Pb){const i=an.fromString(e,...t);return VO(i),new xc(n,null,i)}{if(!(n instanceof $n||n instanceof xc))throw new Oe(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(an.fromString(e,...t));return VO(i),new xc(n.firestore,null,i)}}function RC(n,e,...t){if(n=(0,Ct.m9)(n),1===arguments.length&&(e=M0.A()),PI("doc","path",e),n instanceof Pb){const i=an.fromString(e,...t);return BO(i),new $n(n,null,new at(i))}{if(!(n instanceof $n||n instanceof xc))throw new Oe(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(an.fromString(e,...t));return BO(i),new $n(n.firestore,n instanceof xc?n.converter:null,new at(i))}}function GO(n,e){return n=(0,Ct.m9)(n),e=(0,Ct.m9)(e),(n instanceof $n||n instanceof xc)&&(e instanceof $n||e instanceof xc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function $O(n,e){return n=(0,Ct.m9)(n),e=(0,Ct.m9)(e),n instanceof vs&&e instanceof vs&&n.firestore===e.firestore&&ig(n._query,e._query)&&n.converter===e.converter}class RF{constructor(){this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new py(this,"async_queue_retry"),this.bc=()=>{const t=fy();t&&Le("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ur.er()};const e=fy();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}get isShuttingDown(){return this.yc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pc(),this.vc(e)}enterRestrictedMode(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;const t=fy();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}}enqueue(e){if(this.Pc(),this.yc)return new Promise(()=>{});const t=new Ri;return this.vc(()=>this.yc&&this.Ac?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.gc.push(e),this.Vc()))}Vc(){var e=this;return(0,be.Z)(function*(){if(0!==e.gc.length){try{yield e.gc[0](),e.gc.shift(),e.ur.reset()}catch(t){if(!Gu(t))throw t;Le("AsyncQueue","Operation failed with retryable error: "+t)}e.gc.length>0&&e.ur.Zi(()=>e.Vc())}})()}vc(e){const t=this.mc.then(()=>(this.Ic=!0,e().catch(i=>{throw this.Ec=i,this.Ic=!1,vi("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(i)),i}).then(i=>(this.Ic=!1,i))));return this.mc=t,t}enqueueAfterDelay(e,t,i){this.Pc(),this.Rc.indexOf(e)>-1&&(t=0);const r=$e.createAndSchedule(this,e,t,i,a=>this.Sc(a));return this.Tc.push(r),r}Pc(){this.Ec&&rt()}verifyOperationInProgress(){}Dc(){var e=this;return(0,be.Z)(function*(){let t;do{t=e.mc,yield t}while(t!==e.mc)})()}Cc(e){for(const t of this.Tc)if(t.timerId===e)return!0;return!1}Nc(e){return this.Dc().then(()=>{this.Tc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Dc()})}kc(e){this.Rc.push(e)}Sc(e){const t=this.Tc.indexOf(e);this.Tc.splice(t,1)}}function FI(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class xF{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ri,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ti extends Pb{constructor(e,t,i){super(e,t,i),this.type="firestore",this._queue=new RF,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||zO(this),this._firestoreClient.terminate()}}function Ji(n){return n._firestoreClient||zO(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function zO(n){var e;const t=n._freezeSettings(),i=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new OF(n._databaseId,a,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new wF(n._authCredentials,n._appCheckCredentials,n._queue,i)}function qO(n,e,t){const i=new Ri;return n.asyncQueue.enqueue((0,be.Z)(function*(){try{yield OO(n,t),yield NO(n,e),i.resolve()}catch(r){if(!("FirebaseError"===(a=r).name?a.code===ue.FAILED_PRECONDITION||a.code===ue.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw r;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r)}var a})).then(()=>i.promise)}function ZO(n){if(n._initialized||n._terminated)throw new Oe(ue.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Yu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Oe(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Pc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pc(xi.fromBase64String(e))}catch(t){throw new Oe(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Pc(xi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class kg{constructor(e){this._methodName=e}}class xC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Oe(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Oe(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $t(this._lat,e._lat)||$t(this._long,e._long)}}const $F=/^__.*__$/;class zF{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Sl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Hh(e,this.data,t,this.fieldTransforms)}}class WO{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Sl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function KO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class PC{constructor(e,t,i,r,a,u){this.settings=e,this.databaseId=t,this.k=i,this.ignoreUndefinedProperties=r,void 0===a&&this.xc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get $c(){return this.settings.$c}Oc(e){return new PC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mc(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:i,Fc:!1});return r.Lc(e),r}Bc(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:i,Fc:!1});return r.xc(),r}Uc(e){return this.Oc({path:void 0,Fc:!0})}qc(e){return BC(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}Lc(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(KO(this.$c)&&$F.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}class qF{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=i||rf(e)}Qc(e,t,i,r=!1){return new PC({$c:e,methodName:t,jc:i,path:hi.emptyPath(),Fc:!1,Kc:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function Rg(n){const e=n._freezeSettings(),t=rf(n._databaseId);return new qF(n._databaseId,!!e.ignoreUndefinedProperties,t)}function FC(n,e,t,i,r,a={}){const u=n.Qc(a.merge||a.mergeFields?2:0,e,t,r);UI("Data must be an object, but it was:",u,i);const f=QO(i,u);let _,b;if(a.merge)_=new Nh(u.fieldMask),b=u.fieldTransforms;else if(a.mergeFields){const T=[];for(const I of a.mergeFields){const R=jI(e,I,t);if(!u.contains(R))throw new Oe(ue.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);eN(T,R)||T.push(R)}_=new Nh(T),b=u.fieldTransforms.filter(I=>_.covers(I.field))}else _=null,b=u.fieldTransforms;return new zF(new Fr(f),_,b)}class Fb extends kg{_toFieldTransform(e){if(2!==e.$c)throw e.qc(1===e.$c?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fb}}function YO(n,e,t){return new PC({$c:3,jc:e.settings.jc,methodName:n._methodName,Fc:t},e.databaseId,e.k,e.ignoreUndefinedProperties)}class LI extends kg{_toFieldTransform(e){return new Uh(e.path,new Bh)}isEqual(e){return e instanceof LI}}class ZF extends kg{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=YO(this,e,!0),i=this.Wc.map(a=>xg(a,t)),r=new Uu(i);return new Uh(e.path,r)}isEqual(e){return this===e}}class WF extends kg{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=YO(this,e,!0),i=this.Wc.map(a=>xg(a,t)),r=new ju(i);return new Uh(e.path,r)}isEqual(e){return this===e}}class KF extends kg{constructor(e,t){super(e),this.Gc=t}_toFieldTransform(e){const t=new Vh(e.k,Lh(e.k,this.Gc));return new Uh(e.path,t)}isEqual(e){return this===e}}function BI(n,e,t,i){const r=n.Qc(1,e,t);UI("Data must be an object, but it was:",r,i);const a=[],u=Fr.empty();Ec(i,(_,b)=>{const T=LC(e,_,t);b=(0,Ct.m9)(b);const I=r.Bc(T);if(b instanceof Fb)a.push(T);else{const R=xg(b,I);null!=R&&(a.push(T),u.set(T,R))}});const f=new Nh(a);return new WO(u,f,r.fieldTransforms)}function VI(n,e,t,i,r,a){const u=n.Qc(1,e,t),f=[jI(e,i,t)],_=[r];if(a.length%2!=0)throw new Oe(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<a.length;R+=2)f.push(jI(e,a[R])),_.push(a[R+1]);const b=[],T=Fr.empty();for(let R=f.length-1;R>=0;--R)if(!eN(b,f[R])){const x=f[R];let V=_[R];V=(0,Ct.m9)(V);const Z=u.Bc(x);if(V instanceof Fb)b.push(x);else{const he=xg(V,Z);null!=he&&(b.push(x),T.set(x,he))}}const I=new Nh(b);return new WO(T,I,u.fieldTransforms)}function JO(n,e,t,i=!1){return xg(t,n.Qc(i?4:3,e))}function xg(n,e){if(XO(n=(0,Ct.m9)(n)))return UI("Unsupported field value:",e,n),QO(n,e);if(n instanceof kg)return function(t,i){if(!KO(i.$c))throw i.qc(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qc(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Fc&&4!==e.$c)throw e.qc("Nested arrays are not supported");return function(t,i){const r=[];let a=0;for(const u of t){let f=xg(u,i.Uc(a));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),a++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,Ct.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Lh(i.k,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=_r.fromDate(t);return{timestampValue:$h(i.k,r)}}if(t instanceof _r){const r=new _r(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:$h(i.k,r)}}if(t instanceof xC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Pc)return{bytesValue:PD(i.k,t._byteString)};if(t instanceof $n){const r=i.databaseId,a=t.firestore._databaseId;if(!a.isEqual(r))throw i.qc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:cg(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.qc(`Unsupported field value: ${kC(t)}`)}(n,e)}function QO(n,e){const t={};return Zp(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ec(n,(i,r)=>{const a=xg(r,e.Mc(i));null!=a&&(t[i]=a)}),{mapValue:{fields:t}}}function XO(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof _r||n instanceof xC||n instanceof Pc||n instanceof $n||n instanceof kg)}function UI(n,e,t){if(!XO(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=kC(t);throw e.qc("an object"===i?n+" a custom object":n+" "+i)}var i}function jI(n,e,t){if((e=(0,Ct.m9)(e))instanceof Yu)return e._internalPath;if("string"==typeof e)return LC(n,e);throw BC("Field path arguments must be of type string or ",n,!1,void 0,t)}const YF=new RegExp("[~\\*/\\[\\]]");function LC(n,e,t){if(e.search(YF)>=0)throw BC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Yu(...e.split("."))._internalPath}catch(i){throw BC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function BC(n,e,t,i,r){const a=i&&!i.isEmpty(),u=void 0!==r;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(a||u)&&(_+=" (found",a&&(_+=` in field ${i}`),u&&(_+=` in document ${r}`),_+=")"),new Oe(ue.INVALID_ARGUMENT,f+n+_)}function eN(n,e){return n.some(t=>t.isEqual(e))}class Lb{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new $n(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new JF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(VC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class JF extends Lb{data(){return super.data()}}function VC(n,e){return"string"==typeof e?LC(n,e):e instanceof Yu?e._internalPath:e._delegate._internalPath}class Pg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ju extends Lb{constructor(e,t,i,r,a,u){super(e,t,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Bb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(VC("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Bb extends Ju{data(e={}){return super.data(e)}}class cf{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Pg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Bb(this._firestore,this._userDataWriter,i.key,i,new Pg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Oe(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new Bb(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Pg(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const f=new Bb(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Pg(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,b=-1;return 0!==u.type&&(_=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),1!==u.type&&(a=a.add(u.doc),b=a.indexOf(u.doc.key)),{type:QF(u.type),doc:f,oldIndex:_,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function QF(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}function tN(n,e){return n instanceof Ju&&e instanceof Ju?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof cf&&e instanceof cf&&n._firestore===e._firestore&&$O(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function nN(n){if(Sc(n)&&0===n.explicitOrderBy.length)throw new Oe(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vb{}function uf(n,...e){for(const t of e)n=t._apply(n);return n}class XF extends Vb{constructor(e,t,i){super(),this.zc=e,this.Hc=t,this.Jc=i,this.type="where"}_apply(e){const t=Rg(e.firestore),i=function(r,a,u,f,_,b,T){let I;if(_.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new Oe(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){lN(T,b);const x=[];for(const V of T)x.push(aN(f,r,V));I={arrayValue:{values:x}}}else I=aN(f,r,T)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||lN(T,b),I=JO(u,"where",T,"in"===b||"not-in"===b);const R=zr.create(_,b,I);return function(x,V){if(V.V()){const he=Ic(x);if(null!==he&&!he.isEqual(V.field))throw new Oe(ue.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${he.toString()}' and '${V.field.toString()}'`);const ke=j0(x);null!==ke&&cN(0,V.field,ke)}const Z=function(he,ke){for(const Ue of he.filters)if(ke.indexOf(Ue.op)>=0)return Ue.op;return null}(x,function(he){switch(he){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(V.op));if(null!==Z)throw new Oe(ue.INVALID_ARGUMENT,Z===V.op?`Invalid query. You cannot use more than one '${V.op.toString()}' filter.`:`Invalid query. You cannot use '${V.op.toString()}' filters with '${Z.toString()}' filters.`)}(r,R),R}(e._query,0,t,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new vs(e.firestore,e.converter,function(r,a){const u=r.filters.concat([a]);return new Tl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),u,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class tL extends Vb{constructor(e,t){super(),this.zc=e,this.Yc=t,this.type="orderBy"}_apply(e){const t=function(i,r,a){if(null!==i.startAt)throw new Oe(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Oe(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new Ph(r,a);return function(f,_){if(null===j0(f)){const b=Ic(f);null!==b&&cN(0,b,_.field)}}(i,u),u}(e._query,this.zc,this.Yc);return new vs(e.firestore,e.converter,function(i,r){const a=i.explicitOrderBy.concat([r]);return new Tl(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class iN extends Vb{constructor(e,t,i){super(),this.type=e,this.Xc=t,this.Zc=i}_apply(e){return new vs(e.firestore,e.converter,H0(e._query,this.Xc,this.Zc))}}class rN extends Vb{constructor(e,t,i){super(),this.type=e,this.ta=t,this.ea=i}_apply(e){const t=oN(e,this.type,this.ta,this.ea);return new vs(e.firestore,e.converter,(r=t,new Tl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class sN extends Vb{constructor(e,t,i){super(),this.type=e,this.ta=t,this.ea=i}_apply(e){const t=oN(e,this.type,this.ta,this.ea);return new vs(e.firestore,e.converter,(r=t,new Tl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function oN(n,e,t,i){if(t[0]=(0,Ct.m9)(t[0]),t[0]instanceof Lb)return function(r,a,u,f,_){if(!f)throw new Oe(ue.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const b=[];for(const T of Fh(r))if(T.field.isKeyField())b.push(j_(a,f.key));else{const I=f.data.field(T.field);if(O0(I))throw new Oe(ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===I){const R=T.field.canonicalString();throw new Oe(ue.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${R}' (used as the orderBy) does not exist.`)}b.push(I)}return new tg(b,_)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Rg(n.firestore);return function(a,u,f,_,b,T){const I=a.explicitOrderBy;if(b.length>I.length)throw new Oe(ue.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const R=[];for(let x=0;x<b.length;x++){const V=b[x];if(I[x].field.isKeyField()){if("string"!=typeof V)throw new Oe(ue.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof V}`);if(!Vu(a)&&-1!==V.indexOf("/"))throw new Oe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${V}' contains a slash.`);const Z=a.path.child(an.fromString(V));if(!at.isDocumentKey(Z))throw new Oe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${Z}' is not because it contains an odd number of segments.`);const he=new at(Z);R.push(j_(u,he))}else{const Z=JO(f,_,V);R.push(Z)}}return new tg(R,T)}(n._query,n.firestore._databaseId,r,e,t,i)}}function aN(n,e,t){if("string"==typeof(t=(0,Ct.m9)(t))){if(""===t)throw new Oe(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vu(e)&&-1!==t.indexOf("/"))throw new Oe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(an.fromString(t));if(!at.isDocumentKey(i))throw new Oe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return j_(n,new at(i))}if(t instanceof $n)return j_(n,t._key);throw new Oe(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kC(t)}.`)}function lN(n,e){if(!Array.isArray(n)||0===n.length)throw new Oe(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Oe(ue.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function cN(n,e,t){if(!t.isEqual(e))throw new Oe(ue.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class HI{convertValue(e,t="none"){switch(Tc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(kh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw rt()}}convertObject(e,t){const i={};return Ec(e.fields,(r,a)=>{i[r]=this.convertValue(a,t)}),i}convertGeoPoint(e){return new xC(fi(e.latitude),fi(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Lu(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Kp(e));default:return null}}convertTimestamp(e){const t=Dc(e);return new _r(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=an.fromString(e);Et(HD(i));const r=new by(i.get(1),i.get(3)),a=new at(i.popFirst(5));return r.isEqual(t)||vi(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function UC(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class cL extends HI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,t)}}class uN{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Rg(e)}set(e,t,i){this._verifyNotCommitted();const r=df(e,this._firestore),a=UC(r.converter,t,i),u=FC(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,pi.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const a=df(e,this._firestore);let u;return u="string"==typeof(t=(0,Ct.m9)(t))||t instanceof Yu?VI(this._dataReader,"WriteBatch.update",a._key,t,i,r):BI(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,pi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=df(e,this._firestore);return this._mutations=this._mutations.concat(new og(t._key,pi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function df(n,e){if((n=(0,Ct.m9)(n)).firestore!==e)throw new Oe(ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Fg extends HI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,t)}}function dN(n,e,t){n=Jt(n,$n);const i=Jt(n.firestore,ti),r=UC(n.converter,e,t);return wy(i,[FC(Rg(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,pi.none())])}function hN(n,e,t,...i){n=Jt(n,$n);const r=Jt(n.firestore,ti),a=Rg(r);let u;return u="string"==typeof(e=(0,Ct.m9)(e))||e instanceof Yu?VI(a,"updateDoc",n._key,e,t,i):BI(a,"updateDoc",n._key,e),wy(r,[u.toMutation(n._key,pi.exists(!0))])}function fN(n,...e){var t,i,r;n=(0,Ct.m9)(n);let a={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||FI(e[u])||(a=e[u],u++);const f={includeMetadataChanges:a.includeMetadataChanges};if(FI(e[u])){const I=e[u];e[u]=null===(t=I.next)||void 0===t?void 0:t.bind(I),e[u+1]=null===(i=I.error)||void 0===i?void 0:i.bind(I),e[u+2]=null===(r=I.complete)||void 0===r?void 0:r.bind(I)}let _,b,T;if(n instanceof $n)b=Jt(n.firestore,ti),T=ng(n._key.path),_={next:I=>{e[u]&&e[u](GI(b,n,I))},error:e[u+1],complete:e[u+2]};else{const I=Jt(n,vs);b=Jt(I.firestore,ti),T=I._query;const R=new Fg(b);_={next:x=>{e[u]&&e[u](new cf(b,R,I,x))},error:e[u+1],complete:e[u+2]},nN(n._query)}return function(I,R,x,V){const Z=new OC(V),he=new Ng(R,Z,x);return I.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return Ol(yield vy(I),he)})),()=>{Z.nc(),I.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return Ag(yield vy(I),he)}))}}(Ji(b),T,f,_)}function wy(n,e){return function(t,i){const r=new Ri;return t.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function tF(n,e,t){return sI.apply(this,arguments)}(yield RI(t),i,r)})),r.promise}(Ji(n),e)}function GI(n,e,t){const i=t.docs.get(e._key),r=new Fg(n);return new Ju(n,r,e._key,i,new Pg(t.hasPendingWrites,t.fromCache),e.converter)}class vL extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Rg(e)}get(e){const t=df(e,this._firestore),i=new cL(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return rt();const a=r[0];if(a.isFoundDocument())return new Lb(this._firestore,i,a.key,a,t.converter);if(a.isNoDocument())return new Lb(this._firestore,i,t._key,null,t.converter);throw rt()})}set(e,t,i){const r=df(e,this._firestore),a=UC(r.converter,t,i),u=FC(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(e,t,i,...r){const a=df(e,this._firestore);let u;return u="string"==typeof(t=(0,Ct.m9)(t))||t instanceof Yu?VI(this._dataReader,"Transaction.update",a._key,t,i,r):BI(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,u),this}delete(e){const t=df(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=df(e,this._firestore),i=new Fg(this._firestore);return super.get(e).then(r=>new Ju(this._firestore,i,t._key,r._document,new Pg(!1,!1),t.converter))}}function zI(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Oe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function gN(){if("undefined"==typeof Uint8Array)throw new Oe("unimplemented","Uint8Arrays are not available in this environment.")}function mN(){if(!function hS(){return"undefined"!=typeof atob}())throw new Oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Mh=Zo.SDK_VERSION,(0,Zo._registerComponent)(new nh.wA("firestore",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),a=new ti(r,new qp(t.getProvider("auth-internal")),new oD(t.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:e},i),a._setSettings(i),a},"PUBLIC")),(0,Zo.registerVersion)(S0,"3.4.4",n),(0,Zo.registerVersion)(S0,"3.4.4","esm2017")}();class Ub{constructor(e){this._delegate=e}static fromBase64String(e){return mN(),new Ub(Pc.fromBase64String(e))}static fromUint8Array(e){return gN(),new Ub(Pc.fromUint8Array(e))}toBase64(){return mN(),this._delegate.toBase64()}toUint8Array(){return gN(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function qI(n){return function AL(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class ML{enableIndexedDbPersistence(e,t){return function FF(n,e){ZO(n=Jt(n,ti));const t=Ji(n),i=n._freezeSettings(),r=new SI;return qO(t,r,new AO(r,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function LF(n){ZO(n=Jt(n,ti));const e=Ji(n),t=n._freezeSettings(),i=new SI;return qO(e,i,new _F(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function BF(n){if(n._initialized&&!n._terminated)throw new Oe(ue.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ri;return n._queue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{yield(t=(0,be.Z)(function*(i){if(!Qo.Pt())return Promise.resolve();const r=i+"main";yield Qo.delete(r)}),function(i){return t.apply(this,arguments)})(uy(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class _N{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof by||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&$p("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function NF(n,e,t,i={}){var r;const a=(n=Jt(n,Pb))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&$p("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let u,f;if("string"==typeof i.mockUserToken)u=i.mockUserToken,f=mr.MOCK_USER;else{u=(0,Ct.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new Oe(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new mr(_)}n._authCredentials=new zp(new A0(u,f))}}(this._delegate,e,t,i)}enableNetwork(){return function UF(n){return function EF(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield kO(n),t=yield RO(n);return e.setNetworkEnabled(!0),function(i){const r=ze(i);return r.Gr.delete(0),sf(r)}(t)}))}(Ji(n=Jt(n,ti)))}(this._delegate)}disableNetwork(){return function jF(n){return function DF(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield kO(n),t=yield RO(n);return e.setNetworkEnabled(!1),(i=(0,be.Z)(function*(r){const a=ze(r);a.Gr.add(0),yield lf(a),a.Jr.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(Ji(n=Jt(n,ti)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,LO("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function VF(n){return function(e){const t=new Ri;return e.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function sF(n,e){return uI.apply(this,arguments)}(yield RI(e),t)})),t.promise}(Ji(n=Jt(n,ti)))}(this._delegate)}onSnapshotsInSync(e){return function yL(n,e){return function SF(n,e){const t=new OC(e);return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return i=yield vy(n),r=t,ze(i).io.add(r),void r.next();var i,r})),()=>{t.nc(),n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return i=yield vy(n),r=t,void ze(i).io.delete(r);var i,r}))}}(Ji(n=Jt(n,ti)),FI(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ey(this,HO(this._delegate,e))}catch(t){throw Ks(t,"collection()","Firestore.collection()")}}doc(e){try{return new Aa(this,RC(this._delegate,e))}catch(t){throw Ks(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ys(this,function kF(n,e){if(n=Jt(n,Pb),PI("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Oe(ue.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new vs(n,null,(t=e,new Tl(an.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ks(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function bL(n,e){return function IF(n,e){const t=new Ri;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){const i=yield(r=n,NC(r).then(a=>a.datastore));var r;new bF(n.asyncQueue,i,e,t).run()})),t.promise}(Ji(n=Jt(n,ti)),t=>e(new vL(n,t)))}(this._delegate,t=>e(new yN(this,t)))}batch(){return Ji(this._delegate),new vN(new uN(this._delegate,e=>wy(this._delegate,e)))}loadBundle(e){return function HF(n,e){const t=Ji(n=Jt(n,ti)),i=new xF;return function AF(n,e,t,i){const r=function(a,u){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,_=function(_,b){if(_ instanceof Uint8Array)return MO(_,b);if(_ instanceof ArrayBuffer)return MO(new Uint8Array(_),b);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new yF(_,u);var _}(t,rf(e));n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){!function mF(n,e,t){const i=ze(n);var r;(r=(0,be.Z)(function*(a,u,f){try{const _=yield u.getMetadata();if(yield function(R,x){const V=ze(R),Z=yr(x.createTime);return V.persistence.runTransaction("hasNewerBundle","readonly",he=>V.Ye.getBundleMetadata(he,x.id)).then(he=>!!he&&he.createTime.compareTo(Z)>=0)}(a.localStore,_))return yield u.close(),void f._completeWith((R=_,{taskState:"Success",documentsLoaded:R.totalDocuments,bytesLoaded:R.totalBytes,totalDocuments:R.totalDocuments,totalBytes:R.totalBytes}));f._updateProgress(yO(_));const b=new KP(_,a.localStore,u.k);let T=yield u.Ho();for(;T;){const R=yield b.yo(T);R&&f._updateProgress(R),T=yield u.Ho()}const I=yield b.complete();yield Ku(a,I.In,void 0),yield function(R,x){const V=ze(R);return V.persistence.runTransaction("Save bundle","readwrite",Z=>V.Ye.saveBundleMetadata(Z,x))}(a.localStore,_),f._completeWith(I.progress)}catch(_){$p("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_)}var R}),function(a,u,f){return r.apply(this,arguments)})(i,e,t).then(()=>{i.sharedClientState.notifyBundleLoaded()})}(yield RI(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function GF(n,e){return function MF(n,e){return n.asyncQueue.enqueue((0,be.Z)(function*(){return function(t,i){const r=ze(t);return r.persistence.runTransaction("Get named query","readonly",a=>r.Ye.getNamedQuery(a,i))}(yield kI(n),e)}))}(Ji(n=Jt(n,ti)),e).then(t=>t?new vs(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ys(this,t):null)}}class jC extends HI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ub(new Pc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Aa.forKey(t,this.firestore,null)}}class yN{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new jC(e)}get(e){const t=Bg(e);return this._delegate.get(t).then(i=>new jb(this._firestore,new Ju(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=Bg(e);return i?(zI("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=Bg(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=Bg(e);return this._delegate.delete(t),this}}class vN{constructor(e){this._delegate=e}set(e,t,i){const r=Bg(e);return i?(zI("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=Bg(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=Bg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Lg{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Bb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Hb(this._firestore,i),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Lg.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let a=r.get(t);return a||(a=new Lg(e,new jC(e),t),r.set(t,a)),a}}Lg.INSTANCES=new WeakMap;class Aa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new jC(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Aa(t,new $n(t._delegate,i,new at(e)))}static forKey(e,t,i){return new Aa(t,new $n(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Ey(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ey(this.firestore,HO(this._delegate,e))}catch(t){throw Ks(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ct.m9)(e))instanceof $n&&GO(this._delegate,e)}set(e,t){t=zI("DocumentReference.set",t);try{return t?dN(this._delegate,e,t):dN(this._delegate,e)}catch(i){throw Ks(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?hN(this._delegate,e):hN(this._delegate,e,t,...i)}catch(r){throw Ks(r,"updateDoc()","DocumentReference.update()")}}delete(){return function mL(n){return wy(Jt(n.firestore,ti),[new og(n._key,pi.none())])}(this._delegate)}onSnapshot(...e){const t=bN(e),i=wN(e,r=>new jb(this.firestore,new Ju(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return fN(this._delegate,t,i)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function dL(n){n=Jt(n,$n);const e=Jt(n.firestore,ti),t=Ji(e),i=new Fg(e);return function CF(n,e){const t=new Ri;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(i=(0,be.Z)(function*(r,a,u){try{const f=yield function(_,b){const T=ze(_);return T.persistence.runTransaction("read document","readonly",I=>T.Wn.Rn(I,b))}(r,a);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new Oe(ue.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=Ye(f,`Failed to get document '${a} from cache`);u.reject(_)}}),function(r,a,u){return i.apply(this,arguments)})(yield kI(n),e,t);var i})),t.promise}(t,n._key).then(r=>new Ju(e,i,n._key,r,new Pg(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function hL(n){n=Jt(n,$n);const e=Jt(n.firestore,ti);return xO(Ji(e),n._key,{source:"server"}).then(t=>GI(e,n,t))}(this._delegate):function uL(n){n=Jt(n,$n);const e=Jt(n.firestore,ti);return xO(Ji(e),n._key).then(t=>GI(e,n,t))}(this._delegate),t.then(i=>new jb(this.firestore,new Ju(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Aa(this.firestore,this._delegate.withConverter(e?Lg.getInstance(this.firestore,e):null))}}function Ks(n,e,t){return n.message=n.message.replace(e,t),n}function bN(n){for(const e of n)if("object"==typeof e&&!qI(e))return e;return{}}function wN(n,e){var t,i;let r;return r=qI(n[0])?n[0]:qI(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{r.next&&r.next(e(a))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class jb{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Aa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return tN(this._delegate,e._delegate)}}class Hb extends jb{data(e){const t=this._delegate.data(e);return function rS(n,e){n||rt()}(void 0!==t),t}}class Ys{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new jC(e)}where(e,t,i){try{return new Ys(this.firestore,uf(this._delegate,function eL(n,e,t){const i=e,r=VC("where",n);return new XF(r,i,t)}(e,t,i)))}catch(r){throw Ks(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ys(this.firestore,uf(this._delegate,function nL(n,e="asc"){const t=e,i=VC("orderBy",n);return new tL(i,t)}(e,t)))}catch(i){throw Ks(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ys(this.firestore,uf(this._delegate,function iL(n){return UO("limit",n),new iN("limit",n,"F")}(e)))}catch(t){throw Ks(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ys(this.firestore,uf(this._delegate,function rL(n){return UO("limitToLast",n),new iN("limitToLast",n,"L")}(e)))}catch(t){throw Ks(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ys(this.firestore,uf(this._delegate,function sL(...n){return new rN("startAt",n,!0)}(...e)))}catch(t){throw Ks(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ys(this.firestore,uf(this._delegate,function oL(...n){return new rN("startAfter",n,!1)}(...e)))}catch(t){throw Ks(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ys(this.firestore,uf(this._delegate,function aL(...n){return new sN("endBefore",n,!0)}(...e)))}catch(t){throw Ks(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ys(this.firestore,uf(this._delegate,function lL(...n){return new sN("endAt",n,!1)}(...e)))}catch(t){throw Ks(t,"endAt()","Query.endAt()")}}isEqual(e){return $O(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function pL(n){n=Jt(n,vs);const e=Jt(n.firestore,ti),t=Ji(e),i=new Fg(e);return function TF(n,e){const t=new Ri;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(i=(0,be.Z)(function*(r,a,u){try{const f=yield bb(r,a,!0),_=new wO(a,f.zn),b=_.Po(f.documents),T=_.applyChanges(b,!1);u.resolve(T.snapshot)}catch(f){const _=Ye(f,`Failed to execute query '${a} against cache`);u.reject(_)}}),function(r,a,u){return i.apply(this,arguments)})(yield kI(n),e,t);var i})),t.promise}(t,n._query).then(r=>new cf(e,i,n,r))}(this._delegate):"server"===(null==e?void 0:e.source)?function gL(n){n=Jt(n,vs);const e=Jt(n.firestore,ti),t=Ji(e),i=new Fg(e);return PO(t,n._query,{source:"server"}).then(r=>new cf(e,i,n,r))}(this._delegate):function fL(n){n=Jt(n,vs);const e=Jt(n.firestore,ti),t=Ji(e),i=new Fg(e);return nN(n._query),PO(t,n._query).then(r=>new cf(e,i,n,r))}(this._delegate),t.then(i=>new ZI(this.firestore,new cf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=bN(e),i=wN(e,r=>new ZI(this.firestore,new cf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return fN(this._delegate,t,i)}withConverter(e){return new Ys(this.firestore,this._delegate.withConverter(e?Lg.getInstance(this.firestore,e):null))}}class NL{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Hb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ZI{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ys(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Hb(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new NL(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Hb(this._firestore,i))})}isEqual(e){return tN(this._delegate,e._delegate)}}class Ey extends Ys{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Aa(this.firestore,e):null}doc(e){try{return new Aa(this.firestore,void 0===e?RC(this._delegate):RC(this._delegate,e))}catch(t){throw Ks(t,"doc()","CollectionReference.doc()")}}add(e){return function _L(n,e){const t=Jt(n.firestore,ti),i=RC(n),r=UC(n.converter,e);return wy(t,[FC(Rg(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,pi.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Aa(this.firestore,t))}isEqual(e){return GO(this._delegate,e._delegate)}withConverter(e){return new Ey(this.firestore,this._delegate.withConverter(e?Lg.getInstance(this.firestore,e):null))}}function Bg(n){return Jt(n,$n)}class WI{constructor(...e){this._delegate=new Yu(...e)}static documentId(){return new WI(hi.keyField().canonicalString())}isEqual(e){return(e=(0,Ct.m9)(e))instanceof Yu&&this._delegate._internalPath.isEqual(e._internalPath)}}class Vg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function EL(){return new LI("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Vg(e)}static delete(){const e=function wL(){return new Fb("deleteField")}();return e._methodName="FieldValue.delete",new Vg(e)}static arrayUnion(...e){const t=function DL(...n){return new ZF("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Vg(t)}static arrayRemove(...e){const t=function CL(...n){return new WF("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Vg(t)}static increment(e){const t=function TL(n){return new KF("increment",n)}(e);return t._methodName="FieldValue.increment",new Vg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const kL={Firestore:_N,GeoPoint:xC,Timestamp:_r,Blob:Ub,Transaction:yN,WriteBatch:vN,DocumentReference:Aa,DocumentSnapshot:jb,Query:Ys,QueryDocumentSnapshot:Hb,QuerySnapshot:ZI,CollectionReference:Ey,FieldPath:WI,FieldValue:Vg,setLogLevel:function OL(n){!function rD(n){Cl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function xL(n){(function RL(n,e){n.INTERNAL.registerComponent(new nh.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},kL)))})(n,(e,t)=>new _N(e,t,new ML)),n.registerVersion("@firebase/firestore-compat","0.1.13")}(dE.Z);var Dy=P(6451),HC=P(5363),PL=P(6063);class FL extends At.x{constructor(e=1/0,t=1/0,i=PL.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:a,_windowTime:u}=this;t||(i.push(e),!r&&i.push(a.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,a=r.slice();for(let u=0;u<a.length&&!e.closed;u+=i?1:2)e.next(a[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,a=(r?1:2)*e;if(e<1/0&&a<i.length&&i.splice(0,i.length-a),!r){const u=t.now();let f=0;for(let _=1;_<i.length&&i[_]<=u;_+=2)f=_;f&&i.splice(0,f+1)}}}var EN=P(3099);function DN(n,e,t){var i,r;let a,u=!1;return n&&"object"==typeof n?(a=null!==(i=n.bufferSize)&&void 0!==i?i:1/0,e=null!==(r=n.windowTime)&&void 0!==r?r:1/0,u=!!n.refCount,t=n.scheduler):a=null!=n?n:1/0,(0,EN.B)({connector:()=>new FL(a,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:u})}function CN(n,e){return(0,$s.m)(e)?Ln(()=>n,e):Ln(()=>n)}var KI=P(9468);P(5867);const SN=new Map,jL={activated:!1,tokenObservers:[]},HL={initialized:!1,enabled:!1};function Br(n){return SN.get(n)||jL}function Nl(n,e){SN.set(n,e)}function $C(){return HL}class ZL{constructor(e,t,i,r,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,be.Z)(function*(){t.stop();try{t.pending=new Ct.BH,yield function WL(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Ct.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Js=new Ct.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function AN(n){if(!Br(n).activated)throw Js.create("use-before-activation",{appName:n.name})}function XI(n,e){return eA.apply(this,arguments)}function eA(){return eA=(0,be.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});r&&(i["X-Firebase-Client"]=r.getPlatformInfoString());const a={method:"POST",body:JSON.stringify(e),headers:i};let u,f;try{u=yield fetch(n,a)}catch(I){throw Js.create("fetch-network-error",{originalErrorMessage:I.message})}if(200!==u.status)throw Js.create("fetch-status-error",{httpStatus:u.status});try{f=yield u.json()}catch(I){throw Js.create("fetch-parse-error",{originalErrorMessage:I.message})}const _=f.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw Js.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const b=1e3*Number(_[1]),T=Date.now();return{token:f.attestationToken,expireTimeMillis:T+b,issuedAtTimeMillis:T}}),eA.apply(this,arguments)}function XL(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const Gb="firebase-app-check-store";let ZC=null;function ON(){return ZC||(ZC=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(Js.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Gb,{keyPath:"compositeKey"})}}catch(t){e(Js.create("storage-open",{originalErrorMessage:t.message}))}}),ZC)}function tA(){return tA=(0,be.Z)(function*(n,e){const i=(yield ON()).transaction(Gb,"readwrite"),a=i.objectStore(Gb).put({compositeKey:n,value:e});return new Promise((u,f)=>{a.onsuccess=_=>{u()},i.onerror=_=>{var b;f(Js.create("storage-set",{originalErrorMessage:null===(b=_.target.error)||void 0===b?void 0:b.message}))}})}),tA.apply(this,arguments)}const $b=new yl.Yd("@firebase/app-check");function xN(n,e){return(0,Ct.hl)()?function r2(n,e){return function NN(n,e){return tA.apply(this,arguments)}(function RN(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{$b.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function PN(){return $C().enabled}function FN(){return sA.apply(this,arguments)}function sA(){return sA=(0,be.Z)(function*(){const n=$C();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),sA.apply(this,arguments)}const u2={error:"UNKNOWN_ERROR"};function d2(n){return Ct.US.encodeString(JSON.stringify(n),!1)}function WC(n){return oA.apply(this,arguments)}function oA(){return oA=(0,be.Z)(function*(n,e=!1){const t=n.app;AN(t);const i=Br(t);let a,r=i.token;if(!r){const _=yield i.cachedTokenPromise;_&&KC(_)&&(r=_)}if(!e&&r&&KC(r))return{token:r.token};let f,u=!1;if(PN()){i.exchangeTokenPromise||(i.exchangeTokenPromise=XI(XL(t,yield FN()),n.platformLoggerProvider).then(b=>(i.exchangeTokenPromise=void 0,b)),u=!0);const _=yield i.exchangeTokenPromise;return yield xN(t,_),Nl(t,Object.assign(Object.assign({},i),{token:_})),{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(_=>(i.exchangeTokenPromise=void 0,_)),u=!0),r=yield i.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?$b.warn(_.message):$b.error(_),a=_}return r?(f={token:r.token},Nl(t,Object.assign(Object.assign({},i),{token:r})),yield xN(t,r)):f=f2(a),u&&BN(t,f),f}),oA.apply(this,arguments)}function lA(n,e){const t=Br(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Nl(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function LN(n){const{app:e}=n,t=Br(e);let i=t.tokenRefresher;i||(i=function h2(n){const{app:e}=n;return new ZL((0,be.Z)(function*(){let i;if(i=Br(e).token?yield WC(n,!0):yield WC(n),i.error)throw i.error}),()=>!0,()=>{const t=Br(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Nl(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function BN(n,e){const t=Br(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch(r){}}function KC(n){return n.expireTimeMillis-Date.now()>0}function f2(n){return{token:d2(u2),error:n}}class p2{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=Br(this.app);for(const t of e)lA(this.app,t.next);return Promise.resolve()}}const qN="app-check-internal";!function A2(){(0,Zo._registerComponent)(new nh.wA("app-check",n=>function g2(n,e){return new p2(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(qN).initialize()})),(0,Zo._registerComponent)(new nh.wA(qN,n=>function m2(n){return{getToken:e=>WC(n,e),addTokenListener:e=>function aA(n,e,t,i){const{app:r}=n,a=Br(r),u={next:t,error:i,type:e};if(Nl(r,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,u]})),a.token&&KC(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),LN(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>LN(n))}(n,"INTERNAL",e),removeTokenListener:e=>lA(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Zo.registerVersion)("@firebase/app-check","0.5.3")}();class JC{constructor(){return(0,Yt.vb)("app-check")}}"undefined"!=typeof window&&window;var WN=P(127);const KN=new c.OlP("angularfire2.auth.use-emulator"),YN=new c.OlP("angularfire2.auth.settings"),JN=new c.OlP("angularfire2.auth.tenant-id"),QN=new c.OlP("angularfire2.auth.langugage-code"),XN=new c.OlP("angularfire2.auth.use-device-language"),ek=new c.OlP("angularfire.auth.persistence"),tk=(n,e,t,i,r,a,u,f)=>(0,kr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),i&&(_.tenantId=i),_.languageCode=r,a&&_.useDeviceLanguage(),u)for(const[b,T]of Object.entries(u))_.settings[b]=T;return f&&_.setPersistence(f),_},[t,i,r,a,u,f]);let nk=(()=>{class n{constructor(t,i,r,a,u,f,_,b,T,I,R,x){const V=new At.x,Z=st(void 0).pipe((0,HC.Q)(u.outsideAngular),Ln(()=>a.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,389)))),(0,Qe.U)(()=>(0,kr.on)(t,a,i)),(0,Qe.U)(he=>tk(he,a,f,b,T,I,_,R)),DN({bufferSize:1,refCount:!1}));if(Ti(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=st(null);else{Z.pipe(y()).subscribe();const ke=Z.pipe(Ln(Ge=>Ge.getRedirectResult().then(Rt=>Rt,()=>null)),Yt.iC,DN({bufferSize:1,refCount:!1})),Ue=Z.pipe(Ln(Ge=>new pn.y(Rt=>({unsubscribe:a.runOutsideAngular(()=>Ge.onAuthStateChanged(hn=>Rt.next(hn),hn=>Rt.error(hn),()=>Rt.complete()))})))),We=Z.pipe(Ln(Ge=>new pn.y(Rt=>({unsubscribe:a.runOutsideAngular(()=>Ge.onIdTokenChanged(hn=>Rt.next(hn),hn=>Rt.error(hn),()=>Rt.complete()))}))));this.authState=ke.pipe(CN(Ue),(0,KI.R)(u.outsideAngular),(0,HC.Q)(u.insideAngular)),this.user=ke.pipe(CN(We),(0,KI.R)(u.outsideAngular),(0,HC.Q)(u.insideAngular)),this.idToken=this.user.pipe(Ln(Ge=>Ge?(0,bn.D)(Ge.getIdToken()):st(null))),this.idTokenResult=this.user.pipe(Ln(Ge=>Ge?(0,bn.D)(Ge.getIdTokenResult()):st(null))),this.credential=(0,Dy.T)(ke,V,this.authState.pipe(on(Ge=>!Ge))).pipe((0,Qe.U)(Ge=>(null==Ge?void 0:Ge.user)?Ge:null),(0,KI.R)(u.outsideAngular),(0,HC.Q)(u.insideAngular))}return(0,kr.pX)(this,Z,a,{spy:{apply:(he,ke,Ue)=>{(he.startsWith("signIn")||he.startsWith("createUser"))&&Ue.then(We=>V.next(We))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(kr.Dh),c.LFG(kr.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Yt.HU),c.LFG(KN,8),c.LFG(YN,8),c.LFG(JN,8),c.LFG(QN,8),c.LFG(XN,8),c.LFG(ek,8),c.LFG(JC,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function ik(n,e){return function x2(n,e=Tp.z){return new pn.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=i&&i()}})}(n,e)}function fA(n,e){return ik(n,e).pipe((0,Qe.U)(t=>({payload:t,type:"query"})))}function QC(n,e){return fA(n,e).pipe(Nr(void 0),Sp(),(0,Qe.U)(([t,i])=>{const r=i.payload.docChanges(),a=r.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,f)=>{const _=r.find(T=>T.doc.ref.isEqual(u.ref)),b=null==t?void 0:t.payload.docs.find(T=>T.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&b&&JSON.stringify(b.metadata)===JSON.stringify(u.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:u}})}),a}))}function rk(n,e,t){return QC(n,t).pipe(mu((i,r)=>function F2(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function L2(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return pA(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return pA(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return pA(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(a=>a.payload),e),[]),th(),(0,Qe.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function pA(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function sk(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class ok{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=QC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Qe.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Nr(void 0),Sp(),on(([i,r])=>r.length>0||!i),(0,Qe.U)(([i,r])=>r),Yt.iC)}auditTrail(e){return this.stateChanges(e).pipe(mu((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=sk(e);return rk(this.query,t,this.afs.schedulers.outsideAngular).pipe(Yt.iC)}valueChanges(e={}){return fA(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qe.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),Yt.iC)}get(e){return(0,bn.D)(this.query.get(e)).pipe(Yt.iC)}add(e){return this.ref.add(e)}doc(e){return new ak(this.ref.doc(e),this.afs)}}class ak{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:a}=uk(i,t);return new ok(r,a,this.afs)}snapshotChanges(){return function P2(n,e){return ik(n,e).pipe(Nr(void 0),Sp(),(0,Qe.U)(([t,i])=>i.exists?(null==t?void 0:t.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Yt.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Qe.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,bn.D)(this.ref.get(e)).pipe(Yt.iC)}}class B2{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?QC(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qe.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),on(t=>t.length>0),Yt.iC):QC(this.query,this.afs.schedulers.outsideAngular).pipe(Yt.iC)}auditTrail(e){return this.stateChanges(e).pipe(mu((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=sk(e);return rk(this.query,t,this.afs.schedulers.outsideAngular).pipe(Yt.iC)}valueChanges(e={}){return fA(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qe.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),Yt.iC)}get(e){return(0,bn.D)(this.query.get(e)).pipe(Yt.iC)}}const lk=new c.OlP("angularfire2.enableFirestorePersistence"),ck=new c.OlP("angularfire2.firestore.persistenceSettings"),V2=new c.OlP("angularfire2.firestore.settings"),U2=new c.OlP("angularfire2.firestore.use-emulator");function uk(n,e=(t=>t)){return{query:e(n),ref:n}}let dk=(()=>{class n{constructor(t,i,r,a,u,f,_,b,T,I,R,x,V,Z,he,ke,Ue){this.schedulers=_;const We=(0,kr.on)(t,f,i),Ge=T;I&&tk(We,f,R,V,Z,he,x,ke),[this.firestore,this.persistenceEnabled$]=(0,kr.cc)(`${We.name}.firestore`,"AngularFirestore",We.name,()=>{const Rt=f.runOutsideAngular(()=>We.firestore());if(a&&Rt.settings(a),Ge&&Rt.useEmulator(...Ge),r&&!Ti(u)){const hn=()=>{try{return(0,bn.D)(Rt.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(Rn){return"undefined"!=typeof console&&console.warn(Rn),st(!1)}};return[Rt,f.runOutsideAngular(hn)]}return[Rt,st(!1)]},[a,Ge,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:u}=uk(r,i),f=this.schedulers.ngZone.run(()=>a);return new ok(f,u,this)}collectionGroup(t,i){const r=i||(u=>u),a=this.firestore.collectionGroup(t);return new B2(r(a),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new ak(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(kr.Dh),c.LFG(kr.xv,8),c.LFG(lk,8),c.LFG(V2,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Yt.HU),c.LFG(ck,8),c.LFG(U2,8),c.LFG(nk,8),c.LFG(KN,8),c.LFG(YN,8),c.LFG(JN,8),c.LFG(QN,8),c.LFG(XN,8),c.LFG(ek,8),c.LFG(JC,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),j2=(()=>{class n{constructor(){WN.Z.registerVersion("angularfire",Yt.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:lk,useValue:!0},{provide:ck,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[dk]}),n})();class hk{}class fk{}class Qu{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),a=r.toLowerCase(),u=t.slice(i+1).trim();this.maybeSetNormalizedName(r,a),this.headers.has(a)?this.headers.get(a).push(u):this.headers.set(a,[u])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Qu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Qu;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Qu?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const a=e.value;if(a){let u=this.headers.get(t);if(!u)return;u=u.filter(f=>-1===a.indexOf(f)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class H2{encodeKey(e){return pk(e)}encodeValue(e){return pk(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const $2=/%(\d[a-f0-9])/gi,z2={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function pk(n){return encodeURIComponent(n).replace($2,(e,t)=>{var i;return null!==(i=z2[t])&&void 0!==i?i:e})}function gk(n){return`${n}`}class hf{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new H2,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function G2(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const a=r.indexOf("="),[u,f]=-1==a?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,a)),e.decodeValue(r.slice(a+1))],_=t.get(u)||[];_.push(f),t.set(u,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t];this.map.set(t,Array.isArray(i)?i:[i])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(a=>{t.push({param:i,value:a,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new hf({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(gk(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(gk(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class q2{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function mk(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function _k(n){return"undefined"!=typeof Blob&&n instanceof Blob}function yk(n){return"undefined"!=typeof FormData&&n instanceof FormData}class zb{constructor(e,t,i,r){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Z2(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,a=r):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new Qu),this.context||(this.context=new q2),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+u}}else this.params=new hf,this.urlWithParams=t}serializeBody(){return null===this.body?null:mk(this.body)||_k(this.body)||yk(this.body)||function W2(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof hf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||yk(this.body)?null:_k(this.body)?this.body.type||null:mk(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof hf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const i=e.method||this.method,r=e.url||this.url,a=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,f=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,_=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let b=e.headers||this.headers,T=e.params||this.params;const I=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(b=Object.keys(e.setHeaders).reduce((R,x)=>R.set(x,e.setHeaders[x]),b)),e.setParams&&(T=Object.keys(e.setParams).reduce((R,x)=>R.set(x,e.setParams[x]),T)),new zb(i,r,u,{params:T,headers:b,context:I,reportProgress:_,responseType:a,withCredentials:f})}}var Qi=(()=>((Qi=Qi||{})[Qi.Sent=0]="Sent",Qi[Qi.UploadProgress=1]="UploadProgress",Qi[Qi.ResponseHeader=2]="ResponseHeader",Qi[Qi.DownloadProgress=3]="DownloadProgress",Qi[Qi.Response=4]="Response",Qi[Qi.User=5]="User",Qi))();class gA{constructor(e,t=200,i="OK"){this.headers=e.headers||new Qu,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class mA extends gA{constructor(e={}){super(e),this.type=Qi.ResponseHeader}clone(e={}){return new mA({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class XC extends gA{constructor(e={}){super(e),this.type=Qi.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new XC({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class vk extends gA{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function _A(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let eT=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let a;if(t instanceof zb)a=t;else{let _,b;_=r.headers instanceof Qu?r.headers:new Qu(r.headers),r.params&&(b=r.params instanceof hf?r.params:new hf({fromObject:r.params})),a=new zb(t,i,void 0!==r.body?r.body:null,{headers:_,context:r.context,params:b,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=st(a).pipe(ac(_=>this.handler.handle(_)));if(t instanceof zb||"events"===r.observe)return u;const f=u.pipe(on(_=>_ instanceof XC));switch(r.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,Qe.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return f.pipe((0,Qe.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return f.pipe((0,Qe.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return f.pipe((0,Qe.U)(_=>_.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new hf).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,_A(r,i))}post(t,i,r={}){return this.request("POST",t,_A(r,i))}put(t,i,r={}){return this.request("PUT",t,_A(r,i))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(hk))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class bk{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const wk=new c.OlP("HTTP_INTERCEPTORS");let K2=(()=>{class n{intercept(t,i){return i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Y2=/^\)\]\}',?\n/;let Ek=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new pn.y(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((x,V)=>r.setRequestHeader(x,V.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const x=t.detectContentTypeHeader();null!==x&&r.setRequestHeader("Content-Type",x)}if(t.responseType){const x=t.responseType.toLowerCase();r.responseType="json"!==x?x:"text"}const a=t.serializeBody();let u=null;const f=()=>{if(null!==u)return u;const x=1223===r.status?204:r.status,V=r.statusText||"OK",Z=new Qu(r.getAllResponseHeaders()),he=function J2(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return u=new mA({headers:Z,status:x,statusText:V,url:he}),u},_=()=>{let{headers:x,status:V,statusText:Z,url:he}=f(),ke=null;204!==V&&(ke=void 0===r.response?r.responseText:r.response),0===V&&(V=ke?200:0);let Ue=V>=200&&V<300;if("json"===t.responseType&&"string"==typeof ke){const We=ke;ke=ke.replace(Y2,"");try{ke=""!==ke?JSON.parse(ke):null}catch(Ge){ke=We,Ue&&(Ue=!1,ke={error:Ge,text:ke})}}Ue?(i.next(new XC({body:ke,headers:x,status:V,statusText:Z,url:he||void 0})),i.complete()):i.error(new vk({error:ke,headers:x,status:V,statusText:Z,url:he||void 0}))},b=x=>{const{url:V}=f(),Z=new vk({error:x,status:r.status||0,statusText:r.statusText||"Unknown Error",url:V||void 0});i.error(Z)};let T=!1;const I=x=>{T||(i.next(f()),T=!0);let V={type:Qi.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(V.total=x.total),"text"===t.responseType&&!!r.responseText&&(V.partialText=r.responseText),i.next(V)},R=x=>{let V={type:Qi.UploadProgress,loaded:x.loaded};x.lengthComputable&&(V.total=x.total),i.next(V)};return r.addEventListener("load",_),r.addEventListener("error",b),r.addEventListener("timeout",b),r.addEventListener("abort",b),t.reportProgress&&(r.addEventListener("progress",I),null!==a&&r.upload&&r.upload.addEventListener("progress",R)),r.send(a),i.next({type:Qi.Sent}),()=>{r.removeEventListener("error",b),r.removeEventListener("abort",b),r.removeEventListener("load",_),r.removeEventListener("timeout",b),t.reportProgress&&(r.removeEventListener("progress",I),null!==a&&r.upload&&r.upload.removeEventListener("progress",R)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(sn))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const yA=new c.OlP("XSRF_COOKIE_NAME"),vA=new c.OlP("XSRF_HEADER_NAME");class Dk{}let Q2=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Io(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ee),c.LFG(c.Lbi),c.LFG(yA))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),bA=(()=>{class n{constructor(t,i){this.tokenService=t,this.headerName=i}intercept(t,i){const r=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(t);const a=this.tokenService.getToken();return null!==a&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,a)})),i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Dk),c.LFG(vA))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),X2=(()=>{class n{constructor(t,i){this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=this.injector.get(wk,[]);this.chain=i.reduceRight((r,a)=>new bk(r,a),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fk),c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),eB=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:bA,useClass:K2}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:yA,useValue:t.cookieName}:[],t.headerName?{provide:vA,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[bA,{provide:wk,useExisting:bA,multi:!0},{provide:Dk,useClass:Q2},{provide:yA,useValue:"XSRF-TOKEN"},{provide:vA,useValue:"X-XSRF-TOKEN"}]}),n})(),tB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[eT,{provide:hk,useClass:X2},Ek,{provide:fk,useExisting:Ek}],imports:[[eB.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();function wA(n,e=Tp.z){return(0,ui.e)((t,i)=>{let r=null,a=null,u=null;const f=()=>{if(r){r.unsubscribe(),r=null;const b=a;a=null,i.next(b)}};function _(){const b=u+n,T=e.now();if(T<b)return r=this.schedule(void 0,b-T),void i.add(r);f()}t.subscribe(new zt.Q(i,b=>{a=b,u=e.now(),r||(r=e.schedule(_,n),i.add(r))},()=>{f(),i.complete()},void 0,()=>{a=r=null}))})}const Ck="firebasestorage.googleapis.com",Tk="storageBucket";class Ei extends Ct.ZR{constructor(e,t){super(EA(e),`Firebase Storage: ${t} (${EA(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ei.prototype)}_codeEquals(e){return EA(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function EA(n){return"storage/"+n}function DA(){return new Ei("unknown","An unknown error occurred, please check the error payload for server response.")}function Sk(){return new Ei("canceled","User canceled the upload/download.")}function Ik(){return new Ei("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Cy(n){return new Ei("invalid-argument",n)}function Ak(){return new Ei("app-deleted","The Firebase app was deleted.")}function Mk(n){return new Ei("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function qb(n,e){return new Ei("invalid-format","String does not match format '"+n+"': "+e)}function Zb(n){throw new Ei("internal-error","Internal error: "+n)}class bs{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=bs.makeFromUrl(e,t)}catch(r){return new bs(e,"")}if(""===i.path)return i;throw function dB(n){return new Ei("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",f=new RegExp("^gs://"+r+"(/(.*))?$","i");function b(Ge){Ge.path_=decodeURIComponent(Ge.path)}const I=t.replace(/[.]/g,"\\."),We=[{regex:f,indices:{bucket:1,path:3},postModify:function a(Ge){"/"===Ge.path.charAt(Ge.path.length-1)&&(Ge.path_=Ge.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${I}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:b},{regex:new RegExp(`^https?://${t===Ck?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:b}];for(let Ge=0;Ge<We.length;Ge++){const Rt=We[Ge],hn=Rt.regex.exec(e);if(hn){let ii=hn[Rt.indices.path];ii||(ii=""),i=new bs(hn[Rt.indices.bucket],ii),Rt.postModify(i);break}}if(null==i)throw function uB(n){return new Ei("invalid-url","Invalid URL '"+n+"'.")}(e);return i}}class gB{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function tT(n){return"string"==typeof n||n instanceof String}function Ok(n){return CA()&&n instanceof Blob}function CA(){return"undefined"!=typeof Blob}function TA(n,e,t,i){if(i<e)throw Cy(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Cy(`Invalid value for '${n}'. Expected ${t} or less.`)}function Xu(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function Nk(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var ff=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(ff||(ff={})),ff))();class wB{constructor(e,t,i,r,a,u,f,_,b,T,I){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=_,this.timeout_=b,this.progressCallback_=T,this.connectionFactory_=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,x)=>{this.resolve_=R,this.reject_=x,this.start_()})}start_(){const t=(i,r)=>{const a=this.resolve_,u=this.reject_,f=r.connection;if(r.wasSuccessCode)try{const _=this.callback_(f,f.getResponse());!function yB(n){return void 0!==n}(_)?a():a(_)}catch(_){u(_)}else if(null!==f){const _=DA();_.serverResponse=f.getErrorText(),u(this.errorCallback_?this.errorCallback_(f,_):_)}else u(r.canceled?this.appDelete_?Ak():Sk():function cB(){return new Ei("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new nT(!1,null,!0)):this.backoffId_=function mB(n,e,t){let i=1,r=null,a=null,u=!1,f=0;function _(){return 2===f}let b=!1;function T(...he){b||(b=!0,e.apply(null,he))}function I(he){r=setTimeout(()=>{r=null,n(x,_())},he)}function R(){a&&clearTimeout(a)}function x(he,...ke){if(b)return void R();if(he)return R(),void T.call(null,he,...ke);if(_()||u)return R(),void T.call(null,he,...ke);let We;i<64&&(i*=2),1===f?(f=2,We=0):We=1e3*(i+Math.random()),I(We)}let V=!1;function Z(he){V||(V=!0,R(),!b&&(null!==r?(he||(f=2),clearTimeout(r),I(0)):he||(f=1)))}return I(0),a=setTimeout(()=>{u=!0,Z(!0)},t),Z}((i,r)=>{if(r)return void i(!1,new nT(!1,null,!0));const a=this.connectionFactory_();this.pendingConnection_=a;const u=f=>{null!==this.progressCallback_&&this.progressCallback_(f.loaded,f.lengthComputable?f.total:-1)};null!==this.progressCallback_&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const f=a.getErrorCode()===ff.NO_ERROR,_=a.getStatus();if(!f||this.isRetryStatusCode_(_)){const T=a.getErrorCode()===ff.ABORT;return void i(!1,new nT(!1,null,T))}const b=-1!==this.successCodes_.indexOf(_);i(!0,new nT(b,a))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function _B(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,r=-1!==[408,429].indexOf(e),a=-1!==this.additionalRetryCodes_.indexOf(e);return t||r||a}}class nT{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function AB(...n){const e=function IB(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(CA())return new Blob(n);throw new Ei("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Xo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class SA{constructor(e,t){this.data=e,this.contentType=t||null}}function IA(n,e){switch(n){case Xo.RAW:return new SA(kk(e));case Xo.BASE64:case Xo.BASE64URL:return new SA(Rk(n,e));case Xo.DATA_URL:return new SA(function kB(n){const e=new xk(n);return e.base64?Rk(Xo.BASE64,e.rest):function NB(n){let e;try{e=decodeURIComponent(n)}catch(t){throw qb(Xo.DATA_URL,"Malformed data URL.")}return kk(e)}(e.rest)}(e),function RB(n){return new xk(n).contentType}(e))}throw DA()}function kk(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function Rk(n,e){switch(n){case Xo.BASE64:{const r=-1!==e.indexOf("-"),a=-1!==e.indexOf("_");if(r||a)throw qb(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Xo.BASE64URL:{const r=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(r||a)throw qb(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function OB(n){return atob(n)}(e)}catch(r){throw qb(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class xk{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw qb(Xo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function xB(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=e.substring(e.indexOf(",")+1)}}class Fc{constructor(e,t){let i=0,r="";Ok(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(Ok(this.data_)){const r=function MB(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new Fc(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Fc(i,!0)}}static getBlob(...e){if(CA()){const t=e.map(i=>i instanceof Fc?i.data_:i);return new Fc(AB.apply(null,t))}{const t=e.map(u=>tT(u)?IA(Xo.RAW,u).data:u.data_);let i=0;t.forEach(u=>{i+=u.byteLength});const r=new Uint8Array(i);let a=0;return t.forEach(u=>{for(let f=0;f<u.length;f++)r[a++]=u[f]}),new Fc(r,!0)}}uploadData(){return this.data_}}function AA(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function bB(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function Pk(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function LB(n,e){return e}class Qs{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||LB}}let iT=null;function Wb(){if(iT)return iT;const n=[];n.push(new Qs("bucket")),n.push(new Qs("generation")),n.push(new Qs("metageneration")),n.push(new Qs("name","fullPath",!0));const t=new Qs("name");t.xform=function e(a,u){return function BB(n){return!tT(n)||n.length<2?n:Pk(n)}(u)},n.push(t);const r=new Qs("size");return r.xform=function i(a,u){return void 0!==u?Number(u):u},n.push(r),n.push(new Qs("timeCreated")),n.push(new Qs("updated")),n.push(new Qs("md5Hash",null,!0)),n.push(new Qs("cacheControl",null,!0)),n.push(new Qs("contentDisposition",null,!0)),n.push(new Qs("contentEncoding",null,!0)),n.push(new Qs("contentLanguage",null,!0)),n.push(new Qs("contentType",null,!0)),n.push(new Qs("metadata","customMetadata",!0)),iT=n,iT}function Fk(n,e,t){const i=AA(e);return null===i?null:function UB(n,e,t){const i={type:"file"},r=t.length;for(let a=0;a<r;a++){const u=t[a];i[u.local]=u.xform(i,e[u.server])}return function VB(n,e){Object.defineProperty(n,"ref",{get:function t(){const a=new bs(n.bucket,n.fullPath);return e._makeStorageReference(a)}})}(i,n),i}(n,i,t)}function MA(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const a=e[r];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}const Lk="prefixes";class Lc{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Bc(n){if(!n)throw DA()}function rT(n,e){return function t(i,r){const a=Fk(n,r,e);return Bc(null!==a),a}}function Ty(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function aB(){return new Ei("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function oB(){return new Ei("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function sB(n){return new Ei("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function lB(n){return new Ei("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.serverResponse=i.serverResponse,r}}function Kb(n){const e=Ty(n);return function t(i,r){let a=e(i,r);return 404===i.getStatus()&&(a=function rB(n){return new Ei("object-not-found","Object '"+n+"' does not exist.")}(n.path)),a.serverResponse=r.serverResponse,a}}function Vk(n,e,t){const r=Xu(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,f=new Lc(r,"GET",rT(n,t),u);return f.errorHandler=Kb(e),f}function qB(n,e,t,i,r){const a={};a.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(a.delimiter=t),i&&(a.pageToken=i),r&&(a.maxResults=r);const f=Xu(e.bucketOnlyServerUrl(),n.host,n._protocol),b=n.maxOperationRetryTime,T=new Lc(f,"GET",function $B(n,e){return function t(i,r){const a=function GB(n,e,t){const i=AA(t);return null===i?null:function HB(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[Lk])for(const r of t[Lk]){const a=r.replace(/\/$/,""),u=n._makeStorageReference(new bs(e,a));i.prefixes.push(u)}if(t.items)for(const r of t.items){const a=n._makeStorageReference(new bs(e,r.name));i.items.push(a)}return i}(n,e,i)}(n,e,r);return Bc(null!==a),a}}(n,e.bucket),b);return T.urlParams=a,T.errorHandler=Ty(e),T}function jk(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function YB(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}class sT{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}}function OA(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(r){Bc(!1)}return Bc(!!t&&-1!==(e||["active"]).indexOf(t)),t}const eV={STATE_CHANGED:"state_changed"},Xs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function NA(n){switch(n){case"running":case"pausing":case"canceling":return Xs.RUNNING;case"paused":return Xs.PAUSED;case"success":return Xs.SUCCESS;case"canceled":return Xs.CANCELED;default:return Xs.ERROR}}class tV{constructor(e,t,i){if(function vB(n){return"function"==typeof n}(e)||null!=t||null!=i)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=i?i:void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}function Sy(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class iV extends class nV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ff.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ff.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ff.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw Zb("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const a in r)r.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,r[a].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Zb("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Zb("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw Zb("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Zb("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function kl(){return new iV}class zk{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=Wb(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=r,this._transition("error"))},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this._promise=new Promise((r,a)=>{this._resolve=r,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const i=function JB(n,e,t,i,r){const a=e.bucketOnlyServerUrl(),u=jk(e,i,r),f={name:u.fullPath},_=Xu(a,n.host,n._protocol),T={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},I=MA(u,t),V=new Lc(_,"POST",function x(Z){let he;OA(Z);try{he=Z.getResponseHeader("X-Goog-Upload-URL")}catch(ke){Bc(!1)}return Bc(tT(he)),he},n.maxUploadRetryTime);return V.urlParams=f,V.headers=T,V.body=I,V.errorHandler=Ty(e),V}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,kl,e,t);this._request=r,r.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const r=function QB(n,e,t,i){const _=new Lc(t,"POST",function a(b){const T=OA(b,["active","final"]);let I=null;try{I=b.getResponseHeader("X-Goog-Upload-Size-Received")}catch(x){Bc(!1)}I||Bc(!1);const R=Number(I);return Bc(!isNaN(R)),new sT(R,i.size(),"final"===T)},n.maxUploadRetryTime);return _.headers={"X-Goog-Upload-Command":"query"},_.errorHandler=Ty(e),_}(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(r,kl,t,i);this._request=a,a.getPromise().then(u=>{u=u,this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new sT(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,a)=>{let u;try{u=function XB(n,e,t,i,r,a,u,f){const _=new sT(0,0);if(u?(_.current=u.current,_.total=u.total):(_.current=0,_.total=i.size()),i.size()!==_.total)throw function fB(){return new Ei("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const b=_.total-_.current;let T=b;r>0&&(T=Math.min(T,r));const I=_.current,V={"X-Goog-Upload-Command":T===b?"upload, finalize":"upload","X-Goog-Upload-Offset":`${_.current}`},Z=i.slice(I,I+T);if(null===Z)throw Ik();const We=new Lc(t,"POST",function he(Ge,Rt){const hn=OA(Ge,["active","final"]),Rn=_.current+T,ii=i.size();let ia;return ia="final"===hn?rT(e,a)(Ge,Rt):null,new sT(Rn,ii,"final"===hn,ia)},e.maxUploadRetryTime);return We.headers=V,We.body=Z.uploadData(),We.progressCallback=f||null,We.errorHandler=Ty(n),We}(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(_){return this._error=_,void this._transition("error")}const f=this._ref.storage._makeRequest(u,kl,r,a);this._request=f,f.getPromise().then(_=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(_.current),_.finalized?(this._metadata=_.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=Vk(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,kl,e,t);this._request=r,r.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=function Hk(n,e,t,i,r){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},_=function f(){let We="";for(let Ge=0;Ge<2;Ge++)We+=Math.random().toString().slice(2);return We}();u["Content-Type"]="multipart/related; boundary="+_;const b=jk(e,i,r),T=MA(b,t),x=Fc.getBlob("--"+_+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+T+"\r\n--"+_+"\r\nContent-Type: "+b.contentType+"\r\n\r\n",i,"\r\n--"+_+"--");if(null===x)throw Ik();const V={name:b.fullPath},Z=Xu(a,n.host,n._protocol),ke=n.maxUploadRetryTime,Ue=new Lc(Z,"POST",rT(n,t),ke);return Ue.urlParams=V,Ue.headers=u,Ue.body=x.uploadData(),Ue.errorHandler=Ty(e),Ue}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,kl,e,t);this._request=r,r.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Sk(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=NA(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){const a=new tV(t||void 0,i||void 0,r||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(NA(this._state)){case Xs.SUCCESS:Sy(this._resolve.bind(null,this.snapshot))();break;case Xs.CANCELED:case Xs.ERROR:Sy(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(NA(this._state)){case Xs.RUNNING:case Xs.PAUSED:e.next&&Sy(e.next.bind(e,this.snapshot))();break;case Xs.SUCCESS:e.complete&&Sy(e.complete.bind(e))();break;default:e.error&&Sy(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Ug{constructor(e,t){this._service=e,this._location=t instanceof bs?t:bs.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ug(e,t)}get root(){const e=new bs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Pk(this._location.path)}get storage(){return this._service}get parent(){const e=function PB(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new bs(this._location.bucket,e);return new Ug(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw Mk(e)}}function Zk(n,e,t){return kA.apply(this,arguments)}function kA(){return kA=(0,be.Z)(function*(n,e,t){const r=yield Wk(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield Zk(n,e,r.nextPageToken))}),kA.apply(this,arguments)}function Wk(n,e){null!=e&&"number"==typeof e.maxResults&&TA("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=qB(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,kl)}function gV(n){n._throwIfRoot("getDownloadURL");const e=function ZB(n,e,t){const r=Xu(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,f=new Lc(r,"GET",function zB(n,e){return function t(i,r){const a=Fk(n,r,e);return Bc(null!==a),function jB(n,e,t,i){const r=AA(e);if(null===r||!tT(r.downloadTokens))return null;const a=r.downloadTokens;if(0===a.length)return null;const u=encodeURIComponent;return a.split(",").map(b=>{const I=n.fullPath;return Xu("/b/"+u(n.bucket)+"/o/"+u(I),t,i)+Nk({alt:"media",token:b})})[0]}(a,r,n.host,n._protocol)}}(n,t),u);return f.errorHandler=Kb(e),f}(n.storage,n._location,Wb());return n.storage.makeRequestWithTokens(e,kl).then(t=>{if(null===t)throw function pB(){return new Ei("no-download-url","The given file does not have any download URLs.")}();return t})}function Kk(n,e){const t=function FB(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new bs(n._location.bucket,t);return new Ug(n.storage,i)}function Yk(n,e){if(n instanceof RA){const t=n;if(null==t._bucket)throw function hB(){return new Ei("no-default-bucket","No default bucket found. Did you set the '"+Tk+"' property when initializing the app?")}();const i=new Ug(t,t._bucket);return null!=e?Yk(i,e):i}return void 0!==e?Kk(n,e):n}function vV(n,e){if(e&&function _V(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof RA)return function yV(n,e){return new Ug(n,e)}(n,e);throw Cy("To use ref(service, url), the first argument must be a Storage instance.")}return Yk(n,e)}function Jk(n,e){const t=null==e?void 0:e[Tk];return null==t?null:bs.makeFromBucketSpec(t,n)}class RA{constructor(e,t,i,r,a){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=a,this._bucket=null,this._host=Ck,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?bs.makeFromBucketSpec(r,this._host):Jk(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?bs.makeFromBucketSpec(this._url,e):Jk(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){TA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){TA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,be.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,be.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ug(this,e)}_makeRequest(e,t,i,r){if(this._deleted)return new gB(Ak());{const a=function SB(n,e,t,i,r,a){const u=Nk(n.urlParams),f=n.url+u,_=Object.assign({},n.headers);return function CB(n,e){e&&(n["X-Firebase-GMPID"]=e)}(_,e),function EB(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(_,t),function DB(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(_,a),function TB(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(_,i),new wB(f,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r)}(e,this._appId,i,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}makeRequestWithTokens(e,t){var i=this;return(0,be.Z)(function*(){const[r,a]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,a).getPromise()})()}}const Qk="@firebase/storage";function tR(n,e){return vV(n=(0,Ct.m9)(n),e)}function OV(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new RA(t,i,r,e,Zo.SDK_VERSION)}!function NV(){(0,Zo._registerComponent)(new nh.wA("storage",OV,"PUBLIC").setMultipleInstances(!0)),(0,Zo.registerVersion)(Qk,"0.9.2",""),(0,Zo.registerVersion)(Qk,"0.9.2","esm2017")}();class oT{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class nR{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new oT(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new oT(i,this,this._ref))},t)}on(e,t,i,r){let a;return t&&(a="function"==typeof t?u=>t(new oT(u,this,this._ref)):{next:t.next?u=>t.next(new oT(u,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,i||void 0,r||void 0)}}class iR{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new ed(e,this._service))}get items(){return this._delegate.items.map(e=>new ed(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ed{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function AV(n,e){return Kk(n,e)}(this._delegate,e);return new ed(t,this.storage)}get root(){return new ed(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new ed(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new nR(function wV(n,e,t){return function uV(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new zk(n,new Fc(e),t)}(n=(0,Ct.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Xo.RAW,i){this._throwIfRoot("putString");const r=IA(t,e),a=Object.assign({},i);return null==a.contentType&&null!=r.contentType&&(a.contentType=r.contentType),new nR(new zk(this._delegate,new Fc(r.data,!0),a),this)}listAll(){return function TV(n){return function hV(n){const e={prefixes:[],items:[]};return Zk(n,e).then(()=>e)}(n=(0,Ct.m9)(n))}(this._delegate).then(e=>new iR(e,this.storage))}list(e){return function CV(n,e){return Wk(n=(0,Ct.m9)(n),e)}(this._delegate,e||void 0).then(t=>new iR(t,this.storage))}getMetadata(){return function EV(n){return function fV(n){n._throwIfRoot("getMetadata");const e=Vk(n.storage,n._location,Wb());return n.storage.makeRequestWithTokens(e,kl)}(n=(0,Ct.m9)(n))}(this._delegate)}updateMetadata(e){return function DV(n,e){return function pV(n,e){n._throwIfRoot("updateMetadata");const t=function WB(n,e,t,i){const a=Xu(e.fullServerUrl(),n.host,n._protocol),f=MA(t,i),b=n.maxOperationRetryTime,T=new Lc(a,"PATCH",rT(n,i),b);return T.headers={"Content-Type":"application/json; charset=utf-8"},T.body=f,T.errorHandler=Kb(e),T}(n.storage,n._location,e,Wb());return n.storage.makeRequestWithTokens(t,kl)}(n=(0,Ct.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function SV(n){return gV(n=(0,Ct.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function IV(n){return function mV(n){n._throwIfRoot("deleteObject");const e=function KB(n,e){const i=Xu(e.fullServerUrl(),n.host,n._protocol),f=new Lc(i,"DELETE",function u(_,b){},n.maxOperationRetryTime);return f.successCodes=[200,204],f.errorHandler=Kb(e),f}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,kl)}(n=(0,Ct.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw Mk(e)}}class rR{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(sR(e))throw Cy("ref() expected a child path but got a URL, use refFromURL instead.");return new ed(tR(this._delegate,e),this)}refFromURL(e){if(!sR(e))throw Cy("refFromURL() expected a full URL but got a child path, use ref() instead.");try{bs.makeFromUrl(e,this._delegate.host)}catch(t){throw Cy("refFromUrl() expected a valid full URL but got an invalid one.")}return new ed(tR(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){!function MV(n,e,t,i={}){!function bV(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,Ct.Sg)(r,n.app.options.projectId))}(n,e,t,i)}(this._delegate,e,t,i)}}function sR(n){return/^[A-Za-z]+:\/\//.test(n)}function PV(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new rR(t,i)}function oR(n){const e=function LV(n){return new pn.y(e=>{const t=u=>e.next(u);t(n.snapshot);const a=n.on("state_changed",t);return n.then(u=>{t(u),e.complete()},u=>{t(n.snapshot),(u=>{e.error(u)})(u)}),function(){a()}}).pipe(wA(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,Qe.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function aT(n){return{getDownloadURL:()=>st(void 0).pipe(Yt.fc,Ln(()=>n.getDownloadURL()),Yt.iC),getMetadata:()=>st(void 0).pipe(Yt.fc,Ln(()=>n.getMetadata()),Yt.iC),delete:()=>(0,bn.D)(n.delete()),child:e=>aT(n.child(e)),updateMetadata:e=>(0,bn.D)(n.updateMetadata(e)),put:(e,t)=>oR(n.put(e,t)),putString:(e,t,i)=>oR(n.putString(e,t,i)),list:e=>(0,bn.D)(n.list(e)),listAll:()=>(0,bn.D)(n.listAll())}}!function FV(n){const e={TaskState:Xs,TaskEvent:eV,StringFormat:Xo,Storage:rR,Reference:ed};n.INTERNAL.registerComponent(new nh.wA("storage-compat",PV,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.10")}(dE.Z);const BV=new c.OlP("angularfire2.storageBucket"),VV=new c.OlP("angularfire2.storage.maxUploadRetryTime"),UV=new c.OlP("angularfire2.storage.maxOperationRetryTime"),jV=new c.OlP("angularfire2.storage.use-emulator");let lT=(()=>{class n{constructor(t,i,r,a,u,f,_,b,T,I){const R=(0,kr.on)(t,u,i);this.storage=(0,kr.cc)(`${R.name}.storage.${r}`,"AngularFireStorage",R.name,()=>{const x=u.runOutsideAngular(()=>R.storage(r||void 0)),V=T;return V&&x.useEmulator(...V),_&&x.setMaxUploadRetryTime(_),b&&x.setMaxOperationRetryTime(b),x},[_,b])}ref(t){return aT(this.storage.ref(t))}refFromURL(t){return aT(this.storage.refFromURL(t))}upload(t,i,r){return aT(this.storage.ref(t)).put(i,r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(kr.Dh),c.LFG(kr.xv,8),c.LFG(BV,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Yt.HU),c.LFG(VV,8),c.LFG(UV,8),c.LFG(jV,8),c.LFG(JC,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),HV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),GV=(()=>{class n{constructor(){WN.Z.registerVersion("angularfire",Yt.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[lT],imports:[HV]}),n})(),Iy=(()=>{class n{constructor(t,i,r,a){this.firestore=t,this.http=i,this.router=r,this.af=a,this.update=!1,this.userSignin=!1,this.emailpattern="[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$",this.selectedmajer="",this.fulDate="",this.form=new Go({title:new mo("",jn.required),task:new mo("",jn.required)}),this.userform=new Go({fullname:new mo("",[jn.minLength(6),jn.required]),email:new mo("",jn.required),password:new mo("",[jn.minLength(6),jn.required])}),this.loginform=new Go({email:new mo("",jn.required),password:new mo("",jn.required)})}createTask(t){return new Promise((i,r)=>{this.firestore.collection("posts").add(t).then(a=>{this.form.reset(),this.router.navigate([""]),alert("Added successfully")},a=>r(a))})}getTask(){return this.firestore.collection("posts").snapshotChanges()}onEditdata(t){this.form.controls.title.setValue(t.payload.doc.data().title),this.form.controls.task.setValue(t.payload.doc.data().task)}UpdateTask(t){return this.firestore.collection("posts").doc(t.payload.doc.id)}deleteTask(t){return this.firestore.collection("posts").doc(t.payload.doc.id).delete()}logIn(t){return this.firestore.collection("user",a=>a.where("email","==",t.email).where("password","==",t.password)).valueChanges().pipe((0,Qe.U)(a=>{const u=a[0];return this.userdata=u,localStorage.setItem("user",JSON.stringify(this.userdata)),JSON.parse(localStorage.getItem("user")),console.log(this.userdata),u}))}createUser(t){return new Promise((i,r)=>{this.firestore.collection("user").add(t).then(a=>{this.form.reset(),this.router.navigate([""]),alert("registration successful")},a=>r(a))})}get isLogIn(){const t=JSON.parse(localStorage.getItem("user"));return this.userdata=t,null!==t&&!0+this.userdata}createDate(){const t=new Date;return this.fulDate=t.getDate().toString()+"/"+(t.getMonth()+1).toString()+"/"+t.getFullYear().toString(),this.fulDate}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(dk),c.LFG(eT),c.LFG(Ni),c.LFG(lT))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $V(n,e){1&n&&(c.TgZ(0,"div",13),c._uU(1,"filed required"),c.qZA())}function zV(n,e){1&n&&(c.TgZ(0,"div",13),c._uU(1,"filed required"),c.qZA())}let qV=(()=>{class n{constructor(t,i){this.newtaskdat=t,this.router=i,this.tasks={title:"",task:"",date:""},this.Uptasks={title:"",task:""},this.update=this.newtaskdat.update,this.taskData=this.newtaskdat.taskData}ngOnInit(){this.newtaskform=this.newtaskdat.form}cancel(){this.router.navigate([""])}post(){this.tasks.title=this.newtaskdat.form.value.title,this.tasks.task=this.newtaskdat.form.value.task,this.tasks.date=this.newtaskdat.createDate(),console.log(this.tasks),this.newtaskdat.createTask(this.tasks)}updat(){console.log(this.taskData),this.Uptasks.title=this.newtaskdat.form.value.title,this.Uptasks.task=this.newtaskdat.form.value.task,this.newtaskdat.UpdateTask(this.taskData).update(this.Uptasks).then(t=>{this.newtaskdat.form.reset(),this.router.navigate([""]),this.newtaskdat.update=!1,alert("update successfully")},t=>{alert("something went wrong")})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Iy),c.Y36(Ni))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-new-task"]],decls:19,vars:6,consts:[[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle","mb-2","text-muted"],[3,"formGroup","ngSubmit"],[1,"card__input"],["name","title","type","text","placeholder","title","aria-label","default input example","formControlName","title","required","",1,"form-control"],["class","text-danger",4,"ngIf"],["name","task","type","textarea","placeholder","task","aria-label","default input example","formControlName","task",1,"form-control"],[1,"btn-group"],["type","submit",1,"btn","btn-primary",3,"disabled","hidden"],["type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-primary",3,"hidden","click"],[1,"text-danger"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"h3",2),c._uU(3,"New task"),c.qZA(),c.TgZ(4,"h6",3),c._uU(5,"subtitle"),c.qZA(),c.TgZ(6,"form",4),c.NdJ("ngSubmit",function(){return i.post()}),c.TgZ(7,"div",5),c._UZ(8,"input",6),c.YNc(9,$V,2,0,"div",7),c._UZ(10,"textarea",8),c.YNc(11,zV,2,0,"div",7),c.TgZ(12,"div",9),c.TgZ(13,"button",10),c._uU(14,"Post"),c.qZA(),c.TgZ(15,"button",11),c.NdJ("click",function(){return i.cancel()}),c._uU(16,"Cancel"),c.qZA(),c.TgZ(17,"button",12),c.NdJ("click",function(){return i.updat()}),c._uU(18,"updata"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.xp6(6),c.Q6J("formGroup",i.newtaskform),c.xp6(3),c.Q6J("ngIf",i.newtaskform.hasError("required","title")&&i.newtaskform.controls.title.dirty),c.xp6(2),c.Q6J("ngIf",i.newtaskform.hasError("required","task")&&i.newtaskform.controls.task.dirty),c.xp6(2),c.Q6J("disabled",!i.newtaskform.valid)("hidden",i.update),c.xp6(4),c.Q6J("hidden",!i.update))},directives:[nc,Bs,dl,rs,al,fu,fl,Dn],styles:[".text-danger[_ngcontent-%COMP%]{display:flex;align-self:flex-start;font-size:14px}"]}),n})(),aR=(()=>{class n{constructor(t){this.http=t}postTask(t){return this.http.post("https://my-task-project-3c8eb-default-rtdb.firebaseio.com/posts.json",t).pipe((0,Qe.U)(i=>i))}getTask(){return this.http.get("https://my-task-project-3c8eb-default-rtdb.firebaseio.com/posts.json").pipe((0,Qe.U)(t=>t))}updateTask(t,i){return this.http.put("https://my-task-project-3c8eb-default-rtdb.firebaseio.com/posts/"+i,t).pipe((0,Qe.U)(r=>r))}deleteTask(t){return this.http.delete("https://my-task-project-3c8eb-default-rtdb.firebaseio.com/posts/"+t).pipe((0,Qe.U)(i=>i))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(eT))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ZV(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div"),c.TgZ(1,"img",16),c.NdJ("error",function(){return c.CHM(t),c.oxw().onError()}),c.qZA(),c.qZA()}if(2&n){const t=e.$implicit;c.xp6(1),c.Q6J("src",t,c.LSH)}}function WV(n,e){1&n&&c._UZ(0,"div")}function KV(n,e){if(1&n&&(c.TgZ(0,"div"),c.TgZ(1,"h2"),c._uU(2),c.qZA(),c.TgZ(3,"h3"),c._uU(4),c.qZA(),c.qZA()),2&n){const t=e.ngIf;c.xp6(2),c.Oqu(t.fullname),c.xp6(2),c.Oqu(t.major)}}let YV=(()=>{class n{constructor(t,i,r){this.loginuserform=t,this.router=i,this.af=r,this.defaultimg="blank-profile-picture.png",this.msg="",this.userdata={email:"",password:""}}ngOnInit(){this.loginform=this.loginuserform.userform,console.log(this.loginuserform.isLogIn),this.checklogin()}logIn(){this.userdata.email=this.loginform.value.email,this.userdata.password=this.loginform.value.password,console.log(this.userdata),this.loginuserform.logIn(this.userdata),this.user$=this.loginuserform.logIn(this.userdata).pipe((0,p.b)(t=>{t?(this.msg="success",this.loginuserform.userSignin=!0,this.loginuserform.downloadURL=this.af.ref("/files/"+t.profile_img).getDownloadURL()):this.msg="User with this email does not exist!"}))}LogOut(){this.loginuserform.userSignin=!1,localStorage.clear()}checklogin(){this.loginuserform.userSignin=this.loginuserform.isLogIn,!1!==this.loginuserform.isLogIn&&(this.loginuserform.downloadURL=this.af.ref("/files/"+this.loginuserform.userdata.profile_img).getDownloadURL())}onError(){this.loginuserform.downloadURL=this.af.ref("/files/"+this.defaultimg).getDownloadURL()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Iy),c.Y36(Ni),c.Y36(lT))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-signin"]],decls:30,vars:12,consts:[[1,"card_signin","d-flex","flex-column","bd-highlight","mb-3"],[1,"card-body",3,"hidden"],[1,"card-title"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","Email1",1,"form-label"],["type","email","id","Email1","aria-describedby","emailHelp","formControlName","email",1,"form-control"],["for","Password",1,"form-label"],["type","password","id","Password","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-primary"],["id","emailHelp",1,"form-text"],["aria-current","page","routerLink","/SignUp",1,"active"],[1,"card-body","profile",3,"hidden"],[4,"ngIf"],[1,"log_out",3,"hidden"],["type","button",1,"btn","btn-outline-danger","btn-sm",3,"click"],["alt","Image from AngularFireStorage",1,"profile__img",3,"src","error"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c._uU(3,"Sign In"),c.qZA(),c.TgZ(4,"form",3),c.NdJ("ngSubmit",function(){return i.logIn()}),c.TgZ(5,"div",4),c.TgZ(6,"label",5),c._uU(7,"Email address"),c.qZA(),c._UZ(8,"input",6),c.TgZ(9,"div"),c._uU(10),c.qZA(),c.qZA(),c.TgZ(11,"div",4),c.TgZ(12,"label",7),c._uU(13,"Password"),c.qZA(),c._UZ(14,"input",8),c.qZA(),c.TgZ(15,"button",9),c._uU(16,"Submit"),c.qZA(),c.qZA(),c.TgZ(17,"div",10),c._uU(18,"new User?"),c.TgZ(19,"a",11),c._uU(20,"Sign Up"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(21,"div",12),c.YNc(22,ZV,2,1,"div",13),c.ALo(23,"async"),c.YNc(24,WV,1,0,"div",13),c.ALo(25,"async"),c.YNc(26,KV,5,2,"div",13),c.qZA(),c.TgZ(27,"div",14),c.TgZ(28,"button",15),c.NdJ("click",function(){return i.LogOut()}),c._uU(29,"LOG OUT"),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.xp6(1),c.Q6J("hidden",i.loginuserform.userSignin),c.xp6(3),c.Q6J("formGroup",i.loginform),c.xp6(6),c.Oqu(i.msg),c.xp6(11),c.Q6J("hidden",!i.loginuserform.userSignin),c.xp6(1),c.Q6J("ngIf",c.lcZ(23,8,i.loginuserform.downloadURL)),c.xp6(2),c.Q6J("ngIf",c.lcZ(25,10,i.user$)),c.xp6(2),c.Q6J("ngIf",i.loginuserform.userdata),c.xp6(1),c.Q6J("hidden",!i.loginuserform.userSignin))},directives:[nc,Bs,dl,rs,al,fu,Su,Dn],pipes:[Gc],styles:[".card_signin[_ngcontent-%COMP%]{width:22%;height:100%;background-color:#f5f5f5;position:absolute;padding-top:3rem;top:0;left:0;bottom:0}.card-body[_ngcontent-%COMP%]{text-align:left}.profile[_ngcontent-%COMP%]{text-align:center}.profile__img[_ngcontent-%COMP%]{border-radius:50%;height:25%;width:25%;padding-bottom:.5rem}.log_out[_ngcontent-%COMP%]{margin:0 0 1rem 1rem}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{padding:0;margin:0}.card-title[_ngcontent-%COMP%]{font-size:large;font-weight:800}input[_ngcontent-%COMP%]{margin-top:0;padding-top:0}a[_ngcontent-%COMP%]{padding:0;margin:0}@media (max-width: 767px){.card-body[_ngcontent-%COMP%]{margin:0 .7rem}.card_signin[_ngcontent-%COMP%]{position:static;width:100%}}@media (max-width: 575px){.card-body[_ngcontent-%COMP%]{margin:0 1.5rem}.card_signin[_ngcontent-%COMP%]{position:static;width:100%}}"]}),n})();function JV(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",4),c.TgZ(1,"div",5),c.TgZ(2,"div",6),c.TgZ(3,"div"),c.TgZ(4,"h3",7),c._uU(5),c.qZA(),c.TgZ(6,"p",8),c._uU(7),c.qZA(),c._UZ(8,"div"),c.qZA(),c.TgZ(9,"div",9),c.TgZ(10,"a",10),c.NdJ("click",function(){const a=c.CHM(t).$implicit;return c.oxw().onEdit(a)}),c._uU(11,"Edit"),c.qZA(),c.TgZ(12,"a",11),c.NdJ("click",function(){const a=c.CHM(t).$implicit;return c.oxw().deleteTask(a)}),c._uU(13," Delete"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(14,"h6",12),c._uU(15),c.qZA(),c.qZA(),c.qZA()}if(2&n){const t=e.$implicit,i=c.oxw();c.xp6(5),c.Oqu(t.payload.doc.data().title),c.xp6(2),c.hij("",t.payload.doc.data().task," "),c.xp6(3),c.Q6J("hidden",!i.newtaskdat.userSignin),c.xp6(2),c.Q6J("hidden",!i.newtaskdat.userSignin),c.xp6(3),c.Oqu(t.payload.doc.data().date)}}let QV=(()=>{class n{constructor(t,i,r){this.Api=t,this.router=i,this.newtaskdat=r,this.taskData=this.newtaskdat.taskData}ngOnInit(){this.getAlltask()}getAlltask(){this.newtaskdat.getTask().subscribe(t=>{this.taskData=t})}deleteTask(t){this.newtaskdat.deleteTask(t),console.log(t)}onEdit(t){this.newtaskdat.update=!0,this.newtaskdat.onEditdata(t),this.newtaskdat.taskData=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(aR),c.Y36(Ni),c.Y36(Iy))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-edit-task"]],decls:7,vars:1,consts:[[1,"row"],[1,"col-lg-3","col-md-4"],[1,"col-lg-9","col-md-8"],["class","col-lg-3 col-md-4 col-sm-6",4,"ngFor","ngForOf"],[1,"col-lg-3","col-md-4","col-sm-6"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"btns"],["routerLink","/NewTask",1,"btn","btn-edit",3,"hidden","click"],[1,"btn","btn-red",3,"hidden","click"],[1,"date"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c._UZ(2,"app-signin"),c.qZA(),c.TgZ(3,"div",2),c._UZ(4,"hr"),c.TgZ(5,"div",0),c.YNc(6,JV,16,5,"div",3),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.xp6(6),c.Q6J("ngForOf",i.taskData))},directives:[YV,yn,Su],styles:[".btn[_ngcontent-%COMP%]{margin-left:.4rem}.row[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:100%;text-align:left;height:auto;border-radius:20px;border-color:#aaa;position:relative}.card-body[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.btns[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-end}.btn-edit[_ngcontent-%COMP%]{margin-bottom:.4rem;color:green}.btn-red[_ngcontent-%COMP%]{color:red}h3[_ngcontent-%COMP%]{font-weight:500}.date[_ngcontent-%COMP%]{color:gray;position:absolute;right:1rem}@media screen and (min-width: 768px){.card-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.btns[_ngcontent-%COMP%]{display:block}.btn-edit[_ngcontent-%COMP%]{margin-bottom:0}.date[_ngcontent-%COMP%]{position:absolute;bottom:0;right:.7rem}}"]}),n})();function ea(n){return null!=n&&"false"!=`${n}`}function xA(n,e=0){return function XV(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function lR(n){return Array.isArray(n)?n:[n]}function Xi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function cT(n){return n instanceof c.SBq?n.nativeElement:n}let cR=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eU=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=cT(t);return new pn.y(r=>{const u=this._observeElement(i).subscribe(r);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new At.x,r=this._mutationObserverFactory.create(a=>i.next(a));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(cR))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tU=(()=>{class n{constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new c.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=ea(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=xA(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(wA(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(eU),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),nU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[cR]}),n})();const iU=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function rU(){return(0,c.f3M)(ee)}}),sU=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let PA,uT=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new c.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function oU(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?sU.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(iU,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();try{PA="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){PA=!1}let Jb,jg,pf=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function ri(n){return n===ud}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!PA)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function FA(n){return function aU(){if(null==Jb&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Jb=!0}))}finally{Jb=Jb||!1}return Jb}()?n:!!n.capture}function lU(){if(null==jg){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return jg=!1,jg;if("scrollBehavior"in document.documentElement.style)jg=!0;else{const n=Element.prototype.scrollTo;jg=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return jg}function hR(n){return n.composedPath?n.composedPath()[0]:n.target}function BA(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}function Qb(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}class TU extends class CU{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new At.x,this._typeaheadSubscription=Gs.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new At.x,this.change=new At.x,e instanceof c.n_E&&e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,p.b)(t=>this._pressedLetters.push(t)),wA(e),on(()=>this._pressedLetters.length>0),(0,Qe.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const a=(this._activeItemIndex+r)%i.length,u=i[a];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(a);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(a=>!e[a]||this._allowedModifierKeys.indexOf(a)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Qb(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e),r=t[i];this._activeItem=null==r?null:r,this._activeItemIndex=i}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof c.n_E?this._items.toArray():this._items}}{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}const RU=new c.OlP("liveAnnouncerElement",{providedIn:"root",factory:function xU(){return null}}),PU=new c.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let FU=(()=>{class n{constructor(t,i,r,a){this._ngZone=i,this._defaultOptions=a,this._document=r,this._liveElement=t||this._createLiveElement()}announce(t,...i){const r=this._defaultOptions;let a,u;return 1===i.length&&"number"==typeof i[0]?u=i[0]:[a,u]=i,this.clear(),clearTimeout(this._previousTimeout),a||(a=r&&r.politeness?r.politeness:"polite"),null==u&&r&&(u=r.duration),this._liveElement.setAttribute("aria-live",a),this._ngZone.runOutsideAngular(()=>new Promise(f=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,f(),"number"==typeof u&&(this._previousTimeout=setTimeout(()=>this.clear(),u))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var t;clearTimeout(this._previousTimeout),null===(t=this._liveElement)||void 0===t||t.remove(),this._liveElement=null}_createLiveElement(){const t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let a=0;a<i.length;a++)i[a].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(RU,8),c.LFG(c.R0b),c.LFG(ee),c.LFG(PU,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vR="cdk-high-contrast-black-on-white",bR="cdk-high-contrast-white-on-black",GA="cdk-high-contrast-active";let LU=(()=>{class n{constructor(t,i){this._platform=t,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,a=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(GA),t.remove(vR),t.remove(bR),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(t.add(GA),t.add(vR)):2===i&&(t.add(GA),t.add(bR))}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(pf),c.LFG(ee))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class wR{}const td="*";function $A(n,e){return{type:7,name:n,definitions:e,options:{}}}function zA(n,e=null){return{type:4,styles:e,timings:n}}function ER(n,e=null){return{type:2,steps:n,options:e}}function gf(n){return{type:6,styles:n,offset:null}}function hT(n,e,t){return{type:0,name:n,styles:e,options:t}}function fT(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function VU(n=null){return{type:9,options:n}}function UU(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function DR(n){Promise.resolve(null).then(n)}class Xb{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){DR(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class CR{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const a=this.players.length;0==a?DR(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==a&&this._onFinish()}),u.onDestroy(()=>{++i==a&&this._onDestroy()}),u.onStart(()=>{++r==a&&this._onStart()})}),this.totalTime=this.players.reduce((u,f)=>Math.max(u,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function jU(){return"undefined"!=typeof window&&void 0!==window.document}function ZA(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function mf(n){switch(n.length){case 0:return new Xb;case 1:return n[0];default:return new CR(n)}}function TR(n,e,t,i,r={},a={}){const u=[],f=[];let _=-1,b=null;if(i.forEach(T=>{const I=T.offset,R=I==_,x=R&&b||{};Object.keys(T).forEach(V=>{let Z=V,he=T[V];if("offset"!==V)switch(Z=e.normalizePropertyName(Z,u),he){case"!":he=r[V];break;case td:he=a[V];break;default:he=e.normalizeStyleValue(V,Z,he,u)}x[Z]=he}),R||f.push(x),b=x,_=I}),u.length){const T="\n - ";throw new Error(`Unable to animate due to the following errors:${T}${u.join(T)}`)}return f}function WA(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&KA(t,"start",n)));break;case"done":n.onDone(()=>i(t&&KA(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&KA(t,"destroy",n)))}}function KA(n,e,t){const i=t.totalTime,a=YA(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==i?n.totalTime:i,!!t.disabled),u=n._data;return null!=u&&(a._data=u),a}function YA(n,e,t,i,r="",a=0,u){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:a,disabled:!!u}}function ta(n,e,t){let i;return n instanceof Map?(i=n.get(e),i||n.set(e,i=t)):(i=n[e],i||(i=n[e]=t)),i}function SR(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let JA=(n,e)=>!1,IR=(n,e,t)=>[];(ZA()||"undefined"!=typeof Element)&&(JA=jU()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),IR=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let Hg=null,AR=!1;function MR(n){Hg||(Hg=function GU(){return"undefined"!=typeof document?document.body:null}()||{},AR=!!Hg.style&&"WebkitAppearance"in Hg.style);let e=!0;return Hg.style&&!function HU(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Hg.style,!e&&AR&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Hg.style)),e}const OR=JA,NR=IR;let kR=(()=>{class n{validateStyleProperty(t){return MR(t)}matchesElement(t,i){return!1}containsElement(t,i){return OR(t,i)}query(t,i,r){return NR(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,a,u,f=[],_){return new Xb(r,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),QA=(()=>{class n{}return n.NOOP=new kR,n})();const XA="ng-enter",pT="ng-leave",gT="ng-trigger",mT=".ng-trigger",xR="ng-animating",eM=".ng-animating";function Gg(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:tM(parseFloat(e[1]),e[2])}function tM(n,e){return"s"===e?1e3*n:n}function _T(n,e,t){return n.hasOwnProperty("duration")?n:function qU(n,e,t){let r,a=0,u="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};r=tM(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(a=tM(parseFloat(_),f[4]));const b=f[5];b&&(u=b)}else r=n;if(!t){let f=!1,_=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),f=!0),a<0&&(e.push("Delay values below 0 are not allowed for this animation step."),f=!0),f&&e.splice(_,0,`The provided timing value "${n}" is invalid.`)}return{duration:r,delay:a,easing:u}}(n,e,t)}function My(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function _f(n,e,t={}){if(e)for(let i in n)t[i]=n[i];else My(n,t);return t}function FR(n,e,t){return t?e+":"+t+";":""}function LR(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=FR(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=FR(0,KU(t),n.style[t]));n.setAttribute("style",e)}function Vc(n,e,t){n.style&&(Object.keys(e).forEach(i=>{const r=iM(i);t&&!t.hasOwnProperty(i)&&(t[i]=n.style[r]),n.style[r]=e[i]}),ZA()&&LR(n))}function $g(n,e){n.style&&(Object.keys(e).forEach(t=>{const i=iM(t);n.style[i]=""}),ZA()&&LR(n))}function ew(n){return Array.isArray(n)?1==n.length?n[0]:ER(n):n}const nM=new RegExp("{{\\s*(.+?)\\s*}}","g");function BR(n){let e=[];if("string"==typeof n){let t;for(;t=nM.exec(n);)e.push(t[1]);nM.lastIndex=0}return e}function yT(n,e,t){const i=n.toString(),r=i.replace(nM,(a,u)=>{let f=e[u];return e.hasOwnProperty(u)||(t.push(`Please provide a value for the animation param ${u}`),f=""),f.toString()});return r==i?n:r}function vT(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const WU=/-+([a-z0-9])/g;function iM(n){return n.replace(WU,(...e)=>e[1].toUpperCase())}function KU(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function na(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function VR(n,e){return window.getComputedStyle(n)[e]}function QU(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function XU(n,e,t){if(":"==n[0]){const _=function ej(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const r=i[1],a=i[2],u=i[3];e.push(UR(r,u));"<"==a[0]&&!("*"==r&&"*"==u)&&e.push(UR(u,r))}(i,t,e)):t.push(n),t}const wT=new Set(["true","1"]),ET=new Set(["false","0"]);function UR(n,e){const t=wT.has(n)||ET.has(n),i=wT.has(e)||ET.has(e);return(r,a)=>{let u="*"==n||n==r,f="*"==e||e==a;return!u&&t&&"boolean"==typeof r&&(u=r?wT.has(n):ET.has(n)),!f&&i&&"boolean"==typeof a&&(f=a?wT.has(e):ET.has(e)),u&&f}}const tj=new RegExp("s*:selfs*,?","g");function rM(n,e,t){return new nj(n).build(e,t)}class nj{constructor(e){this._driver=e}build(e,t){const i=new sj(t);return this._resetContextStyleTimingState(i),na(this,ew(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const a=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,b=_.name;b.toString().split(/\s*,\s*/).forEach(T=>{_.name=T,a.push(this.visitState(_,t))}),_.name=b}else if(1==f.type){const _=this.visitTransition(f,t);i+=_.queryCount,r+=_.depCount,u.push(_)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:a,transitions:u,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const a=new Set,u=r||{};if(i.styles.forEach(f=>{if(DT(f)){const _=f;Object.keys(_).forEach(b=>{BR(_[b]).forEach(T=>{u.hasOwnProperty(T)||a.add(T)})})}}),a.size){const f=vT(a.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${f.join(", ")}`)}}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=na(this,ew(e.animation),t);return{type:1,matchers:QU(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:zg(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>na(this,i,t)),options:zg(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const a=e.steps.map(u=>{t.currentTime=i;const f=na(this,u,t);return r=Math.max(r,t.currentTime),f});return t.currentTime=r,{type:3,steps:a,options:zg(e.options)}}visitAnimate(e,t){const i=function aj(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return sM(_T(n,e).duration,0,"");const i=n;if(i.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=sM(0,0,"");return a.dynamic=!0,a.strValue=i,a}return t=t||_T(i,e),sM(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,a=e.styles?e.styles:gf({});if(5==a.type)r=this.visitKeyframes(a,t);else{let u=e.styles,f=!1;if(!u){f=!0;const b={};i.easing&&(b.easing=i.easing),u=gf(b)}t.currentTime+=i.duration+i.delay;const _=this.visitStyle(u,t);_.isEmptyStep=f,r=_}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(u=>{"string"==typeof u?u==td?i.push(u):t.errors.push(`The provided style string value ${u} is not allowed.`):i.push(u)}):i.push(e.styles);let r=!1,a=null;return i.forEach(u=>{if(DT(u)){const f=u,_=f.easing;if(_&&(a=_,delete f.easing),!r)for(let b in f)if(f[b].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:a,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,a=t.currentTime;i&&a>0&&(a-=i.duration+i.delay),e.styles.forEach(u=>{"string"!=typeof u&&Object.keys(u).forEach(f=>{if(!this._driver.validateStyleProperty(f))return void t.errors.push(`The provided animation property "${f}" is not a supported CSS property for animations`);const _=t.collectedStyles[t.currentQuerySelector],b=_[f];let T=!0;b&&(a!=r&&a>=b.startTime&&r<=b.endTime&&(t.errors.push(`The CSS property "${f}" that exists between the times of "${b.startTime}ms" and "${b.endTime}ms" is also being animated in a parallel animation between the times of "${a}ms" and "${r}ms"`),T=!1),a=b.startTime),T&&(_[f]={startTime:a,endTime:r}),t.options&&function ZU(n,e,t){const i=e.params||{},r=BR(n);r.length&&r.forEach(a=>{i.hasOwnProperty(a)||t.push(`Unable to resolve the local animation param ${a} in the given list of values`)})}(u[f],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),i;let a=0;const u=[];let f=!1,_=!1,b=0;const T=e.steps.map(ke=>{const Ue=this._makeStyleAst(ke,t);let We=null!=Ue.offset?Ue.offset:function oj(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(DT(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}});else if(DT(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(Ue.styles),Ge=0;return null!=We&&(a++,Ge=Ue.offset=We),_=_||Ge<0||Ge>1,f=f||Ge<b,b=Ge,u.push(Ge),Ue});_&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),f&&t.errors.push("Please ensure that all keyframe offsets are in order");const I=e.steps.length;let R=0;a>0&&a<I?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==a&&(R=1/(I-1));const x=I-1,V=t.currentTime,Z=t.currentAnimateTimings,he=Z.duration;return T.forEach((ke,Ue)=>{const We=R>0?Ue==x?1:R*Ue:u[Ue],Ge=We*he;t.currentTime=V+Z.delay+Ge,Z.duration=Ge,this._validateStyleAst(ke,t),ke.offset=We,i.styles.push(ke)}),i}visitReference(e,t){return{type:8,animation:na(this,ew(e.animation),t),options:zg(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:zg(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:zg(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[a,u]=function ij(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(tj,"")),n=n.replace(/@\*/g,mT).replace(/@\w+/g,t=>mT+"-"+t.substr(1)).replace(/:animating/g,eM),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+a:a,ta(t.collectedStyles,t.currentQuerySelector,{});const f=na(this,ew(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:f,originalSelector:e.selector,options:zg(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:_T(e.timings,t.errors,!0);return{type:12,animation:na(this,ew(e.animation),t),timings:i,options:null}}}class sj{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function DT(n){return!Array.isArray(n)&&"object"==typeof n}function zg(n){return n?(n=My(n)).params&&(n.params=function rj(n){return n?My(n):null}(n.params)):n={},n}function sM(n,e,t){return{duration:n,delay:e,easing:t}}function oM(n,e,t,i,r,a,u=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:u,subTimeline:f}}class CT{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const uj=new RegExp(":enter","g"),hj=new RegExp(":leave","g");function aM(n,e,t,i,r,a={},u={},f,_,b=[]){return(new fj).buildKeyframes(n,e,t,i,r,a,u,f,_,b)}class fj{buildKeyframes(e,t,i,r,a,u,f,_,b,T=[]){b=b||new CT;const I=new lM(e,t,b,r,a,T,[]);I.options=_,I.currentTimeline.setStyles([u],null,I.errors,_),na(this,i,I);const R=I.timelines.filter(x=>x.containsAnimation());if(Object.keys(f).length){let x;for(let V=R.length-1;V>=0;V--){const Z=R[V];if(Z.element===t){x=Z;break}}x&&!x.allowOnlyTimelineStyles()&&x.setStyles([f],null,I.errors,_)}return R.length?R.map(x=>x.buildKeyframes()):[oM(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),a=t.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);a!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let a=t.currentTimeline.currentTime;const u=null!=i.duration?Gg(i.duration):null,f=null!=i.delay?Gg(i.delay):null;return 0!==u&&e.forEach(_=>{const b=t.appendInstructionToTimeline(_,u,f);a=Math.max(a,b.duration+b.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),na(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const a=e.options;if(a&&(a.params||a.delay)&&(r=t.createSubContext(a),r.transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=TT);const u=Gg(a.delay);r.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>na(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?Gg(e.options.delay):0;e.steps.forEach(u=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),na(this,u,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return _T(t.params?yT(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(i.duration),this.visitStyle(a,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const a=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(a):i.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,a=i.duration,f=t.createSubContext().currentTimeline;f.easing=i.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*a),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(r+a),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},a=r.delay?Gg(r.delay):0;a&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=TT);let u=i;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((b,T)=>{t.currentQueryIndex=T;const I=t.createSubContext(e.options,b);a&&I.delayNextStep(a),b===t.element&&(_=I.currentTimeline),na(this,e.animation,I),I.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,I.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,a=e.timings,u=Math.abs(a.duration),f=u*(t.currentQueryTotal-1);let _=u*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=f-_;break;case"full":_=i.currentStaggerTime}const T=t.currentTimeline;_&&T.delayNextStep(_);const I=T.currentTime;na(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-I+(r.startTime-i.currentTimeline.startTime)}}const TT={};class lM{constructor(e,t,i,r,a,u,f,_){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=u,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=TT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new ST(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Gg(i.duration)),null!=i.delay&&(r.delay=Gg(i.delay));const a=i.params;if(a){let u=r.params;u||(u=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!u.hasOwnProperty(f))&&(u[f]=yT(a[f],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,a=new lM(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=TT,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},a=new pj(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(a),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,a,u){let f=[];if(r&&f.push(this.element),e.length>0){e=(e=e.replace(uj,"."+this._enterClassName)).replace(hj,"."+this._leaveClassName);let b=this._driver.query(this.element,e,1!=i);0!==i&&(b=i<0?b.slice(b.length+i,b.length):b.slice(0,i)),f.push(...b)}return!a&&0==f.length&&u.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),f}}class ST{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new ST(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||td,this._currentKeyframe[t]=td}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&(this._previousKeyframe.easing=t);const a=r&&r.params||{},u=function gj(n,e){const t={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(e),i.forEach(a=>{t[a]=td})):_f(r,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(u).forEach(f=>{const _=yT(u[f],a,i);this._pendingStyles[f]=_,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:td),this._updateStyle(f,_)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(i=>{this._currentKeyframe[i]=e[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],r=e._styleSummary[t];(!i||r.time>i.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,_)=>{const b=_f(f,!0);Object.keys(b).forEach(T=>{const I=b[T];"!"==I?e.add(T):I==td&&t.add(T)}),i||(b.offset=_/this.duration),r.push(b)});const a=e.size?vT(e.values()):[],u=t.size?vT(t.values()):[];if(i){const f=r[0],_=My(f);f.offset=0,_.offset=1,r=[f,_]}return oM(this.element,r,a,u,this.duration,this.startTime,this.easing,!1)}}class pj extends ST{constructor(e,t,i,r,a,u,f=!1){super(e,t,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],u=i+t,f=t/u,_=_f(e[0],!1);_.offset=0,a.push(_);const b=_f(e[0],!1);b.offset=GR(f),a.push(b);const T=e.length-1;for(let I=1;I<=T;I++){let R=_f(e[I],!1);R.offset=GR((t+R.offset*i)/u),a.push(R)}i=u,t=0,r="",e=a}return oM(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function GR(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class cM{}class mj extends cM{normalizePropertyName(e,t){return iM(e)}normalizeStyleValue(e,t,i,r){let a="";const u=i.toString().trim();if(_j[t]&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(`Please provide a CSS unit value for ${e}:${i}`)}return u+a}}const _j=(()=>function yj(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function $R(n,e,t,i,r,a,u,f,_,b,T,I,R){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:a,toState:i,toStyles:u,timelines:f,queriedElements:_,preStyleProps:b,postStyleProps:T,totalTime:I,errors:R}}const uM={};class zR{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function vj(n,e,t,i,r){return n.some(a=>a(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){const r=this._stateStyles["*"],a=this._stateStyles[e],u=r?r.buildStyles(t,i):{};return a?a.buildStyles(t,i):u}build(e,t,i,r,a,u,f,_,b,T){const I=[],R=this.ast.options&&this.ast.options.params||uM,V=this.buildStyles(i,f&&f.params||uM,I),Z=_&&_.params||uM,he=this.buildStyles(r,Z,I),ke=new Set,Ue=new Map,We=new Map,Ge="void"===r,Rt={params:Object.assign(Object.assign({},R),Z)},hn=T?[]:aM(e,t,this.ast.animation,a,u,V,he,Rt,b,I);let Rn=0;if(hn.forEach(ia=>{Rn=Math.max(ia.duration+ia.delay,Rn)}),I.length)return $R(t,this._triggerName,i,r,Ge,V,he,[],[],Ue,We,Rn,I);hn.forEach(ia=>{const id=ia.element,zP=ta(Ue,id,{});ia.preStyleProps.forEach(Qg=>zP[Qg]=!0);const hw=ta(We,id,{});ia.postStyleProps.forEach(Qg=>hw[Qg]=!0),id!==t&&ke.add(id)});const ii=vT(ke.values());return $R(t,this._triggerName,i,r,Ge,V,he,hn,ii,Ue,We,Rn)}}class bj{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i={},r=My(this.defaultParams);return Object.keys(e).forEach(a=>{const u=e[a];null!=u&&(r[a]=u)}),this.styles.styles.forEach(a=>{if("string"!=typeof a){const u=a;Object.keys(u).forEach(f=>{let _=u[f];_.length>1&&(_=yT(_,r,t));const b=this.normalizer.normalizePropertyName(f,t);_=this.normalizer.normalizeStyleValue(f,b,_,t),i[b]=_})}}),i}}class Ej{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states={},t.states.forEach(r=>{this.states[r.name]=new bj(r.style,r.options&&r.options.params||{},i)}),qR(this.states,"true","1"),qR(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new zR(e,r,this.states))}),this.fallbackTransition=function Dj(n,e,t){return new zR(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(u=>u.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function qR(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const Cj=new CT;class Tj{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],r=rM(this._driver,t,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[e]=r}_buildPlayer(e,t,i){const r=e.element,a=TR(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],a=this._animations[e];let u;const f=new Map;if(a?(u=aM(this._driver,t,a,XA,pT,{},{},i,Cj,r),u.forEach(T=>{const I=ta(f,T.element,{});T.postStyleProps.forEach(R=>I[R]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),u=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);f.forEach((T,I)=>{Object.keys(T).forEach(R=>{T[R]=this._driver.computeStyle(I,R,td)})});const b=mf(u.map(T=>{const I=f.get(T.element);return this._buildPlayer(T,{},I)}));return this._playersById[e]=b,b.onDestroy(()=>this.destroy(e)),this.players.push(b),b}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,i,r){const a=YA(t,"","","");return WA(this._getPlayer(e),i,a,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const a=this._getPlayer(e);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const ZR="ng-animate-queued",dM="ng-animate-disabled",Oj=[],WR={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Nj={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ma="__ng_removed";class hM{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function Pj(n){return null!=n?n:null}(i?e.value:e),i){const a=My(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const tw="void",fM=new hM(tw);class kj{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Oa(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${t}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function Fj(n){return"start"==n||"done"==n}(i))throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${t}" is not supported!`);const a=ta(this._elementListeners,e,[]),u={name:t,phase:i,callback:r};a.push(u);const f=ta(this._engine.statesByElement,e,{});return f.hasOwnProperty(t)||(Oa(e,gT),Oa(e,gT+"-"+t),f[t]=fM),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(u);_>=0&&a.splice(_,1),this._triggers[t]||delete f[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,i,r=!0){const a=this._getTrigger(t),u=new pM(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Oa(e,gT),Oa(e,gT+"-"+t),this._engine.statesByElement.set(e,f={}));let _=f[t];const b=new hM(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&b.absorbOptions(_.options),f[t]=b,_||(_=fM),b.value!==tw&&_.value===b.value){if(!function Vj(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const a=t[r];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,b.params)){const Z=[],he=a.matchStyles(_.value,_.params,Z),ke=a.matchStyles(b.value,b.params,Z);Z.length?this._engine.reportError(Z):this._engine.afterFlush(()=>{$g(e,he),Vc(e,ke)})}return}const R=ta(this._engine.playersByElement,e,[]);R.forEach(Z=>{Z.namespaceId==this.id&&Z.triggerName==t&&Z.queued&&Z.destroy()});let x=a.matchTransition(_.value,b.value,e,b.params),V=!1;if(!x){if(!r)return;x=a.fallbackTransition,V=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:x,fromState:_,toState:b,player:u,isFallbackTransition:V}),V||(Oa(e,ZR),u.onStart(()=>{Oy(e,ZR)})),u.onDone(()=>{let Z=this.players.indexOf(u);Z>=0&&this.players.splice(Z,1);const he=this._engine.playersByElement.get(e);if(he){let ke=he.indexOf(u);ke>=0&&he.splice(ke,1)}}),this.players.push(u),R.push(u),u}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,mT,!0);i.forEach(r=>{if(r[Ma])return;const a=this._engine.fetchNamespacesByElement(r);a.size?a.forEach(u=>u.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const a=this._engine.statesByElement.get(e),u=new Map;if(a){const f=[];if(Object.keys(a).forEach(_=>{if(u.set(_,a[_].value),this._triggers[_]){const b=this.trigger(e,_,tw,r);b&&f.push(b)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),i&&mf(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(a=>{const u=a.name;if(r.has(u))return;r.add(u);const _=this._triggers[u].fallbackTransition,b=i[u]||fM,T=new hM(tw),I=new pM(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:_,fromState:b,toState:T,player:I,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(e):[];if(a&&a.length)r=!0;else{let u=e;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Ma];(!a||a===WR)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Oa(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const a=i.element,u=this._elementListeners.get(a);u&&u.forEach(f=>{if(f.name==i.triggerName){const _=YA(a,i.triggerName,i.fromState.value,i.toState.value);_._data=e,WA(i.player,f.phase,_,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const a=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==a||0==u?a-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class Rj{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new kj(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList.length-1;if(i>=0){let r=!1;for(let a=i;a>=0;a--)if(this.driver.containsElement(this._namespaceList[a].hostElement,t)){this._namespaceList.splice(a+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const r=Object.keys(i);for(let a=0;a<r.length;a++){const u=i[r[a]].namespaceId;if(u){const f=this._fetchNamespace(u);f&&t.add(f)}}}return t}trigger(e,t,i,r){if(IT(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!IT(t))return;const a=t[Ma];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Oa(e,dM)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Oy(e,dM))}removeNode(e,t,i,r){if(IT(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,a){this.collectedLeaveElements.push(t),t[Ma]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,i,r,a){return IT(t)?this._fetchNamespace(e).listen(t,i,r,a):()=>{}}_buildInstruction(e,t,i,r,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,mT,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,eM,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return mf(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const i=e[Ma];if(i&&i.setForRemoval){if(e[Ma]=WR,i.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,i.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(dM))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Oa(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?mf(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const i=new CT,r=[],a=new Map,u=[],f=new Map,_=new Map,b=new Map,T=new Set;this.disabledNodes.forEach(ot=>{T.add(ot);const yt=this.driver.query(ot,".ng-animate-queued",!0);for(let Dt=0;Dt<yt.length;Dt++)T.add(yt[Dt])});const I=this.bodyNode,R=Array.from(this.statesByElement.keys()),x=JR(R,this.collectedEnterElements),V=new Map;let Z=0;x.forEach((ot,yt)=>{const Dt=XA+Z++;V.set(yt,Dt),ot.forEach(cn=>Oa(cn,Dt))});const he=[],ke=new Set,Ue=new Set;for(let ot=0;ot<this.collectedLeaveElements.length;ot++){const yt=this.collectedLeaveElements[ot],Dt=yt[Ma];Dt&&Dt.setForRemoval&&(he.push(yt),ke.add(yt),Dt.hasAnimation?this.driver.query(yt,".ng-star-inserted",!0).forEach(cn=>ke.add(cn)):Ue.add(yt))}const We=new Map,Ge=JR(R,Array.from(ke));Ge.forEach((ot,yt)=>{const Dt=pT+Z++;We.set(yt,Dt),ot.forEach(cn=>Oa(cn,Dt))}),e.push(()=>{x.forEach((ot,yt)=>{const Dt=V.get(yt);ot.forEach(cn=>Oy(cn,Dt))}),Ge.forEach((ot,yt)=>{const Dt=We.get(yt);ot.forEach(cn=>Oy(cn,Dt))}),he.forEach(ot=>{this.processLeaveNode(ot)})});const Rt=[],hn=[];for(let ot=this._namespaceList.length-1;ot>=0;ot--)this._namespaceList[ot].drainQueuedTransitions(t).forEach(Dt=>{const cn=Dt.player,Vr=Dt.element;if(Rt.push(cn),this.collectedEnterElements.length){const eo=Vr[Ma];if(eo&&eo.setForMove){if(eo.previousTriggersValues&&eo.previousTriggersValues.has(Dt.triggerName)){const Xg=eo.previousTriggersValues.get(Dt.triggerName),wf=this.statesByElement.get(Dt.element);wf&&wf[Dt.triggerName]&&(wf[Dt.triggerName].value=Xg)}return void cn.destroy()}}const jc=!I||!this.driver.containsElement(I,Vr),ra=We.get(Vr),bf=V.get(Vr),mi=this._buildInstruction(Dt,i,bf,ra,jc);if(mi.errors&&mi.errors.length)return void hn.push(mi);if(jc)return cn.onStart(()=>$g(Vr,mi.fromStyles)),cn.onDestroy(()=>Vc(Vr,mi.toStyles)),void r.push(cn);if(Dt.isFallbackTransition)return cn.onStart(()=>$g(Vr,mi.fromStyles)),cn.onDestroy(()=>Vc(Vr,mi.toStyles)),void r.push(cn);const WP=[];mi.timelines.forEach(eo=>{eo.stretchStartingKeyframe=!0,this.disabledNodes.has(eo.element)||WP.push(eo)}),mi.timelines=WP,i.append(Vr,mi.timelines),u.push({instruction:mi,player:cn,element:Vr}),mi.queriedElements.forEach(eo=>ta(f,eo,[]).push(cn)),mi.preStyleProps.forEach((eo,Xg)=>{const wf=Object.keys(eo);if(wf.length){let em=_.get(Xg);em||_.set(Xg,em=new Set),wf.forEach(BM=>em.add(BM))}}),mi.postStyleProps.forEach((eo,Xg)=>{const wf=Object.keys(eo);let em=b.get(Xg);em||b.set(Xg,em=new Set),wf.forEach(BM=>em.add(BM))})});if(hn.length){const ot=[];hn.forEach(yt=>{ot.push(`@${yt.triggerName} has failed due to:\n`),yt.errors.forEach(Dt=>ot.push(`- ${Dt}\n`))}),Rt.forEach(yt=>yt.destroy()),this.reportError(ot)}const Rn=new Map,ii=new Map;u.forEach(ot=>{const yt=ot.element;i.has(yt)&&(ii.set(yt,yt),this._beforeAnimationBuild(ot.player.namespaceId,ot.instruction,Rn))}),r.forEach(ot=>{const yt=ot.element;this._getPreviousPlayers(yt,!1,ot.namespaceId,ot.triggerName,null).forEach(cn=>{ta(Rn,yt,[]).push(cn),cn.destroy()})});const ia=he.filter(ot=>XR(ot,_,b)),id=new Map;YR(id,this.driver,Ue,b,td).forEach(ot=>{XR(ot,_,b)&&ia.push(ot)});const hw=new Map;x.forEach((ot,yt)=>{YR(hw,this.driver,new Set(ot),_,"!")}),ia.forEach(ot=>{const yt=id.get(ot),Dt=hw.get(ot);id.set(ot,Object.assign(Object.assign({},yt),Dt))});const Qg=[],qP=[],ZP={};u.forEach(ot=>{const{element:yt,player:Dt,instruction:cn}=ot;if(i.has(yt)){if(T.has(yt))return Dt.onDestroy(()=>Vc(yt,cn.toStyles)),Dt.disabled=!0,Dt.overrideTotalTime(cn.totalTime),void r.push(Dt);let Vr=ZP;if(ii.size>1){let ra=yt;const bf=[];for(;ra=ra.parentNode;){const mi=ii.get(ra);if(mi){Vr=mi;break}bf.push(ra)}bf.forEach(mi=>ii.set(mi,Vr))}const jc=this._buildAnimation(Dt.namespaceId,cn,Rn,a,hw,id);if(Dt.setRealPlayer(jc),Vr===ZP)Qg.push(Dt);else{const ra=this.playersByElement.get(Vr);ra&&ra.length&&(Dt.parentPlayer=mf(ra)),r.push(Dt)}}else $g(yt,cn.fromStyles),Dt.onDestroy(()=>Vc(yt,cn.toStyles)),qP.push(Dt),T.has(yt)&&r.push(Dt)}),qP.forEach(ot=>{const yt=a.get(ot.element);if(yt&&yt.length){const Dt=mf(yt);ot.setRealPlayer(Dt)}}),r.forEach(ot=>{ot.parentPlayer?ot.syncPlayerEvents(ot.parentPlayer):ot.destroy()});for(let ot=0;ot<he.length;ot++){const yt=he[ot],Dt=yt[Ma];if(Oy(yt,pT),Dt&&Dt.hasAnimation)continue;let cn=[];if(f.size){let jc=f.get(yt);jc&&jc.length&&cn.push(...jc);let ra=this.driver.query(yt,eM,!0);for(let bf=0;bf<ra.length;bf++){let mi=f.get(ra[bf]);mi&&mi.length&&cn.push(...mi)}}const Vr=cn.filter(jc=>!jc.destroyed);Vr.length?Lj(this,yt,Vr):this.processLeaveNode(yt)}return he.length=0,Qg.forEach(ot=>{this.players.push(ot),ot.onDone(()=>{ot.destroy();const yt=this.players.indexOf(ot);this.players.splice(yt,1)}),ot.play()}),Qg}elementContainsData(e,t){let i=!1;const r=t[Ma];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,a){let u=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(u=f)}else{const f=this.playersByElement.get(e);if(f){const _=!a||a==tw;f.forEach(b=>{b.queued||!_&&b.triggerName!=r||u.push(b)})}}return(i||r)&&(u=u.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),u}_beforeAnimationBuild(e,t,i){const a=t.element,u=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const b=_.element,T=b!==a,I=ta(i,b,[]);this._getPreviousPlayers(b,T,u,f,t.toState).forEach(x=>{const V=x.getRealPlayer();V.beforeDestroy&&V.beforeDestroy(),x.destroy(),I.push(x)})}$g(a,t.fromStyles)}_buildAnimation(e,t,i,r,a,u){const f=t.triggerName,_=t.element,b=[],T=new Set,I=new Set,R=t.timelines.map(V=>{const Z=V.element;T.add(Z);const he=Z[Ma];if(he&&he.removedBeforeQueried)return new Xb(V.duration,V.delay);const ke=Z!==_,Ue=function Bj(n){const e=[];return QR(n,e),e}((i.get(Z)||Oj).map(Rn=>Rn.getRealPlayer())).filter(Rn=>!!Rn.element&&Rn.element===Z),We=a.get(Z),Ge=u.get(Z),Rt=TR(0,this._normalizer,0,V.keyframes,We,Ge),hn=this._buildPlayer(V,Rt,Ue);if(V.subTimeline&&r&&I.add(Z),ke){const Rn=new pM(e,f,Z);Rn.setRealPlayer(hn),b.push(Rn)}return hn});b.forEach(V=>{ta(this.playersByQueriedElement,V.element,[]).push(V),V.onDone(()=>function xj(n,e,t){let i;if(n instanceof Map){if(i=n.get(e),i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}}else if(i=n[e],i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&delete n[e]}return i}(this.playersByQueriedElement,V.element,V))}),T.forEach(V=>Oa(V,xR));const x=mf(R);return x.onDestroy(()=>{T.forEach(V=>Oy(V,xR)),Vc(_,t.toStyles)}),I.forEach(V=>{ta(r,V,[]).push(x)}),x}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Xb(e.duration,e.delay)}}class pM{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Xb,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>WA(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ta(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function IT(n){return n&&1===n.nodeType}function KR(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function YR(n,e,t,i,r){const a=[];t.forEach(_=>a.push(KR(_)));const u=[];i.forEach((_,b)=>{const T={};_.forEach(I=>{const R=T[I]=e.computeStyle(b,I,r);(!R||0==R.length)&&(b[Ma]=Nj,u.push(b))}),n.set(b,T)});let f=0;return t.forEach(_=>KR(_,a[f++])),u}function JR(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const r=new Set(e),a=new Map;function u(f){if(!f)return 1;let _=a.get(f);if(_)return _;const b=f.parentNode;return _=t.has(b)?b:r.has(b)?1:u(b),a.set(f,_),_}return e.forEach(f=>{const _=u(f);1!==_&&t.get(_).push(f)}),t}function Oa(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Oy(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function Lj(n,e,t){mf(t).onDone(()=>n.processLeaveNode(e))}function QR(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof CR?QR(i.players,e):e.push(i)}}function XR(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(a=>r.add(a)):e.set(n,i),t.delete(n),!0}class AT{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new Rj(e,t,i),this._timelineEngine=new Tj(e,t,i),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(e,t,i,r,a){const u=e+"-"+r;let f=this._triggerCache[u];if(!f){const _=[],b=rM(this._driver,a,_);if(_.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${_.join("\n - ")}`);f=function wj(n,e,t){return new Ej(n,e,t)}(r,b,this._normalizer),this._triggerCache[u]=f}this._transitionEngine.registerTrigger(t,r,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[a,u]=SR(i);this._timelineEngine.command(a,t,u,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,a){if("@"==i.charAt(0)){const[u,f]=SR(i);return this._timelineEngine.listen(u,t,f,a)}return this._transitionEngine.listen(e,t,i,r,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let jj=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Vc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Vc(this._element,this._initialStyles),this._endStyles&&(Vc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&($g(this._element,this._startStyles),this._endStyles=null),this._endStyles&&($g(this._element,this._endStyles),this._endStyles=null),Vc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function gM(n){let e=null;const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=t[i];Hj(r)&&(e=e||{},e[r]=n[r])}return e}function Hj(n){return"display"===n||"position"===n}class ex{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(i=>{"offset"!=i&&(e[i]=this._finished?t[i]:VR(this.element,i))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Gj{validateStyleProperty(e){return MR(e)}matchesElement(e,t){return!1}containsElement(e,t){return OR(e,t)}query(e,t,i){return NR(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,a,u=[]){const _={duration:i,delay:r,fill:0==r?"both":"forwards"};a&&(_.easing=a);const b={},T=u.filter(R=>R instanceof ex);(function YU(n,e){return 0===n||0===e})(i,r)&&T.forEach(R=>{let x=R.currentSnapshot;Object.keys(x).forEach(V=>b[V]=x[V])}),t=function JU(n,e,t){const i=Object.keys(t);if(i.length&&e.length){let a=e[0],u=[];if(i.forEach(f=>{a.hasOwnProperty(f)||u.push(f),a[f]=t[f]}),u.length)for(var r=1;r<e.length;r++){let f=e[r];u.forEach(function(_){f[_]=VR(n,_)})}}return e}(e,t=t.map(R=>_f(R,!1)),b);const I=function Uj(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=gM(e[0]),e.length>1&&(i=gM(e[e.length-1]))):e&&(t=gM(e)),t||i?new jj(n,t,i):null}(e,t);return new ex(e,t,_,I)}}let $j=(()=>{class n extends wR{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?ER(t):t;return tx(this._renderer,null,i,"register",[r]),new zj(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(ee))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class zj extends class BU{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new qj(this._id,e,t||{},this._renderer)}}class qj{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return tx(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function tx(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const nx="@.disabled";let Zj=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(a,u)=>{const f=null==u?void 0:u.parentNode(a);f&&u.removeChild(f,a)}}createRenderer(t,i){const a=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let T=this._rendererCache.get(a);return T||(T=new ix("",a,this.engine),this._rendererCache.set(a,T)),T}const u=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=T=>{Array.isArray(T)?T.forEach(_):this.engine.registerTrigger(u,f,t,T.name,T)};return i.data.animation.forEach(_),new Wj(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[u,f]=a;u(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(AT),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class ix{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==nx?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Wj extends ix{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==nx?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function Kj(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.substr(1),u="";return"@"!=a.charAt(0)&&([a,u]=function Yj(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(a)),this.engine.listen(this.namespaceId,r,a,u,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(e,t,i)}}let Jj=(()=>{class n extends AT{constructor(t,i,r){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ee),c.LFG(QA),c.LFG(cM))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const nw=new c.OlP("AnimationModuleType"),rx=[{provide:wR,useClass:$j},{provide:cM,useFactory:function Qj(){return new mj}},{provide:AT,useClass:Jj},{provide:c.FYo,useFactory:function Xj(n,e,t){return new Zj(n,e,t)},deps:[Cn,AT,c.R0b]}],sx=[{provide:QA,useFactory:()=>new Gj},{provide:nw,useValue:"BrowserAnimations"},...rx],eH=[{provide:QA,useClass:kR},{provide:nw,useValue:"NoopAnimations"},...rx];let tH=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?eH:sx}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:sx,imports:[Hl]}),n})();function nH(n,e){if(1&n&&c._UZ(0,"mat-pseudo-checkbox",4),2&n){const t=c.oxw();c.Q6J("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function iH(n,e){if(1&n&&(c.TgZ(0,"span",5),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.hij("(",t.group.label,")")}}const rH=["*"],oH=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function sH(){return!0}});let yf=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!BA()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(LU),c.LFG(oH,8),c.LFG(ee))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Yb],Yb]}),n})();function aH(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=ea(e)}}}function lH(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function cH(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=ea(e)}}}function uH(n,e=0){return class extends n{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?xA(t):this.defaultTabIndex}}}function dH(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new At.x,this.errorState=!1}updateErrorState(){const e=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==e&&(this.errorState=a,this.stateChanges.next())}}}let fH=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class pH{constructor(e,t,i){this._renderer=e,this.element=t,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const ax={enterDuration:225,exitDuration:150},mM=FA({passive:!0}),lx=["mousedown","touchstart"],cx=["mouseup","mouseleave","touchend","touchcancel"];class mH{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=cT(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a=Object.assign(Object.assign({},ax),i.animation);i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const u=i.radius||function yH(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),f=e-r.left,_=t-r.top,b=a.enterDuration,T=document.createElement("div");T.classList.add("mat-ripple-element"),T.style.left=f-u+"px",T.style.top=_-u+"px",T.style.height=2*u+"px",T.style.width=2*u+"px",null!=i.color&&(T.style.backgroundColor=i.color),T.style.transitionDuration=`${b}ms`,this._containerElement.appendChild(T),function _H(n){window.getComputedStyle(n).getPropertyValue("opacity")}(T),T.style.transform="scale(1)";const I=new pH(this,T,i);return I.state=0,this._activeRipples.add(I),i.persistent||(this._mostRecentTransientRipple=I),this._runTimeoutOutsideZone(()=>{const R=I===this._mostRecentTransientRipple;I.state=1,!i.persistent&&(!R||!this._isPointerDown)&&I.fadeOut()},b),I}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const i=e.element,r=Object.assign(Object.assign({},ax),e.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=cT(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(lx))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(cx),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=function NU(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!function kU(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,mM)})})}_removeTriggerEvents(){this._triggerElement&&(lx.forEach(e=>{this._triggerElement.removeEventListener(e,this,mM)}),this._pointerUpEventsRegistered&&cx.forEach(e=>{this._triggerElement.removeEventListener(e,this,mM)}))}}const vH=new c.OlP("mat-ripple-global-options");let bH=(()=>{class n{constructor(t,i,r,a,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new mH(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(pf),c.Y36(vH,8),c.Y36(nw,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),wH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[yf],yf]}),n})(),EH=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(nw,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,i){2&t&&c.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),n})(),DH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[yf]]}),n})();const ux=new c.OlP("MAT_OPTION_PARENT_COMPONENT"),dx=new c.OlP("MatOptgroup");let CH=0;class TH{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let SH=(()=>{class n{constructor(t,i,r,a){this._element=t,this._changeDetectorRef=i,this._parent=r,this.group=a,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+CH++,this.onSelectionChange=new c.vpe,this._stateChanges=new At.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=ea(t)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!Qb(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new TH(this,t))}}return n.\u0275fac=function(t){c.$Z()},n.\u0275dir=c.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),hx=(()=>{class n extends SH{constructor(t,i,r,a){super(t,i,r,a)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(ux,8),c.Y36(dx,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,i){1&t&&c.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(a){return i._handleKeydown(a)}),2&t&&(c.Ikx("id",i.id),c.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),c.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[c.qOj],ngContentSelectors:rH,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,i){1&t&&(c.F$t(),c.YNc(0,nH,1,2,"mat-pseudo-checkbox",0),c.TgZ(1,"span",1),c.Hsn(2),c.qZA(),c.YNc(3,iH,2,1,"span",2),c._UZ(4,"div",3)),2&t&&(c.Q6J("ngIf",i.multiple),c.xp6(3),c.Q6J("ngIf",i.group&&i.group._inert),c.xp6(1),c.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},directives:[EH,Dn,bH],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),n})();function fx(n,e,t){if(t.length){let i=e.toArray(),r=t.toArray(),a=0;for(let u=0;u<n+1;u++)i[u].group&&i[u].group===r[a]&&a++;return a}return 0}let px=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[wH,vn,yf,DH]]}),n})();var AH=P(1144);const MH=["addListener","removeListener"],OH=["addEventListener","removeEventListener"],NH=["on","off"];function Yr(n,e,t,i){if((0,$s.m)(t)&&(i=t,t=void 0),i)return Yr(n,e,t).pipe(Zl(i));const[r,a]=function xH(n){return(0,$s.m)(n.addEventListener)&&(0,$s.m)(n.removeEventListener)}(n)?OH.map(u=>f=>n[u](e,f,t)):function kH(n){return(0,$s.m)(n.addListener)&&(0,$s.m)(n.removeListener)}(n)?MH.map(gx(n,e)):function RH(n){return(0,$s.m)(n.on)&&(0,$s.m)(n.off)}(n)?NH.map(gx(n,e)):[];if(!r&&(0,AH.z)(n))return(0,ei.z)(u=>Yr(u,e,t))((0,Vt.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new pn.y(u=>{const f=(..._)=>u.next(1<_.length?_:_[0]);return r(f),()=>a(f)})}function gx(n,e){return t=>i=>n[t](e,i)}var OT=P(5032);function gn(n){return(0,ui.e)((e,t)=>{(0,Vt.Xf)(n).subscribe(new zt.Q(t,()=>t.complete(),OT.Z)),!t.closed&&e.subscribe(t)})}const PH=["connectionContainer"],FH=["inputContainer"],LH=["label"];function BH(n,e){1&n&&(c.ynx(0),c.TgZ(1,"div",14),c._UZ(2,"div",15),c._UZ(3,"div",16),c._UZ(4,"div",17),c.qZA(),c.TgZ(5,"div",18),c._UZ(6,"div",15),c._UZ(7,"div",16),c._UZ(8,"div",17),c.qZA(),c.BQk())}function VH(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",19),c.NdJ("cdkObserveContent",function(){return c.CHM(t),c.oxw().updateOutlineGap()}),c.Hsn(1,1),c.qZA()}if(2&n){const t=c.oxw();c.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function UH(n,e){if(1&n&&(c.ynx(0),c.Hsn(1,2),c.TgZ(2,"span"),c._uU(3),c.qZA(),c.BQk()),2&n){const t=c.oxw(2);c.xp6(3),c.Oqu(t._control.placeholder)}}function jH(n,e){1&n&&c.Hsn(0,3,["*ngSwitchCase","true"])}function HH(n,e){1&n&&(c.TgZ(0,"span",23),c._uU(1," *"),c.qZA())}function GH(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"label",20,21),c.NdJ("cdkObserveContent",function(){return c.CHM(t),c.oxw().updateOutlineGap()}),c.YNc(2,UH,4,1,"ng-container",12),c.YNc(3,jH,1,0,"ng-content",12),c.YNc(4,HH,2,0,"span",22),c.qZA()}if(2&n){const t=c.oxw();c.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),c.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),c.uIk("for",t._control.id)("aria-owns",t._control.id),c.xp6(2),c.Q6J("ngSwitchCase",!1),c.xp6(1),c.Q6J("ngSwitchCase",!0),c.xp6(1),c.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function $H(n,e){1&n&&(c.TgZ(0,"div",24),c.Hsn(1,4),c.qZA())}function zH(n,e){if(1&n&&(c.TgZ(0,"div",25),c._UZ(1,"span",26),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function qH(n,e){if(1&n&&(c.TgZ(0,"div"),c.Hsn(1,5),c.qZA()),2&n){const t=c.oxw();c.Q6J("@transitionMessages",t._subscriptAnimationState)}}function ZH(n,e){if(1&n&&(c.TgZ(0,"div",30),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.Q6J("id",t._hintLabelId),c.xp6(1),c.Oqu(t.hintLabel)}}function WH(n,e){if(1&n&&(c.TgZ(0,"div",27),c.YNc(1,ZH,2,2,"div",28),c.Hsn(2,6),c._UZ(3,"div",29),c.Hsn(4,7),c.qZA()),2&n){const t=c.oxw();c.Q6J("@transitionMessages",t._subscriptAnimationState),c.xp6(1),c.Q6J("ngIf",t.hintLabel)}}const KH=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],YH=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],JH=new c.OlP("MatError"),QH={transitionMessages:$A("transitionMessages",[hT("enter",gf({opacity:1,transform:"translateY(0%)"})),fT("void => enter",[gf({opacity:0,transform:"translateY(-5px)"}),zA("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let _M=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n}),n})();const XH=new c.OlP("MatHint");let yM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-label"]]}),n})(),eG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const tG=new c.OlP("MatPrefix"),nG=new c.OlP("MatSuffix");let mx=0;const rG=lH(class{constructor(n){this._elementRef=n}},"primary"),sG=new c.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),yx=new c.OlP("MatFormField");let oG=(()=>{class n extends rG{constructor(t,i,r,a,u,f,_){super(t),this._changeDetectorRef=i,this._dir=r,this._defaults=a,this._platform=u,this._ngZone=f,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new At.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+mx++,this._labelId="mat-form-field-label-"+mx++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==_,this.appearance=a&&a.appearance?a.appearance:"legacy",this._hideRequiredMarker=!(!a||null==a.hideRequiredMarker)&&a.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=ea(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(Nr(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(gn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(gn(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Dy.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Nr(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Nr(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(gn(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Yr(this._label.nativeElement,"transitionend").pipe((0,Ut.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,r=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",a=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const T=i.querySelectorAll(`${r}, ${a}`);for(let I=0;I<T.length;I++)T[I].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let u=0,f=0;const _=i.querySelectorAll(r),b=i.querySelectorAll(a);if(this._label&&this._label.nativeElement.children.length){const T=i.getBoundingClientRect();if(0===T.width&&0===T.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const I=this._getStartEnd(T),R=t.children,x=this._getStartEnd(R[0].getBoundingClientRect());let V=0;for(let Z=0;Z<R.length;Z++)V+=R[Z].offsetWidth;u=Math.abs(x-I)-5,f=V>0?.75*V+10:0}for(let T=0;T<_.length;T++)_[T].style.width=`${u}px`;for(let T=0;T<b.length;T++)b[T].style.width=`${f}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(uT,8),c.Y36(sG,8),c.Y36(pf),c.Y36(c.R0b),c.Y36(nw,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,_M,5),c.Suo(r,_M,7),c.Suo(r,yM,5),c.Suo(r,yM,7),c.Suo(r,eG,5),c.Suo(r,JH,5),c.Suo(r,XH,5),c.Suo(r,tG,5),c.Suo(r,nG,5)),2&t){let a;c.iGM(a=c.CRH())&&(i._controlNonStatic=a.first),c.iGM(a=c.CRH())&&(i._controlStatic=a.first),c.iGM(a=c.CRH())&&(i._labelChildNonStatic=a.first),c.iGM(a=c.CRH())&&(i._labelChildStatic=a.first),c.iGM(a=c.CRH())&&(i._placeholderChild=a.first),c.iGM(a=c.CRH())&&(i._errorChildren=a),c.iGM(a=c.CRH())&&(i._hintChildren=a),c.iGM(a=c.CRH())&&(i._prefixChildren=a),c.iGM(a=c.CRH())&&(i._suffixChildren=a)}},viewQuery:function(t,i){if(1&t&&(c.Gf(PH,7),c.Gf(FH,5),c.Gf(LH,5)),2&t){let r;c.iGM(r=c.CRH())&&(i._connectionContainerRef=r.first),c.iGM(r=c.CRH())&&(i._inputContainerRef=r.first),c.iGM(r=c.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,i){2&t&&c.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[c._Bn([{provide:yx,useExisting:n}]),c.qOj],ngContentSelectors:YH,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,i){1&t&&(c.F$t(KH),c.TgZ(0,"div",0),c.TgZ(1,"div",1,2),c.NdJ("click",function(a){return i._control.onContainerClick&&i._control.onContainerClick(a)}),c.YNc(3,BH,9,0,"ng-container",3),c.YNc(4,VH,2,1,"div",4),c.TgZ(5,"div",5,6),c.Hsn(7),c.TgZ(8,"span",7),c.YNc(9,GH,5,16,"label",8),c.qZA(),c.qZA(),c.YNc(10,$H,2,0,"div",9),c.qZA(),c.YNc(11,zH,2,4,"div",10),c.TgZ(12,"div",11),c.YNc(13,qH,2,1,"div",12),c.YNc(14,WH,5,2,"div",13),c.qZA(),c.qZA()),2&t&&(c.xp6(3),c.Q6J("ngIf","outline"==i.appearance),c.xp6(1),c.Q6J("ngIf",i._prefixChildren.length),c.xp6(5),c.Q6J("ngIf",i._hasFloatingLabel()),c.xp6(1),c.Q6J("ngIf",i._suffixChildren.length),c.xp6(1),c.Q6J("ngIf","outline"!=i.appearance),c.xp6(1),c.Q6J("ngSwitch",i._getDisplayedMessages()),c.xp6(1),c.Q6J("ngSwitchCase","error"),c.xp6(1),c.Q6J("ngSwitchCase","hint"))},directives:[Dn,tU,sr,Ui],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[QH.transitionMessages]},changeDetection:0}),n})(),aG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[vn,yf,nU],yf]}),n})();var vx=P(4408);const rw={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=rw;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(a=>{t=void 0,n(a)});return new Gs.w0(()=>null==t?void 0:t(r))},requestAnimationFrame(...n){const{delegate:e}=rw;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=rw;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var bx=P(7565);new class cG extends bx.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class lG extends vx.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=rw.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(rw.cancelAnimationFrame(t),e._scheduled=void 0)}});let vM,dG=1;const NT={};function wx(n){return n in NT&&(delete NT[n],!0)}const hG={setImmediate(n){const e=dG++;return NT[e]=!0,vM||(vM=Promise.resolve()),vM.then(()=>wx(e)&&n()),e},clearImmediate(n){wx(n)}},{setImmediate:fG,clearImmediate:pG}=hG,kT={setImmediate(...n){const{delegate:e}=kT;return((null==e?void 0:e.setImmediate)||fG)(...n)},clearImmediate(n){const{delegate:e}=kT;return((null==e?void 0:e.clearImmediate)||pG)(n)},delegate:void 0};new class mG extends bx.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class gG extends vx.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=kT.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(kT.clearImmediate(t),e._scheduled=void 0)}});var vG=P(3532);function RT(n=0,e,t=Tp.P){let i=-1;return null!=e&&((0,vG.K)(e)?t=e:i=e),new pn.y(r=>{let a=function bG(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let u=0;return t.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},a)})}function Ex(n,e=Tp.z){return function yG(n){return(0,ui.e)((e,t)=>{let i=!1,r=null,a=null,u=!1;const f=()=>{if(null==a||a.unsubscribe(),a=null,i){i=!1;const b=r;r=null,t.next(b)}u&&t.complete()},_=()=>{a=null,u&&t.complete()};e.subscribe(new zt.Q(t,b=>{i=!0,r=b,a||(0,Vt.Xf)(n(b)).subscribe(a=new zt.Q(t,f,_))},()=>{u=!0,(!i||!a||a.closed)&&t.complete()}))})}(()=>RT(n,e))}let EG=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new At.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new pn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(Ex(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):st()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(on(a=>!a||r.indexOf(a)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,a)=>{this._scrollableContainsElement(a,t)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=cT(i),a=t.getElementRef().nativeElement;do{if(r==a)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Yr(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(pf),c.LFG(ee,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bM=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new At.x,this._changeListener=a=>{this._change.next(a)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,a=r.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-a.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Ex(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(pf),c.LFG(c.R0b),c.LFG(ee,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),Dx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Yb,wM],Yb,wM]}),n})();class EM{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class CG extends EM{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class Cx extends EM{constructor(e,t,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class TG extends EM{constructor(e){super(),this.element=e instanceof c.SBq?e.nativeElement:e}}class IG extends class SG{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof CG?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Cx?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof TG?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(e,t,i,r,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const f=u.element,_=this._document.createComment("dom-portal");f.parentNode.insertBefore(_,f),this.outletElement.appendChild(f),this._attachedPortal=u,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(f,_)})},this._document=a}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let AG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Tx=lU();class OG{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Xi(-this._previousScrollPosition.left),e.style.top=Xi(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,a=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Tx&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Tx&&(i.scrollBehavior=a,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class NG{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Sx{enable(){}disable(){}attach(){}}function DM(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function Ix(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class kG{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();DM(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let RG=(()=>{class n{constructor(t,i,r,a){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new Sx,this.close=u=>new NG(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new OG(this._viewportRuler,this._document),this.reposition=u=>new kG(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=a}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(EG),c.LFG(bM),c.LFG(c.R0b),c.LFG(ee))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Ax{constructor(e){if(this.scrollStrategy=new Sx,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class xG{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class PG{constructor(e,t,i,r,a,u,f,_,b){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=a,this._keyboardDispatcher=u,this._document=f,this._location=_,this._outsideClickDispatcher=b,this._backdropElement=null,this._backdropClick=new At.x,this._attachments=new At.x,this._detachments=new At.x,this._locationChanges=Gs.w0.EMPTY,this._backdropClickHandler=T=>this._backdropClick.next(T),this._keydownEvents=new At.x,this._outsidePointerEvents=new At.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Ut.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Xi(this._config.width),e.height=Xi(this._config.height),e.minWidth=Xi(this._config.minWidth),e.minHeight=Xi(this._config.minHeight),e.maxWidth=Xi(this._config.maxWidth),e.maxHeight=Xi(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(!e)return;let t;const i=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",i),this._disposeBackdrop(e)),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",i)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(i,500))}_toggleClasses(e,t,i){const r=lR(t||[]).filter(a=>!!a);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(gn((0,Dy.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.remove(),this._backdropElement===e&&(this._backdropElement=null))}}let Mx=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||BA()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<r.length;a++)r[a].remove()}const i=this._document.createElement("div");i.classList.add(t),BA()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ee),c.LFG(pf))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ox="cdk-overlay-connected-position-bounding-box",FG=/([A-Za-z%]+)$/;class LG{constructor(e,t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new At.x,this._resizeSubscription=Gs.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(Ox),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,a=[];let u;for(let f of this._preferredPositions){let _=this._getOriginPoint(e,r,f),b=this._getOverlayPoint(_,t,f),T=this._getOverlayFit(b,t,i,f);if(T.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,_);this._canFitWithFlexibleDimensions(T,b,i)?a.push({position:f,origin:_,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(_,f)}):(!u||u.overlayFit.visibleArea<T.visibleArea)&&(u={overlayFit:T,overlayPoint:b,originPoint:_,position:f,overlayRect:t})}if(a.length){let f=null,_=-1;for(const b of a){const T=b.boundingBoxRect.width*b.boundingBoxRect.height*(b.position.weight||1);T>_&&(_=T,f=b)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&qg(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Ox),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,a;if("center"==i.originX)r=e.left+e.width/2;else{const u=this._isRtl()?e.right:e.left,f=this._isRtl()?e.left:e.right;r="start"==i.originX?u:f}return t.left<0&&(r-=t.left),a="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(a-=t.top),{x:r,y:a}}_getOverlayPoint(e,t,i){let r,a;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+a}}_getOverlayFit(e,t,i,r){const a=kx(t);let{x:u,y:f}=e,_=this._getOffset(r,"x"),b=this._getOffset(r,"y");_&&(u+=_),b&&(f+=b);let R=0-f,x=f+a.height-i.height,V=this._subtractOverflows(a.width,0-u,u+a.width-i.width),Z=this._subtractOverflows(a.height,R,x),he=V*Z;return{visibleArea:he,isCompletelyWithinViewport:a.width*a.height===he,fitsInViewportVertically:Z===a.height,fitsInViewportHorizontally:V==a.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,a=i.right-t.x,u=Nx(this._overlayRef.getConfig().minHeight),f=Nx(this._overlayRef.getConfig().minWidth),b=e.fitsInViewportHorizontally||null!=f&&f<=a;return(e.fitsInViewportVertically||null!=u&&u<=r)&&b}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=kx(t),a=this._viewportRect,u=Math.max(e.x+r.width-a.width,0),f=Math.max(e.y+r.height-a.height,0),_=Math.max(a.top-i.top-e.y,0),b=Math.max(a.left-i.left-e.x,0);let T=0,I=0;return T=r.width<=a.width?b||-u:e.x<this._viewportMargin?a.left-i.left-e.x:0,I=r.height<=a.height?_||-f:e.y<this._viewportMargin?a.top-i.top-e.y:0,this._previousPushAmount={x:T,y:I},{x:e.x+T,y:e.y+I}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new xG(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let a,u,f,T,I,R;if("top"===t.overlayY)u=e.y,a=i.height-u+this._viewportMargin;else if("bottom"===t.overlayY)f=i.height-e.y+2*this._viewportMargin,a=i.height-f+this._viewportMargin;else{const x=Math.min(i.bottom-e.y+i.top,e.y),V=this._lastBoundingBoxSize.height;a=2*x,u=e.y-x,a>V&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-V/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)R=i.width-e.x+this._viewportMargin,T=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)I=e.x,T=i.right-e.x;else{const x=Math.min(i.right-e.x+i.left,e.x),V=this._lastBoundingBoxSize.width;T=2*x,I=e.x-x,T>V&&!this._isInitialRender&&!this._growAfterOpen&&(I=e.x-V/2)}return{top:u,left:I,bottom:f,right:R,width:T,height:a}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=Xi(i.height),r.top=Xi(i.top),r.bottom=Xi(i.bottom),r.width=Xi(i.width),r.left=Xi(i.left),r.right=Xi(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(r.maxHeight=Xi(a)),u&&(r.maxWidth=Xi(u))}this._lastBoundingBoxSize=i,qg(this._boundingBox.style,r)}_resetBoundingBoxStyles(){qg(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){qg(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),a=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const T=this._viewportRuler.getViewportScrollPosition();qg(i,this._getExactOverlayY(t,e,T)),qg(i,this._getExactOverlayX(t,e,T))}else i.position="static";let f="",_=this._getOffset(t,"x"),b=this._getOffset(t,"y");_&&(f+=`translateX(${_}px) `),b&&(f+=`translateY(${b}px)`),i.transform=f.trim(),u.maxHeight&&(r?i.maxHeight=Xi(u.maxHeight):a&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=Xi(u.maxWidth):a&&(i.maxWidth="")),qg(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":r.top=Xi(a.y),r}_getExactOverlayX(e,t,i){let u,r={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),u=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":r.left=Xi(a.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Ix(e,i),isOriginOutsideView:DM(e,i),isOverlayClipped:Ix(t,i),isOverlayOutsideView:DM(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&lR(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof c.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function qg(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Nx(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(FG);return t&&"px"!==t?null:parseFloat(e)}return n||null}function kx(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const Rx="cdk-global-overlay-wrapper";class BG{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Rx),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:a,maxWidth:u,maxHeight:f}=i,_=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),b=!("100%"!==a&&"100vh"!==a||f&&"100%"!==f&&"100vh"!==f);e.position=this._cssPosition,e.marginLeft=_?"0":this._leftOffset,e.marginTop=b?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,_?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=b?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(Rx),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let VG=(()=>{class n{constructor(t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a}global(){return new BG}flexibleConnectedTo(t){return new LG(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(bM),c.LFG(ee),c.LFG(pf),c.LFG(Mx))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xx=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ee))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UG=(()=>{class n extends xx{constructor(t){super(t),this._keydownListener=i=>{const r=this._attachedOverlays;for(let a=r.length-1;a>-1;a--)if(r[a]._keydownEvents.observers.length>0){r[a]._keydownEvents.next(i);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ee))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jG=(()=>{class n extends xx{constructor(t,i){super(t),this._platform=i,this._cursorStyleIsSet=!1,this._pointerDownListener=r=>{this._pointerDownEventTarget=hR(r)},this._clickListener=r=>{const a=hR(r),u="click"===r.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const f=this._attachedOverlays.slice();for(let _=f.length-1;_>-1;_--){const b=f[_];if(!(b._outsidePointerEvents.observers.length<1)&&b.hasAttached()){if(b.overlayElement.contains(a)||b.overlayElement.contains(u))break;b._outsidePointerEvents.next(r)}}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ee),c.LFG(pf))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HG=0,xT=(()=>{class n{constructor(t,i,r,a,u,f,_,b,T,I,R){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=a,this._keyboardDispatcher=u,this._injector=f,this._ngZone=_,this._document=b,this._directionality=T,this._location=I,this._outsideClickDispatcher=R}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),a=this._createPortalOutlet(r),u=new Ax(t);return u.direction=u.direction||this._directionality.value,new PG(a,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+HG++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(c.z2F)),new IG(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(RG),c.LFG(Mx),c.LFG(c._Vd),c.LFG(VG),c.LFG(UG),c.LFG(c.zs3),c.LFG(c.R0b),c.LFG(ee),c.LFG(uT),c.LFG(Re),c.LFG(jG))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const GG=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Px=new c.OlP("cdk-connected-overlay-scroll-strategy");let Fx=(()=>{class n{constructor(t){this.elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),Lx=(()=>{class n{constructor(t,i,r,a,u){this._overlay=t,this._dir=u,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Gs.w0.EMPTY,this._attachSubscription=Gs.w0.EMPTY,this._detachSubscription=Gs.w0.EMPTY,this._positionSubscription=Gs.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new c.vpe,this.positionChange=new c.vpe,this.attach=new c.vpe,this.detach=new c.vpe,this.overlayKeydown=new c.vpe,this.overlayOutsideClick=new c.vpe,this._templatePortal=new Cx(i,r),this._scrollStrategyFactory=a,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=ea(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=ea(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=ea(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=ea(t)}get push(){return this._push}set push(t){this._push=ea(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=GG);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Qb(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),i=new Ax({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(t){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof Fx?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function MG(n,e=!1){return(0,ui.e)((t,i)=>{let r=0;t.subscribe(new zt.Q(i,a=>{const u=n(a,r++);(u||e)&&i.next(a),!u&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(xT),c.Y36(c.Rgc),c.Y36(c.s_b),c.Y36(Px),c.Y36(uT,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[c.TTD]}),n})();const zG={provide:Px,deps:[xT],useFactory:function $G(n){return()=>n.scrollStrategies.reposition()}};let qG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[xT,zG],imports:[[Yb,AG,Dx],Dx]}),n})();class ZG{constructor(e=!1,t,i=!0){this._multiple=e,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new At.x,t&&t.length&&(e?t.forEach(r=>this._markSelected(r)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...e){this._verifyValueAssignment(e),e.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(e){return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}}const WG=["trigger"],KG=["panel"];function YG(n,e){if(1&n&&(c.TgZ(0,"span",8),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Oqu(t.placeholder)}}function JG(n,e){if(1&n&&(c.TgZ(0,"span",12),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.xp6(1),c.Oqu(t.triggerValue)}}function QG(n,e){1&n&&c.Hsn(0,0,["*ngSwitchCase","true"])}function XG(n,e){if(1&n&&(c.TgZ(0,"span",9),c.YNc(1,JG,2,1,"span",10),c.YNc(2,QG,1,0,"ng-content",11),c.qZA()),2&n){const t=c.oxw();c.Q6J("ngSwitch",!!t.customTrigger),c.xp6(2),c.Q6J("ngSwitchCase",!0)}}function e3(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",13),c.TgZ(1,"div",14,15),c.NdJ("@transformPanel.done",function(r){return c.CHM(t),c.oxw()._panelDoneAnimatingStream.next(r.toState)})("keydown",function(r){return c.CHM(t),c.oxw()._handleKeydown(r)}),c.Hsn(3,1),c.qZA(),c.qZA()}if(2&n){const t=c.oxw();c.Q6J("@transformPanelWrap",void 0),c.xp6(1),c.Gre("mat-select-panel ",t._getPanelTheme(),""),c.Udp("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),c.Q6J("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),c.uIk("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const t3=[[["mat-select-trigger"]],"*"],n3=["mat-select-trigger","*"],Bx={transformPanelWrap:$A("transformPanelWrap",[fT("* => void",UU("@transformPanel",[VU()],{optional:!0}))]),transformPanel:$A("transformPanel",[hT("void",gf({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),hT("showing",gf({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),hT("showing-multiple",gf({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),fT("void => *",zA("120ms cubic-bezier(0, 0, 0.2, 1)")),fT("* => void",zA("100ms 25ms linear",gf({opacity:0})))])};let Vx=0;const jx=new c.OlP("mat-select-scroll-strategy"),a3=new c.OlP("MAT_SELECT_CONFIG"),l3={provide:jx,deps:[xT],useFactory:function o3(n){return()=>n.scrollStrategies.reposition()}};class c3{constructor(e,t){this.source=e,this.value=t}}const u3=cH(uH(aH(dH(class{constructor(n,e,t,i,r){this._elementRef=n,this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=i,this.ngControl=r}})))),d3=new c.OlP("MatSelectTrigger");let h3=(()=>{class n extends u3{constructor(t,i,r,a,u,f,_,b,T,I,R,x,V,Z){var he,ke,Ue;super(u,a,_,b,I),this._viewportRuler=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=f,this._parentFormField=T,this._liveAnnouncer=V,this._defaultOptions=Z,this._panelOpen=!1,this._compareWith=(We,Ge)=>We===Ge,this._uid="mat-select-"+Vx++,this._triggerAriaLabelledBy=null,this._destroy=new At.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+Vx++,this._panelDoneAnimatingStream=new At.x,this._overlayPanelClass=(null===(he=this._defaultOptions)||void 0===he?void 0:he.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(Ue=null===(ke=this._defaultOptions)||void 0===ke?void 0:ke.disableOptionCentering)&&void 0!==Ue&&Ue,this.ariaLabel="",this.optionSelectionChanges=np(()=>{const We=this.options;return We?We.changes.pipe(Nr(We),Ln(()=>(0,Dy.T)(...We.map(Ge=>Ge.onSelectionChange)))):this._ngZone.onStable.pipe((0,Ut.q)(1),Ln(()=>this.optionSelectionChanges))}),this.openedChange=new c.vpe,this._openedStream=this.openedChange.pipe(on(We=>We),(0,Qe.U)(()=>{})),this._closedStream=this.openedChange.pipe(on(We=>!We),(0,Qe.U)(()=>{})),this.selectionChange=new c.vpe,this.valueChange=new c.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==Z?void 0:Z.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=Z.typeaheadDebounceInterval),this._scrollStrategyFactory=x,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(R)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){var t,i,r,a;return null!==(a=null!==(t=this._required)&&void 0!==t?t:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(jn.required))&&void 0!==a&&a}set required(t){this._required=ea(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=ea(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=ea(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=xA(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new ZG(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(th(),gn(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(gn(this._destroy)).subscribe(t=>{t.added.forEach(i=>i.select()),t.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Nr(null),gn(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby();if(t!==this._triggerAriaLabelledBy){const i=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?i.setAttribute("aria-labelledby",t):i.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.value=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var t,i;return this.multiple?(null===(t=this._selectionModel)||void 0===t?void 0:t.selected)||[]:null===(i=this._selectionModel)||void 0===i?void 0:i.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const i=t.keyCode,r=40===i||38===i||37===i||39===i,a=13===i||32===i,u=this._keyManager;if(!u.isTyping()&&a&&!Qb(t)||(this.multiple||t.altKey)&&r)t.preventDefault(),this.open();else if(!this.multiple){const f=this.selected;u.onKeydown(t);const _=this.selected;_&&f!==_&&this._liveAnnouncer.announce(_.viewValue,1e4)}}_handleOpenKeydown(t){const i=this._keyManager,r=t.keyCode,a=40===r||38===r,u=i.isTyping();if(a&&t.altKey)t.preventDefault(),this.close();else if(u||13!==r&&32!==r||!i.activeItem||Qb(t))if(!u&&this._multiple&&65===r&&t.ctrlKey){t.preventDefault();const f=this.options.some(_=>!_.disabled&&!_.selected);this.options.forEach(_=>{_.disabled||(f?_.select():_.deselect())})}else{const f=i.activeItemIndex;i.onKeydown(t),this._multiple&&a&&t.shiftKey&&i.activeItem&&i.activeItemIndex!==f&&i.activeItem._selectViaInteraction()}else t.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,Ut.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(i=>this._selectValue(i)),this._sortValues();else{const i=this._selectValue(t);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,t)}catch(a){return!1}});return i&&this._selectionModel.select(i),i}_initKeyManager(){this._keyManager=new TU(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(gn(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(gn(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=(0,Dy.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(gn(t)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Dy.T)(...this.options.map(i=>i._stateChanges)).pipe(gn(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,i){const r=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(r!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),i&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),i&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),r!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,t):t.indexOf(i)-t.indexOf(r)),this.stateChanges.next()}}_propagateChanges(t){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:t,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var t;return!this._panelOpen&&!this.disabled&&(null===(t=this.options)||void 0===t?void 0:t.length)>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){var t;if(this.ariaLabel)return null;const i=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();return this.ariaLabelledby?(i?i+" ":"")+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var t;if(this.ariaLabel)return null;const i=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();let r=(i?i+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(bM),c.Y36(c.sBO),c.Y36(c.R0b),c.Y36(fH),c.Y36(c.SBq),c.Y36(uT,8),c.Y36(Pd,8),c.Y36(dl,8),c.Y36(yx,8),c.Y36(Ii,10),c.$8M("tabindex"),c.Y36(jx),c.Y36(FU),c.Y36(a3,8))},n.\u0275dir=c.lG2({type:n,viewQuery:function(t,i){if(1&t&&(c.Gf(WG,5),c.Gf(KG,5),c.Gf(Lx,5)),2&t){let r;c.iGM(r=c.CRH())&&(i.trigger=r.first),c.iGM(r=c.CRH())&&(i.panel=r.first),c.iGM(r=c.CRH())&&(i._overlayDir=r.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[c.qOj,c.TTD]}),n})(),f3=(()=>{class n extends h3{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,i,r){const a=this._getItemHeight();return Math.min(Math.max(0,a*t-i+a/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(gn(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,Ut.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const i=fx(t,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===t&&1===i?0:function IH(n,e,t,i){return n<t?n:n+e>t+i?Math.max(0,n-i+e):t}((t+i)*r,r,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new c3(this,t)}_calculateOverlayOffsetX(){const t=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),a=this.multiple?56:32;let u;if(this.multiple)u=40;else if(this.disableOptionCentering)u=16;else{let b=this._selectionModel.selected[0]||this.options.first;u=b&&b.group?32:16}r||(u*=-1);const f=0-(t.left+u-(r?a:0)),_=t.right+u-i.width+(r?0:a);f>0?u+=f+8:_>0&&(u-=_+8),this._overlayDir.offsetX=Math.round(u),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,i,r){const a=this._getItemHeight(),u=(a-this._triggerRect.height)/2,f=Math.floor(256/a);let _;return this.disableOptionCentering?0:(_=0===this._scrollTop?t*a:this._scrollTop===r?(t-(this._getItemCount()-f))*a+(a-(this._getItemCount()*a-256)%a):i-a/2,Math.round(-1*_-u))}_checkOverlayWithinViewport(t){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),a=this._triggerRect.top-8,u=r.height-this._triggerRect.bottom-8,f=Math.abs(this._offsetY),b=Math.min(this._getItemCount()*i,256)-f-this._triggerRect.height;b>u?this._adjustPanelUp(b,u):f>a?this._adjustPanelDown(f,a,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,i){const r=Math.round(t-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,i,r){const a=Math.round(t-i);if(this._scrollTop+=a,this._offsetY+=a,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*t,256),u=i*t-r;let f;f=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),f+=fx(f,this.options,this.optionGroups);const _=r/2;this._scrollTop=this._calculateOverlayScroll(f,_,u),this._offsetY=this._calculateOverlayOffsetY(f,_,u),this._checkOverlayWithinViewport(u)}_getOriginBasedOnOption(){const t=this._getItemHeight(),i=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,d3,5),c.Suo(r,hx,5),c.Suo(r,dx,5)),2&t){let a;c.iGM(a=c.CRH())&&(i.customTrigger=a.first),c.iGM(a=c.CRH())&&(i.options=a),c.iGM(a=c.CRH())&&(i.optionGroups=a)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,i){1&t&&c.NdJ("keydown",function(a){return i._handleKeydown(a)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&t&&(c.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-describedby",i._ariaDescribedby||null)("aria-activedescendant",i._getAriaActiveDescendant()),c.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[c._Bn([{provide:_M,useExisting:n},{provide:ux,useExisting:n}]),c.qOj],ngContentSelectors:n3,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,i){if(1&t&&(c.F$t(t3),c.TgZ(0,"div",0,1),c.NdJ("click",function(){return i.toggle()}),c.TgZ(3,"div",2),c.YNc(4,YG,2,1,"span",3),c.YNc(5,XG,3,2,"span",4),c.qZA(),c.TgZ(6,"div",5),c._UZ(7,"div",6),c.qZA(),c.qZA(),c.YNc(8,e3,4,14,"ng-template",7),c.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&t){const r=c.MAs(1);c.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),c.xp6(3),c.Q6J("ngSwitch",i.empty),c.uIk("id",i._valueId),c.xp6(1),c.Q6J("ngSwitchCase",!0),c.xp6(1),c.Q6J("ngSwitchCase",!1),c.xp6(3),c.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},directives:[Fx,sr,Ui,Hc,Lx,Ao],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;opacity:0}\n'],encapsulation:2,data:{animation:[Bx.transformPanelWrap,Bx.transformPanel]},changeDetection:0}),n})(),p3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[l3],imports:[[vn,qG,px,yf],wM,aG,px,yf]}),n})();function g3(n,e){1&n&&(c.TgZ(0,"div"),c._uU(1," name must be at least 6 characters long. "),c.qZA())}function m3(n,e){1&n&&(c.TgZ(0,"div"),c._uU(1," example@example.com. "),c.qZA())}function _3(n,e){1&n&&(c.TgZ(0,"div"),c._uU(1," password must be at least 6 characters long. "),c.qZA())}function y3(n,e){if(1&n&&(c.TgZ(0,"mat-option",22),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.Q6J("value",t.viewValue),c.xp6(1),c.hij(" ",t.viewValue," ")}}const v3=[{path:"NewTask",component:qV},{path:"Edittask",component:QV},{path:"SignUp",component:(()=>{class n{constructor(t,i,r){this.newuser=t,this.router=i,this.af=r,this.randomId=Math.random().toString(36).substring(2),this.isToggle=!0,this.path="",this.user={fullname:"",email:"",password:"",major:"",profile_img:{}},this.majors=[{value:"Business-0",viewValue:"business"},{value:"Art-1",viewValue:"Art"},{value:"Math-3",viewValue:"Math"},{value:"Science-4",viewValue:"Science"},{value:"Education-5",viewValue:"Education"},{value:"English-6",viewValue:"English"}]}ngOnInit(){this.newUserform=this.newuser.userform}post(){this.user.fullname=this.newuser.userform.value.fullname,this.user.email=this.newuser.userform.value.email,this.user.password=this.newuser.userform.value.password,this.user.major=this.newuser.selectedmajer,this.user.profile_img=this.randomId,this.uploadimg(),this.newuser.createUser(this.user)}uploadimg(){this.ref=this.af.ref("/files/"+this.randomId),this.task=this.ref.put(this.path)}Upload(t){this.path=t.target.files[0]}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Iy),c.Y36(Ni),c.Y36(lT))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-signup"]],decls:34,vars:8,consts:[[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle","mb-2","text-muted"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","inputfullname"],["type","text","id","inputAddress","placeholder","name","formControlName","fullname",1,"form-control"],[4,"ngIf"],[1,"row"],[1,"form-group","col-md-6"],["for","signupEmail"],["type","Email","id","signupEmail","placeholder","Email","formControlName","email",1,"form-control",3,"pattern"],["for","signupPassword"],["type","password","id","signuppassword","placeholder","password","formControlName","password",1,"form-control"],["appearance","fill"],[3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[1,"mb-3"],["for","formFile",1,"form-label"],["type","file","id","formFile","accept","*.png.jpg",1,"form-control",3,"change"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"value"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"h5",2),c._uU(3,"Sign Up"),c.qZA(),c.TgZ(4,"h6",3),c._uU(5,"subtitle"),c.qZA(),c.TgZ(6,"form",4),c.NdJ("ngSubmit",function(){return i.post()}),c.TgZ(7,"div",5),c.TgZ(8,"label",6),c._uU(9,"Full name"),c.qZA(),c._UZ(10,"input",7),c.YNc(11,g3,2,0,"div",8),c.qZA(),c.TgZ(12,"div",9),c.TgZ(13,"div",10),c.TgZ(14,"label",11),c._uU(15,"Email"),c.qZA(),c._UZ(16,"input",12),c.YNc(17,m3,2,0,"div",8),c.qZA(),c.TgZ(18,"div",10),c.TgZ(19,"label",13),c._uU(20,"Password"),c.qZA(),c._UZ(21,"input",14),c.YNc(22,_3,2,0,"div",8),c.qZA(),c.qZA(),c.TgZ(23,"mat-form-field",15),c.TgZ(24,"mat-label"),c._uU(25,"choose your major"),c.qZA(),c.TgZ(26,"mat-select",16),c.NdJ("valueChange",function(a){return i.newuser.selectedmajer=a}),c.YNc(27,y3,2,2,"mat-option",17),c.qZA(),c.qZA(),c.TgZ(28,"div",18),c.TgZ(29,"label",19),c._uU(30,"Profile Picture"),c.qZA(),c.TgZ(31,"input",20),c.NdJ("change",function(a){return i.Upload(a)}),c.qZA(),c.qZA(),c.TgZ(32,"button",21),c._uU(33,"submit"),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.xp6(6),c.Q6J("formGroup",i.newUserform),c.xp6(5),c.Q6J("ngIf",null==i.newUserform.controls.fullname.errors?null:i.newUserform.controls.fullname.errors.minlength),c.xp6(5),c.Q6J("pattern",i.newuser.emailpattern),c.xp6(1),c.Q6J("ngIf",null==i.newUserform.controls.email.errors?null:i.newUserform.controls.email.errors.pattern),c.xp6(5),c.Q6J("ngIf",null==i.newUserform.controls.password.errors?null:i.newUserform.controls.password.errors.minlength),c.xp6(4),c.Q6J("value",i.newuser.selectedmajer),c.xp6(1),c.Q6J("ngForOf",i.majors),c.xp6(5),c.Q6J("disabled",!i.newUserform.valid))},directives:[nc,Bs,dl,rs,al,fu,Dn,Xf,oG,yM,f3,yn,hx],styles:[".card[_ngcontent-%COMP%]{width:50%;border-radius:9px;background-color:#faeee7}.dropdown[_ngcontent-%COMP%]{margin:.7rem 0}.card-body[_ngcontent-%COMP%]{text-align:left}.card-title[_ngcontent-%COMP%]{font-size:large;font-weight:800}input[_ngcontent-%COMP%]{margin-top:0;padding-top:0}@media (max-width: 992px){.card[_ngcontent-%COMP%]{width:80%}}@media (max-width: 575px){.card[_ngcontent-%COMP%]{margin:2% auto;width:100%}}"]}),n})()},{path:"",redirectTo:"Edittask",pathMatch:"full"}];let b3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Nv.forRoot(v3)],Nv]}),n})();const{isArray:w3}=Array;function Hx(n){return 1===n.length&&w3(n[0])?n[0]:n}function FT(...n){const e=(0,is.jO)(n),t=Hx(n);return t.length?new pn.y(i=>{let r=t.map(()=>[]),a=t.map(()=>!1);i.add(()=>{r=a=null});for(let u=0;!i.closed&&u<t.length;u++)(0,Vt.Xf)(t[u]).subscribe(new zt.Q(i,f=>{if(r[u].push(f),r.every(_=>_.length)){const _=r.map(b=>b.shift());i.next(e?e(..._):_),r.some((b,T)=>!b.length&&a[T])&&i.complete()}},()=>{a[u]=!0,!r[u].length&&i.complete()}));return()=>{r=a=null}}):Mi.E}function CM(...n){const e=(0,is.jO)(n);return(0,ui.e)((t,i)=>{const r=n.length,a=new Array(r);let u=n.map(()=>!1),f=!1;for(let _=0;_<r;_++)(0,Vt.Xf)(n[_]).subscribe(new zt.Q(i,b=>{a[_]=b,!f&&!u[_]&&(u[_]=!0,(f=u.every(ds.y))&&(u=null))},OT.Z));t.subscribe(new zt.Q(i,_=>{if(f){const b=[_,...a];i.next(e?e(...b):b)}}))})}new pn.y(OT.Z);const P3=["*"],X3=["dialog"];function Zg(n){return null!=n}function ky(n){return(n||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.closest=function(n){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(n))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const Zx={animation:!0,transitionTimerDelayMs:5},W$=()=>{},{transitionTimerDelayMs:K$}=Zx,ow=new Map,ws=(n,e,t,i)=>{let r=i.context||{};const a=ow.get(e);if(a)switch(i.runningTransition){case"continue":return Mi.E;case"stop":n.run(()=>a.transition$.complete()),r=Object.assign(a.context,r),ow.delete(e)}const u=t(e,i.animation,r)||W$;if(!i.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>u()),st(void 0).pipe(function q$(n){return e=>new pn.y(t=>e.subscribe({next:u=>n.run(()=>t.next(u)),error:u=>n.run(()=>t.error(u)),complete:()=>n.run(()=>t.complete())}))}(n));const f=new At.x,_=new At.x,b=f.pipe(function D3(...n){return e=>oc(e,st(...n))}(!0));ow.set(e,{transition$:f,complete:()=>{_.next(),_.complete()},context:r});const T=function Z$(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const I=Yr(e,"transitionend").pipe(gn(b),on(({target:x})=>x===e));(function Gx(...n){return 1===(n=Hx(n)).length?(0,Vt.Xf)(n[0]):new pn.y(function E3(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push((0,Vt.Xf)(n[i]).subscribe(new zt.Q(e,r=>{if(t){for(let a=0;a<t.length;a++)a!==i&&t[a].unsubscribe();t=null}e.next(r)})))}}(n))})(RT(T+K$).pipe(gn(b)),I,_).pipe(gn(b)).subscribe(()=>{ow.delete(e),n.run(()=>{u(),f.next(),f.complete()})})}),f.asObservable()},IM=(n,e,t)=>{let{direction:i,maxHeight:r}=t;const{classList:a}=n;function u(){a.add("collapse"),"show"===i?a.add("show"):a.remove("show")}if(e)return r||(r=function J$(n){if("undefined"==typeof navigator)return"0px";const{classList:e}=n,t=e.contains("show");t||e.add("show"),n.style.height="";const i=n.getBoundingClientRect().height+"px";return t||e.remove("show"),i}(n),t.maxHeight=r,n.style.height="show"!==i?r:"0px",a.remove("collapse"),a.remove("collapsing"),a.remove("show"),ky(n),a.add("collapsing")),n.style.height="show"===i?r:"0px",()=>{u(),a.remove("collapsing"),n.style.height=""};u()};let aw=(()=>{class n{constructor(){this.animation=Zx.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Qx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[vn]]}),n})(),Xx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[vn]]}),n})(),tP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),rP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[vn]]}),n})(),a6=(()=>{class n{constructor(t){this._ngbConfig=t}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(aw))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),l6=(()=>{class n{constructor(t,i,r){this._element=t,this._zone=r,this.collapsed=!1,this.ngbCollapseChange=new c.vpe,this.shown=new c.vpe,this.hidden=new c.vpe,this.animation=i.animation}ngOnInit(){this._runTransition(this.collapsed,!1)}ngOnChanges({collapsed:t}){t.firstChange||this._runTransitionWithEvents(this.collapsed,this.animation)}toggle(t=this.collapsed){this.collapsed=!t,this.ngbCollapseChange.next(this.collapsed),this._runTransitionWithEvents(this.collapsed,this.animation)}_runTransition(t,i){return ws(this._zone,this._element.nativeElement,IM,{animation:i,runningTransition:"stop",context:{direction:t?"hide":"show"}})}_runTransitionWithEvents(t,i){this._runTransition(t,i).subscribe(()=>{t?this.hidden.emit():this.shown.emit()})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(a6),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngbCollapse",""]],inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"]},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],features:[c.TTD]}),n})(),sP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();var br=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(br||(br={})),br))();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const aP=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function lP(n){const e=Array.from(n.querySelectorAll(aP)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new class v6{getAllStyles(e){return window.getComputedStyle(e)}getStyle(e,t){return this.getAllStyles(e)[t]}isStaticPositioned(e){return"static"===(this.getStyle(e,"position")||"static")}offsetParent(e){let t=e.offsetParent||document.documentElement;for(;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement}position(e,t=!0){let i,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(e,"position"))i=e.getBoundingClientRect(),i={top:i.top,bottom:i.bottom,left:i.left,right:i.right,height:i.height,width:i.width};else{const a=this.offsetParent(e);i=this.offset(e,!1),a!==document.documentElement&&(r=this.offset(a,!1)),r.top+=a.clientTop,r.left+=a.clientLeft}return i.top-=r.top,i.bottom-=r.top,i.left-=r.left,i.right-=r.left,t&&(i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i}offset(e,t=!0){const i=e.getBoundingClientRect(),r_top=window.scrollY-document.documentElement.clientTop,r_left=window.scrollX-document.documentElement.clientLeft;let a={height:i.height||e.offsetHeight,width:i.width||e.offsetWidth,top:i.top+r_top,bottom:i.bottom+r_top,left:i.left+r_left,right:i.right+r_left};return t&&(a.height=Math.round(a.height),a.width=Math.round(a.width),a.top=Math.round(a.top),a.bottom=Math.round(a.bottom),a.left=Math.round(a.left),a.right=Math.round(a.right)),a}positionElements(e,t,i,r){const[a="top",u="center"]=i.split("-"),f=r?this.offset(e,!1):this.position(e,!1),_=this.getAllStyles(t),b=parseFloat(_.marginTop),T=parseFloat(_.marginBottom),I=parseFloat(_.marginLeft),R=parseFloat(_.marginRight);let x=0,V=0;switch(a){case"top":x=f.top-(t.offsetHeight+b+T);break;case"bottom":x=f.top+f.height;break;case"left":V=f.left-(t.offsetWidth+I+R);break;case"right":V=f.left+f.width}switch(u){case"top":x=f.top;break;case"bottom":x=f.top+f.height-t.offsetHeight;break;case"left":V=f.left;break;case"right":V=f.left+f.width-t.offsetWidth;break;case"center":"top"===a||"bottom"===a?V=f.left+f.width/2-t.offsetWidth/2:x=f.top+f.height/2-t.offsetHeight/2}t.style.transform=`translate(${Math.round(V)}px, ${Math.round(x)}px)`;const Z=t.getBoundingClientRect(),he=document.documentElement,ke=window.innerHeight||he.clientHeight,Ue=window.innerWidth||he.clientWidth;return Z.left>=0&&Z.top>=0&&Z.right<=Ue&&Z.bottom<=ke}},new Date(1882,10,12),new Date(2174,10,25);let gP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[vn,Wy]]}),n})(),xM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["",8,"navbar"]]}),n})(),yP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();class Jg{constructor(e,t,i){this.nodes=e,this.viewRef=t,this.componentRef=i}}let k6=(()=>{class n{constructor(t,i){this._el=t,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Ut.q)(1)).subscribe(()=>{ws(this._zone,this._el.nativeElement,(t,i)=>{i&&ky(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return ws(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,i){2&t&&(c.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),c.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})();class vP{close(e){}dismiss(e){}}class R6{constructor(e,t,i,r){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new At.x,this._dismissed=new At.x,this._hidden=new At.x,e.instance.dismissEvent.subscribe(a=>{this.dismiss(a)}),this.result=new Promise((a,u)=>{this._resolve=a,this._reject=u}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(gn(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(gn(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function $$(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(i=>{!1!==i&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():st(void 0);e.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),FT(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var dw=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(dw||(dw={})),dw))();let x6=(()=>{class n{constructor(t,i,r){this._document=t,this._elRef=i,this._zone=r,this._closed$=new At.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new c.vpe,this.shown=new At.x,this.hidden=new At.x}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Ut.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},u=FT(ws(this._zone,t,()=>t.classList.remove("show"),i),ws(this._zone,this._dialogEl.nativeElement,()=>{},i));return u.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),u}_show(){const t={animation:this.animation,runningTransition:"continue"};FT(ws(this._zone,this._elRef.nativeElement,(a,u)=>{u&&ky(a),a.classList.add("show")},t),ws(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Yr(t,"keydown").pipe(gn(this._closed$),on(r=>r.which===br.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(dw.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Yr(this._dialogEl.nativeElement,"mousedown").pipe(gn(this._closed$),(0,p.b)(()=>i=!1),Ln(()=>Yr(t,"mouseup").pipe(gn(this._closed$),(0,Ut.q)(1))),on(({target:r})=>t===r)).subscribe(()=>{i=!0}),Yr(t,"click").pipe(gn(this._closed$)).subscribe(({target:r})=>{t===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(dw.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const i=t.querySelector("[ngbAutofocus]"),r=lP(t)[0];(i||r||t).focus()}}_restoreFocus(){const t=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&t.contains(i)?i:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&ws(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ee),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,i){if(1&t&&c.Gf(X3,7),2&t){let r;c.iGM(r=c.CRH())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,i){2&t&&(c.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),c.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),c.ekj("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:P3,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"div",0,1),c.TgZ(2,"div",2),c.Hsn(3),c.qZA(),c.qZA()),2&t&&c.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})();const P6=()=>{};let F6=(()=>{class n{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):P6}_adjustBody(t){const i=this._document.body,r=i.style.paddingRight,a=parseFloat(window.getComputedStyle(i)["padding-right"]);return i.style["padding-right"]=`${a+t}px`,()=>i.style["padding-right"]=r}_isPresent(t){const i=this._document.body.getBoundingClientRect();return window.innerWidth-(i.left+i.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const i=this._document.body;i.appendChild(t);const r=t.getBoundingClientRect().width-t.clientWidth;return i.removeChild(t),r}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ee))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),L6=(()=>{class n{constructor(t,i,r,a,u,f){this._applicationRef=t,this._injector=i,this._document=r,this._scrollBar=a,this._rendererFactory=u,this._ngZone=f,this._activeWindowCmptHasChanged=new At.x,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new c.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const _=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const r=Yr(e,"focusin").pipe(gn(t),(0,Qe.U)(a=>a.target));Yr(e,"keydown").pipe(gn(t),on(a=>a.which===br.Tab),CM(r)).subscribe(([a,u])=>{const[f,_]=lP(e);(u===f||u===e)&&a.shiftKey&&(_.focus(),a.preventDefault()),u===_&&!a.shiftKey&&(f.focus(),a.preventDefault())}),i&&Yr(e,"click").pipe(gn(t),CM(r),(0,Qe.U)(a=>a[1])).subscribe(a=>a.focus())})})(0,_.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(_.location.nativeElement)}})}open(t,i,r,a){const u=a.container instanceof HTMLElement?a.container:Zg(a.container)?this._document.querySelector(a.container):this._document.body,f=this._rendererFactory.createRenderer(null,null),_=this._scrollBar.compensate(),b=()=>{this._modalRefs.length||(f.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!u)throw new Error(`The specified modal container "${a.container||"body"}" was not found in the DOM.`);const T=new vP,I=this._getContentRef(t,a.injector||i,r,T,a);let R=!1!==a.backdrop?this._attachBackdrop(t,u):void 0,x=this._attachWindowComponent(t,u,I),V=new R6(x,I,R,a.beforeDismiss);return this._registerModalRef(V),this._registerWindowCmpt(x),V.result.then(_,_),V.result.then(b,b),T.close=Z=>{V.close(Z)},T.dismiss=Z=>{V.dismiss(Z)},this._applyWindowOptions(x.instance,a),1===this._modalRefs.length&&f.addClass(this._document.body,"modal-open"),R&&R.instance&&(this._applyBackdropOptions(R.instance,a),R.changeDetectorRef.detectChanges()),x.changeDetectorRef.detectChanges(),V}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,i){let a=t.resolveComponentFactory(k6).create(this._injector);return this._applicationRef.attachView(a.hostView),i.appendChild(a.location.nativeElement),a}_attachWindowComponent(t,i,r){let u=t.resolveComponentFactory(x6).create(this._injector,r.nodes);return this._applicationRef.attachView(u.hostView),i.appendChild(u.location.nativeElement),u}_applyWindowOptions(t,i){this._windowAttributes.forEach(r=>{Zg(i[r])&&(t[r]=i[r])})}_applyBackdropOptions(t,i){this._backdropAttributes.forEach(r=>{Zg(i[r])&&(t[r]=i[r])})}_getContentRef(t,i,r,a,u){return r?r instanceof c.Rgc?this._createFromTemplateRef(r,a):function qx(n){return"string"==typeof n}(r)?this._createFromString(r):this._createFromComponent(t,i,r,a,u):new Jg([])}_createFromTemplateRef(t,i){const a=t.createEmbeddedView({$implicit:i,close(u){i.close(u)},dismiss(u){i.dismiss(u)}});return this._applicationRef.attachView(a),new Jg([a.rootNodes],a)}_createFromString(t){const i=this._document.createTextNode(`${t}`);return new Jg([[i]])}_createFromComponent(t,i,r,a,u){const f=t.resolveComponentFactory(r),_=c.zs3.create({providers:[{provide:vP,useValue:a}],parent:i}),b=f.create(_),T=b.location.nativeElement;return u.scrollable&&T.classList.add("component-host-scrollable"),this._applicationRef.attachView(b.hostView),new Jg([[T]],b.hostView,b)}_setAriaHidden(t){const i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==t&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const i=()=>{const r=this._modalRefs.indexOf(t);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.z2F),c.LFG(c.zs3),c.LFG(ee),c.LFG(F6),c.LFG(c.FYo),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),B6=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(aw))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),V6=(()=>{class n{constructor(t,i,r,a){this._moduleCFR=t,this._injector=i,this._modalStack=r,this._config=a}open(t,i={}){const r=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._moduleCFR,this._injector,t,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c._Vd),c.LFG(c.zs3),c.LFG(L6),c.LFG(B6))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[V6]}),n})(),CP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[vn]]}),n})(),kP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[vn]]}),n})(),xP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[vn]]}),n})(),PP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[vn]]}),n})(),FP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[vn]]}),n})(),LP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[vn]]}),n})(),BP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[vn]]}),n})(),VP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();new c.OlP("live announcer delay",{providedIn:"root",factory:function Q6(){return 100}});let UP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[vn]]}),n})();const X6=[Qx,Xx,tP,rP,sP,gP,yP,bP,CP,kP,xP,PP,FP,LP,BP,VP,UP];let ez=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[X6,Qx,Xx,tP,rP,sP,gP,yP,bP,CP,kP,xP,PP,FP,LP,BP,VP,UP]}),n})();function jP(n,e){const t=(0,$s.m)(n)?n:()=>n,i=r=>r.error(t());return new pn.y(e?r=>e.schedule(i,0,r):i)}const tz=["*"];class zT{}let nz=(()=>{class n extends zT{constructor(t){super(),this.http=t}getSvg(t){return this.http.get(t,{responseType:"text"})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(eT))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const HP=new c.OlP("SERVER_URL");let qT=(()=>{class n{constructor(t,i,r,a){this.loader=t,this.platformId=i,this.serverUrl=r,this._document=a,this.iconsByUrl=new Map,this.iconsLoadingByUrl=new Map,this.document=this._document}addSvg(t,i){if(!this.iconsByUrl.has(t)){const r=this.document.createElement("DIV");r.innerHTML=i;const a=r.querySelector("svg");this.iconsByUrl.set(t,a)}}loadSvg(t,i=t){if(this.serverUrl&&null===t.match(/^(http(s)?):/)&&(i=t=this.serverUrl+t),this.iconsByUrl.has(i))return st(this.iconsByUrl.get(i));if(this.iconsLoadingByUrl.has(i))return this.iconsLoadingByUrl.get(i);const r=this.loader.getSvg(t).pipe((0,Qe.U)(a=>{const u=this.document.createElement("DIV");return u.innerHTML=a,u.querySelector("svg")}),(0,p.b)(a=>this.iconsByUrl.set(i,a)),Hr(a=>(console.error(a),jP(a))),m(()=>this.iconsLoadingByUrl.delete(i)),(0,EN.B)());return this.iconsLoadingByUrl.set(i,r),r}getSvgByName(t){return this.iconsByUrl.has(t)?st(this.iconsByUrl.get(t)):this.iconsLoadingByUrl.has(t)?this.iconsLoadingByUrl.get(t):jP(`No svg with name '${t}' has been loaded`)}unloadSvg(t){this.iconsByUrl.has(t)&&this.iconsByUrl.delete(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(zT),c.LFG(c.Lbi),c.LFG(HP,8),c.LFG(ee,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const rz={provide:qT,deps:[[new c.FiY,new c.tp0,qT],zT,[c.Lbi],[new c.FiY,HP],[new c.FiY,ee]],useFactory:function iz(n,e,t,i,r){return n||new qT(e,t,i,r)}};class GP{constructor(){this.loaded=!1}}let sz=(()=>{class n{constructor(t,i,r,a,u){this.element=t,this.differs=i,this.renderer=r,this.iconReg=a,this.cdr=u,this.stretch=!1,this.applyClass=!1,this.applyCss=!1,this.helper=new GP,this._svgStyle=null}set svgStyle(t){this._svgStyle=t,!this.helper.differ&&t&&(this.helper.differ=this.differs.find(t).create())}ngOnInit(){this.init()}ngOnDestroy(){this.destroy()}ngOnChanges(t){const i=this.element.nativeElement.firstChild;(t.src||t.name)&&(this.helper.loaded&&this.destroy(),this.init()),t.stretch&&this.stylize(),t.applyClass&&(this.applyClass?this.setClass(i,null,this.klass):this.setClass(i,this.klass,null)),t.svgClass&&this.setClass(i,t.svgClass.previousValue,t.svgClass.currentValue),t.klass&&(this.setClass(this.element.nativeElement,t.klass.previousValue,t.klass.currentValue),this.setClass(i,t.klass.previousValue,this.applyClass?t.klass.currentValue:null)),t.viewBox&&(this.helper.loaded&&this.destroy(),this.init()),t.applyCss&&(console.warn("applyCss deprecated since 9.1.0, will be removed in 10.0.0"),console.warn("use applyClass instead")),t.svgAriaLabel&&this.doAria(t.svgAriaLabel.currentValue)}ngDoCheck(){if(this.helper.svg&&this.helper.differ){const t=this.helper.differ.diff(this._svgStyle);t&&this.applyChanges(t)}}init(){if(this.name){const t=this.iconReg.getSvgByName(this.name);t&&(this.helper.icnSub=t.subscribe(i=>this.initSvg(i)))}else if(this.src){const t=this.iconReg.loadSvg(this.src);t&&(this.helper.icnSub=t.subscribe(i=>this.initSvg(i)))}else this.element.nativeElement.innerHTML="",this.cdr.markForCheck()}initSvg(t){!this.helper.loaded&&t&&(this.setSvg(t),this.resetDiffer())}destroy(){this.helper.icnSub&&this.helper.icnSub.unsubscribe(),this.helper=new GP}resetDiffer(){this._svgStyle&&!this.helper.differ&&(this.helper.differ=this.differs.find(this._svgStyle).create())}setSvg(t){if(!this.helper.loaded&&t){this.helper.svg=t;const i=t.cloneNode(!0),r=this.element.nativeElement;if(r.innerHTML="",this.renderer.appendChild(r,i),this.helper.loaded=!0,this.copyNgContentAttribute(r,i),this.klass&&this.applyClass&&this.setClass(r.firstChild,null,this.klass),this.svgClass&&this.setClass(r.firstChild,null,this.svgClass),this.viewBox)if("auto"===this.viewBox){const a=i.getAttribute("width"),u=i.getAttribute("height");u&&a&&(this.renderer.setAttribute(i,"viewBox",`0 0 ${a} ${u}`),this.renderer.removeAttribute(i,"width"),this.renderer.removeAttribute(i,"height"))}else""!==this.viewBox&&(this.renderer.setAttribute(i,"viewBox",this.viewBox),this.renderer.removeAttribute(i,"width"),this.renderer.removeAttribute(i,"height"));this.stylize(),void 0===this.svgAriaLabel&&r.firstChild.hasAttribute("aria-label")||this.doAria(this.svgAriaLabel||""),this.cdr.markForCheck()}}copyNgContentAttribute(t,i){const r=t.attributes,a=r.length;for(let u=0;u<a;u+=1){const f=r.item(u);if(f&&f.name.startsWith("_ngcontent")){this.setNgContentAttribute(i,f.name);break}}}setNgContentAttribute(t,i){this.renderer.setAttribute(t,i,"");const r=t.childNodes.length;for(let a=0;a<r;a+=1){const u=t.childNodes[a];u instanceof Element&&this.setNgContentAttribute(u,i)}}stylize(){if(this.helper.svg){const t=this.element.nativeElement.firstChild;!0===this.stretch?this.renderer.setAttribute(t,"preserveAspectRatio","none"):!1===this.stretch&&this.renderer.removeAttribute(t,"preserveAspectRatio")}}applyChanges(t){t.forEachRemovedItem(i=>this.setStyle(i.key,null)),t.forEachAddedItem(i=>this.setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this.setStyle(i.key,i.currentValue))}setStyle(t,i){const[r,a]=t.split("."),u=this.element.nativeElement.firstChild;null!==(i=null!==i&&a?`${i}${a}`:i)?this.renderer.setStyle(u,r,i):this.renderer.removeStyle(u,r)}setClass(t,i,r){if(t){if(i){const a=Array.isArray(i)?i:i.split(" ");for(const u of a)this.renderer.removeClass(t,u)}if(r){const a=Array.isArray(r)?r:r.split(" ");for(const u of a)this.renderer.addClass(t,u)}}}doAria(t){const i=this.element.nativeElement.firstChild;i&&(""===t?(this.renderer.setAttribute(i,"aria-hidden","true"),this.renderer.removeAttribute(i,"aria-label")):(this.renderer.removeAttribute(i,"aria-hidden"),this.renderer.setAttribute(i,"aria-label",t)))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.aQg),c.Y36(c.Qsj),c.Y36(qT),c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["svg-icon"]],inputs:{stretch:"stretch",applyClass:"applyClass",applyCss:"applyCss",svgStyle:"svgStyle",src:"src",name:"name",svgClass:"svgClass",klass:["class","klass"],viewBox:"viewBox",svgAriaLabel:"svgAriaLabel"},features:[c.TTD],ngContentSelectors:tz,decls:1,vars:0,template:function(t,i){1&t&&(c.F$t(),c.Hsn(0))},encapsulation:2}),n})(),oz=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[rz,t.loader||{provide:zT,useClass:nz}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[vn]]}),n})();const az=function(){return{"width.px":20,"padding.px":1,"margin.px":3}};let lz=(()=>{class n{constructor(t){this.newtaskdat=t,this.isCollapsed=!0}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Iy))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-nav-bar"]],decls:15,vars:5,consts:[[1,"navbar","navbar-expand-lg","navbar-light"],[1,"container-fluid"],[1,"navbar-brand"],["src","assets\\check-mark-black-outline-svgrepo-com.svg",3,"svgStyle"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse","justify-content-end",3,"ngbCollapse"],[1,"navbar-nav"],[1,"nav-item"],["aria-current","page","routerLink","/",1,"nav-link","active"],["type","button",1,"btn","btn-outline-primary",3,"disabled"],["routerLink","/NewTask"]],template:function(t,i){1&t&&(c.TgZ(0,"nav",0),c.TgZ(1,"div",1),c.TgZ(2,"a",2),c._UZ(3,"svg-icon",3),c._uU(4,"FirstSite"),c.qZA(),c.TgZ(5,"button",4),c.NdJ("click",function(){return i.isCollapsed=!i.isCollapsed}),c._UZ(6,"span",5),c.qZA(),c.TgZ(7,"div",6),c.TgZ(8,"ul",7),c.TgZ(9,"li",8),c.TgZ(10,"a",9),c._uU(11,"Home"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(12,"button",10),c.TgZ(13,"a",11),c._uU(14,"New Task"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.xp6(3),c.Q6J("svgStyle",c.DdM(4,az)),c.xp6(2),c.uIk("arr-expanded",!i.isCollapsed),c.xp6(2),c.Q6J("ngbCollapse",i.isCollapsed),c.xp6(5),c.Q6J("disabled",!i.newtaskdat.userSignin))},directives:[xM,sz,l6,Su],styles:['@import"https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&display=swap";.navbar-brand[_ngcontent-%COMP%]{font-family:Space Mono,monospace;font-weight:700}.container-fluid[_ngcontent-%COMP%]{padding:0}a[_ngcontent-%COMP%]{text-decoration:none;color:#b667f1}a[_ngcontent-%COMP%]:hover{color:#fbf8f1}.btn-outline-primary[_ngcontent-%COMP%]:hover{background-color:#b667f1;border-color:#fbf8f1}.btn-outline-primary[_ngcontent-%COMP%]{border-color:#b667f1}@media (min-width: 767px){.navbar-brand[_ngcontent-%COMP%]{padding-left:25%}}']}),n})(),cz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"container-fluid"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0),c._UZ(1,"app-nav-bar"),c._UZ(2,"router-outlet"),c.qZA())},directives:[lz,gv],styles:[""]}),n})();const $P_firebase={apiKey:"AIzaSyB71civMACTzBm7mrWDPF0t1mHD59KXpLM",authDomain:"my-task-project-3c8eb.firebaseapp.com",projectId:"my-task-project-3c8eb",storageBucket:"my-task-project-3c8eb.appspot.com",messagingSenderId:"569547331901",appId:"1:569547331901:web:cb54e0aad4108e14044d54",measurementId:"G-C5TZ2GE0YF"};let uz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[vn]]}),n})(),dz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[cz]}),n.\u0275inj=c.cJS({providers:[aR,Iy],imports:[[Hl,b3,ez,Wy,Ew,tB,kr.hO.initializeApp($P_firebase),j2,uz,tH,p3,GV,oz.forRoot()]]}),n})();(0,c.G48)(),yd().bootstrapModule(dz).catch(n=>console.error(n))},5867:(it,De,P)=>{"use strict";P.d(De,{Mq:()=>c.getApp,C6:()=>c.getApps});var c=P(9681);(0,c.registerVersion)("firebase","9.6.6","app")},127:(it,De,P)=>{"use strict";P.d(De,{Z:()=>c.Z});var c=P(3942);c.Z.registerVersion("firebase","9.6.6","app-compat")},389:(it,De,P)=>{"use strict";P.r(De);var c=P(5861),Q=P(3942),F=P(2090),ce=P(9681),ie=P(655),me=P(1877),ee=P(4859);const Ne=function je(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ve=function Ie(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},W=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ye=new me.Yd("@firebase/auth");function Te(y,...p){ye.logLevel<=me.in.ERROR&&ye.error(`Auth (${ce.SDK_VERSION}): ${y}`,...p)}function fe(y,...p){throw qe(y,...p)}function Re(y,...p){return qe(y,...p)}function Se(y,p,m){const w=Object.assign(Object.assign({},Ve()),{[p]:m});return new F.LL("auth","Firebase",w).create(p,{appName:y.name})}function Je(y,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&fe(y,"argument-error"),Se(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qe(y,...p){if("string"!=typeof y){const m=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(m,...w)}return W.create(y,...p)}function oe(y,p,...m){if(!y)throw qe(p,...m)}function Y(y){const p="INTERNAL ASSERTION FAILED: "+y;throw Te(p),new Error(p)}function se(y,p){y||Y(p)}const ve=new Map;function ae(y){se(y instanceof Function,"Expected a class definition");let p=ve.get(y);return p?(se(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,ve.set(y,p),p)}function bt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Wt(){return"http:"===Vn()||"https:"===Vn()}function Vn(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class zn{constructor(p,m){this.shortDelay=p,this.longDelay=m,se(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return function lt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Wt()||(0,F.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function nn(y,p){se(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class Di{static initialize(p,m,w){this.fetchImpl=p,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Y("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Y("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Y("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Qt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Jr=new zn(3e4,6e4);function Xt(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function Lt(y,p,m,w){return Es.apply(this,arguments)}function Es(){return(Es=(0,c.Z)(function*(y,p,m,w,M={}){return _i(y,M,(0,c.Z)(function*(){let k={},q={};w&&("GET"===p?q=w:k={body:JSON.stringify(w)});const de=(0,F.xO)(Object.assign({key:y.config.apiKey},q)).slice(1),He=yield y._getAdditionalHeaders();return He["Content-Type"]="application/json",y.languageCode&&(He["X-Firebase-Locale"]=y.languageCode),Di.fetch()(no(y,y.config.apiHost,m,de),Object.assign({method:p,headers:He,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function _i(y,p,m){return to.apply(this,arguments)}function to(){return(to=(0,c.Z)(function*(y,p,m){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},Qt),p);try{const M=new wr(y),k=yield Promise.race([m(),M.promise]);M.clearNetworkTimeout();const q=yield k.json();if("needConfirmation"in q)throw Xr(y,"account-exists-with-different-credential",q);if(k.ok&&!("errorMessage"in q))return q;{const de=k.ok?q.errorMessage:q.error.message,[He,nt]=de.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===He)throw Xr(y,"credential-already-in-use",q);if("EMAIL_EXISTS"===He)throw Xr(y,"email-already-in-use",q);const vt=w[He]||He.toLowerCase().replace(/[_\s]+/g,"-");if(nt)throw Se(y,vt,nt);fe(y,vt)}}catch(M){if(M instanceof F.ZR)throw M;fe(y,"network-request-failed")}})).apply(this,arguments)}function Fi(y,p,m,w){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,c.Z)(function*(y,p,m,w,M={}){const k=yield Lt(y,p,m,w,M);return"mfaPendingCredential"in k&&fe(y,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function no(y,p,m,w){const M=`${p}${m}?${w}`;return y.config.emulator?nn(y.config,M):`${y.config.apiScheme}://${M}`}class wr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(Re(this.auth,"network-request-failed")),Jr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Xr(y,p,m){const w={appName:y.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const M=Re(y,p,w);return M.customData._tokenResponse=m,M}function er(){return(er=(0,c.Z)(function*(y,p){return Lt(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function qn(y,p){return xn.apply(this,arguments)}function xn(){return(xn=(0,c.Z)(function*(y,p){return Lt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Co(y,p){return _t.apply(this,arguments)}function _t(){return(_t=(0,c.Z)(function*(y,p){return Lt(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function et(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function Ci(){return(Ci=(0,c.Z)(function*(y,p=!1){const m=(0,F.m9)(y),w=yield m.getIdToken(p),M=tt(w);oe(M&&M.exp&&M.auth_time&&M.iat,m.auth,"internal-error");const k="object"==typeof M.firebase?M.firebase:void 0,q=null==k?void 0:k.sign_in_provider;return{claims:M,token:w,authTime:et(Pt(M.auth_time)),issuedAtTime:et(Pt(M.iat)),expirationTime:et(Pt(M.exp)),signInProvider:q||null,signInSecondFactor:(null==k?void 0:k.sign_in_second_factor)||null}})).apply(this,arguments)}function Pt(y){return 1e3*Number(y)}function tt(y){const[p,m,w]=y.split(".");if(void 0===p||void 0===m||void 0===w)return Te("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,F.tV)(m);return M?JSON.parse(M):(Te("Failed to decode base64 JWT payload"),null)}catch(M){return Te("Caught error parsing JWT payload as JSON",M),null}}function Ur(y,p){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,c.Z)(function*(y,p,m=!1){if(m)return p;try{return yield p}catch(w){throw w instanceof F.ZR&&Ht(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}function Ht({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Na{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const M=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,c.Z)(function*(){yield m.iteration()}),w)}iteration(){var p=this;return(0,c.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&p.schedule(!0))}p.schedule()})()}}class tr{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=et(this.lastLoginAt),this.creationTime=et(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Er(y){return U.apply(this,arguments)}function U(){return(U=(0,c.Z)(function*(y){var p;const m=y.auth,w=yield y.getIdToken(),M=yield Ur(y,Co(m,{idToken:w}));oe(null==M?void 0:M.users.length,m,"internal-error");const k=M.users[0];y._notifyReloadListener(k);const q=(null===(p=k.providerUserInfo)||void 0===p?void 0:p.length)?te(k.providerUserInfo):[],de=we(y.providerData,q),vt=!!y.isAnonymous&&!(y.email&&k.passwordHash||(null==de?void 0:de.length)),ct={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:de,metadata:new tr(k.createdAt,k.lastLoginAt),isAnonymous:vt};Object.assign(y,ct)})).apply(this,arguments)}function z(){return(z=(0,c.Z)(function*(y){const p=(0,F.m9)(y);yield Er(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function we(y,p){return[...y.filter(w=>!p.some(M=>M.providerId===w.providerId)),...p]}function te(y){return y.map(p=>{var{providerId:m}=p,w=(0,ie._T)(p,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function mt(){return(mt=(0,c.Z)(function*(y,p){const m=yield _i(y,{},(0,c.Z)(function*(){const w=(0,F.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:M,apiKey:k}=y.config,q=no(y,M,"/v1/token",`key=${k}`),de=yield y._getAdditionalHeaders();return de["Content-Type"]="application/x-www-form-urlencoded",Di.fetch()(q,{method:"POST",headers:de,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class rn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){oe(p.idToken,"internal-error"),oe(void 0!==p.idToken,"internal-error"),oe(void 0!==p.refreshToken,"internal-error");const m="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function dt(y){const p=tt(y);return oe(p,"internal-error"),oe(void 0!==p.exp,"internal-error"),oe(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var w=this;return(0,c.Z)(function*(){return oe(!w.accessToken||w.refreshToken,p,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var w=this;return(0,c.Z)(function*(){const{accessToken:M,refreshToken:k,expiresIn:q}=yield function Ze(y,p){return mt.apply(this,arguments)}(p,m);w.updateTokensAndExpiration(M,k,Number(q))})()}updateTokensAndExpiration(p,m,w){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,m){const{refreshToken:w,accessToken:M,expirationTime:k}=m,q=new rn;return w&&(oe("string"==typeof w,"internal-error",{appName:p}),q.refreshToken=w),M&&(oe("string"==typeof M,"internal-error",{appName:p}),q.accessToken=M),k&&(oe("number"==typeof k,"internal-error",{appName:p}),q.expirationTime=k),q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new rn,this.toJSON())}_performRefresh(){return Y("not implemented")}}function fn(y,p){oe("string"==typeof y||void 0===y,"internal-error",{appName:p})}class _n{constructor(p){var{uid:m,auth:w,stsTokenManager:M}=p,k=(0,ie._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Na(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new tr(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,c.Z)(function*(){const w=yield Ur(m,m.stsTokenManager.getToken(m.auth,p));return oe(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(p){return function mn(y){return Ci.apply(this,arguments)}(this,p)}reload(){return function $(y){return z.apply(this,arguments)}(this)}_assign(p){this!==p&&(oe(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new _n(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var w=this;return(0,c.Z)(function*(){let M=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),M=!0),m&&(yield Er(w)),yield w.auth._persistUserIfCurrent(w),M&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,c.Z)(function*(){const m=yield p.getIdToken();return yield Ur(p,function gt(y,p){return er.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var w,M,k,q,de,He,nt,vt;const ct=null!==(w=m.displayName)&&void 0!==w?w:void 0,On=null!==(M=m.email)&&void 0!==M?M:void 0,Gr=null!==(k=m.phoneNumber)&&void 0!==k?k:void 0,lc=null!==(q=m.photoURL)&&void 0!==q?q:void 0,qd=null!==(de=m.tenantId)&&void 0!==de?de:void 0,yu=null!==(He=m._redirectEventId)&&void 0!==He?He:void 0,rp=null!==(nt=m.createdAt)&&void 0!==nt?nt:void 0,Qy=null!==(vt=m.lastLoginAt)&&void 0!==vt?vt:void 0,{uid:$o,emailVerified:Mt,isAnonymous:sp,providerData:ya,stsTokenManager:vu}=m;oe($o&&vu,p,"internal-error");const op=rn.fromJSON(this.name,vu);oe("string"==typeof $o,p,"internal-error"),fn(ct,p.name),fn(On,p.name),oe("boolean"==typeof Mt,p,"internal-error"),oe("boolean"==typeof sp,p,"internal-error"),fn(Gr,p.name),fn(lc,p.name),fn(qd,p.name),fn(yu,p.name),fn(rp,p.name),fn(Qy,p.name);const ap=new _n({uid:$o,auth:p,email:On,emailVerified:Mt,displayName:ct,isAnonymous:sp,photoURL:lc,phoneNumber:Gr,tenantId:qd,stsTokenManager:op,createdAt:rp,lastLoginAt:Qy});return ya&&Array.isArray(ya)&&(ap.providerData=ya.map(Xy=>Object.assign({},Xy))),yu&&(ap._redirectEventId=yu),ap}static _fromIdTokenResponse(p,m,w=!1){return(0,c.Z)(function*(){const M=new rn;M.updateFromServerResponse(m);const k=new _n({uid:m.localId,auth:p,stsTokenManager:M,isAnonymous:w});return yield Er(k),k})()}}const Nt=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(m,w){var M=this;return(0,c.Z)(function*(){M.storage[m]=w})()}_get(m){var w=this;return(0,c.Z)(function*(){const M=w.storage[m];return void 0===M?null:M})()}_remove(m){var w=this;return(0,c.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return y.type="NONE",y})();function Zn(y,p,m){return`firebase:${y}:${p}:${m}`}class Li{constructor(p,m,w){this.persistence=p,this.auth=m,this.userKey=w;const{config:M,name:k}=this.auth;this.fullUserKey=Zn(this.userKey,M.apiKey,k),this.fullPersistenceKey=Zn("persistence",M.apiKey,k),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,c.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?_n._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,c.Z)(function*(){if(m.persistence===p)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,w="authUser"){return(0,c.Z)(function*(){if(!m.length)return new Li(ae(Nt),p,w);const M=(yield Promise.all(m.map(function(){var nt=(0,c.Z)(function*(vt){if(yield vt._isAvailable())return vt});return function(vt){return nt.apply(this,arguments)}}()))).filter(nt=>nt);let k=M[0]||ae(Nt);const q=Zn(w,p.config.apiKey,p.name);let de=null;for(const nt of m)try{const vt=yield nt._get(q);if(vt){const ct=_n._fromJSON(p,vt);nt!==k&&(de=ct),k=nt;break}}catch(vt){}const He=M.filter(nt=>nt._shouldAllowMigration);return k._shouldAllowMigration&&He.length?(k=He[0],de&&(yield k._set(q,de.toJSON())),yield Promise.all(m.map(function(){var nt=(0,c.Z)(function*(vt){if(vt!==k)try{yield vt._remove(q)}catch(ct){}});return function(vt){return nt.apply(this,arguments)}}())),new Li(k,p,w)):new Li(k,p,w)})()}}function ka(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Wn(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Ra(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Cs(p))return"Blackberry";if(Kn(p))return"Webos";if(xl(p))return"Safari";if((p.includes("chrome/")||xa(p))&&!p.includes("edge/"))return"Chrome";if(Bi(p))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function Ra(y=(0,F.z$)()){return/firefox\//i.test(y)}function xl(y=(0,F.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function xa(y=(0,F.z$)()){return/crios\//i.test(y)}function Wn(y=(0,F.z$)()){return/iemobile/i.test(y)}function Bi(y=(0,F.z$)()){return/android/i.test(y)}function Cs(y=(0,F.z$)()){return/blackberry/i.test(y)}function Kn(y=(0,F.z$)()){return/webos/i.test(y)}function ir(y=(0,F.z$)()){return/iphone|ipad|ipod/i.test(y)}function io(y=(0,F.z$)()){return ir(y)||Bi(y)||Kn(y)||Cs(y)||/windows phone/i.test(y)||Wn(y)}function sa(y,p=[]){let m;switch(y){case"Browser":m=ka((0,F.z$)());break;case"Worker":m=`${ka((0,F.z$)())}-${y}`;break;default:m=y}const w=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${ce.SDK_VERSION}/${w}`}class rr{constructor(p,m){this.app=p,this.config=m,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new It(this),this.idTokenSubscription=new It(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=W,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=m.sdkClientVersion}_initializeWithPersistence(p,m){var w=this;return m&&(this._popupRedirectResolver=ae(m)),this._initializationPromise=this.queue((0,c.Z)(function*(){var M,k;if(!w._deleted&&(w.persistenceManager=yield Li.create(w,p),!w._deleted)){if(null===(M=w._popupRedirectResolver)||void 0===M?void 0:M._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch(q){}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(k=w.currentUser)||void 0===k?void 0:k.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,c.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m)}})()}initializeCurrentUser(p){var m=this;return(0,c.Z)(function*(){var w;let M=yield m.assertedPersistence.getCurrentUser();if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const k=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,q=null==M?void 0:M._redirectEventId,de=yield m.tryRedirectSignIn(p);(!k||k===q)&&(null==de?void 0:de.user)&&(M=de.user)}return M?M._redirectEventId?(oe(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===M._redirectEventId?m.directlySetCurrentUser(M):m.reloadAndSetCurrentUserOrClear(M)):m.reloadAndSetCurrentUserOrClear(M):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var m=this;return(0,c.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch(M){yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,c.Z)(function*(){try{yield Er(p)}catch(w){if("auth/network-request-failed"!==w.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function ut(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,c.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,c.Z)(function*(){const w=p?(0,F.m9)(p):null;return w&&oe(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(p){var m=this;return(0,c.Z)(function*(){if(!m._deleted)return p&&oe(m.tenantId===p.tenantId,m,"tenant-id-mismatch"),m.queue((0,c.Z)(function*(){yield m.directlySetCurrentUser(p),m.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,c.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var m=this;return this.queue((0,c.Z)(function*(){yield m.assertedPersistence.setPersistence(ae(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new F.LL("auth","Firebase",p())}onAuthStateChanged(p,m,w){return this.registerStateListener(this.authStateSubscription,p,m,w)}onIdTokenChanged(p,m,w){return this.registerStateListener(this.idTokenSubscription,p,m,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var w=this;return(0,c.Z)(function*(){const M=yield w.getOrInitRedirectPersistenceManager(m);return null===p?M.removeCurrentUser():M.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,c.Z)(function*(){if(!m.redirectPersistenceManager){const w=p&&ae(p)||m._popupRedirectResolver;oe(w,m,"argument-error"),m.redirectPersistenceManager=yield Li.create(m,[ae(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,c.Z)(function*(){var w,M;return m._isInitialized&&(yield m.queue((0,c.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===p?m._currentUser:(null===(M=m.redirectUser)||void 0===M?void 0:M._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,c.Z)(function*(){if(p===m.currentUser)return m.queue((0,c.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,w,M){if(this._deleted)return()=>{};const k="function"==typeof m?m:m.next.bind(m),q=this._isInitialized?Promise.resolve():this._initializationPromise;return oe(q,this,"internal-error"),q.then(()=>k(this.currentUser)),"function"==typeof m?p.addObserver(m,w,M):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,c.Z)(function*(){m.currentUser&&m.currentUser!==p&&(m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh()),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=sa(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,c.Z)(function*(){const m={"X-Client-Version":p.clientVersion};return p.app.options.appId&&(m["X-Firebase-gmpid"]=p.app.options.appId),m})()}}function Fe(y){return(0,F.m9)(y)}class It{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,F.ne)(m=>this.observer=m)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Vi(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function Pn(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class Kt{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return Y("not implemented")}_getIdTokenResponse(p){return Y("not implemented")}_linkToIdToken(p,m){return Y("not implemented")}_getReauthenticationResolver(p){return Y("not implemented")}}function So(y,p){return In.apply(this,arguments)}function In(){return(In=(0,c.Z)(function*(y,p){return Lt(y,"POST","/v1/accounts:resetPassword",Xt(y,p))})).apply(this,arguments)}function Tt(y,p){return Io.apply(this,arguments)}function Io(){return(Io=(0,c.Z)(function*(y,p){return Lt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ao(y,p){return oa.apply(this,arguments)}function oa(){return(oa=(0,c.Z)(function*(y,p){return Lt(y,"POST","/v1/accounts:update",Xt(y,p))})).apply(this,arguments)}function yn(){return(yn=(0,c.Z)(function*(y,p){return Fi(y,"POST","/v1/accounts:signInWithPassword",Xt(y,p))})).apply(this,arguments)}function ro(y,p){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,c.Z)(function*(y,p){return Lt(y,"POST","/v1/accounts:sendOobCode",Xt(y,p))})).apply(this,arguments)}function Dn(y,p){return en.apply(this,arguments)}function en(){return(en=(0,c.Z)(function*(y,p){return ro(y,p)})).apply(this,arguments)}function sd(y,p){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,c.Z)(function*(y,p){return ro(y,p)})).apply(this,arguments)}function sr(y,p){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,c.Z)(function*(y,p){return ro(y,p)})).apply(this,arguments)}function Hc(y,p){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,c.Z)(function*(y,p){return ro(y,p)})).apply(this,arguments)}function Dr(){return(Dr=(0,c.Z)(function*(y,p){return Fi(y,"POST","/v1/accounts:signInWithEmailLink",Xt(y,p))})).apply(this,arguments)}function la(){return(la=(0,c.Z)(function*(y,p){return Fi(y,"POST","/v1/accounts:signInWithEmailLink",Xt(y,p))})).apply(this,arguments)}class Fl extends Kt{constructor(p,m,w,M=null){super("password",w),this._email=p,this._password=m,this._tenantId=M}static _fromEmailAndPassword(p,m){return new Fl(p,m,"password")}static _fromEmailAndCode(p,m,w=null){return new Fl(p,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,c.Z)(function*(){switch(m.signInMethod){case"password":return function aa(y,p){return yn.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function so(y,p){return Dr.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:fe(p,"internal-error")}})()}_linkToIdToken(p,m){var w=this;return(0,c.Z)(function*(){switch(w.signInMethod){case"password":return Tt(p,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Ef(y,p){return la.apply(this,arguments)}(p,{idToken:m,email:w._email,oobCode:w._password});default:fe(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Un(y,p){return od.apply(this,arguments)}function od(){return(od=(0,c.Z)(function*(y,p){return Fi(y,"POST","/v1/accounts:signInWithIdp",Xt(y,p))})).apply(this,arguments)}class Is extends Kt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new Is(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):fe("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:M}=m,k=(0,ie._T)(m,["providerId","signInMethod"]);if(!w||!M)return null;const q=new Is(w,M);return q.idToken=k.idToken||void 0,q.accessToken=k.accessToken||void 0,q.secret=k.secret,q.nonce=k.nonce,q.pendingToken=k.pendingToken||null,q}_getIdTokenResponse(p){return Un(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,Un(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Un(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,F.xO)(m)}return p}}function nm(y,p){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,c.Z)(function*(y,p){return Lt(y,"POST","/v1/accounts:sendVerificationCode",Xt(y,p))})).apply(this,arguments)}function Fa(){return(Fa=(0,c.Z)(function*(y,p){return Fi(y,"POST","/v1/accounts:signInWithPhoneNumber",Xt(y,p))})).apply(this,arguments)}function ad(){return(ad=(0,c.Z)(function*(y,p){const m=yield Fi(y,"POST","/v1/accounts:signInWithPhoneNumber",Xt(y,p));if(m.temporaryProof)throw Xr(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const rm={USER_NOT_FOUND:"user-not-found"};function ld(){return(ld=(0,c.Z)(function*(y,p){return Fi(y,"POST","/v1/accounts:signInWithPhoneNumber",Xt(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),rm)})).apply(this,arguments)}class ua extends Kt{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new ua({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new ua({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function im(y,p){return Fa.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function ca(y,p){return ad.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function sm(y,p){return ld.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:w,verificationCode:M}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:w,code:M}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:w,phoneNumber:M,temporaryProof:k}=p;return w||m||M||k?new ua({verificationId:m,verificationCode:w,phoneNumber:M,temporaryProof:k}):null}}class As{constructor(p){var m,w,M,k,q,de;const He=(0,F.zd)((0,F.pd)(p)),nt=null!==(m=He.apiKey)&&void 0!==m?m:null,vt=null!==(w=He.oobCode)&&void 0!==w?w:null,ct=function om(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=He.mode)&&void 0!==M?M:null);oe(nt&&vt&&ct,"argument-error"),this.apiKey=nt,this.operation=ct,this.code=vt,this.continueUrl=null!==(k=He.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(q=He.languageCode)&&void 0!==q?q:null,this.tenantId=null!==(de=He.tenantId)&&void 0!==de?de:null}static parseLink(p){const m=function Df(y){const p=(0,F.zd)((0,F.pd)(y)).link,m=p?(0,F.zd)((0,F.pd)(p)).deep_link_id:null,w=(0,F.zd)((0,F.pd)(y)).deep_link_id;return(w?(0,F.zd)((0,F.pd)(w)).link:null)||w||m||p||y}(p);try{return new As(m)}catch(w){return null}}}let La=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,w){return Fl._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const M=As.parseLink(w);return oe(M,"argument-error"),Fl._fromEmailAndCode(m,M.code,M.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class oo{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Cr extends oo{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class No extends Cr{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return oe("providerId"in m&&"signInMethod"in m,"argument-error"),Is._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return oe(p.idToken||p.accessToken,"argument-error"),Is._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return No.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return No.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:M,pendingToken:k,nonce:q,providerId:de}=p;if(!w&&!M&&!m&&!k||!de)return null;try{return new No(de)._credential({idToken:m,accessToken:w,nonce:q,pendingToken:k})}catch(He){return null}}}let da=(()=>{class y extends Cr{constructor(){super("facebook.com")}static credential(m){return Is._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(w){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),ha=(()=>{class y extends Cr{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return Is._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:M}=m;if(!w&&!M)return null;try{return y.credential(w,M)}catch(k){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),cd=(()=>{class y extends Cr{constructor(){super("github.com")}static credential(m){return Is._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(w){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class vn extends Kt{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return Un(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,Un(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Un(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:M,pendingToken:k}=m;return w&&M&&k&&w===M?new vn(w,k):null}static _create(p,m){return new vn(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ms extends oo{constructor(p){oe(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Ms.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Ms.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=vn.fromJSON(p);return oe(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:w}=p;if(!m||!w)return null;try{return vn._create(w,m)}catch(M){return null}}}let Tr=(()=>{class y extends Cr{constructor(){super("twitter.com")}static credential(m,w){return Is._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:M}=m;if(!w||!M)return null;try{return y.credential(w,M)}catch(k){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function dd(y,p){return ri.apply(this,arguments)}function ri(){return(ri=(0,c.Z)(function*(y,p){return Fi(y,"POST","/v1/accounts:signUp",Xt(y,p))})).apply(this,arguments)}class Ti{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,w,M=!1){return(0,c.Z)(function*(){const k=yield _n._fromIdTokenResponse(p,w,M),q=hd(w);return new Ti({user:k,providerId:q,_tokenResponse:w,operationType:m})})()}static _forOperation(p,m,w){return(0,c.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const M=hd(w);return new Ti({user:p,providerId:M,_tokenResponse:w,operationType:m})})()}}function hd(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Ll(){return(Ll=(0,c.Z)(function*(y){var p;const m=Fe(y);if(yield m._initializationPromise,null===(p=m.currentUser)||void 0===p?void 0:p.isAnonymous)return new Ti({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield dd(m,{returnSecureToken:!0}),M=yield Ti._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(M.user),M})).apply(this,arguments)}class Bl extends F.ZR{constructor(p,m,w,M){var k;super(m.code,m.message),this.operationType=w,this.user=M,Object.setPrototypeOf(this,Bl.prototype),this.customData={appName:p.name,tenantId:null!==(k=p.tenantId)&&void 0!==k?k:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,m,w,M){return new Bl(p,m,w,M)}}function Vl(y,p,m,w){return("reauthenticate"===p?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?Bl._fromErrorAndOperation(y,k,p,w):k})}function $c(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function zc(){return(zc=(0,c.Z)(function*(y,p){const m=(0,F.m9)(y);yield ao(!0,m,p);const{providerUserInfo:w}=yield qn(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),M=$c(w||[]);return m.providerData=m.providerData.filter(k=>M.has(k.providerId)),M.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function sn(y,p){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,c.Z)(function*(y,p,m=!1){const w=yield Ur(y,p._linkToIdToken(y.auth,yield y.getIdToken()),m);return Ti._forOperation(y,"link",w)})).apply(this,arguments)}function ao(y,p,m){return tn.apply(this,arguments)}function tn(){return(tn=(0,c.Z)(function*(y,p,m){yield Er(p);const M=!1===y?"provider-already-linked":"no-such-provider";oe($c(p.providerData).has(m)===y,p.auth,M)})).apply(this,arguments)}function Ul(y,p){return Va.apply(this,arguments)}function Va(){return(Va=(0,c.Z)(function*(y,p,m=!1){const{auth:w}=y,M="reauthenticate";try{const k=yield Ur(y,Vl(w,M,p,y),m);oe(k.idToken,w,"internal-error");const q=tt(k.idToken);oe(q,w,"internal-error");const{sub:de}=q;return oe(y.uid===de,w,"user-mismatch"),Ti._forOperation(y,M,k)}catch(k){throw"auth/user-not-found"===(null==k?void 0:k.code)&&fe(w,"user-mismatch"),k}})).apply(this,arguments)}function ko(y,p){return si.apply(this,arguments)}function si(){return(si=(0,c.Z)(function*(y,p,m=!1){const w="signIn",M=yield Vl(y,w,p),k=yield Ti._fromIdTokenResponse(y,w,M);return m||(yield y._updateCurrentUser(k.user)),k})).apply(this,arguments)}function jl(y,p){return An.apply(this,arguments)}function An(){return(An=(0,c.Z)(function*(y,p){return ko(Fe(y),p)})).apply(this,arguments)}function Ns(y,p){return oi.apply(this,arguments)}function oi(){return(oi=(0,c.Z)(function*(y,p){const m=(0,F.m9)(y);return yield ao(!1,m,p.providerId),sn(m,p)})).apply(this,arguments)}function fa(y,p){return es.apply(this,arguments)}function es(){return(es=(0,c.Z)(function*(y,p){return Ul((0,F.m9)(y),p)})).apply(this,arguments)}function qc(y,p){return or.apply(this,arguments)}function or(){return(or=(0,c.Z)(function*(y,p){return Fi(y,"POST","/v1/accounts:signInWithCustomToken",Xt(y,p))})).apply(this,arguments)}function co(){return(co=(0,c.Z)(function*(y,p){const m=Fe(y),w=yield qc(m,{token:p,returnSecureToken:!0}),M=yield Ti._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(M.user),M})).apply(this,arguments)}class ht{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?Ua._fromServerResponse(p,m):fe(p,"internal-error")}}class Ua extends ht{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new Ua(m)}}function ja(y,p,m){var w;oe((null===(w=m.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),oe(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(oe(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(oe(m.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function Ha(){return(Ha=(0,c.Z)(function*(y,p,m){const w=(0,F.m9)(y),M={requestType:"PASSWORD_RESET",email:p};m&&ja(w,M,m),yield sd(w,M)})).apply(this,arguments)}function Ga(){return(Ga=(0,c.Z)(function*(y,p,m){yield So((0,F.m9)(y),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Ce(){return(Ce=(0,c.Z)(function*(y,p){yield Ao((0,F.m9)(y),{oobCode:p})})).apply(this,arguments)}function Ft(y,p){return $a.apply(this,arguments)}function $a(){return($a=(0,c.Z)(function*(y,p){const m=(0,F.m9)(y),w=yield So(m,{oobCode:p}),M=w.requestType;switch(oe(M,m,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":oe(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":oe(w.mfaInfo,m,"internal-error");default:oe(w.email,m,"internal-error")}let k=null;return w.mfaInfo&&(k=ht._fromServerResponse(Fe(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:k},operation:M}})).apply(this,arguments)}function uo(){return(uo=(0,c.Z)(function*(y,p){const{data:m}=yield Ft((0,F.m9)(y),p);return m.email})).apply(this,arguments)}function ji(){return(ji=(0,c.Z)(function*(y,p,m){const w=Fe(y),M=yield dd(w,{returnSecureToken:!0,email:p,password:m}),k=yield Ti._fromIdTokenResponse(w,"signIn",M);return yield w._updateCurrentUser(k.user),k})).apply(this,arguments)}function gd(){return(gd=(0,c.Z)(function*(y,p,m){const w=(0,F.m9)(y),M={requestType:"EMAIL_SIGNIN",email:p};oe(m.handleCodeInApp,w,"argument-error"),m&&ja(w,M,m),yield sr(w,M)})).apply(this,arguments)}function pa(){return(pa=(0,c.Z)(function*(y,p,m){const w=(0,F.m9)(y),M=La.credentialWithLink(p,m||bt());return oe(M._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),jl(w,M)})).apply(this,arguments)}function Yn(y,p){return jr.apply(this,arguments)}function jr(){return(jr=(0,c.Z)(function*(y,p){return Lt(y,"POST","/v1/accounts:createAuthUri",Xt(y,p))})).apply(this,arguments)}function ts(){return(ts=(0,c.Z)(function*(y,p){const w={identifier:p,continueUri:Wt()?bt():"http://localhost"},{signinMethods:M}=yield Yn((0,F.m9)(y),w);return M||[]})).apply(this,arguments)}function Za(){return(Za=(0,c.Z)(function*(y,p){const m=(0,F.m9)(y),M={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&ja(m.auth,M,p);const{email:k}=yield Dn(m.auth,M);k!==y.email&&(yield y.reload())})).apply(this,arguments)}function Wa(){return(Wa=(0,c.Z)(function*(y,p,m){const w=(0,F.m9)(y),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};m&&ja(w.auth,k,m);const{email:q}=yield Hc(w.auth,k);q!==y.email&&(yield y.reload())})).apply(this,arguments)}function yd(y,p){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,c.Z)(function*(y,p){return Lt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ka(){return(Ka=(0,c.Z)(function*(y,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const w=(0,F.m9)(y),k={idToken:yield w.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},q=yield Ur(w,yd(w.auth,k));w.displayName=q.displayName||null,w.photoURL=q.photoUrl||null;const de=w.providerData.find(({providerId:He})=>"password"===He);de&&(de.displayName=w.displayName,de.photoURL=w.photoURL),yield w._updateTokensIfNecessary(q)})).apply(this,arguments)}function Gl(y,p,m){return xo.apply(this,arguments)}function xo(){return(xo=(0,c.Z)(function*(y,p,m){const{auth:w}=y,k={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(k.email=p),m&&(k.password=m);const q=yield Ur(y,Tt(w,k));yield y._updateTokensIfNecessary(q,!0)})).apply(this,arguments)}class Po{constructor(p,m,w={}){this.isNewUser=p,this.providerId=m,this.profile=w}}class vd extends Po{constructor(p,m,w,M){super(p,m,w),this.username=M}}class Tf extends Po{constructor(p,m){super(p,"facebook.com",m)}}class ga extends vd{constructor(p,m){super(p,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class ns extends Po{constructor(p,m){super(p,"google.com",m)}}class Sf extends vd{constructor(p,m,w){super(p,"twitter.com",m,w)}}function ai(y){const{user:p,_tokenResponse:m}=y;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Qc(y){var p,m;if(!y)return null;const{providerId:w}=y,M=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},k=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&(null==y?void 0:y.idToken)){const q=null===(m=null===(p=tt(y.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(q)return new Po(k,"anonymous"!==q&&"custom"!==q?q:null)}if(!w)return null;switch(w){case"facebook.com":return new Tf(k,M);case"github.com":return new ga(k,M);case"google.com":return new ns(k,M);case"twitter.com":return new Sf(k,M,y.screenName||null);case"custom":case"anonymous":return new Po(k,null);default:return new Po(k,w,M)}}(m)}class xs{constructor(p,m){this.type=p,this.credential=m}static _fromIdtoken(p){return new xs("enroll",p)}static _fromMfaPendingCredential(p){return new xs("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,w;if(null==p?void 0:p.multiFactorSession){if(null===(m=p.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return xs._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(w=p.multiFactorSession)||void 0===w?void 0:w.idToken)return xs._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Ya{constructor(p,m,w){this.session=p,this.hints=m,this.signInResolver=w}static _fromError(p,m){const w=Fe(p),M=m.customData._serverResponse,k=(M.mfaInfo||[]).map(de=>ht._fromServerResponse(w,de));oe(M.mfaPendingCredential,w,"internal-error");const q=xs._fromMfaPendingCredential(M.mfaPendingCredential);return new Ya(q,k,function(){var de=(0,c.Z)(function*(He){const nt=yield He._process(w,q);delete M.mfaInfo,delete M.mfaPendingCredential;const vt=Object.assign(Object.assign({},M),{idToken:nt.idToken,refreshToken:nt.refreshToken});switch(m.operationType){case"signIn":const ct=yield Ti._fromIdTokenResponse(w,m.operationType,vt);return yield w._updateCurrentUser(ct.user),ct;case"reauthenticate":return oe(m.user,w,"internal-error"),Ti._forOperation(m.user,m.operationType,vt);default:fe(w,"internal-error")}});return function(He){return de.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,c.Z)(function*(){return m.signInResolver(p)})()}}function $l(y,p){return Lt(y,"POST","/v2/accounts/mfaEnrollment:start",Xt(y,p))}class Ps{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>ht._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new Ps(p)}getSession(){var p=this;return(0,c.Z)(function*(){return xs._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,m){var w=this;return(0,c.Z)(function*(){const M=p,k=yield w.getSession(),q=yield Ur(w.user,M._process(w.user.auth,k,m));return yield w.user._updateTokensIfNecessary(q),w.user.reload()})()}unenroll(p){var m=this;return(0,c.Z)(function*(){const w="string"==typeof p?p:p.uid,M=yield m.user.getIdToken(),k=yield Ur(m.user,function Af(y,p){return Lt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Xt(y,p))}(m.user.auth,{idToken:M,mfaEnrollmentId:w}));m.enrolledFactors=m.enrolledFactors.filter(({uid:q})=>q!==w),yield m.user._updateTokensIfNecessary(k);try{yield m.user.reload()}catch(q){if("auth/user-token-expired"!==q.code)throw q}})()}}const ma=new WeakMap,Ja="__sak";class Qa{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Ja,"1"),this.storage.removeItem(Ja),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const pn=(()=>{class y extends Qa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function zl(){const y=(0,F.z$)();return xl(y)||ir(y)}()&&function yi(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=io(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const M=this.storage.getItem(w),k=this.localCache[w];M!==k&&m(w,k,M)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((de,He,nt)=>{this.notifyListeners(de,nt)});const M=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const de=this.storage.getItem(M);if(m.newValue!==de)null!==m.newValue?this.storage.setItem(M,m.newValue):this.storage.removeItem(M);else if(this.localCache[M]===m.newValue&&!w)return}const k=()=>{const de=this.storage.getItem(M);!w&&this.localCache[M]===de||this.notifyListeners(M,de)},q=this.storage.getItem(M);!function Pa(){return(0,F.w1)()&&10===document.documentMode}()||q===m.newValue||m.newValue===m.oldValue?k():setTimeout(k,10)}notifyListeners(m,w){this.localCache[m]=w;const M=this.listeners[m];if(M)for(const k of Array.from(M))k(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var M=()=>super._set,k=this;return(0,c.Z)(function*(){yield M().call(k,m,w),k.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,M=this;return(0,c.Z)(function*(){const k=yield w().call(M,m);return M.localCache[m]=JSON.stringify(k),k})()}_remove(m){var w=()=>super._remove,M=this;return(0,c.Z)(function*(){yield w().call(M,m),delete M.localCache[m]})()}}return y.type="LOCAL",y})(),Fs=(()=>{class y extends Qa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return y.type="SESSION",y})();let ql=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(k=>k.isListeningto(m));if(w)return w;const M=new y(m);return this.receivers.push(M),M}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,c.Z)(function*(){const M=m,{eventId:k,eventType:q,data:de}=M.data,He=w.handlersMap[q];if(!(null==He?void 0:He.size))return;M.ports[0].postMessage({status:"ack",eventId:k,eventType:q});const nt=Array.from(He).map(function(){var ct=(0,c.Z)(function*(On){return On(M.origin,de)});return function(On){return ct.apply(this,arguments)}}()),vt=yield function tu(y){return Promise.all(y.map(function(){var p=(0,c.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return p.apply(this,arguments)}}()))}(nt);M.ports[0].postMessage({status:"done",eventId:k,eventType:q,response:vt})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function ho(y="",p=10){let m="";for(let w=0;w<p;w++)m+=Math.floor(10*Math.random());return y+m}class wd{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,w=50){var M=this;return(0,c.Z)(function*(){const k="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let q,de;return new Promise((He,nt)=>{const vt=ho("",20);k.port1.start();const ct=setTimeout(()=>{nt(new Error("unsupported_event"))},w);de={messageChannel:k,onMessage(On){const Gr=On;if(Gr.data.eventId===vt)switch(Gr.data.status){case"ack":clearTimeout(ct),q=setTimeout(()=>{nt(new Error("timeout"))},3e3);break;case"done":clearTimeout(q),He(Gr.data.response);break;default:clearTimeout(ct),clearTimeout(q),nt(new Error("invalid_response"))}}},M.handlers.add(de),k.port1.addEventListener("message",de.onMessage),M.target.postMessage({eventType:p,eventId:vt,data:m},[k.port2])}).finally(()=>{de&&M.removeMessageHandler(de)})})()}}function Vt(){return window}function zt(){return void 0!==Vt().WorkerGlobalScope&&"function"==typeof Vt().importScripts}function Fo(){return(Fo=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Wl="firebaseLocalStorageDb",Xa="firebaseLocalStorage",Hi="fbase_key";class Jn{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function fo(y,p){return y.transaction([Xa],p?"readwrite":"readonly").objectStore(Xa)}function Gi(){const y=indexedDB.open(Wl,1);return new Promise((p,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(Xa,{keyPath:Hi})}catch(M){m(M)}}),y.addEventListener("success",(0,c.Z)(function*(){const w=y.result;w.objectStoreNames.contains(Xa)?p(w):(w.close(),yield function el(){const y=indexedDB.deleteDatabase(Wl);return new Jn(y).toPromise()}(),p(yield Gi()))}))})}function nu(y,p,m){return tl.apply(this,arguments)}function tl(){return(tl=(0,c.Z)(function*(y,p,m){const w=fo(y,!0).put({[Hi]:p,value:m});return new Jn(w).toPromise()})).apply(this,arguments)}function Sr(){return(Sr=(0,c.Z)(function*(y,p){const m=fo(y,!1).get(p),w=yield new Jn(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function nl(y,p){const m=fo(y,!0).delete(p);return new Jn(m).toPromise()}const jn=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,c.Z)(function*(){return m.db||(m.db=yield Gi()),m.db})()}_withRetries(m){var w=this;return(0,c.Z)(function*(){let M=0;for(;;)try{const k=yield w._openDb();return yield m(k)}catch(k){if(M++>3)throw k;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,c.Z)(function*(){return zt()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,c.Z)(function*(){m.receiver=ql._getInstance(function Zl(){return zt()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,c.Z)(function*(M,k){return{keyProcessed:(yield m._poll()).includes(k.key)}});return function(M,k){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,c.Z)(function*(M,k){return["keyChanged"]});return function(M,k){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,c.Z)(function*(){var w,M;if(m.activeServiceWorker=yield function Qe(){return Fo.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new wd(m.activeServiceWorker);const k=yield m.sender._send("ping",{},800);!k||(null===(w=k[0])||void 0===w?void 0:w.fulfilled)&&(null===(M=k[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,c.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Ed(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch(M){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Gi();return yield nu(m,Ja,"1"),yield nl(m,Ja),!0}catch(m){}return!1})()}_withPendingWrite(m){var w=this;return(0,c.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var M=this;return(0,c.Z)(function*(){return M._withPendingWrite((0,c.Z)(function*(){return yield M._withRetries(k=>nu(k,m,w)),M.localCache[m]=w,M.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,c.Z)(function*(){const M=yield w._withRetries(k=>function rs(y,p){return Sr.apply(this,arguments)}(k,m));return w.localCache[m]=M,M})()}_remove(m){var w=this;return(0,c.Z)(function*(){return w._withPendingWrite((0,c.Z)(function*(){return yield w._withRetries(M=>nl(M,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,c.Z)(function*(){const w=yield m._withRetries(q=>{const de=fo(q,!1).getAll();return new Jn(de).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const M=[],k=new Set;for(const{fbase_key:q,value:de}of w)k.add(q),JSON.stringify(m.localCache[q])!==JSON.stringify(de)&&(m.notifyListeners(q,de),M.push(q));for(const q of Object.keys(m.localCache))m.localCache[q]&&!k.has(q)&&(m.notifyListeners(q,null),M.push(q));return M})()}notifyListeners(m,w){this.localCache[m]=w;const M=this.listeners[m];if(M)for(const k of Array.from(M))k(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Cd(y,p){return Lt(y,"POST","/v2/accounts/mfaSignIn:start",Xt(y,p))}function Ls(){return(Ls=(0,c.Z)(function*(y){return(yield Lt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function sl(y){return new Promise((p,m)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=p,w.onerror=M=>{const k=Re("internal-error");k.customData=M,m(k)},w.type="text/javascript",w.charset="UTF-8",function rl(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(w)})}function Lo(y){return`__${y}${Math.floor(1e6*Math.random())}`}const os=1e12;class ol{constructor(p){this.auth=p,this.counter=os,this._widgets=new Map}render(p,m){const w=this.counter;return this._widgets.set(w,new ru(p,this.auth.name,m||{})),this.counter++,w}reset(p){var m;const w=p||os;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(p){var m;return(null===(m=this._widgets.get(p||os))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,c.Z)(function*(){var w;return null===(w=m._widgets.get(p||os))||void 0===w||w.execute(),""})()}}class ru{constructor(p,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof p?document.getElementById(p):p;oe(M,"argument-error",{appName:m}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Vo(y){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<y;w++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Td=Lo("rcb"),Kl=new zn(3e4,6e4);class Sd{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Vt().grecaptcha}load(p,m=""){return oe(function dm(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Vt().grecaptcha):new Promise((w,M)=>{const k=Vt().setTimeout(()=>{M(Re(p,"network-request-failed"))},Kl.get());Vt()[Td]=()=>{Vt().clearTimeout(k),delete Vt()[Td];const de=Vt().grecaptcha;if(!de)return void M(Re(p,"internal-error"));const He=de.render;de.render=(nt,vt)=>{const ct=He(nt,vt);return this.counter++,ct},this.hostLanguage=m,w(de)},sl(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:Td,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(k),M(Re(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!Vt().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Nf{load(p){return(0,c.Z)(function*(){return new ol(p)})()}clearedOneInstance(){}}const Id="recaptcha",Ad={theme:"light",type:"image"};class Md{constructor(p,m=Object.assign({},Ad),w){this.parameters=m,this.type=Id,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Fe(w),this.isInvisible="invisible"===this.parameters.size,oe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof p?document.getElementById(p):p;oe(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Nf:new Sd,this.validateStartingState()}verify(){var p=this;return(0,c.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(m)||new Promise(k=>{const q=de=>{!de||(p.tokenChangeListeners.delete(q),k(de))};p.tokenChangeListeners.add(q),p.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){oe(!this.parameters.sitekey,this.auth,"argument-error"),oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof p)p(m);else if("string"==typeof p){const w=Vt()[p];"function"==typeof w&&w(m)}}}assertNotDestroyed(){oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,c.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,c.Z)(function*(){oe(Wt()&&!zt(),p.auth,"internal-error"),yield function Od(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function il(y){return Ls.apply(this,arguments)}(p.auth);oe(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class as{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=ua._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function Sn(){return(Sn=(0,c.Z)(function*(y,p,m){const w=Fe(y),M=yield $i(w,p,(0,F.m9)(m));return new as(M,k=>jl(w,k))})).apply(this,arguments)}function Ii(){return(Ii=(0,c.Z)(function*(y,p,m){const w=(0,F.m9)(y);yield ao(!1,w,"phone");const M=yield $i(w.auth,p,(0,F.m9)(m));return new as(M,k=>Ns(w,k))})).apply(this,arguments)}function Jl(){return(Jl=(0,c.Z)(function*(y,p,m){const w=(0,F.m9)(y),M=yield $i(w.auth,p,(0,F.m9)(m));return new as(M,k=>fa(w,k))})).apply(this,arguments)}function $i(y,p,m){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,c.Z)(function*(y,p,m){var w;const M=yield m.verify();try{let k;if(oe("string"==typeof M,y,"argument-error"),oe(m.type===Id,y,"argument-error"),k="string"==typeof p?{phoneNumber:p}:p,"session"in k){const q=k.session;if("phoneNumber"in k)return oe("enroll"===q.type,y,"internal-error"),(yield $l(y,{idToken:q.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{oe("signin"===q.type,y,"internal-error");const de=(null===(w=k.multiFactorHint)||void 0===w?void 0:w.uid)||k.multiFactorUid;return oe(de,y,"missing-multi-factor-info"),(yield Cd(y,{mfaPendingCredential:q.credential,mfaEnrollmentId:de,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:q}=yield nm(y,{phoneNumber:k.phoneNumber,recaptchaToken:M});return q}}finally{m._reset()}})).apply(this,arguments)}function Bs(){return(Bs=(0,c.Z)(function*(y,p){yield sn((0,F.m9)(y),p)})).apply(this,arguments)}let lr=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=Fe(m)}verifyPhoneNumber(m,w){return $i(this.auth,m,(0,F.m9)(w))}static credential(m,w){return ua._fromVerification(m,w)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:M}=m;return w&&M?ua._fromTokenResponse(w,M):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function cr(y,p){return p?ae(p):(oe(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class ll extends Kt{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Un(p,this._buildIdpRequest())}_linkToIdToken(p,m){return Un(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return Un(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function cl(y){return ko(y.auth,new ll(y),y.bypassAuthState)}function Nd(y){const{auth:p,user:m}=y;return oe(m,p,"internal-error"),Ul(m,new ll(y),y.bypassAuthState)}function Rf(y){return ul.apply(this,arguments)}function ul(){return(ul=(0,c.Z)(function*(y){const{auth:p,user:m}=y;return oe(m,p,"internal-error"),sn(m,new ll(y),y.bypassAuthState)})).apply(this,arguments)}class Mr{constructor(p,m,w,M,k=!1){this.auth=p,this.resolver=w,this.user=M,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,c.Z)(function*(w,M){p.pendingPromise={resolve:w,reject:M};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(k){p.reject(k)}});return function(w,M){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,c.Z)(function*(){const{urlResponse:w,sessionId:M,postBody:k,tenantId:q,error:de,type:He}=p;if(de)return void m.reject(de);const nt={auth:m.auth,requestUri:w,sessionId:M,tenantId:q||void 0,postBody:k||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(He)(nt))}catch(vt){m.reject(vt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return cl;case"linkViaPopup":case"linkViaRedirect":return Rf;case"reauthViaPopup":case"reauthViaRedirect":return Nd;default:fe(this.auth,"internal-error")}}resolve(p){se(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){se(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const xf=new zn(2e3,1e4);function Pf(){return(Pf=(0,c.Z)(function*(y,p,m){const w=Fe(y);Je(y,p,oo);const M=cr(w,m);return new ou(w,"signInViaPopup",p,M).executeNotNull()})).apply(this,arguments)}function Vs(){return(Vs=(0,c.Z)(function*(y,p,m){const w=(0,F.m9)(y);Je(w.auth,p,oo);const M=cr(w.auth,m);return new ou(w.auth,"reauthViaPopup",p,M,w).executeNotNull()})).apply(this,arguments)}function su(){return(su=(0,c.Z)(function*(y,p,m){const w=(0,F.m9)(y);Je(w.auth,p,oo);const M=cr(w.auth,m);return new ou(w.auth,"linkViaPopup",p,M,w).executeNotNull()})).apply(this,arguments)}let ou=(()=>{class y extends Mr{constructor(m,w,M,k,q){super(m,w,k,q),this.provider=M,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,c.Z)(function*(){const w=yield m.execute();return oe(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,c.Z)(function*(){se(1===m.filter.length,"Popup operations only handle one event");const w=ho();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(M=>{m.reject(M)}),m.resolver._isIframeWebStorageSupported(m.auth,M=>{M||m.reject(Re(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Re(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,M;this.pollId=(null===(M=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===M?void 0:M.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Re(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,xf.get())};m()}}return y.currentPopupAction=null,y})();const Us=new Map;class Or extends Mr{constructor(p,m,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,c.Z)(function*(){let w=Us.get(m.auth._key());if(!w){try{const k=(yield function Uo(y,p){return Ff.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;w=()=>Promise.resolve(k)}catch(M){w=()=>Promise.reject(M)}Us.set(m.auth._key(),w)}return m.bypassAuthState||Us.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,w=this;return(0,c.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(w,p);if("unknown"!==p.type){if(p.eventId){const M=yield w.auth._redirectUserForId(p.eventId);if(M)return w.user=M,m().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Ff(){return(Ff=(0,c.Z)(function*(y,p){const m=C(p),w=Lf(y);if(!(yield w._isAvailable()))return!1;const M="true"===(yield w._get(m));return yield w._remove(m),M})).apply(this,arguments)}function cs(y,p){return po.apply(this,arguments)}function po(){return(po=(0,c.Z)(function*(y,p){return Lf(y)._set(C(p),"true")})).apply(this,arguments)}function Lf(y){return ae(y._redirectPersistence)}function C(y){return Zn("pendingRedirect",y.config.apiKey,y.name)}function B(){return(B=(0,c.Z)(function*(y,p,m){const w=Fe(y);Je(y,p,oo);const M=cr(w,m);return yield cs(M,w),M._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function Me(){return(Me=(0,c.Z)(function*(y,p,m){const w=(0,F.m9)(y);Je(w.auth,p,oo);const M=cr(w.auth,m);yield cs(M,w.auth);const k=yield go(w);return M._openRedirect(w.auth,p,"reauthViaRedirect",k)})).apply(this,arguments)}function Bt(){return(Bt=(0,c.Z)(function*(y,p,m){const w=(0,F.m9)(y);Je(w.auth,p,oo);const M=cr(w.auth,m);yield ao(!1,w,p.providerId),yield cs(M,w.auth);const k=yield go(w);return M._openRedirect(w.auth,p,"linkViaRedirect",k)})).apply(this,arguments)}function Qn(){return(Qn=(0,c.Z)(function*(y,p){return yield Fe(y)._initializationPromise,ci(y,p,!1)})).apply(this,arguments)}function ci(y,p){return wn.apply(this,arguments)}function wn(){return(wn=(0,c.Z)(function*(y,p,m=!1){const w=Fe(y),M=cr(w,p),q=yield new Or(w,M,m).execute();return q&&!m&&(delete q.user._redirectEventId,yield w._persistUserIfCurrent(q.user),yield w._setRedirectUser(null,p)),q})).apply(this,arguments)}function go(y){return zi.apply(this,arguments)}function zi(){return(zi=(0,c.Z)(function*(y){const p=ho(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class js{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(m=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function xd(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ec(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var w;if(p.error&&!ec(p)){const M=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(Re(this.auth,M))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const w=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(qi(p))}saveEventToCache(p){this.cachedEventUids.add(qi(p)),this.lastProcessedEventTime=Date.now()}}function qi(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function ec({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function au(y){return jo.apply(this,arguments)}function jo(){return(jo=(0,c.Z)(function*(y,p={}){return Lt(y,"GET","/v1/projects",p)})).apply(this,arguments)}const Bf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vf=/^https?/;function Ho(){return(Ho=(0,c.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield au(y);for(const m of p)try{if(tc(m))return}catch(w){}fe(y,"unauthorized-domain")})).apply(this,arguments)}function tc(y){const p=bt(),{protocol:m,hostname:w}=new URL(p);if(y.startsWith("chrome-extension://")){const q=new URL(y);return""===q.hostname&&""===w?"chrome-extension:"===m&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&q.hostname===w}if(!Vf.test(m))return!1;if(Bf.test(y))return w===y;const M=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(w)}const hm=new zn(3e4,6e4);function Uf(){const y=Vt().___jsl;if(null==y?void 0:y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let Go=null;function gw(y){return Go=Go||function mo(y){return new Promise((p,m)=>{var w,M,k;function q(){Uf(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Uf(),m(Re(y,"network-request-failed"))},timeout:hm.get()})}if(null===(M=null===(w=Vt().gapi)||void 0===w?void 0:w.iframes)||void 0===M?void 0:M.Iframe)p(gapi.iframes.getContext());else{if(!(null===(k=Vt().gapi)||void 0===k?void 0:k.load)){const de=Lo("iframefcb");return Vt()[de]=()=>{gapi.load?q():m(Re(y,"network-request-failed"))},sl(`https://apis.google.com/js/api.js?onload=${de}`).catch(He=>m(He))}q()}}).catch(p=>{throw Go=null,p})}(y),Go}const Ly=new zn(5e3,15e3),cu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fm=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uu(y){const p=y.config;oe(p.authDomain,y,"auth-domain-config-required");const m=p.emulator?nn(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,w={apiKey:p.apiKey,appName:y.name,v:ce.SDK_VERSION},M=fm.get(y.config.apiHost);M&&(w.eid=M);const k=y._getFrameworks();return k.length&&(w.fw=k.join(",")),`${m}?${(0,F.xO)(w).slice(1)}`}function pm(){return pm=(0,c.Z)(function*(y){const p=yield gw(y),m=Vt().gapi;return oe(m,y,"internal-error"),p.open({where:document.body,url:uu(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cu,dontclear:!0},w=>new Promise(function(){var M=(0,c.Z)(function*(k,q){yield w.restyle({setHideOnLeave:!1});const de=Re(y,"network-request-failed"),He=Vt().setTimeout(()=>{q(de)},Ly.get());function nt(){Vt().clearTimeout(He),k(w)}w.ping(nt).then(nt,()=>{q(de)})});return function(k,q){return M.apply(this,arguments)}}()))}),pm.apply(this,arguments)}const _w={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class nc{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Fd(y,p,m,w,M,k){oe(y.config.authDomain,y,"auth-domain-config-required"),oe(y.config.apiKey,y,"invalid-api-key");const q={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:w,v:ce.SDK_VERSION,eventId:M};if(p instanceof oo){p.setDefaultLanguage(y.languageCode),q.providerId=p.providerId||"",(0,F.xb)(p.getCustomParameters())||(q.customParameters=JSON.stringify(p.getCustomParameters()));for(const[He,nt]of Object.entries(k||{}))q[He]=nt}if(p instanceof Cr){const He=p.getScopes().filter(nt=>""!==nt);He.length>0&&(q.scopes=He.join(","))}y.tenantId&&(q.tid=y.tenantId);const de=q;for(const He of Object.keys(de))void 0===de[He]&&delete de[He];return`${function Vy({config:y}){return y.emulator?nn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,F.xO)(de).slice(1)}`}const Hs="webStorageSupport";class ym extends class _m{constructor(p){this.factorId=p}_process(p,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,w);case"signin":return this._finalizeSignIn(p,m.credential);default:return Y("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new ym(p)}_finalizeEnroll(p,m,w){return function li(y,p){return Lt(y,"POST","/v2/accounts/mfaEnrollment:finalize",Xt(y,p))}(p,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function iu(y,p){return Lt(y,"POST","/v2/accounts/mfaSignIn:finalize",Xt(y,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Uy=(()=>{class y{constructor(){}static assertion(m){return ym._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var jy="@firebase/auth";class vm{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,c.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(w=>{var M;p((null===(M=w)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function _a(){return window}function ic(){return(ic=(0,c.Z)(function*(y,p,m){var w;const{BuildInfo:M}=_a();se(p.sessionId,"AuthEvent did not contain a session ID");const k=yield bw(p.sessionId),q={};return ir()?q.ibi=M.packageName:Bi()?q.apn=M.packageName:fe(y,"operation-not-supported-in-this-environment"),M.displayName&&(q.appDisplayName=M.displayName),q.sessionId=k,Fd(y,m,p.type,void 0,null!==(w=p.eventId)&&void 0!==w?w:void 0,q)})).apply(this,arguments)}function us(){return(us=(0,c.Z)(function*(y){const{BuildInfo:p}=_a(),m={};ir()?m.iosBundleId=p.packageName:Bi()?m.androidPackageName=p.packageName:fe(y,"operation-not-supported-in-this-environment"),yield au(y,m)})).apply(this,arguments)}function Ld(){return(Ld=(0,c.Z)(function*(y,p,m){const{cordova:w}=_a();let M=()=>{};try{yield new Promise((k,q)=>{let de=null;function He(){var ct;k();const On=null===(ct=w.plugins.browsertab)||void 0===ct?void 0:ct.close;"function"==typeof On&&On(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function nt(){de||(de=window.setTimeout(()=>{q(Re(y,"redirect-cancelled-by-user"))},2e3))}function vt(){"visible"===(null==document?void 0:document.visibilityState)&&nt()}p.addPassiveListener(He),document.addEventListener("resume",nt,!1),Bi()&&document.addEventListener("visibilitychange",vt,!1),M=()=>{p.removePassiveListener(He),document.removeEventListener("resume",nt,!1),document.removeEventListener("visibilitychange",vt,!1),de&&window.clearTimeout(de)}})}finally{M()}})).apply(this,arguments)}function bw(y){return Gy.apply(this,arguments)}function Gy(){return(Gy=(0,c.Z)(function*(y){const p=Em(y),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(M=>M.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Em(y){if(se(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),m=new Uint8Array(p);for(let w=0;w<y.length;w++)m[w]=y.charCodeAt(w);return m}!function Hy(y){(0,ce._registerComponent)(new ee.wA("auth",(p,{options:m})=>{const w=p.getProvider("app").getImmediate(),{apiKey:M,authDomain:k}=w.options;return(q=>{oe(M&&!M.includes(":"),"invalid-api-key",{appName:q.name}),oe(!(null==k?void 0:k.includes(":")),"argument-error",{appName:q.name});const de={apiKey:M,authDomain:k,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sa(y)},He=new rr(q,de);return function pe(y,p){const m=(null==p?void 0:p.persistence)||[],w=(Array.isArray(m)?m:[m]).map(ae);(null==p?void 0:p.errorMap)&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(w,null==p?void 0:p.popupRedirectResolver)}(He,m),He})(w)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,w)=>{p.getProvider("auth-internal").initialize()})),(0,ce._registerComponent)(new ee.wA("auth-internal",p=>{const m=Fe(p.getProvider("auth").getImmediate());return new vm(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ce.registerVersion)(jy,"0.19.8",function zf(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ce.registerVersion)(jy,"0.19.8","esm2017")}("Browser");class Bd extends js{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,c.Z)(function*(){yield p.initPromise})()}}function rc(y){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,c.Z)(function*(y){const p=yield Ud()._get(Yf(y));return p&&(yield Ud()._remove(Yf(y))),p})).apply(this,arguments)}function zy(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const w=Math.floor(Math.random()*p.length);y.push(p.charAt(w))}return y.join("")}function Ud(){return ae(pn)}function Yf(y){return Zn("authEvent",y.config.apiKey,y.name)}function pu(y){if(!(null==y?void 0:y.includes("?")))return{};const[p,...m]=y.split("?");return(0,F.zd)(m.join("?"))}function Qf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Re("no-auth-event")}}function ep(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function Zy(y=(0,F.z$)()){return!("file:"!==ep()&&"ionic:"!==ep()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function ur(){try{const y=self.localStorage,p=ho();if(y)return y.setItem(p,"1"),y.removeItem(p),!function Hd(y=(0,F.z$)()){return function Wy(){return(0,F.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Ew(y=(0,F.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,F.hl)()}catch(y){return Gd()&&(0,F.hl)()}return!1}function Gd(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function st(){return(function ww(){return"http:"===ep()||"https:"===ep()}()||(0,F.ru)()||Zy())&&!function Im(){return(0,F.b$)()||(0,F.UG)()}()&&ur()&&!Gd()}function At(){return Zy()&&"undefined"!=typeof document}function ds(){return(ds=(0,c.Z)(function*(){return!!At()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const dr={LOCAL:"local",NONE:"none",SESSION:"session"},gu=oe,$d="persistence";function pl(y){return sc.apply(this,arguments)}function sc(){return(sc=(0,c.Z)(function*(y){yield y._initializationPromise;const p=oc(),m=Zn($d,y.config.apiKey,y.name);p&&p.setItem(m,y._getPersistence())})).apply(this,arguments)}function oc(){var y;try{return(null===(y=function tp(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(p){return null}}const np=oe;class Mi{constructor(){this.browserResolver=ae(class hu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fs,this._completeRedirectFn=ci}_openPopup(p,m,w,M){var k=this;return(0,c.Z)(function*(){var q;se(null===(q=k.eventManagers[p._key()])||void 0===q?void 0:q.manager,"_initialize() not called before _openPopup()");const de=Fd(p,m,w,bt(),M);return function gm(y,p,m,w=500,M=600){const k=Math.max((window.screen.availHeight-M)/2,0).toString(),q=Math.max((window.screen.availWidth-w)/2,0).toString();let de="";const He=Object.assign(Object.assign({},_w),{width:w.toString(),height:M.toString(),top:k,left:q}),nt=(0,F.z$)().toLowerCase();m&&(de=xa(nt)?"_blank":m),Ra(nt)&&(p=p||"http://localhost",He.scrollbars="yes");const vt=Object.entries(He).reduce((On,[Gr,lc])=>`${On}${Gr}=${lc},`,"");if(function To(y=(0,F.z$)()){var p;return ir(y)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(nt)&&"_self"!==de)return function mm(y,p){const m=document.createElement("a");m.href=y,m.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(p||"",de),new nc(null);const ct=window.open(p||"",de,vt);oe(ct,y,"popup-blocked");try{ct.focus()}catch(On){}return new nc(ct)}(p,de,ho())})()}_openRedirect(p,m,w,M){var k=this;return(0,c.Z)(function*(){return yield k._originValidation(p),function is(y){Vt().location.href=y}(Fd(p,m,w,bt(),M)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:M,promise:k}=this.eventManagers[m];return M?Promise.resolve(M):(se(k,"If manager is not set, promise should be"),k)}const w=this.initAndGetManager(p);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(p){var m=this;return(0,c.Z)(function*(){const w=yield function mw(y){return pm.apply(this,arguments)}(p),M=new js(p);return w.register("authEvent",k=>(oe(null==k?void 0:k.authEvent,p,"invalid-auth-event"),{status:M.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:M},m.iframes[p._key()]=w,M})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(Hs,{type:Hs},M=>{var k;const q=null===(k=null==M?void 0:M[0])||void 0===k?void 0:k[Hs];void 0!==q&&m(!!q),fe(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Fy(y){return Ho.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return io()||xl()||ir()}}),this.cordovaResolver=ae(class Tm{constructor(){this._redirectPersistence=Fs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ci}_initialize(p){var m=this;return(0,c.Z)(function*(){const w=p._key();let M=m.eventManagers.get(w);return M||(M=new Bd(p),m.eventManagers.set(w,M),m.attachCallbackListeners(p,M)),M})()}_openPopup(p){fe(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,w,M){var k=this;return(0,c.Z)(function*(){!function Zf(y){var p,m,w,M,k,q,de,He,nt,vt;const ct=_a();oe("function"==typeof(null===(p=null==ct?void 0:ct.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),oe(void 0!==(null===(m=null==ct?void 0:ct.BuildInfo)||void 0===m?void 0:m.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),oe("function"==typeof(null===(k=null===(M=null===(w=null==ct?void 0:ct.cordova)||void 0===w?void 0:w.plugins)||void 0===M?void 0:M.browsertab)||void 0===k?void 0:k.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oe("function"==typeof(null===(He=null===(de=null===(q=null==ct?void 0:ct.cordova)||void 0===q?void 0:q.plugins)||void 0===de?void 0:de.browsertab)||void 0===He?void 0:He.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oe("function"==typeof(null===(vt=null===(nt=null==ct?void 0:ct.cordova)||void 0===nt?void 0:nt.InAppBrowser)||void 0===vt?void 0:vt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const q=yield k._initialize(p);yield q.initialized(),q.resetRedirect(),function Xl(){Us.clear()}(),yield k._originValidation(p);const de=function Kf(y,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:zy(),postBody:null,tenantId:y.tenantId,error:Re(y,"no-auth-event")}}(p,w,M);yield function $y(y,p){return Ud()._set(Yf(y),p)}(p,de);const He=yield function fu(y,p,m){return ic.apply(this,arguments)}(p,de,m),nt=yield function hl(y){const{cordova:p}=_a();return new Promise(m=>{p.plugins.browsertab.isAvailable(w=>{let M=null;w?p.plugins.browsertab.openUrl(y):M=p.InAppBrowser.open(y,function rd(y=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(M)})})}(He);return function wm(y,p,m){return Ld.apply(this,arguments)}(p,q,nt)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function qf(y){return us.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:w,handleOpenURL:M,BuildInfo:k}=_a(),q=setTimeout((0,c.Z)(function*(){yield rc(p),m.onEvent(Qf())}),500),de=function(){var vt=(0,c.Z)(function*(ct){clearTimeout(q);const On=yield rc(p);let Gr=null;On&&(null==ct?void 0:ct.url)&&(Gr=function Dm(y,p){var m,w;const M=function fl(y){const p=pu(y),m=p.link?decodeURIComponent(p.link):void 0,w=pu(m).link,M=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return pu(M).link||M||w||m||y}(p);if(M.includes("/__/auth/callback")){const k=pu(M),q=k.firebaseError?function Cm(y){try{return JSON.parse(y)}catch(p){return null}}(decodeURIComponent(k.firebaseError)):null,de=null===(w=null===(m=null==q?void 0:q.code)||void 0===m?void 0:m.split("auth/"))||void 0===w?void 0:w[1],He=de?Re(de):null;return He?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:He,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:M,postBody:null}}return null}(On,ct.url)),m.onEvent(Gr||Qf())});return function(On){return vt.apply(this,arguments)}}();void 0!==w&&"function"==typeof w.subscribe&&w.subscribe(null,de);const He=M,nt=`${k.packageName.toLowerCase()}://`;_a().handleOpenURL=function(){var vt=(0,c.Z)(function*(ct){if(ct.toLowerCase().startsWith(nt)&&de({url:ct}),"function"==typeof He)try{He(ct)}catch(On){console.error(On)}});return function(ct){return vt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Fs,this._completeRedirectFn=ci}_initialize(p){var m=this;return(0,c.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,w,M){var k=this;return(0,c.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openPopup(p,m,w,M)})()}_openRedirect(p,m,w,M){var k=this;return(0,c.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openRedirect(p,m,w,M)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return At()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return np(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,c.Z)(function*(){if(p.underlyingResolver)return;const m=yield function Zt(){return ds.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function Gs(y){return y.unwrap()}function zd(y){return Ln(y)}function Ln(y){const{_tokenResponse:p}=y instanceof F.ZR?y.customData:y;if(!p)return null;if(!(y instanceof F.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return lr.credentialFromResult(y);const m=p.providerId;if(!m||"password"===m)return null;let w;switch(m){case"google.com":w=ha;break;case"facebook.com":w=da;break;case"github.com":w=cd;break;case"twitter.com":w=Tr;break;default:const{oauthIdToken:M,oauthAccessToken:k,oauthTokenSecret:q,pendingToken:de,nonce:He}=p;return k||q||M||de?de?m.startsWith("saml.")?vn._create(m,de):Is._fromParams({providerId:m,signInMethod:m,pendingToken:de,idToken:M,accessToken:k}):new No(m).credential({idToken:M,accessToken:k,rawNonce:He}):null}return y instanceof F.ZR?w.credentialFromError(y):w.credentialFromResult(y)}function Ut(y,p){return p.catch(m=>{throw m instanceof F.ZR&&function Yy(y,p){var m;const w=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new mu(y,function eu(y,p){var m;const w=(0,F.m9)(y),M=p;return oe(p.customData.operationType,w,"argument-error"),oe(null===(m=M.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),Ya._fromError(w,M)}(y,p));else if(w){const M=Ln(p),k=p;M&&(k.credential=M,k.tenantId=w.tenantId||void 0,k.email=w.email||void 0,k.phoneNumber=w.phoneNumber||void 0)}}(y,m),m}).then(m=>{const M=m.user;return{operationType:m.operationType,credential:zd(m),additionalUserInfo:ai(m),user:on.getOrCreate(M)}})}function Nr(y,p){return ip.apply(this,arguments)}function ip(){return(ip=(0,c.Z)(function*(y,p){const m=yield p;return{verificationId:m.verificationId,confirm:w=>Ut(y,m.confirm(w))}})).apply(this,arguments)}class mu{constructor(p,m){this.resolver=m,this.auth=function ui(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Ut(Gs(this.auth),this.resolver.resolveSignIn(p))}}class on{constructor(p){this._delegate=p,this.multiFactor=function cm(y){const p=(0,F.m9)(y);return ma.has(p)||ma.set(p,Ps._fromUser(p)),ma.get(p)}(p)}static getOrCreate(p){return on.USER_MAP.has(p)||on.USER_MAP.set(p,new on(p)),on.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,c.Z)(function*(){return Ut(m.auth,Ns(m._delegate,p))})()}linkWithPhoneNumber(p,m){var w=this;return(0,c.Z)(function*(){return Nr(w.auth,function Yl(y,p,m){return Ii.apply(this,arguments)}(w._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,c.Z)(function*(){return Ut(m.auth,function Rd(y,p,m){return su.apply(this,arguments)}(m._delegate,p,Mi))})()}linkWithRedirect(p){var m=this;return(0,c.Z)(function*(){return yield pl(Fe(m.auth)),function Be(y,p,m){return function Ke(y,p,m){return Bt.apply(this,arguments)}(y,p,m)}(m._delegate,p,Mi)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,c.Z)(function*(){return Ut(m.auth,fa(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return Nr(this.auth,function ar(y,p,m){return Jl.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return Ut(this.auth,function kd(y,p,m){return Vs.apply(this,arguments)}(this._delegate,p,Mi))}reauthenticateWithRedirect(p){var m=this;return(0,c.Z)(function*(){return yield pl(Fe(m.auth)),function K(y,p,m){return function re(y,p,m){return Me.apply(this,arguments)}(y,p,m)}(m._delegate,p,Mi)})()}sendEmailVerification(p){return function ks(y,p){return Za.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,c.Z)(function*(){return yield function Os(y,p){return zc.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function Jc(y,p){return Gl((0,F.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function lm(y,p){return Gl((0,F.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function al(y,p){return Bs.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function Hl(y,p){return Ka.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function _d(y,p,m){return Wa.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}on.USER_MAP=new WeakMap;const Hr=oe;let ei=(()=>{class y{constructor(m,w){if(this.app=m,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:M}=m.options;Hr(M,"invalid-api-key",{appName:m.name}),Hr(M,"invalid-api-key",{appName:m.name});const k="undefined"!=typeof window?Mi:void 0;this._delegate=w.initialize({options:{persistence:ac(M,m.name),popupRedirectResolver:k}}),this._delegate._updateErrorMap(Ne),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?on.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,w){!function un(y,p,m){const w=Fe(y);oe(w._canInitEmulator,w,"emulator-config-failed"),oe(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const M=!!(null==m?void 0:m.disableWarnings),k=Vi(p),{host:q,port:de}=function Ts(y){const p=Vi(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(w);if(M){const k=M[1];return{host:k,port:Pn(w.substr(k.length+1))}}{const[k,q]=w.split(":");return{host:k,port:Pn(q)}}}(p);w.config.emulator={url:`${k}//${q}${null===de?"":`:${de}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:q,port:de,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function Ss(){function y(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,w)}applyActionCode(m){return function Cf(y,p){return Ce.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Ft(this._delegate,m)}confirmPasswordReset(m,w){return function Zc(y,p,m){return Ga.apply(this,arguments)}(this._delegate,m,w)}createUserWithEmailAndPassword(m,w){var M=this;return(0,c.Z)(function*(){return Ut(M._delegate,function za(y,p,m){return ji.apply(this,arguments)}(M._delegate,m,w))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Yc(y,p){return ts.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function md(y,p){const m=As.parseLink(p);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,c.Z)(function*(){Hr(st(),m._delegate,"operation-not-supported-in-this-environment");const w=yield function qt(y,p){return Qn.apply(this,arguments)}(m._delegate,Mi);return w?Ut(m._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function qy(y,p){Fe(y)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,w,M){const{next:k,error:q,complete:de}=$s(m,w,M);return this._delegate.onAuthStateChanged(k,q,de)}onIdTokenChanged(m,w,M){const{next:k,error:q,complete:de}=$s(m,w,M);return this._delegate.onIdTokenChanged(k,q,de)}sendSignInLinkToEmail(m,w){return function Kc(y,p,m){return gd.apply(this,arguments)}(this._delegate,m,w)}sendPasswordResetEmail(m,w){return function pd(y,p,m){return Ha.apply(this,arguments)}(this._delegate,m,w||void 0)}setPersistence(m){var w=this;return(0,c.Z)(function*(){let M;switch(function Ky(y,p){gu(Object.values(dr).includes(p),y,"invalid-persistence-type"),(0,F.b$)()?gu(p!==dr.SESSION,y,"unsupported-persistence-type"):(0,F.UG)()?gu(p===dr.NONE,y,"unsupported-persistence-type"):Gd()?gu(p===dr.NONE||p===dr.LOCAL&&(0,F.hl)(),y,"unsupported-persistence-type"):gu(p===dr.NONE||ur(),y,"unsupported-persistence-type")}(w._delegate,m),m){case dr.SESSION:M=Fs;break;case dr.LOCAL:M=(yield ae(jn)._isAvailable())?jn:pn;break;case dr.NONE:M=Nt;break;default:return fe("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(M)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Ut(this._delegate,function fd(y){return Ll.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Ut(this._delegate,jl(this._delegate,m))}signInWithCustomToken(m){return Ut(this._delegate,function lo(y,p){return co.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,w){return Ut(this._delegate,function Wc(y,p,m){return jl((0,F.m9)(y),La.credential(p,m))}(this._delegate,m,w))}signInWithEmailLink(m,w){return Ut(this._delegate,function qa(y,p,m){return pa.apply(this,arguments)}(this._delegate,m,w))}signInWithPhoneNumber(m,w){return Nr(this._delegate,function kf(y,p,m){return Sn.apply(this,arguments)}(this._delegate,m,w))}signInWithPopup(m){var w=this;return(0,c.Z)(function*(){return Hr(st(),w._delegate,"operation-not-supported-in-this-environment"),Ut(w._delegate,function Ql(y,p,m){return Pf.apply(this,arguments)}(w._delegate,m,Mi))})()}signInWithRedirect(m){var w=this;return(0,c.Z)(function*(){return Hr(st(),w._delegate,"operation-not-supported-in-this-environment"),yield pl(w._delegate),function S(y,p,m){return function N(y,p,m){return B.apply(this,arguments)}(y,p,m)}(w._delegate,m,Mi)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Cn(y,p){return uo.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=dr,y})();function $s(y,p,m){let w=y;"function"!=typeof y&&({next:w,error:p,complete:m}=y);const M=w;return{next:q=>M(q&&on.getOrCreate(q)),error:p,complete:m}}function ac(y,p){const m=function Am(y,p){const m=oc();if(!m)return[];const w=Zn($d,y,p);switch(m.getItem(w)){case dr.NONE:return[Nt];case dr.LOCAL:return[jn,Fs];case dr.SESSION:return[Fs];default:return[]}}(y,p);if("undefined"!=typeof self&&!m.includes(jn)&&m.push(jn),"undefined"!=typeof window)for(const w of[pn,Fs])m.includes(w)||m.push(w);return m.includes(Nt)||m.push(Nt),m}class _u{constructor(){this.providerId="phone",this._delegate=new lr(Gs(Q.Z.auth()))}static credential(p,m){return lr.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}_u.PHONE_SIGN_IN_METHOD=lr.PHONE_SIGN_IN_METHOD,_u.PROVIDER_ID=lr.PROVIDER_ID;const Mm=oe;class Om{constructor(p,m,w=Q.Z.app()){var M;Mm(null===(M=w.options)||void 0===M?void 0:M.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Md(p,m,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Jy(y){y.INTERNAL.registerComponent(new ee.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),w=p.getProvider("auth");return new ei(m,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:La,FacebookAuthProvider:da,GithubAuthProvider:cd,GoogleAuthProvider:ha,OAuthProvider:No,SAMLAuthProvider:Ms,PhoneAuthProvider:_u,PhoneMultiFactorGenerator:Uy,RecaptchaVerifier:Om,TwitterAuthProvider:Tr,Auth:ei,AuthCredential:Kt,Error:F.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.8")}(Q.Z)},2940:function(it,De){!function(P){"use strict";function c(W){return Array.prototype.slice.call(W)}function Q(W){return new Promise(function(ne,ye){W.onsuccess=function(){ne(W.result)},W.onerror=function(){ye(W.error)}})}function F(W,ne,ye){var Te,fe=new Promise(function(Re,Se){Q(Te=W[ne].apply(W,ye)).then(Re,Se)});return fe.request=Te,fe}function ce(W,ne,ye){var Te=F(W,ne,ye);return Te.then(function(fe){if(fe)return new G(fe,Te.request)})}function ie(W,ne,ye){ye.forEach(function(Te){Object.defineProperty(W.prototype,Te,{get:function(){return this[ne][Te]},set:function(fe){this[ne][Te]=fe}})})}function me(W,ne,ye,Te){Te.forEach(function(fe){fe in ye.prototype&&(W.prototype[fe]=function(){return F(this[ne],fe,arguments)})})}function ee(W,ne,ye,Te){Te.forEach(function(fe){fe in ye.prototype&&(W.prototype[fe]=function(){return this[ne][fe].apply(this[ne],arguments)})})}function ge(W,ne,ye,Te){Te.forEach(function(fe){fe in ye.prototype&&(W.prototype[fe]=function(){return ce(this[ne],fe,arguments)})})}function le(W){this._index=W}function G(W,ne){this._cursor=W,this._request=ne}function j(W){this._store=W}function X(W){this._tx=W,this.complete=new Promise(function(ne,ye){W.oncomplete=function(){ne()},W.onerror=function(){ye(W.error)},W.onabort=function(){ye(W.error)}})}function je(W,ne,ye){this._db=W,this.oldVersion=ne,this.transaction=new X(ye)}function Ie(W){this._db=W}ie(le,"_index",["name","keyPath","multiEntry","unique"]),me(le,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),ge(le,"_index",IDBIndex,["openCursor","openKeyCursor"]),ie(G,"_cursor",["direction","key","primaryKey","value"]),me(G,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(W){W in IDBCursor.prototype&&(G.prototype[W]=function(){var ne=this,ye=arguments;return Promise.resolve().then(function(){return ne._cursor[W].apply(ne._cursor,ye),Q(ne._request).then(function(Te){if(Te)return new G(Te,ne._request)})})})}),j.prototype.createIndex=function(){return new le(this._store.createIndex.apply(this._store,arguments))},j.prototype.index=function(){return new le(this._store.index.apply(this._store,arguments))},ie(j,"_store",["name","keyPath","indexNames","autoIncrement"]),me(j,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),ge(j,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),ee(j,"_store",IDBObjectStore,["deleteIndex"]),X.prototype.objectStore=function(){return new j(this._tx.objectStore.apply(this._tx,arguments))},ie(X,"_tx",["objectStoreNames","mode"]),ee(X,"_tx",IDBTransaction,["abort"]),je.prototype.createObjectStore=function(){return new j(this._db.createObjectStore.apply(this._db,arguments))},ie(je,"_db",["name","version","objectStoreNames"]),ee(je,"_db",IDBDatabase,["deleteObjectStore","close"]),Ie.prototype.transaction=function(){return new X(this._db.transaction.apply(this._db,arguments))},ie(Ie,"_db",["name","version","objectStoreNames"]),ee(Ie,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(W){[j,le].forEach(function(ne){W in ne.prototype&&(ne.prototype[W.replace("open","iterate")]=function(){var ye=c(arguments),Te=ye[ye.length-1],fe=this._store||this._index,Re=fe[W].apply(fe,ye.slice(0,-1));Re.onsuccess=function(){Te(Re.result)}})})}),[le,j].forEach(function(W){W.prototype.getAll||(W.prototype.getAll=function(ne,ye){var Te=this,fe=[];return new Promise(function(Re){Te.iterateCursor(ne,function(Se){Se?(fe.push(Se.value),void 0===ye||fe.length!=ye?Se.continue():Re(fe)):Re(fe)})})})}),P.openDb=function Ne(W,ne,ye){var Te=F(indexedDB,"open",[W,ne]),fe=Te.request;return fe&&(fe.onupgradeneeded=function(Re){ye&&ye(new je(fe.result,Re.oldVersion,fe.transaction))}),Te.then(function(Re){return new Ie(Re)})},P.deleteDb=function Ve(W){return F(indexedDB,"deleteDatabase",[W])},Object.defineProperty(P,"__esModule",{value:!0})}(De)},8306:(it,De,P)=>{"use strict";P.d(De,{y:()=>G});var c=P(930),Q=P(727),F=P(8822),ce=P(4671);var ee=P(2416),ge=P(576),le=P(2806);let G=(()=>{class Ie{constructor(Ve){Ve&&(this._subscribe=Ve)}lift(Ve){const W=new Ie;return W.source=this,W.operator=Ve,W}subscribe(Ve,W,ne){const ye=function je(Ie){return Ie&&Ie instanceof c.Lv||function X(Ie){return Ie&&(0,ge.m)(Ie.next)&&(0,ge.m)(Ie.error)&&(0,ge.m)(Ie.complete)}(Ie)&&(0,Q.Nn)(Ie)}(Ve)?Ve:new c.Hp(Ve,W,ne);return(0,le.x)(()=>{const{operator:Te,source:fe}=this;ye.add(Te?Te.call(ye,fe):fe?this._subscribe(ye):this._trySubscribe(ye))}),ye}_trySubscribe(Ve){try{return this._subscribe(Ve)}catch(W){Ve.error(W)}}forEach(Ve,W){return new(W=j(W))((ne,ye)=>{const Te=new c.Hp({next:fe=>{try{Ve(fe)}catch(Re){ye(Re),Te.unsubscribe()}},error:ye,complete:ne});this.subscribe(Te)})}_subscribe(Ve){var W;return null===(W=this.source)||void 0===W?void 0:W.subscribe(Ve)}[F.L](){return this}pipe(...Ve){return function me(Ie){return 0===Ie.length?ce.y:1===Ie.length?Ie[0]:function(Ve){return Ie.reduce((W,ne)=>ne(W),Ve)}}(Ve)(this)}toPromise(Ve){return new(Ve=j(Ve))((W,ne)=>{let ye;this.subscribe(Te=>ye=Te,Te=>ne(Te),()=>W(ye))})}}return Ie.create=Ne=>new Ie(Ne),Ie})();function j(Ie){var Ne;return null!==(Ne=null!=Ie?Ie:ee.v.Promise)&&void 0!==Ne?Ne:Promise}},7579:(it,De,P)=>{"use strict";P.d(De,{x:()=>ee});var c=P(8306),Q=P(727);const ce=(0,P(3888).d)(le=>function(){le(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=P(8737),me=P(2806);let ee=(()=>{class le extends c.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const X=new ge(this,this);return X.operator=j,X}_throwIfClosed(){if(this.closed)throw new ce}next(j){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const X=this.observers.slice();for(const je of X)je.next(j)}})}error(j){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:X}=this;for(;X.length;)X.shift().error(j)}})}complete(){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:X,isStopped:je,observers:Ie}=this;return X||je?Q.Lc:(Ie.push(j),new Q.w0(()=>(0,ie.P)(Ie,j)))}_checkFinalizedStatuses(j){const{hasError:X,thrownError:je,isStopped:Ie}=this;X?j.error(je):Ie&&j.complete()}asObservable(){const j=new c.y;return j.source=this,j}}return le.create=(G,j)=>new ge(G,j),le})();class ge extends ee{constructor(G,j){super(),this.destination=G,this.source=j}next(G){var j,X;null===(X=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===X||X.call(j,G)}error(G){var j,X;null===(X=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===X||X.call(j,G)}complete(){var G,j;null===(j=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===j||j.call(G)}_subscribe(G){var j,X;return null!==(X=null===(j=this.source)||void 0===j?void 0:j.subscribe(G))&&void 0!==X?X:Q.Lc}}},930:(it,De,P)=>{"use strict";P.d(De,{Hp:()=>je,Lv:()=>X});var c=P(576),Q=P(727),F=P(2416),ce=P(7849),ie=P(5032);const me=le("C",void 0,void 0);function le(ne,ye,Te){return{kind:ne,value:ye,error:Te}}var G=P(3410),j=P(2806);class X extends Q.w0{constructor(ye){super(),this.isStopped=!1,ye?(this.destination=ye,(0,Q.Nn)(ye)&&ye.add(this)):this.destination=W}static create(ye,Te,fe){return new je(ye,Te,fe)}next(ye){this.isStopped?Ve(function ge(ne){return le("N",ne,void 0)}(ye),this):this._next(ye)}error(ye){this.isStopped?Ve(function ee(ne){return le("E",void 0,ne)}(ye),this):(this.isStopped=!0,this._error(ye))}complete(){this.isStopped?Ve(me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ye){this.destination.next(ye)}_error(ye){try{this.destination.error(ye)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class je extends X{constructor(ye,Te,fe){let Re;if(super(),(0,c.m)(ye))Re=ye;else if(ye){let Se;({next:Re,error:Te,complete:fe}=ye),this&&F.v.useDeprecatedNextContext?(Se=Object.create(ye),Se.unsubscribe=()=>this.unsubscribe()):Se=ye,Re=null==Re?void 0:Re.bind(Se),Te=null==Te?void 0:Te.bind(Se),fe=null==fe?void 0:fe.bind(Se)}this.destination={next:Re?Ie(Re):ie.Z,error:Ie(null!=Te?Te:Ne),complete:fe?Ie(fe):ie.Z}}}function Ie(ne,ye){return(...Te)=>{try{ne(...Te)}catch(fe){F.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(fe):(0,ce.h)(fe)}}}function Ne(ne){throw ne}function Ve(ne,ye){const{onStoppedNotification:Te}=F.v;Te&&G.z.setTimeout(()=>Te(ne,ye))}const W={closed:!0,next:ie.Z,error:Ne,complete:ie.Z}},727:(it,De,P)=>{"use strict";P.d(De,{Lc:()=>me,w0:()=>ie,Nn:()=>ee});var c=P(576);const F=(0,P(3888).d)(le=>function(j){le(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((X,je)=>`${je+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var ce=P(8737);class ie{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const Ie of j)Ie.remove(this);else j.remove(this);const{initialTeardown:X}=this;if((0,c.m)(X))try{X()}catch(Ie){G=Ie instanceof F?Ie.errors:[Ie]}const{_teardowns:je}=this;if(je){this._teardowns=null;for(const Ie of je)try{ge(Ie)}catch(Ne){G=null!=G?G:[],Ne instanceof F?G=[...G,...Ne.errors]:G.push(Ne)}}if(G)throw new F(G)}}add(G){var j;if(G&&G!==this)if(this.closed)ge(G);else{if(G instanceof ie){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._teardowns=null!==(j=this._teardowns)&&void 0!==j?j:[]).push(G)}}_hasParent(G){const{_parentage:j}=this;return j===G||Array.isArray(j)&&j.includes(G)}_addParent(G){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(G),j):j?[j,G]:G}_removeParent(G){const{_parentage:j}=this;j===G?this._parentage=null:Array.isArray(j)&&(0,ce.P)(j,G)}remove(G){const{_teardowns:j}=this;j&&(0,ce.P)(j,G),G instanceof ie&&G._removeParent(this)}}ie.EMPTY=(()=>{const le=new ie;return le.closed=!0,le})();const me=ie.EMPTY;function ee(le){return le instanceof ie||le&&"closed"in le&&(0,c.m)(le.remove)&&(0,c.m)(le.add)&&(0,c.m)(le.unsubscribe)}function ge(le){(0,c.m)(le)?le():le.unsubscribe()}},2416:(it,De,P)=>{"use strict";P.d(De,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(it,De,P)=>{"use strict";P.d(De,{E:()=>Q});const Q=new(P(8306).y)(ie=>ie.complete())},8996:(it,De,P)=>{"use strict";P.d(De,{D:()=>Re});var c=P(8421),Q=P(5363),F=P(9468),me=P(8306),ge=P(2202),le=P(576),G=P(9672);function X(Se,Je){if(!Se)throw new Error("Iterable cannot be null");return new me.y(qe=>{(0,G.f)(qe,Je,()=>{const oe=Se[Symbol.asyncIterator]();(0,G.f)(qe,Je,()=>{oe.next().then(Y=>{Y.done?qe.complete():qe.next(Y.value)})},0,!0)})})}var je=P(3670),Ie=P(8239),Ne=P(1144),Ve=P(6495),W=P(2206),ne=P(4532),ye=P(3260);function Re(Se,Je){return Je?function fe(Se,Je){if(null!=Se){if((0,je.c)(Se))return function ce(Se,Je){return(0,c.Xf)(Se).pipe((0,F.R)(Je),(0,Q.Q)(Je))}(Se,Je);if((0,Ne.z)(Se))return function ee(Se,Je){return new me.y(qe=>{let oe=0;return Je.schedule(function(){oe===Se.length?qe.complete():(qe.next(Se[oe++]),qe.closed||this.schedule())})})}(Se,Je);if((0,Ie.t)(Se))return function ie(Se,Je){return(0,c.Xf)(Se).pipe((0,F.R)(Je),(0,Q.Q)(Je))}(Se,Je);if((0,W.D)(Se))return X(Se,Je);if((0,Ve.T)(Se))return function j(Se,Je){return new me.y(qe=>{let oe;return(0,G.f)(qe,Je,()=>{oe=Se[ge.h](),(0,G.f)(qe,Je,()=>{let Y,se;try{({value:Y,done:se}=oe.next())}catch(ve){return void qe.error(ve)}se?qe.complete():qe.next(Y)},0,!0)}),()=>(0,le.m)(null==oe?void 0:oe.return)&&oe.return()})}(Se,Je);if((0,ye.L)(Se))return function Te(Se,Je){return X((0,ye.Q)(Se),Je)}(Se,Je)}throw(0,ne.z)(Se)}(Se,Je):(0,c.Xf)(Se)}},8421:(it,De,P)=>{"use strict";P.d(De,{Xf:()=>je});var c=P(655),Q=P(1144),F=P(8239),ce=P(8306),ie=P(3670),me=P(2206),ee=P(4532),ge=P(6495),le=P(3260),G=P(576),j=P(7849),X=P(8822);function je(fe){if(fe instanceof ce.y)return fe;if(null!=fe){if((0,ie.c)(fe))return function Ie(fe){return new ce.y(Re=>{const Se=fe[X.L]();if((0,G.m)(Se.subscribe))return Se.subscribe(Re);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(fe);if((0,Q.z)(fe))return function Ne(fe){return new ce.y(Re=>{for(let Se=0;Se<fe.length&&!Re.closed;Se++)Re.next(fe[Se]);Re.complete()})}(fe);if((0,F.t)(fe))return function Ve(fe){return new ce.y(Re=>{fe.then(Se=>{Re.closed||(Re.next(Se),Re.complete())},Se=>Re.error(Se)).then(null,j.h)})}(fe);if((0,me.D)(fe))return ne(fe);if((0,ge.T)(fe))return function W(fe){return new ce.y(Re=>{for(const Se of fe)if(Re.next(Se),Re.closed)return;Re.complete()})}(fe);if((0,le.L)(fe))return function ye(fe){return ne((0,le.Q)(fe))}(fe)}throw(0,ee.z)(fe)}function ne(fe){return new ce.y(Re=>{(function Te(fe,Re){var Se,Je,qe,oe;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Se=(0,c.KL)(fe);!(Je=yield Se.next()).done;)if(Re.next(Je.value),Re.closed)return}catch(Y){qe={error:Y}}finally{try{Je&&!Je.done&&(oe=Se.return)&&(yield oe.call(Se))}finally{if(qe)throw qe.error}}Re.complete()})})(fe,Re).catch(Se=>Re.error(Se))})}},6451:(it,De,P)=>{"use strict";P.d(De,{T:()=>me});var c=P(8189),Q=P(8421),F=P(515),ce=P(3269),ie=P(8996);function me(...ee){const ge=(0,ce.yG)(ee),le=(0,ce._6)(ee,1/0),G=ee;return G.length?1===G.length?(0,Q.Xf)(G[0]):(0,c.J)(le)((0,ie.D)(G,ge)):F.E}},5403:(it,De,P)=>{"use strict";P.d(De,{Q:()=>Q});var c=P(930);class Q extends c.Lv{constructor(ce,ie,me,ee,ge){super(ce),this.onFinalize=ge,this._next=ie?function(le){try{ie(le)}catch(G){ce.error(G)}}:super._next,this._error=ee?function(le){try{ee(le)}catch(G){ce.error(G)}finally{this.unsubscribe()}}:super._error,this._complete=me?function(){try{me()}catch(le){ce.error(le)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ce;const{closed:ie}=this;super.unsubscribe(),!ie&&(null===(ce=this.onFinalize)||void 0===ce||ce.call(this))}}},4004:(it,De,P)=>{"use strict";P.d(De,{U:()=>F});var c=P(4482),Q=P(5403);function F(ce,ie){return(0,c.e)((me,ee)=>{let ge=0;me.subscribe(new Q.Q(ee,le=>{ee.next(ce.call(ie,le,ge++))}))})}},8189:(it,De,P)=>{"use strict";P.d(De,{J:()=>F});var c=P(5577),Q=P(4671);function F(ce=1/0){return(0,c.z)(Q.y,ce)}},5577:(it,De,P)=>{"use strict";P.d(De,{z:()=>ge});var c=P(4004),Q=P(8421),F=P(4482),ce=P(9672),ie=P(5403),ee=P(576);function ge(le,G,j=1/0){return(0,ee.m)(G)?ge((X,je)=>(0,c.U)((Ie,Ne)=>G(X,Ie,je,Ne))((0,Q.Xf)(le(X,je))),j):("number"==typeof G&&(j=G),(0,F.e)((X,je)=>function me(le,G,j,X,je,Ie,Ne,Ve){const W=[];let ne=0,ye=0,Te=!1;const fe=()=>{Te&&!W.length&&!ne&&G.complete()},Re=Je=>ne<X?Se(Je):W.push(Je),Se=Je=>{Ie&&G.next(Je),ne++;let qe=!1;(0,Q.Xf)(j(Je,ye++)).subscribe(new ie.Q(G,oe=>{null==je||je(oe),Ie?Re(oe):G.next(oe)},()=>{qe=!0},void 0,()=>{if(qe)try{for(ne--;W.length&&ne<X;){const oe=W.shift();Ne?(0,ce.f)(G,Ne,()=>Se(oe)):Se(oe)}fe()}catch(oe){G.error(oe)}}))};return le.subscribe(new ie.Q(G,Re,()=>{Te=!0,fe()})),()=>{null==Ve||Ve()}}(X,je,le,j)))}},5363:(it,De,P)=>{"use strict";P.d(De,{Q:()=>ce});var c=P(9672),Q=P(4482),F=P(5403);function ce(ie,me=0){return(0,Q.e)((ee,ge)=>{ee.subscribe(new F.Q(ge,le=>(0,c.f)(ge,ie,()=>ge.next(le),me),()=>(0,c.f)(ge,ie,()=>ge.complete(),me),le=>(0,c.f)(ge,ie,()=>ge.error(le),me)))})}},3099:(it,De,P)=>{"use strict";P.d(De,{B:()=>me});var c=P(8996),Q=P(5698),F=P(7579),ce=P(930),ie=P(4482);function me(ge={}){const{connector:le=(()=>new F.x),resetOnError:G=!0,resetOnComplete:j=!0,resetOnRefCountZero:X=!0}=ge;return je=>{let Ie=null,Ne=null,Ve=null,W=0,ne=!1,ye=!1;const Te=()=>{null==Ne||Ne.unsubscribe(),Ne=null},fe=()=>{Te(),Ie=Ve=null,ne=ye=!1},Re=()=>{const Se=Ie;fe(),null==Se||Se.unsubscribe()};return(0,ie.e)((Se,Je)=>{W++,!ye&&!ne&&Te();const qe=Ve=null!=Ve?Ve:le();Je.add(()=>{W--,0===W&&!ye&&!ne&&(Ne=ee(Re,X))}),qe.subscribe(Je),Ie||(Ie=new ce.Hp({next:oe=>qe.next(oe),error:oe=>{ye=!0,Te(),Ne=ee(fe,G,oe),qe.error(oe)},complete:()=>{ne=!0,Te(),Ne=ee(fe,j),qe.complete()}}),(0,c.D)(Se).subscribe(Ie))})(je)}}function ee(ge,le,...G){return!0===le?(ge(),null):!1===le?null:le(...G).pipe((0,Q.q)(1)).subscribe(()=>ge())}},9468:(it,De,P)=>{"use strict";P.d(De,{R:()=>Q});var c=P(4482);function Q(F,ce=0){return(0,c.e)((ie,me)=>{me.add(F.schedule(()=>ie.subscribe(me),ce))})}},5698:(it,De,P)=>{"use strict";P.d(De,{q:()=>ce});var c=P(515),Q=P(4482),F=P(5403);function ce(ie){return ie<=0?()=>c.E:(0,Q.e)((me,ee)=>{let ge=0;me.subscribe(new F.Q(ee,le=>{++ge<=ie&&(ee.next(le),ie<=ge&&ee.complete())}))})}},8505:(it,De,P)=>{"use strict";P.d(De,{b:()=>ie});var c=P(576),Q=P(4482),F=P(5403),ce=P(4671);function ie(me,ee,ge){const le=(0,c.m)(me)||ee||ge?{next:me,error:ee,complete:ge}:me;return le?(0,Q.e)((G,j)=>{var X;null===(X=le.subscribe)||void 0===X||X.call(le);let je=!0;G.subscribe(new F.Q(j,Ie=>{var Ne;null===(Ne=le.next)||void 0===Ne||Ne.call(le,Ie),j.next(Ie)},()=>{var Ie;je=!1,null===(Ie=le.complete)||void 0===Ie||Ie.call(le),j.complete()},Ie=>{var Ne;je=!1,null===(Ne=le.error)||void 0===Ne||Ne.call(le,Ie),j.error(Ie)},()=>{var Ie,Ne;je&&(null===(Ie=le.unsubscribe)||void 0===Ie||Ie.call(le)),null===(Ne=le.finalize)||void 0===Ne||Ne.call(le)}))}):ce.y}},4408:(it,De,P)=>{"use strict";P.d(De,{o:()=>ie});var c=P(727);class Q extends c.w0{constructor(ee,ge){super()}schedule(ee,ge=0){return this}}const F={setInterval(...me){const{delegate:ee}=F;return((null==ee?void 0:ee.setInterval)||setInterval)(...me)},clearInterval(me){const{delegate:ee}=F;return((null==ee?void 0:ee.clearInterval)||clearInterval)(me)},delegate:void 0};var ce=P(8737);class ie extends Q{constructor(ee,ge){super(ee,ge),this.scheduler=ee,this.work=ge,this.pending=!1}schedule(ee,ge=0){if(this.closed)return this;this.state=ee;const le=this.id,G=this.scheduler;return null!=le&&(this.id=this.recycleAsyncId(G,le,ge)),this.pending=!0,this.delay=ge,this.id=this.id||this.requestAsyncId(G,this.id,ge),this}requestAsyncId(ee,ge,le=0){return F.setInterval(ee.flush.bind(ee,this),le)}recycleAsyncId(ee,ge,le=0){if(null!=le&&this.delay===le&&!1===this.pending)return ge;F.clearInterval(ge)}execute(ee,ge){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const le=this._execute(ee,ge);if(le)return le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ee,ge){let G,le=!1;try{this.work(ee)}catch(j){le=!0,G=j||new Error("Scheduled action threw falsy error")}if(le)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:ee,scheduler:ge}=this,{actions:le}=ge;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ce.P)(le,this),null!=ee&&(this.id=this.recycleAsyncId(ge,ee,null)),this.delay=null,super.unsubscribe()}}}},7565:(it,De,P)=>{"use strict";P.d(De,{v:()=>F});var c=P(6063);class Q{constructor(ie,me=Q.now){this.schedulerActionCtor=ie,this.now=me}schedule(ie,me=0,ee){return new this.schedulerActionCtor(this,ie).schedule(ee,me)}}Q.now=c.l.now;class F extends Q{constructor(ie,me=Q.now){super(ie,me),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ie){const{actions:me}=this;if(this._active)return void me.push(ie);let ee;this._active=!0;do{if(ee=ie.execute(ie.state,ie.delay))break}while(ie=me.shift());if(this._active=!1,ee){for(;ie=me.shift();)ie.unsubscribe();throw ee}}}},4986:(it,De,P)=>{"use strict";P.d(De,{z:()=>F,P:()=>ce});var c=P(4408);const F=new(P(7565).v)(c.o),ce=F},6063:(it,De,P)=>{"use strict";P.d(De,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(it,De,P)=>{"use strict";P.d(De,{z:()=>c});const c={setTimeout(...Q){const{delegate:F}=c;return((null==F?void 0:F.setTimeout)||setTimeout)(...Q)},clearTimeout(Q){const{delegate:F}=c;return((null==F?void 0:F.clearTimeout)||clearTimeout)(Q)},delegate:void 0}},2202:(it,De,P)=>{"use strict";P.d(De,{h:()=>Q});const Q=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(it,De,P)=>{"use strict";P.d(De,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(it,De,P)=>{"use strict";P.d(De,{jO:()=>ce,yG:()=>ie,_6:()=>me});var c=P(576),Q=P(3532);function F(ee){return ee[ee.length-1]}function ce(ee){return(0,c.m)(F(ee))?ee.pop():void 0}function ie(ee){return(0,Q.K)(F(ee))?ee.pop():void 0}function me(ee,ge){return"number"==typeof F(ee)?ee.pop():ge}},8737:(it,De,P)=>{"use strict";function c(Q,F){if(Q){const ce=Q.indexOf(F);0<=ce&&Q.splice(ce,1)}}P.d(De,{P:()=>c})},3888:(it,De,P)=>{"use strict";function c(Q){const ce=Q(ie=>{Error.call(ie),ie.stack=(new Error).stack});return ce.prototype=Object.create(Error.prototype),ce.prototype.constructor=ce,ce}P.d(De,{d:()=>c})},2806:(it,De,P)=>{"use strict";P.d(De,{x:()=>F,O:()=>ce});var c=P(2416);let Q=null;function F(ie){if(c.v.useDeprecatedSynchronousErrorHandling){const me=!Q;if(me&&(Q={errorThrown:!1,error:null}),ie(),me){const{errorThrown:ee,error:ge}=Q;if(Q=null,ee)throw ge}}else ie()}function ce(ie){c.v.useDeprecatedSynchronousErrorHandling&&Q&&(Q.errorThrown=!0,Q.error=ie)}},9672:(it,De,P)=>{"use strict";function c(Q,F,ce,ie=0,me=!1){const ee=F.schedule(function(){ce(),me?Q.add(this.schedule(null,ie)):this.unsubscribe()},ie);if(Q.add(ee),!me)return ee}P.d(De,{f:()=>c})},4671:(it,De,P)=>{"use strict";function c(Q){return Q}P.d(De,{y:()=>c})},1144:(it,De,P)=>{"use strict";P.d(De,{z:()=>c});const c=Q=>Q&&"number"==typeof Q.length&&"function"!=typeof Q},2206:(it,De,P)=>{"use strict";P.d(De,{D:()=>Q});var c=P(576);function Q(F){return Symbol.asyncIterator&&(0,c.m)(null==F?void 0:F[Symbol.asyncIterator])}},576:(it,De,P)=>{"use strict";function c(Q){return"function"==typeof Q}P.d(De,{m:()=>c})},3670:(it,De,P)=>{"use strict";P.d(De,{c:()=>F});var c=P(8822),Q=P(576);function F(ce){return(0,Q.m)(ce[c.L])}},6495:(it,De,P)=>{"use strict";P.d(De,{T:()=>F});var c=P(2202),Q=P(576);function F(ce){return(0,Q.m)(null==ce?void 0:ce[c.h])}},8239:(it,De,P)=>{"use strict";P.d(De,{t:()=>Q});var c=P(576);function Q(F){return(0,c.m)(null==F?void 0:F.then)}},3260:(it,De,P)=>{"use strict";P.d(De,{Q:()=>F,L:()=>ce});var c=P(655),Q=P(576);function F(ie){return(0,c.FC)(this,arguments,function*(){const ee=ie.getReader();try{for(;;){const{value:ge,done:le}=yield(0,c.qq)(ee.read());if(le)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(ge)}}finally{ee.releaseLock()}})}function ce(ie){return(0,Q.m)(null==ie?void 0:ie.getReader)}},3532:(it,De,P)=>{"use strict";P.d(De,{K:()=>Q});var c=P(576);function Q(F){return F&&(0,c.m)(F.schedule)}},4482:(it,De,P)=>{"use strict";P.d(De,{A:()=>Q,e:()=>F});var c=P(576);function Q(ce){return(0,c.m)(null==ce?void 0:ce.lift)}function F(ce){return ie=>{if(Q(ie))return ie.lift(function(me){try{return ce(me,this)}catch(ee){this.error(ee)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(it,De,P)=>{"use strict";function c(){}P.d(De,{Z:()=>c})},7849:(it,De,P)=>{"use strict";P.d(De,{h:()=>F});var c=P(2416),Q=P(3410);function F(ce){Q.z.setTimeout(()=>{const{onUnhandledError:ie}=c.v;if(!ie)throw ce;ie(ce)})}},4532:(it,De,P)=>{"use strict";function c(Q){return new TypeError(`You provided ${null!==Q&&"object"==typeof Q?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(De,{z:()=>c})},655:(it,De,P)=>{"use strict";function ce(Y,se){var ve={};for(var ae in Y)Object.prototype.hasOwnProperty.call(Y,ae)&&se.indexOf(ae)<0&&(ve[ae]=Y[ae]);if(null!=Y&&"function"==typeof Object.getOwnPropertySymbols){var Pe=0;for(ae=Object.getOwnPropertySymbols(Y);Pe<ae.length;Pe++)se.indexOf(ae[Pe])<0&&Object.prototype.propertyIsEnumerable.call(Y,ae[Pe])&&(ve[ae[Pe]]=Y[ae[Pe]])}return ve}function ge(Y,se,ve,ae){return new(ve||(ve=Promise))(function(pe,bt){function Wt(ut){try{lt(ae.next(ut))}catch(zn){bt(zn)}}function Vn(ut){try{lt(ae.throw(ut))}catch(zn){bt(zn)}}function lt(ut){ut.done?pe(ut.value):function Pe(pe){return pe instanceof ve?pe:new ve(function(bt){bt(pe)})}(ut.value).then(Wt,Vn)}lt((ae=ae.apply(Y,se||[])).next())})}function W(Y){return this instanceof W?(this.v=Y,this):new W(Y)}function ne(Y,se,ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,ae=ve.apply(Y,se||[]),pe=[];return Pe={},bt("next"),bt("throw"),bt("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe;function bt(nn){ae[nn]&&(Pe[nn]=function(Di){return new Promise(function(Qt,Jr){pe.push([nn,Di,Qt,Jr])>1||Wt(nn,Di)})})}function Wt(nn,Di){try{!function Vn(nn){nn.value instanceof W?Promise.resolve(nn.value.v).then(lt,ut):zn(pe[0][2],nn)}(ae[nn](Di))}catch(Qt){zn(pe[0][3],Qt)}}function lt(nn){Wt("next",nn)}function ut(nn){Wt("throw",nn)}function zn(nn,Di){nn(Di),pe.shift(),pe.length&&Wt(pe[0][0],pe[0][1])}}function Te(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve,se=Y[Symbol.asyncIterator];return se?se.call(Y):(Y=function X(Y){var se="function"==typeof Symbol&&Symbol.iterator,ve=se&&Y[se],ae=0;if(ve)return ve.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&ae>=Y.length&&(Y=void 0),{value:Y&&Y[ae++],done:!Y}}};throw new TypeError(se?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),ve={},ae("next"),ae("throw"),ae("return"),ve[Symbol.asyncIterator]=function(){return this},ve);function ae(pe){ve[pe]=Y[pe]&&function(bt){return new Promise(function(Wt,Vn){!function Pe(pe,bt,Wt,Vn){Promise.resolve(Vn).then(function(lt){pe({value:lt,done:Wt})},bt)}(Wt,Vn,(bt=Y[pe](bt)).done,bt.value)})}}}P.d(De,{_T:()=>ce,mG:()=>ge,qq:()=>W,FC:()=>ne,KL:()=>Te})},5e3:(it,De,P)=>{"use strict";P.d(De,{deG:()=>Sd,tb:()=>ub,AFp:()=>XD,ip1:()=>iy,CZH:()=>Nc,hGG:()=>eI,z2F:()=>Zu,sBO:()=>uC,Sil:()=>sy,_Vd:()=>Sc,EJc:()=>vg,SBq:()=>Vu,qLn:()=>Ut,vpe:()=>Sa,tBr:()=>zi,XFs:()=>gt,OlP:()=>Tn,zs3:()=>Yt,ZZ4:()=>gy,aQg:()=>af,soG:()=>yg,YKP:()=>Uh,h0i:()=>Hu,PXZ:()=>wg,R0b:()=>Pi,FiY:()=>Ai,Lbi:()=>nC,g9A:()=>ry,n_E:()=>Ac,Qsj:()=>ig,FYo:()=>H0,JOm:()=>de,tp0:()=>qi,Rgc:()=>Il,dDg:()=>fb,q4F:()=>_D,GfV:()=>$0,s_b:()=>Q_,ifc:()=>Pt,eFA:()=>uy,G48:()=>tf,Gpc:()=>j,f3M:()=>Bt,X6Q:()=>ef,_c5:()=>DC,VLi:()=>oC,c2e:()=>Kr,zSh:()=>Cp,wAp:()=>ft,vHH:()=>Ne,cg1:()=>P_,kL8:()=>ps,dqk:()=>Ht,sIi:()=>Mu,CqO:()=>m_,QGY:()=>g_,F4k:()=>_h,RDi:()=>$c,AaK:()=>ge,qOj:()=>i_,TTD:()=>da,_Bn:()=>pD,xp6:()=>lv,uIk:()=>o_,Tol:()=>Dh,Gre:()=>WE,ekj:()=>c0,Suo:()=>tb,Xpm:()=>fn,lG2:()=>xl,Yz7:()=>Qt,cJS:()=>Xt,oAB:()=>Li,Yjl:()=>xa,Y36:()=>Rp,_UZ:()=>Pr,BQk:()=>p_,ynx:()=>mh,qZA:()=>f_,TgZ:()=>Nu,EpF:()=>e0,n5z:()=>rl,Ikx:()=>Ah,SDv:()=>eg,QtT:()=>hD,pQV:()=>F0,LFG:()=>Be,$8M:()=>Lo,$Z:()=>_c,NdJ:()=>Pp,CRH:()=>UD,oxw:()=>v_,ALo:()=>Hn,lcZ:()=>AD,Hsn:()=>r0,F$t:()=>w_,Q6J:()=>h_,s9C:()=>E_,MGl:()=>Fp,DdM:()=>q0,VKq:()=>Hh,WLB:()=>Sl,kEZ:()=>Z0,iGM:()=>VD,MAs:()=>l_,CHM:()=>$a,LSH:()=>jd,kYT:()=>ka,Udp:()=>l0,YNc:()=>Op,W1O:()=>sb,_uU:()=>Up,Oqu:()=>Ru,hij:()=>xu,Gf:()=>hg});var c=P(7579),Q=P(727),F=P(8306),ce=P(6451),ie=P(3099);function me(s){for(let o in s)if(s[o]===me)return o;throw Error("Could not find renamed property on target object.")}function ee(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function ge(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ge).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function le(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const G=me({__forward_ref__:me});function j(s){return s.__forward_ref__=j,s.toString=function(){return ge(this())},s}function X(s){return je(s)?s():s}function je(s){return"function"==typeof s&&s.hasOwnProperty(G)&&s.__forward_ref__===j}class Ne extends Error{constructor(o,l){super(function Ve(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,l)),this.code=o}}function W(s){return"string"==typeof s?s:null==s?"":String(s)}function ne(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():W(s)}function Re(s,o){const l=o?` in ${o}`:"";throw new Ne(-201,`No provider for ${ne(s)} found${l}`)}function ut(s,o,l,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${l} ${d} ${o} <=Actual]`))}function Qt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Xt(s){return{providers:s.providers||[],imports:s.imports||[]}}function Lt(s){return Es(s,Qr)||Es(s,wr)}function Es(s,o){return s.hasOwnProperty(o)?s[o]:null}function Fi(s){return s&&(s.hasOwnProperty(no)||s.hasOwnProperty(Xr))?s[no]:null}const Qr=me({\u0275prov:me}),no=me({\u0275inj:me}),wr=me({ngInjectableDef:me}),Xr=me({ngInjectorDef:me});var gt=(()=>((gt=gt||{})[gt.Default=0]="Default",gt[gt.Host=1]="Host",gt[gt.Self=2]="Self",gt[gt.SkipSelf=4]="SkipSelf",gt[gt.Optional=8]="Optional",gt))();let er;function xn(s){const o=er;return er=s,o}function Co(s,o,l){const d=Lt(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&gt.Optional?null:void 0!==o?o:void Re(ge(s),"Injector")}function et(s){return{toString:s}.toString()}var xt=(()=>((xt=xt||{})[xt.OnPush=0]="OnPush",xt[xt.Default=1]="Default",xt))(),Pt=(()=>{return(s=Pt||(Pt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Pt;var s})();const tt="undefined"!=typeof globalThis&&globalThis,dt="undefined"!=typeof window&&window,Ur="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ht=tt||"undefined"!=typeof global&&global||dt||Ur,Er={},U=[],$=me({\u0275cmp:me}),z=me({\u0275dir:me}),we=me({\u0275pipe:me}),te=me({\u0275mod:me}),Ze=me({\u0275fac:me}),mt=me({__NG_ELEMENT_ID__:me});let rn=0;function fn(s){return et(()=>{const l={},d={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===xt.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||U,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Pt.Emulated,id:"c",styles:s.styles||U,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,g=s.features,v=s.pipes;return d.id+=rn++,d.inputs=Ra(s.inputs,l),d.outputs=Ra(s.outputs),g&&g.forEach(E=>E(d)),d.directiveDefs=h?()=>("function"==typeof h?h():h).map(nr):null,d.pipeDefs=v?()=>("function"==typeof v?v():v).map(Nt):null,d})}function nr(s){return Wn(s)||function Bi(s){return s[z]||null}(s)}function Nt(s){return function Cs(s){return s[we]||null}(s)}const Zn={};function Li(s){return et(()=>{const o={type:s.type,bootstrap:s.bootstrap||U,declarations:s.declarations||U,imports:s.imports||U,exports:s.exports||U,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(Zn[s.id]=s.type),o})}function ka(s,o){return et(()=>{const l=Kn(s,!0);l.declarations=o.declarations||U,l.imports=o.imports||U,l.exports=o.exports||U})}function Ra(s,o){if(null==s)return Er;const l={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),l[h]=d,o&&(o[h]=g)}return l}const xl=fn;function xa(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Wn(s){return s[$]||null}function Kn(s,o){const l=s[te]||null;if(!l&&!0===o)throw new Error(`Type ${ge(s)} does not have '\u0275mod' property.`);return l}function sr(s){return Array.isArray(s)&&"object"==typeof s[1]}function Ui(s){return Array.isArray(s)&&!0===s[1]}function Hc(s){return 0!=(8&s.flags)}function Pl(s){return 2==(2&s.flags)}function so(s){return 1==(1&s.flags)}function Dr(s){return null!==s.template}function Ef(s){return 0!=(512&s[2])}function Cr(s,o){return s.hasOwnProperty(Ze)?s[Ze]:null}class No{constructor(o,l,d){this.previousValue=o,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function da(){return ha}function ha(s){return s.type.prototype.ngOnChanges&&(s.setInput=am),cd}function cd(){const s=ud(this),o=null==s?void 0:s.current;if(o){const l=s.previous;if(l===Er)s.previous=o;else for(let d in o)l[d]=o[d];s.current=null,this.ngOnChanges(o)}}function am(s,o,l,d){const h=ud(s)||function Ms(s,o){return s[vn]=o}(s,{previous:Er,current:null}),g=h.current||(h.current={}),v=h.previous,E=this.declaredInputs[l],D=v[E];g[E]=new No(D&&D.currentValue,o,v===Er),s[d]=o}da.ngInherit=!0;const vn="__ngSimpleChanges__";function ud(s){return s[vn]||null}let Vl;function $c(s){Vl=s}function Os(){return void 0!==Vl?Vl:"undefined"!=typeof document?document:void 0}function sn(s){return!!s.listen}const Ba={createRenderer:(s,o)=>Os()};function tn(s){for(;Array.isArray(s);)s=s[0];return s}function ko(s,o){return tn(o[s])}function si(s,o){return tn(o[s.index])}function An(s,o){return s.data[o]}function Ns(s,o){return s[o]}function oi(s,o){const l=o[s];return sr(l)?l:l[0]}function fa(s){return 4==(4&s[2])}function es(s){return 128==(128&s[2])}function or(s,o){return null==o?null:s[o]}function lo(s){s[18]=0}function co(s,o){s[5]+=o;let l=s,d=s[3];for(;null!==d&&(1===o&&1===l[5]||-1===o&&0===l[5]);)d[5]+=o,l=d,d=d[3]}const ht={lFrame:Po(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Zc(){return ht.bindingsEnabled}function Ce(){return ht.lFrame.lView}function Ft(){return ht.lFrame.tView}function $a(s){return ht.lFrame.contextLView=s,s[8]}function Cn(){let s=uo();for(;null!==s&&64===s.type;)s=s.parent;return s}function uo(){return ht.lFrame.currentTNode}function za(){const s=ht.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function ji(s,o){const l=ht.lFrame;l.currentTNode=s,l.isParent=o}function Wc(){return ht.lFrame.isParent}function Kc(){ht.lFrame.isParent=!1}function qa(){return ht.isInCheckNoChangesMode}function pa(s){ht.isInCheckNoChangesMode=s}function Yn(){const s=ht.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function ts(){return ht.lFrame.bindingIndex++}function ks(s){const o=ht.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}function _d(s){ht.lFrame.inI18n=s}function Wa(s,o){const l=ht.lFrame;l.bindingIndex=l.bindingRootIndex=s,Ro(o)}function Ro(s){ht.lFrame.currentDirectiveIndex=s}function Ka(){return ht.lFrame.currentQueryIndex}function Jc(s){ht.lFrame.currentQueryIndex=s}function lm(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Gl(s,o,l){if(l&gt.SkipSelf){let h=o,g=s;for(;!(h=h.parent,null!==h||l&gt.Host||(h=lm(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;o=h,s=g}const d=ht.lFrame=Qc();return d.currentTNode=o,d.lView=s,!0}function xo(s){const o=Qc(),l=s[1];ht.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function Qc(){const s=ht.lFrame,o=null===s?null:s.child;return null===o?Po(s):o}function Po(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function vd(){const s=ht.lFrame;return ht.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Tf=vd;function ga(){const s=vd();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function ai(){return ht.lFrame.selectedIndex}function Rs(s){ht.lFrame.selectedIndex=s}function Mn(){const s=ht.lFrame;return An(s.tView,s.selectedIndex)}function xs(s,o){for(let l=o.directiveStart,d=o.directiveEnd;l<d;l++){const g=s.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:D,ngAfterViewChecked:A,ngOnDestroy:O}=g;v&&(s.contentHooks||(s.contentHooks=[])).push(-l,v),E&&((s.contentHooks||(s.contentHooks=[])).push(l,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,E)),D&&(s.viewHooks||(s.viewHooks=[])).push(-l,D),A&&((s.viewHooks||(s.viewHooks=[])).push(l,A),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,A)),null!=O&&(s.destroyHooks||(s.destroyHooks=[])).push(l,O)}}function Ya(s,o,l){li(s,o,3,l)}function eu(s,o,l,d){(3&s[2])===l&&li(s,o,l,d)}function $l(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function li(s,o,l,d){const g=null!=d?d:-1,v=o.length-1;let E=0;for(let D=void 0!==d?65535&s[18]:0;D<v;D++)if("number"==typeof o[D+1]){if(E=o[D],null!=d&&E>=d)break}else o[D]<0&&(s[18]+=65536),(E<g||-1==g)&&(Af(s,l,o,D),s[18]=(4294901760&s[18])+D+2),D++}function Af(s,o,l,d){const h=l[d]<0,g=l[d+1],E=s[h?-l[d]:l[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(E)}finally{}}}else try{g.call(E)}finally{}}class ma{constructor(o,l,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function Si(s,o,l){const d=sn(s);let h=0;for(;h<l.length;){const g=l[h];if("number"==typeof g){if(0!==g)break;h++;const v=l[h++],E=l[h++],D=l[h++];d?s.setAttribute(o,E,D,v):o.setAttributeNS(v,E,D)}else{const v=g,E=l[++h];tu(v)?d&&s.setProperty(o,v,E):d?s.setAttribute(o,v,E):o.setAttribute(v,E),h++}}return h}function Fs(s){return 3===s||4===s||6===s}function tu(s){return 64===s.charCodeAt(0)}function ql(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?l=h:0===l||ho(s,l,h,null,-1===l||2===l?o[++d]:null)}}return s}function ho(s,o,l,d,h){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const E=s[g++];if("number"==typeof E){if(E===o){v=-1;break}if(E>o){v=g-1;break}}}for(;g<s.length;){const E=s[g];if("number"==typeof E)break;if(E===l){if(null===d)return void(null!==h&&(s[g+1]=h));if(d===s[g+1])return void(s[g+2]=h)}g++,null!==d&&g++,null!==h&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,l),null!==d&&s.splice(g++,0,d),null!==h&&s.splice(g++,0,h)}function wd(s){return-1!==s}function Vt(s){return 32767&s}function zt(s,o){let l=function is(s){return s>>16}(s),d=o;for(;l>0;)d=d[15],l--;return d}let Qe=!0;function Fo(s){const o=Qe;return Qe=s,o}let Of=0;function Hi(s,o){const l=fo(s,o);if(-1!==l)return l;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,Jn(d.data,s),Jn(o,null),Jn(d.blueprint,null));const h=el(s,o),g=s.injectorIndex;if(wd(h)){const v=Vt(h),E=zt(h,o),D=E[1].data;for(let A=0;A<8;A++)o[g+A]=E[v+A]|D[v+A]}return o[g+8]=h,g}function Jn(s,o){s.push(0,0,0,0,0,0,0,0,o)}function fo(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function el(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,d=null,h=o;for(;null!==h;){const g=h[1],v=g.type;if(d=2===v?g.declTNode:1===v?h[6]:null,null===d)return-1;if(l++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function Gi(s,o,l){!function Xa(s,o,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(mt)&&(d=l[mt]),null==d&&(d=l[mt]=Of++);const h=255&d;o.data[s+(h>>5)]|=1<<h}(s,o,l)}function tl(s,o,l){if(l&gt.Optional)return s;Re(o,"NodeInjector")}function rs(s,o,l,d){if(l&gt.Optional&&void 0===d&&(d=null),0==(l&(gt.Self|gt.Host))){const h=s[9],g=xn(void 0);try{return h?h.get(o,d,l&gt.Optional):Co(o,d,l&gt.Optional)}finally{xn(g)}}return tl(d,o,l)}function Sr(s,o,l,d=gt.Default,h){if(null!==s){const g=function Cd(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(mt)?s[mt]:void 0;return"number"==typeof o?o>=0?255&o:Fn:o}(l);if("function"==typeof g){if(!Gl(o,s,d))return d&gt.Host?tl(h,l,d):rs(o,l,d,h);try{const v=g(d);if(null!=v||d&gt.Optional)return v;Re(l)}finally{Tf()}}else if("number"==typeof g){let v=null,E=fo(s,o),D=-1,A=d&gt.Host?o[16][6]:null;for((-1===E||d&gt.SkipSelf)&&(D=-1===E?el(s,o):o[E+8],-1!==D&&il(d,!1)?(v=o[1],E=Vt(D),o=zt(D,o)):E=-1);-1!==E;){const O=o[1];if(iu(g,E,O.data)){const L=ss(E,o,l,v,d,A);if(L!==nl)return L}D=o[E+8],-1!==D&&il(d,o[1].data[E+8]===A)&&iu(g,E,o)?(v=O,E=Vt(D),o=zt(D,o)):E=-1}}}return rs(o,l,d,h)}const nl={};function Fn(){return new Ls(Cn(),Ce())}function ss(s,o,l,d,h,g){const v=o[1],E=v.data[s+8],O=Dd(E,v,l,null==d?Pl(E)&&Qe:d!=v&&0!=(3&E.type),h&gt.Host&&g===E);return null!==O?jn(o,v,O,E):nl}function Dd(s,o,l,d,h){const g=s.providerIndexes,v=o.data,E=1048575&g,D=s.directiveStart,O=g>>20,H=h?E+O:s.directiveEnd;for(let J=d?E:E+O;J<H;J++){const _e=v[J];if(J<D&&l===_e||J>=D&&_e.type===l)return J}if(h){const J=v[D];if(J&&Dr(J)&&J.type===l)return D}return null}function jn(s,o,l,d){let h=s[l];const g=o.data;if(function cm(s){return s instanceof ma}(h)){const v=h;v.resolving&&function ye(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Ne(-200,`Circular dependency in DI detected for ${s}${l}`)}(ne(g[l]));const E=Fo(v.canSeeViewProviders);v.resolving=!0;const D=v.injectImpl?xn(v.injectImpl):null;Gl(s,d,gt.Default);try{h=s[l]=v.factory(void 0,g,s,d),o.firstCreatePass&&l>=d.directiveStart&&function Xc(s,o,l){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(d){const v=ha(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,v),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,v)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),g&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,g),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,g))}(l,g[l],o)}finally{null!==D&&xn(D),Fo(E),v.resolving=!1,Tf()}}return h}function iu(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function il(s,o){return!(s&gt.Self||s&gt.Host&&o)}class Ls{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,d){return Sr(this._tNode,this._lView,o,d,l)}}function rl(s){return et(()=>{const o=s.prototype.constructor,l=o[Ze]||sl(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const g=h[Ze]||sl(h);if(g&&g!==l)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function sl(s){return je(s)?()=>{const o=sl(X(s));return o&&o()}:Cr(s)}function Lo(s){return function nu(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const d=l.length;let h=0;for(;h<d;){const g=l[h];if(Fs(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<d&&"string"==typeof l[h];)h++;else{if(g===o)return l[h+1];h+=2}}}return null}(Cn(),s)}const Ir="__parameters__";function Vo(s,o,l){return et(()=>{const d=function ru(s){return function(...l){if(s){const d=s(...l);for(const h in d)this[h]=d[h]}}}(o);function h(...g){if(this instanceof h)return d.apply(this,g),this;const v=new h(...g);return E.annotation=v,E;function E(D,A,O){const L=D.hasOwnProperty(Ir)?D[Ir]:Object.defineProperty(D,Ir,{value:[]})[Ir];for(;L.length<=O;)L.push(null);return(L[O]=L[O]||[]).push(v),D}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class Tn{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Qt({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Sd=new Tn("AnalyzeForEntryComponents");function $i(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let d=s[l];Array.isArray(d)?(o===s&&(o=s.slice(0,l)),$i(d,o)):o!==s&&o.push(d)}return o}function Ar(s,o){s.forEach(l=>Array.isArray(l)?Ar(l,o):o(l))}function al(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function Bs(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function lr(s,o){const l=[];for(let d=0;d<s;d++)l.push(o);return l}function Mr(s,o,l){let d=Ql(s,o);return d>=0?s[1|d]=l:(d=~d,function cl(s,o,l,d){let h=s.length;if(h==o)s.push(l,d);else if(1===h)s.push(d,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=l,s[o+1]=d}}(s,d,o,l)),d}function xf(s,o){const l=Ql(s,o);if(l>=0)return s[1|l]}function Ql(s,o){return function kd(s,o,l){let d=0,h=s.length>>l;for(;h!==d;){const g=d+(h-d>>1),v=s[g<<l];if(o===v)return g<<l;v>o?h=g:d=g+1}return~(h<<l)}(s,o,1)}const cs={},po="__NG_DI_FLAG__",Xl="ngTempTokenPath",C=/\n/gm,N="__source",B=me({provide:String,useValue:me});let K;function re(s){const o=K;return K=s,o}function Me(s,o=gt.Default){if(void 0===K)throw new Ne(203,"");return null===K?Co(s,void 0,o):K.get(s,o&gt.Optional?null:void 0,o)}function Be(s,o=gt.Default){return(function qn(){return er}()||Me)(X(s),o)}const Bt=Be;function qt(s){const o=[];for(let l=0;l<s.length;l++){const d=X(s[l]);if(Array.isArray(d)){if(0===d.length)throw new Ne(900,"");let h,g=gt.Default;for(let v=0;v<d.length;v++){const E=d[v],D=ci(E);"number"==typeof D?-1===D?h=E.token:g|=D:h=E}o.push(Be(h,g))}else o.push(Be(d))}return o}function Qn(s,o){return s[po]=o,s.prototype[po]=o,s}function ci(s){return s[po]}const zi=Qn(Vo("Inject",s=>({token:s})),-1),Ai=Qn(Vo("Optional"),8),qi=Qn(Vo("SkipSelf"),4);let cu;function uu(s){var o;return(null===(o=function fm(){if(void 0===cu&&(cu=null,Ht.trustedTypes))try{cu=Ht.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return cu}())||void 0===o?void 0:o.createHTML(s))||s}class gm{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Hs(s){return s instanceof gm?s.changingThisBreaksApplicationSecurity:s}class zf{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(uu(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch(l){return null}}}class Hy{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const d=this.inertDocument.createElement("body");l.appendChild(d)}}getInertBodyElement(o){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=uu(o),l;const d=this.inertDocument.createElement("body");return d.innerHTML=uu(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(o){const l=o.attributes;for(let h=l.length-1;0<h;h--){const v=l.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let d=o.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const _a=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,fu=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ic(s){return(s=String(s)).match(_a)||s.match(fu)?s:"unsafe:"+s}function qf(s){return(s=String(s)).split(",").map(o=>ic(o.trim())).join(", ")}function us(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function hl(...s){const o={};for(const l of s)for(const d in l)l.hasOwnProperty(d)&&(o[d]=!0);return o}const wm=us("area,br,col,hr,img,wbr"),Ld=us("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Zf=us("rp,rt"),Wf=hl(wm,hl(Ld,us("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),hl(Zf,us("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),hl(Zf,Ld)),Bd=us("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Kf=us("srcset"),Vd=hl(Bd,Kf,us("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),us("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var Xn=(()=>((Xn=Xn||{})[Xn.NONE=0]="NONE",Xn[Xn.HTML=1]="HTML",Xn[Xn.STYLE=2]="STYLE",Xn[Xn.SCRIPT=3]="SCRIPT",Xn[Xn.URL=4]="URL",Xn[Xn.RESOURCE_URL=5]="RESOURCE_URL",Xn))();function jd(s){const o=function Hd(){const s=Ce();return s&&s[12]}();return o?o.sanitize(Xn.URL,s)||"":function hu(s,o){const l=function $f(s){return s instanceof gm&&s.getTypeName()||null}(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}(s,"URL")?Hs(s):ic(W(s))}const At="__ngContext__";function Zt(s,o){s[At]=o}function tp(s){const o=function ds(s){return s[At]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function zd(s){return s.ngOriginalError}function Ln(s,...o){s.error(...o)}class Ut{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o),d=function Yy(s){return s&&s.ngErrorLogger||Ln}(o);d(this._console,"ERROR",o),l&&d(this._console,"ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&zd(o);for(;l&&zd(l);)l=zd(l);return l||null}}const mu=/^>|^->|<!--|-->|--!>|<!-$/g,on=/(<|>)/;const Om=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ht))();function m(s){return s instanceof Function?s():s}var de=(()=>((de=de||{})[de.Important=1]="Important",de[de.DashCase=2]="DashCase",de))();let He;function nt(s,o){return He(s,o)}function On(s){const o=s[3];return Ui(o)?o[3]:o}function qd(s){return rp(s[13])}function yu(s){return rp(s[4])}function rp(s){for(;null!==s&&!Ui(s);)s=s[4];return s}function $o(s,o,l,d,h){if(null!=d){let g,v=!1;Ui(d)?g=d:sr(d)&&(v=!0,d=d[0]);const E=tn(d);0===s&&null!==l?null==h?Tw(o,l,E):cc(o,l,E,h||null,!0):1===s&&null!==l?cc(o,l,E,h||null,!0):2===s?Aw(o,E,v):3===s&&o.destroyNode(E),null!=g&&function JT(s,o,l,d,h){const g=l[7];g!==tn(l)&&$o(o,s,d,g,h);for(let E=10;E<l.length;E++){const D=l[E];gl(D[1],D,s,o,d,g)}}(o,s,g,l,h)}}function Mt(s,o){return sn(s)?s.createText(o):s.createTextNode(o)}function sp(s,o,l){sn(s)?s.setValue(o,l):o.textContent=l}function ya(s,o){return s.createComment(function ei(s){return s.replace(mu,o=>o.replace(on,"\u200b$1\u200b"))}(o))}function vu(s,o,l){if(sn(s))return s.createElement(o,l);{const d=null!==l?function Bl(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(l):null;return null===d?s.createElement(o):s.createElementNS(d,o)}}function ev(s,o){const l=s[9],d=l.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,co(h,-1)),l.splice(d,1)}function km(s,o){if(s.length<=10)return;const l=10+o,d=s[l];if(d){const h=d[17];null!==h&&h!==s&&ev(h,d),o>0&&(s[l-1][4]=d[4]);const g=Bs(s,10+o);!function op(s,o){gl(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const v=g[19];null!==v&&v.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function WT(s,o){if(!(256&o[2])){const l=o[11];sn(l)&&l.destroyNode&&gl(s,o,l,3,null,null),function ZT(s){let o=s[13];if(!o)return Oi(s[1],s);for(;o;){let l=null;if(sr(o))l=o[13];else{const d=o[10];d&&(l=d)}if(!l){for(;o&&!o[4]&&o!==s;)sr(o)&&Oi(o[1],o),o=o[3];null===o&&(o=s),sr(o)&&Oi(o[1],o),l=o&&o[4]}o=l}}(o)}}function Oi(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function KT(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let d=0;d<l.length;d+=2){const h=o[l[d]];if(!(h instanceof ma)){const g=l[d+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const E=h[g[v]],D=g[v+1];try{D.call(E)}finally{}}else try{g.call(h)}finally{}}}}(s,o),function ba(s,o){const l=s.cleanup,d=o[7];let h=-1;if(null!==l)for(let g=0;g<l.length-1;g+=2)if("string"==typeof l[g]){const v=l[g+1],E="function"==typeof v?v(o):tn(o[v]),D=d[h=l[g+2]],A=l[g+3];"boolean"==typeof A?E.removeEventListener(l[g],D,A):A>=0?d[h=A]():d[h=-A].unsubscribe(),g+=2}else{const v=d[h=l[g+1]];l[g].call(v)}if(null!==d){for(let g=h+1;g<d.length;g++)d[g]();o[7]=null}}(s,o),1===o[1].type&&sn(o[11])&&o[11].destroy();const l=o[17];if(null!==l&&Ui(o[3])){l!==o[3]&&ev(l,o);const d=o[19];null!==d&&d.detachView(s)}}}function Cw(s,o,l){return tv(s,o.parent,l)}function tv(s,o,l){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return l[0];if(2&d.flags){const h=s.data[d.directiveStart].encapsulation;if(h===Pt.None||h===Pt.Emulated)return null}return si(d,l)}function cc(s,o,l,d,h){sn(s)?s.insertBefore(o,l,d,h):o.insertBefore(l,d,h)}function Tw(s,o,l){sn(s)?s.appendChild(o,l):o.appendChild(l)}function nv(s,o,l,d,h){null!==d?cc(s,o,l,d,h):Tw(s,o,l)}function lp(s,o){return sn(s)?s.parentNode(o):o.parentNode}function cp(s,o,l){return Gt(s,o,l)}function uc(s,o,l){return 40&s.type?si(s,l):null}let bu,Gt=uc;function Iw(s,o){Gt=s,bu=o}function wa(s,o,l,d){const h=Cw(s,d,o),g=o[11],E=cp(d.parent||o[6],d,o);if(null!=h)if(Array.isArray(l))for(let D=0;D<l.length;D++)nv(g,h,l[D],E,!1);else nv(g,h,l,E,!1);void 0!==bu&&bu(g,d,o,l,h)}function Rm(s,o){if(null!==o){const l=o.type;if(3&l)return si(o,s);if(4&l)return xm(-1,s[o.index]);if(8&l){const d=o.child;if(null!==d)return Rm(s,d);{const h=s[o.index];return Ui(h)?xm(-1,h):tn(h)}}if(32&l)return nt(o,s)()||tn(s[o.index]);{const d=iv(s,o);return null!==d?Array.isArray(d)?d[0]:Rm(On(s[16]),d):Rm(s,o.next)}}return null}function iv(s,o){return null!==o?s[16][6].projection[o.projection]:null}function xm(s,o){const l=10+s+1;if(l<o.length){const d=o[l],h=d[1].firstChild;if(null!==h)return Rm(d,h)}return o[7]}function Aw(s,o,l){const d=lp(s,o);d&&function YT(s,o,l,d){sn(s)?s.removeChild(o,l,d):o.removeChild(l)}(s,d,o,l)}function Zd(s,o,l,d,h,g,v){for(;null!=l;){const E=d[l.index],D=l.type;if(v&&0===o&&(E&&Zt(tn(E),d),l.flags|=4),64!=(64&l.flags))if(8&D)Zd(s,o,l.child,d,h,g,!1),$o(o,s,h,E,g);else if(32&D){const A=nt(l,d);let O;for(;O=A();)$o(o,s,h,O,g);$o(o,s,h,E,g)}else 16&D?up(s,o,d,l,h,g):$o(o,s,h,E,g);l=v?l.projectionNext:l.next}}function gl(s,o,l,d,h,g){Zd(l,d,s.firstChild,o,h,g,!1)}function up(s,o,l,d,h,g){const v=l[16],D=v[6].projection[d.projection];if(Array.isArray(D))for(let A=0;A<D.length;A++)$o(o,s,h,D[A],g);else Zd(s,o,D,v[3],h,g,!0)}function dp(s,o,l){sn(s)?s.setAttribute(o,"style",l):o.style.cssText=l}function Pm(s,o,l){sn(s)?""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l):o.className=l}function sv(s,o,l){let d=s.length;for(;;){const h=s.indexOf(o,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=o.length;if(h+g===d||s.charCodeAt(h+g)<=32)return h}l=h+1}}const Ow="ng-template";function QT(s,o,l){let d=0;for(;d<s.length;){let h=s[d++];if(l&&"class"===h){if(h=s[d],-1!==sv(h.toLowerCase(),o,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function hp(s){return 4===s.type&&s.value!==Ow}function XT(s,o,l){return o===(4!==s.type||l?s.value:Ow)}function e1(s,o,l){let d=4;const h=s.attrs||[],g=function ov(s){for(let o=0;o<s.length;o++)if(Fs(s[o]))return o;return s.length}(h);let v=!1;for(let E=0;E<o.length;E++){const D=o[E];if("number"!=typeof D){if(!v)if(4&d){if(d=2|1&d,""!==D&&!XT(s,D,l)||""===D&&1===o.length){if(zo(d))return!1;v=!0}}else{const A=8&d?D:o[++E];if(8&d&&null!==s.attrs){if(!QT(s.attrs,A,l)){if(zo(d))return!1;v=!0}continue}const L=t1(8&d?"class":D,h,hp(s),l);if(-1===L){if(zo(d))return!1;v=!0;continue}if(""!==A){let H;H=L>g?"":h[L+1].toLowerCase();const J=8&d?H:null;if(J&&-1!==sv(J,A,0)||2&d&&A!==H){if(zo(d))return!1;v=!0}}}}else{if(!v&&!zo(d)&&!zo(D))return!1;if(v&&zo(D))continue;v=!1,d=D|1&d}}return zo(d)||v}function zo(s){return 0==(1&s)}function t1(s,o,l,d){if(null===o)return-1;let h=0;if(d||!l){let g=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)g=!0;else{if(1===v||2===v){let E=o[++h];for(;"string"==typeof E;)E=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=g?1:2}return-1}return function av(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const d=s[l];if("number"==typeof d)return-1;if(d===o)return l;l++}return-1}(o,s)}function Nw(s,o,l=!1){for(let d=0;d<o.length;d++)if(e1(s,o[d],l))return!0;return!1}function ml(s,o){e:for(let l=0;l<o.length;l++){const d=o[l];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function wu(s,o){return s?":not("+o.trim()+")":o}function Rw(s){let o=s[0],l=1,d=2,h="",g=!1;for(;l<s.length;){let v=s[l];if("string"==typeof v)if(2&d){const E=s[++l];h+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&d?h+="."+v:4&d&&(h+=" "+v);else""!==h&&!zo(v)&&(o+=wu(g,h),h=""),d=v,g=g||!zo(d);l++}return""!==h&&(o+=wu(g,h)),o}const wt={};function lv(s){Pw(Ft(),Ce(),ai()+s,qa())}function Pw(s,o,l,d){if(!d)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&Ya(o,g,l)}else{const g=s.preOrderHooks;null!==g&&eu(o,g,0,l)}Rs(l)}function pp(s,o){return s<<17|o<<2}function zs(s){return s>>17&32767}function gp(s){return 2|s}function _l(s){return(131068&s)>>2}function Eu(s,o){return-131069&s|o<<2}function dv(s){return 1|s}function vp(s,o){const l=s.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const h=l[d],g=l[d+1];if(-1!==g){const v=s.data[g];Jc(h),v.contentQueries(2,o[g],g)}}}function bp(s,o,l,d,h,g,v,E,D,A){const O=o.blueprint.slice();return O[0]=h,O[2]=140|d,lo(O),O[3]=O[15]=s,O[8]=l,O[10]=v||s&&s[10],O[11]=E||s&&s[11],O[12]=D||s&&s[12]||null,O[9]=A||s&&s[9]||null,O[6]=g,O[16]=2==o.type?s[16]:O,O}function Yd(s,o,l,d,h){let g=s.data[o];if(null===g)g=Jd(s,o,l,d,h),function Za(){return ht.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=l,g.value=d,g.attrs=h;const v=za();g.injectorIndex=null===v?-1:v.injectorIndex}return ji(g,!0),g}function Jd(s,o,l,d,h){const g=uo(),v=Wc(),D=s.data[o]=function f1(s,o,l,d,h,g){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,l,o,d,h);return null===s.firstChild&&(s.firstChild=D),null!==g&&(v?null==g.child&&null!==D.parent&&(g.child=D):null===g.next&&(g.next=D)),D}function Tu(s,o,l,d){if(0===l)return-1;const h=o.length;for(let g=0;g<l;g++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function Qd(s,o,l){xo(o);try{const d=s.viewQuery;null!==d&&Jm(1,d,l);const h=s.template;null!==h&&wp(s,o,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&vp(s,o),s.staticViewQueries&&Jm(2,s.viewQuery,l);const g=s.components;null!==g&&function d1(s,o){for(let l=0;l<o.length;l++)Sv(s,o[l])}(o,g)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,ga()}}function Da(s,o,l,d){const h=o[2];if(256==(256&h))return;xo(o);const g=qa();try{lo(o),function Yc(s){return ht.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&wp(s,o,l,2,d);const v=3==(3&h);if(!g)if(v){const A=s.preOrderCheckHooks;null!==A&&Ya(o,A,null)}else{const A=s.preOrderHooks;null!==A&&eu(o,A,0,null),$l(o,0)}if(function T1(s){for(let o=qd(s);null!==o;o=yu(o)){if(!o[2])continue;const l=o[9];for(let d=0;d<l.length;d++){const h=l[d],g=h[3];0==(1024&h[2])&&co(g,1),h[2]|=1024}}}(o),function C1(s){for(let o=qd(s);null!==o;o=yu(o))for(let l=10;l<o.length;l++){const d=o[l],h=d[1];es(d)&&Da(h,d,h.template,d[8])}}(o),null!==s.contentQueries&&vp(s,o),!g)if(v){const A=s.contentCheckHooks;null!==A&&Ya(o,A)}else{const A=s.contentHooks;null!==A&&eu(o,A,1),$l(o,1)}!function Gm(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const h=l[d];if(h<0)Rs(~h);else{const g=h,v=l[++d],E=l[++d];Wa(v,g),E(2,o[g])}}}finally{Rs(-1)}}(s,o);const E=s.components;null!==E&&function u1(s,o){for(let l=0;l<o.length;l++)eE(s,o[l])}(o,E);const D=s.viewQuery;if(null!==D&&Jm(2,D,d),!g)if(v){const A=s.viewCheckHooks;null!==A&&Ya(o,A)}else{const A=s.viewHooks;null!==A&&eu(o,A,2),$l(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),g||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,co(o[3],-1))}finally{ga()}}function $w(s,o,l,d){const h=o[10],g=!qa(),v=fa(o);try{g&&!v&&h.begin&&h.begin(),v&&Qd(s,o,d),Da(s,o,l,d)}finally{g&&!v&&h.end&&h.end()}}function wp(s,o,l,d,h){const g=ai(),v=2&d;try{Rs(-1),v&&o.length>20&&Pw(s,o,20,qa()),l(d,h)}finally{Rs(g)}}function yv(s,o,l){if(Hc(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,l[g],g)}}}function vv(s,o,l){!Zc()||(function v1(s,o,l,d){const h=l.directiveStart,g=l.directiveEnd;s.firstCreatePass||Hi(l,o),Zt(d,o);const v=l.initialInputs;for(let E=h;E<g;E++){const D=s.data[E],A=Dr(D);A&&YM(o,l,D);const O=jn(o,s,E,l);Zt(O,o),null!==v&&Jw(0,E-h,O,D,0,v),A&&(oi(l.index,o)[8]=O)}}(s,o,l,si(l,o)),128==(128&l.flags)&&function b1(s,o,l){const d=l.directiveStart,h=l.directiveEnd,v=l.index,E=function yd(){return ht.lFrame.currentDirectiveIndex}();try{Rs(v);for(let D=d;D<h;D++){const A=s.data[D],O=o[D];Ro(D),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&Dv(A,O)}}finally{Rs(-1),Ro(E)}}(s,o,l))}function bv(s,o,l=si){const d=o.localNames;if(null!==d){let h=o.index+1;for(let g=0;g<d.length;g+=2){const v=d[g+1],E=-1===v?l(o,s):s[v];s[h++]=E}}}function zw(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=$m(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function $m(s,o,l,d,h,g,v,E,D,A){const O=20+d,L=O+h,H=function h1(s,o){const l=[];for(let d=0;d<o;d++)l.push(d<s?null:wt);return l}(O,L),J="function"==typeof A?A():A;return H[1]={type:s,blueprint:H,template:l,queries:null,viewQuery:E,declTNode:o,data:H.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:D,consts:J,incompleteFirstPass:!1}}function Ep(s,o,l,d){const h=Ni(o);null===l?h.push(d):(h.push(l),s.firstCreatePass&&nE(s).push(d,h.length-1))}function qw(s,o,l){for(let d in s)if(s.hasOwnProperty(d)){const h=s[d];(l=null===l?{}:l).hasOwnProperty(d)?l[d].push(o,h):l[d]=[o,h]}return l}function hr(s,o,l,d,h,g,v,E){const D=si(o,l);let O,A=o.inputs;!E&&null!=A&&(O=A[d])?(Su(s,l,O,d,h),Pl(o)&&function g1(s,o){const l=oi(o,s);16&l[2]||(l[2]|=64)}(l,o.index)):3&o.type&&(d=function p1(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=v?v(h,o.value||"",d):h,sn(g)?g.setProperty(D,d,h):tu(d)||(D.setProperty?D.setProperty(d,h):D[d]=h))}function Ev(s,o,l,d){let h=!1;if(Zc()){const g=function w1(s,o,l){const d=s.directiveRegistry;let h=null;if(d)for(let g=0;g<d.length;g++){const v=d[g];Nw(l,v.selectors,!1)&&(h||(h=[]),Gi(Hi(l,o),s,v.type),Dr(v)?(Kw(s,l),h.unshift(v)):h.push(v))}return h}(s,o,l),v=null===d?null:{"":-1};if(null!==g){h=!0,Yw(l,s.data.length,g.length);for(let O=0;O<g.length;O++){const L=g[O];L.providersResolver&&L.providersResolver(L)}let E=!1,D=!1,A=Tu(s,o,g.length,null);for(let O=0;O<g.length;O++){const L=g[O];l.mergedAttrs=ql(l.mergedAttrs,L.hostAttrs),Cv(s,l,o,A,L),D1(A,L,v),null!==L.contentQueries&&(l.flags|=8),(null!==L.hostBindings||null!==L.hostAttrs||0!==L.hostVars)&&(l.flags|=128);const H=L.type.prototype;!E&&(H.ngOnChanges||H.ngOnInit||H.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),E=!0),!D&&(H.ngOnChanges||H.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),D=!0),A++}!function qm(s,o){const d=o.directiveEnd,h=s.data,g=o.attrs,v=[];let E=null,D=null;for(let A=o.directiveStart;A<d;A++){const O=h[A],L=O.inputs,H=null===g||hp(o)?null:Qw(L,g);v.push(H),E=qw(L,A,E),D=qw(O.outputs,A,D)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=16),E.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=E,o.outputs=D}(s,l)}v&&function E1(s,o,l){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const g=l[o[h+1]];if(null==g)throw new Ne(-301,!1);d.push(o[h],g)}}}(l,d,v)}return l.mergedAttrs=ql(l.mergedAttrs,l.attrs),h}function Ww(s,o,l,d,h,g){const v=g.hostBindings;if(v){let E=s.hostBindingOpCodes;null===E&&(E=s.hostBindingOpCodes=[]);const D=~o.index;(function y1(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(E)!=D&&E.push(D),E.push(d,h,v)}}function Dv(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Kw(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function D1(s,o,l){if(l){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)l[o.exportAs[d]]=s;Dr(o)&&(l[""]=s)}}function Yw(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function Cv(s,o,l,d,h){s.data[d]=h;const g=h.factory||(h.factory=Cr(h.type)),v=new ma(g,Dr(h),null);s.blueprint[d]=v,l[d]=v,Ww(s,o,0,d,Tu(s,l,h.hostVars,wt),h)}function YM(s,o,l){const d=si(o,s),h=zw(l),g=s[10],v=Km(s,bp(s,h,null,l.onPush?64:16,d,o,g,g.createRenderer(d,l),null,null));s[o.index]=v}function Wm(s,o,l,d,h,g,v){if(null==g)sn(s)?s.removeAttribute(o,h,l):o.removeAttribute(h);else{const E=null==v?W(g):v(g,d||"",h);sn(s)?s.setAttribute(o,h,E,l):l?o.setAttributeNS(l,h,E):o.setAttribute(h,E)}}function Jw(s,o,l,d,h,g){const v=g[o];if(null!==v){const E=d.setInput;for(let D=0;D<v.length;){const A=v[D++],O=v[D++],L=v[D++];null!==E?d.setInput(l,L,A,O):l[O]=L}}}function Qw(s,o){let l=null,d=0;for(;d<o.length;){const h=o[d];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,s[h],o[d+1])),d+=2}else d+=2;else d+=4}return l}function Xw(s,o,l,d){return new Array(s,!0,!1,o,null,0,d,l,null,null)}function eE(s,o){const l=oi(o,s);if(es(l)){const d=l[1];80&l[2]?Da(d,l,d.template,l[8]):l[5]>0&&Tv(l)}}function Tv(s){for(let d=qd(s);null!==d;d=yu(d))for(let h=10;h<d.length;h++){const g=d[h];if(1024&g[2]){const v=g[1];Da(v,g,v.template,g[8])}else g[5]>0&&Tv(g)}const l=s[1].components;if(null!==l)for(let d=0;d<l.length;d++){const h=oi(l[d],s);es(h)&&h[5]>0&&Tv(h)}}function Sv(s,o){const l=oi(o,s),d=l[1];(function S1(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(d,l),Qd(d,l,l[8])}function Km(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Iv(s){for(;s;){s[2]|=64;const o=On(s);if(Ef(s)&&!o)return s;s=o}return null}function Mv(s,o,l){const d=o[10];d.begin&&d.begin();try{Da(s,o,s.template,l)}catch(h){throw Qm(o,h),h}finally{d.end&&d.end()}}function tE(s){!function Ym(s){for(let o=0;o<s.components.length;o++){const l=s.components[o],d=tp(l),h=d[1];$w(h,d,h.template,l)}}(s[8])}function Jm(s,o,l){Jc(0),o(s,l)}const M1=(()=>Promise.resolve(null))();function Ni(s){return s[7]||(s[7]=[])}function nE(s){return s.cleanup||(s.cleanup=[])}function Qm(s,o){const l=s[9],d=l?l.get(Ut,null):null;d&&d.handleError(o)}function Su(s,o,l,d,h){for(let g=0;g<l.length;){const v=l[g++],E=l[g++],D=o[v],A=s.data[v];null!==A.setInput?A.setInput(D,h,d,E):D[E]=h}}function Xm(s,o,l){let d=l?s.styles:null,h=l?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const E=o[v];"number"==typeof E?g=E:1==g?h=le(h,E):2==g&&(d=le(d,E+": "+o[++v]+";"))}l?s.styles=d:s.stylesWithoutHost=d,l?s.classes=h:s.classesWithoutHost=h}const e_=new Tn("INJECTOR",-1);class Ov{get(o,l=cs){if(l===cs){const d=new Error(`NullInjectorError: No provider for ${ge(o)}!`);throw d.name="NullInjectorError",d}return l}}const Cp=new Tn("Set Injector scope."),t_={},Iu={};let n_;function rE(){return void 0===n_&&(n_=new Ov),n_}function sE(s,o=null,l=null,d){const h=Nv(s,o,l,d);return h._resolveInjectorDefTypes(),h}function Nv(s,o=null,l=null,d){return new N1(s,l,o||rE(),d)}class N1{constructor(o,l,d,h=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];l&&Ar(l,E=>this.processProvider(E,o,l)),Ar([o],E=>this.processInjectorType(E,[],g)),this.records.set(e_,Xd(void 0,this));const v=this.records.get(Cp);this.scope=null!=v?v.value:null,this.source=h||("object"==typeof o?null:ge(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,l=cs,d=gt.Default){this.assertNotDestroyed();const h=re(this),g=xn(void 0);try{if(!(d&gt.SkipSelf)){let E=this.records.get(o);if(void 0===E){const D=function Tp(s){return"function"==typeof s||"object"==typeof s&&s instanceof Tn}(o)&&Lt(o);E=D&&this.injectableDefInScope(D)?Xd(kv(o),t_):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(d&gt.Self?rE():this.parent).get(o,l=d&gt.Optional&&l===cs?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[Xl]=v[Xl]||[]).unshift(ge(o)),h)throw v;return function wn(s,o,l,d){const h=s[Xl];throw o[N]&&h.unshift(o[N]),s.message=function go(s,o,l,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=ge(o);if(Array.isArray(o))h=o.map(ge).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let E=o[v];g.push(v+":"+("string"==typeof E?JSON.stringify(E):ge(E)))}h=`{${g.join(", ")}}`}return`${l}${d?"("+d+")":""}[${h}]: ${s.replace(C,"\n  ")}`}("\n"+s.message,h,l,d),s.ngTokenPath=h,s[Xl]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{xn(g),re(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((d,h)=>o.push(ge(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ne(205,!1)}processInjectorType(o,l,d){if(!(o=X(o)))return!1;let h=Fi(o);const g=null==h&&o.ngModule||void 0,v=void 0===g?o:g,E=-1!==d.indexOf(v);if(void 0!==g&&(h=Fi(g)),null==h)return!1;if(null!=h.imports&&!E){let O;d.push(v);try{Ar(h.imports,L=>{this.processInjectorType(L,l,d)&&(void 0===O&&(O=[]),O.push(L))})}finally{}if(void 0!==O)for(let L=0;L<O.length;L++){const{ngModule:H,providers:J}=O[L];Ar(J,_e=>this.processProvider(_e,H,J||U))}}this.injectorDefTypes.add(v);const D=Cr(v)||(()=>new v);this.records.set(v,Xd(D,t_));const A=h.providers;if(null!=A&&!E){const O=o;Ar(A,L=>this.processProvider(L,O,A))}return void 0!==g&&void 0!==o.providers}processProvider(o,l,d){let h=eh(o=X(o))?o:X(o&&o.provide);const g=function oE(s,o,l){return lE(s)?Xd(void 0,s.useValue):Xd(aE(s),t_)}(o);if(eh(o)||!0!==o.multi)this.records.get(h);else{let v=this.records.get(h);v||(v=Xd(void 0,t_,!0),v.factory=()=>qt(v.multi),this.records.set(h,v)),h=o,v.multi.push(o)}this.records.set(h,g)}hydrate(o,l){return l.value===t_&&(l.value=Iu,l.value=l.factory()),"object"==typeof l.value&&l.value&&function eO(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this.onDestroy.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=X(o.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function kv(s){const o=Lt(s),l=null!==o?o.factory:Cr(s);if(null!==l)return l;if(s instanceof Tn)throw new Ne(204,!1);if(s instanceof Function)return function k1(s){const o=s.length;if(o>0)throw lr(o,"?"),new Ne(204,!1);const l=function _i(s){const o=s&&(s[Qr]||s[wr]);if(o){const l=function to(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Ne(204,!1)}function aE(s,o,l){let d;if(eh(s)){const h=X(s);return Cr(h)||kv(h)}if(lE(s))d=()=>X(s.useValue);else if(function R1(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...qt(s.deps||[]));else if(function Rv(s){return!(!s||!s.useExisting)}(s))d=()=>Be(X(s.useExisting));else{const h=X(s&&(s.useClass||s.provide));if(!function x1(s){return!!s.deps}(s))return Cr(h)||kv(h);d=()=>new h(...qt(s.deps))}return d}function Xd(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function lE(s){return null!==s&&"object"==typeof s&&B in s}function eh(s){return"function"==typeof s}let Yt=(()=>{class s{static create(l,d){var h;if(Array.isArray(l))return sE({name:""},d,l,"");{const g=null!==(h=l.name)&&void 0!==h?h:"";return sE({name:g},l.parent,l.providers,g)}}}return s.THROW_IF_NOT_FOUND=cs,s.NULL=new Ov,s.\u0275prov=Qt({token:s,providedIn:"any",factory:()=>Be(e_)}),s.__NG_ELEMENT_ID__=-1,s})();function hc(s,o){xs(tp(s)[1],Cn())}function i_(s){let o=function mE(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const d=[s];for(;o;){let h;if(Dr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Ne(903,"");h=o.\u0275dir}if(h){if(l){d.push(h);const v=s;v.inputs=Pv(s.inputs),v.declaredInputs=Pv(s.declaredInputs),v.outputs=Pv(s.outputs);const E=h.hostBindings;E&&r_(s,E);const D=h.viewQuery,A=h.contentQueries;if(D&&yE(s,D),A&&Fv(s,A),ee(s.inputs,h.inputs),ee(s.declaredInputs,h.declaredInputs),ee(s.outputs,h.outputs),Dr(h)&&h.data.animation){const O=s.data;O.animation=(O.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let v=0;v<g.length;v++){const E=g[v];E&&E.ngInherit&&E(s),E===i_&&(l=!1)}}o=Object.getPrototypeOf(o)}!function _E(s){let o=0,l=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=ql(h.hostAttrs,l=ql(l,h.hostAttrs))}}(d)}function Pv(s){return s===Er?{}:s===U?[]:s}function yE(s,o){const l=s.viewQuery;s.viewQuery=l?(d,h)=>{o(d,h),l(d,h)}:o}function Fv(s,o){const l=s.contentQueries;s.contentQueries=l?(d,h,g)=>{o(d,h,g),l(d,h,g)}:o}function r_(s,o){const l=s.hostBindings;s.hostBindings=l?(d,h)=>{o(d,h),l(d,h)}:o}let Ki=null;function Au(){if(!Ki){const s=Ht.Symbol;if(s&&s.iterator)Ki=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const d=o[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Ki=d)}}}return Ki}function Mu(s){return!!s_(s)&&(Array.isArray(s)||!(s instanceof Map)&&Au()in s)}function s_(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function _o(s,o,l){return s[o]=l}function Rr(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function yo(s,o,l,d){const h=Rr(s,o,l);return Rr(s,o+1,d)||h}function o_(s,o,l,d){const h=Ce();return Rr(h,ts(),o)&&(Ft(),function qo(s,o,l,d,h,g){const v=si(s,o);Wm(o[11],v,g,s.value,l,d,h)}(Mn(),h,s,o,l,d)),o_}function Ou(s,o,l,d){return Rr(s,ts(),l)?o+W(l)+d:wt}function Op(s,o,l,d,h,g,v,E){const D=Ce(),A=Ft(),O=s+20,L=A.firstCreatePass?function a_(s,o,l,d,h,g,v,E,D){const A=o.consts,O=Yd(o,s,4,v||null,or(A,E));Ev(o,l,O,or(A,D)),xs(o,O);const L=O.tViews=$m(2,O,d,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,A);return null!==o.queries&&(o.queries.template(o,O),L.queries=o.queries.embeddedTView(O)),O}(O,A,D,o,l,d,h,g,v):A.data[O];ji(L,!1);const H=D[11].createComment("");wa(A,D,H,L),Zt(H,D),Km(D,D[O]=Xw(H,D,H,L)),so(L)&&vv(A,D,L),null!=v&&bv(D,L,E)}function l_(s){return Ns(function md(){return ht.lFrame.contextLView}(),20+s)}function Rp(s,o=gt.Default){const l=Ce();return null===l?Be(s,o):Sr(Cn(),l,X(s),o)}function _c(){throw new Error("invalid")}function h_(s,o,l){const d=Ce();return Rr(d,ts(),o)&&hr(Ft(),Mn(),d,s,o,d[11],l,!1),h_}function gh(s,o,l,d,h){const v=h?"class":"style";Su(s,l,o.inputs[v],v,d)}function Nu(s,o,l,d){const h=Ce(),g=Ft(),v=20+s,E=h[11],D=h[v]=vu(E,o,function bd(){return ht.lFrame.currentNamespace}()),A=g.firstCreatePass?function LE(s,o,l,d,h,g,v){const E=o.consts,A=Yd(o,s,2,h,or(E,g));return Ev(o,l,A,or(E,v)),null!==A.attrs&&Xm(A,A.attrs,!1),null!==A.mergedAttrs&&Xm(A,A.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,A),A}(v,g,h,0,o,l,d):g.data[v];ji(A,!0);const O=A.mergedAttrs;null!==O&&Si(E,D,O);const L=A.classes;null!==L&&Pm(E,D,L);const H=A.styles;null!==H&&dp(E,D,H),64!=(64&A.flags)&&wa(g,h,D,A),0===function ja(){return ht.lFrame.elementDepthCount}()&&Zt(D,h),function pd(){ht.lFrame.elementDepthCount++}(),so(A)&&(vv(g,h,A),yv(g,A,h)),null!==d&&bv(h,A)}function f_(){let s=Cn();Wc()?Kc():(s=s.parent,ji(s,!1));const o=s;!function Ha(){ht.lFrame.elementDepthCount--}();const l=Ft();l.firstCreatePass&&(xs(l,s),Hc(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Mf(s){return 0!=(16&s.flags)}(o)&&gh(l,o,Ce(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function um(s){return 0!=(32&s.flags)}(o)&&gh(l,o,Ce(),o.stylesWithoutHost,!1)}function Pr(s,o,l,d){Nu(s,o,l,d),f_()}function mh(s,o,l){const d=Ce(),h=Ft(),g=s+20,v=h.firstCreatePass?function xp(s,o,l,d,h){const g=o.consts,v=or(g,d),E=Yd(o,s,8,"ng-container",v);return null!==v&&Xm(E,v,!0),Ev(o,l,E,or(g,h)),null!==o.queries&&o.queries.elementStart(o,E),E}(g,h,d,o,l):h.data[g];ji(v,!0);const E=d[g]=d[11].createComment("");wa(h,d,E,v),Zt(E,d),so(v)&&(vv(h,d,v),yv(h,v,d)),null!=l&&bv(d,v)}function p_(){let s=Cn();const o=Ft();Wc()?Kc():(s=s.parent,ji(s,!1)),o.firstCreatePass&&(xs(o,s),Hc(s)&&o.queries.elementEnd(s))}function e0(){return Ce()}function g_(s){return!!s&&"function"==typeof s.then}function _h(s){return!!s&&"function"==typeof s.subscribe}const m_=_h;function Pp(s,o,l,d){const h=Ce(),g=Ft(),v=Cn();return function yh(s,o,l,d,h,g,v,E){const D=so(d),O=s.firstCreatePass&&nE(s),L=o[8],H=Ni(o);let J=!0;if(3&d.type||E){const $e=si(d,o),Ye=E?E($e):$e,Ee=H.length,pt=E?kt=>E(tn(kt[d.index])):d.index;if(sn(l)){let kt=null;if(!E&&D&&(kt=function y_(s,o,l,d){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const v=h[g];if(v===l&&h[g+1]===d){const E=o[7],D=h[g+2];return E.length>D?E[D]:null}"string"==typeof v&&(g+=2)}return null}(s,o,h,d.index)),null!==kt)(kt.__ngLastListenerFn__||kt).__ngNextListenerFn__=g,kt.__ngLastListenerFn__=g,J=!1;else{g=n0(d,o,L,g,!1);const dn=l.listen(Ye,h,g);H.push(g,dn),O&&O.push(h,pt,Ee,Ee+1)}}else g=n0(d,o,L,g,!0),Ye.addEventListener(h,g,v),H.push(g),O&&O.push(h,pt,Ee,v)}else g=n0(d,o,L,g,!1);const _e=d.outputs;let xe;if(J&&null!==_e&&(xe=_e[h])){const $e=xe.length;if($e)for(let Ye=0;Ye<$e;Ye+=2){const Ws=o[xe[Ye]][xe[Ye+1]].subscribe(g),Ol=H.length;H.push(g,Ws),O&&O.push(h,d.index,Ol,-(Ol+1))}}}(g,h,h[11],v,s,o,!!l,d),Pp}function t0(s,o,l,d){try{return!1!==l(d)}catch(h){return Qm(s,h),!1}}function n0(s,o,l,d,h){return function g(v){if(v===Function)return d;const E=2&s.flags?oi(s.index,o):o;0==(32&o[2])&&Iv(E);let D=t0(o,0,d,v),A=g.__ngNextListenerFn__;for(;A;)D=t0(o,0,A,v)&&D,A=A.__ngNextListenerFn__;return h&&!1===D&&(v.preventDefault(),v.returnValue=!1),D}}function v_(s=1){return function ns(s){return(ht.lFrame.contextLView=function Sf(s,o){for(;s>0;)o=o[15],s--;return o}(s,ht.lFrame.contextLView))[8]}(s)}function b_(s,o){let l=null;const d=function kw(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let h=0;h<o.length;h++){const g=o[h];if("*"!==g){if(null===d?Nw(s,g,!0):ml(d,g))return h}else l=h}return l}function w_(s){const o=Ce()[16][6];if(!o.projection){const d=o.projection=lr(s?s.length:1,null),h=d.slice();let g=o.child;for(;null!==g;){const v=s?b_(g,s):0;null!==v&&(h[v]?h[v].projectionNext=g:d[v]=g,h[v]=g),g=g.next}}}function r0(s,o=0,l){const d=Ce(),h=Ft(),g=Yd(h,20+s,16,null,l||null);null===g.projection&&(g.projection=o),Kc(),64!=(64&g.flags)&&function Mw(s,o,l){up(o[11],0,o,l,Cw(s,l,o),cp(l.parent||o[6],l,o))}(h,d,g)}function E_(s,o,l){return Fp(s,"",o,"",l),E_}function Fp(s,o,l,d,h){const g=Ce(),v=Ou(g,o,l,d);return v!==wt&&hr(Ft(),Mn(),g,s,v,g[11],h,!1),Fp}function vc(s,o,l,d,h){const g=s[l+1],v=null===o;let E=d?zs(g):_l(g),D=!1;for(;0!==E&&(!1===D||v);){const O=s[E+1];jE(s[E],o)&&(D=!0,s[E+1]=d?dv(O):gp(O)),E=d?zs(O):_l(O)}D&&(s[l+1]=d?gp(g):dv(g))}function jE(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Ql(s,o)>=0}const ki={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function bc(s){return s.substring(ki.key,ki.keyEnd)}function Bp(s,o){const l=ki.textEnd;return l===o?-1:(o=ki.keyEnd=function H1(s,o,l){for(;o<l&&s.charCodeAt(o)>32;)o++;return o}(s,ki.key=o,l),El(s,o,l))}function El(s,o,l){for(;o<l&&s.charCodeAt(o)<=32;)o++;return o}function l0(s,o,l){return vo(s,o,l,!1),l0}function c0(s,o){return vo(s,o,null,!0),c0}function Dh(s){bo(Mr,gr,s,!0)}function gr(s,o){for(let l=function C_(s){return function Nn(s){ki.key=0,ki.keyEnd=0,ki.value=0,ki.valueEnd=0,ki.textEnd=s.length}(s),Bp(s,El(s,0,ki.textEnd))}(o);l>=0;l=Bp(o,l))Mr(s,bc(o),!0)}function vo(s,o,l,d){const h=Ce(),g=Ft(),v=ks(2);g.firstUpdatePass&&ku(g,s,v,d),o!==wt&&Rr(h,v,o)&&h0(g,g.data[ai()],h,h[11],s,h[v+1]=function K1(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ge(Hs(s)))),s}(o,l),d,v)}function bo(s,o,l,d){const h=Ft(),g=ks(2);h.firstUpdatePass&&ku(h,null,g,d);const v=Ce();if(l!==wt&&Rr(v,g,l)){const E=h.data[ai()];if(zE(E,d)&&!u0(h,g)){let D=d?E.classesWithoutHost:E.stylesWithoutHost;null!==D&&(l=le(D,l||"")),gh(h,E,v,l,d)}else!function $E(s,o,l,d,h,g,v,E){h===wt&&(h=U);let D=0,A=0,O=0<h.length?h[0]:null,L=0<g.length?g[0]:null;for(;null!==O||null!==L;){const H=D<h.length?h[D+1]:void 0,J=A<g.length?g[A+1]:void 0;let xe,_e=null;O===L?(D+=2,A+=2,H!==J&&(_e=L,xe=J)):null===L||null!==O&&O<L?(D+=2,_e=O):(A+=2,_e=L,xe=J),null!==_e&&h0(s,o,l,d,_e,xe,v,E),O=D<h.length?h[D]:null,L=A<g.length?g[A]:null}}(h,E,v,v[11],v[g+1],v[g+1]=function d0(s,o,l){if(null==l||""===l)return U;const d=[],h=Hs(l);if(Array.isArray(h))for(let g=0;g<h.length;g++)s(d,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&s(d,g,h[g]);else"string"==typeof h&&o(d,h);return d}(s,o,l),d,g)}}function u0(s,o){return o>=s.expandoStartIndex}function ku(s,o,l,d){const h=s.data;if(null===h[l+1]){const g=h[ai()],v=u0(s,l);zE(g,d)&&null===o&&!v&&(o=!1),o=function q1(s,o,l,d){const h=function Hl(s){const o=ht.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let g=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(l=Ch(l=S_(null,s,o,l,d),o.attrs,d),g=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(l=S_(h,s,o,l,d),null===g){let D=function Z1(s,o,l){const d=l?o.classBindings:o.styleBindings;if(0!==_l(d))return s[zs(d)]}(s,o,d);void 0!==D&&Array.isArray(D)&&(D=S_(null,s,o,D[1],d),D=Ch(D,o.attrs,d),function GE(s,o,l,d){s[zs(l?o.classBindings:o.styleBindings)]=d}(s,o,d,D))}else g=function W1(s,o,l){let d;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)d=Ch(d,s[g].hostAttrs,l);return Ch(d,o.attrs,l)}(s,o,d)}return void 0!==g&&(d?o.residualClasses=g:o.residualStyles=g),l}(h,g,o,d),function wh(s,o,l,d,h,g){let v=g?o.classBindings:o.styleBindings,E=zs(v),D=_l(v);s[d]=l;let O,A=!1;if(Array.isArray(l)){const L=l;O=L[1],(null===O||Ql(L,O)>0)&&(A=!0)}else O=l;if(h)if(0!==D){const H=zs(s[E+1]);s[d+1]=pp(H,E),0!==H&&(s[H+1]=Eu(s[H+1],d)),s[E+1]=function uv(s,o){return 131071&s|o<<17}(s[E+1],d)}else s[d+1]=pp(E,0),0!==E&&(s[E+1]=Eu(s[E+1],d)),E=d;else s[d+1]=pp(D,0),0===E?E=d:s[D+1]=Eu(s[D+1],d),D=d;A&&(s[d+1]=gp(s[d+1])),vc(s,O,d,!0),vc(s,O,d,!1),function o0(s,o,l,d,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&Ql(g,o)>=0&&(l[d+1]=dv(l[d+1]))}(o,O,s,d,g),v=pp(E,D),g?o.classBindings=v:o.styleBindings=v}(h,g,o,l,v,d)}}function S_(s,o,l,d,h){let g=null;const v=l.directiveEnd;let E=l.directiveStylingLast;for(-1===E?E=l.directiveStart:E++;E<v&&(g=o[E],d=Ch(d,g.hostAttrs,h),g!==s);)E++;return null!==s&&(l.directiveStylingLast=E),d}function Ch(s,o,l){const d=l?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?h=v:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Mr(s,v,!!l||o[++g]))}return void 0===s?null:s}function h0(s,o,l,d,h,g,v,E){if(!(3&o.type))return;const D=s.data,A=D[E+1];M_(function Fw(s){return 1==(1&s)}(A)?A_(D,o,l,h,_l(A),v):void 0)||(M_(g)||function cv(s){return 2==(2&s)}(A)&&(g=A_(D,null,l,h,E,v)),function rv(s,o,l,d,h){const g=sn(s);if(o)h?g?s.addClass(l,d):l.classList.add(d):g?s.removeClass(l,d):l.classList.remove(d);else{let v=-1===d.indexOf("-")?void 0:de.DashCase;if(null==h)g?s.removeStyle(l,d,v):l.style.removeProperty(d);else{const E="string"==typeof h&&h.endsWith("!important");E&&(h=h.slice(0,-10),v|=de.Important),g?s.setStyle(l,d,h,v):l.style.setProperty(d,h,E?"important":"")}}}(d,v,ko(ai(),l),h,g))}function A_(s,o,l,d,h,g){const v=null===o;let E;for(;h>0;){const D=s[h],A=Array.isArray(D),O=A?D[1]:D,L=null===O;let H=l[h+1];H===wt&&(H=L?U:void 0);let J=L?xf(H,d):O===d?H:void 0;if(A&&!M_(J)&&(J=xf(D,d)),M_(J)&&(E=J,v))return E;const _e=s[h+1];h=v?zs(_e):_l(_e)}if(null!==o){let D=g?o.residualClasses:o.residualStyles;null!=D&&(E=xf(D,d))}return E}function M_(s){return void 0!==s}function zE(s,o){return 0!=(s.flags&(o?16:32))}function Up(s,o=""){const l=Ce(),d=Ft(),h=s+20,g=d.firstCreatePass?Yd(d,h,1,o,null):d.data[h],v=l[h]=Mt(l[11],o);wa(d,l,v,g),ji(g,!1)}function Ru(s){return xu("",s,""),Ru}function xu(s,o,l){const d=Ce(),h=Ou(d,s,o,l);return h!==wt&&function hs(s,o,l){const d=ko(o,s);sp(s[11],d,l)}(d,ai(),h),xu}function WE(s,o,l){bo(Mr,gr,Ou(Ce(),s,o,l),!0)}function Ah(s,o,l){const d=Ce();return Rr(d,ts(),o)&&hr(Ft(),Mn(),d,s,o,d[11],l,!0),Ah}const wc=void 0;var iD=["en",[["a","p"],["AM","PM"],wc],[["AM","PM"],wc,wc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],wc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],wc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",wc,"{1} 'at' {0}",wc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Pu(s){const l=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let Fu={};function P_(s){const o=function tS(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=C0(o);if(l)return l;const d=o.split("-")[0];if(l=C0(d),l)return l;if("en"===d)return iD;throw new Error(`Missing locale data for the locale "${s}".`)}function ps(s){return P_(s)[ft.PluralCase]}function C0(s){return s in Fu||(Fu[s]=Ht.ng&&Ht.ng.common&&Ht.ng.common.locales&&Ht.ng.common.locales[s]),Fu[s]}var ft=(()=>((ft=ft||{})[ft.LocaleId=0]="LocaleId",ft[ft.DayPeriodsFormat=1]="DayPeriodsFormat",ft[ft.DayPeriodsStandalone=2]="DayPeriodsStandalone",ft[ft.DaysFormat=3]="DaysFormat",ft[ft.DaysStandalone=4]="DaysStandalone",ft[ft.MonthsFormat=5]="MonthsFormat",ft[ft.MonthsStandalone=6]="MonthsStandalone",ft[ft.Eras=7]="Eras",ft[ft.FirstDayOfWeek=8]="FirstDayOfWeek",ft[ft.WeekendRange=9]="WeekendRange",ft[ft.DateFormat=10]="DateFormat",ft[ft.TimeFormat=11]="TimeFormat",ft[ft.DateTimeFormat=12]="DateTimeFormat",ft[ft.NumberSymbols=13]="NumberSymbols",ft[ft.NumberFormats=14]="NumberFormats",ft[ft.CurrencyCode=15]="CurrencyCode",ft[ft.CurrencySymbol=16]="CurrencySymbol",ft[ft.CurrencyName=17]="CurrencyName",ft[ft.Currencies=18]="Currencies",ft[ft.Directionality=19]="Directionality",ft[ft.PluralCase=20]="PluralCase",ft[ft.ExtraData=21]="ExtraData",ft))();const nS=["zero","one","two","few","many"],F_="en-US",Gp={marker:"element"},L_={marker:"ICU"};var kn=(()=>((kn=kn||{})[kn.SHIFT=2]="SHIFT",kn[kn.APPEND_EAGERLY=1]="APPEND_EAGERLY",kn[kn.COMMENT=2]="COMMENT",kn))();let S0=F_;function Cl(s,o,l){const d=o.insertBeforeIndex,h=Array.isArray(d)?d[0]:d;return null===h?uc(s,0,l):tn(l[h])}function B_(s,o,l,d,h){const g=o.insertBeforeIndex;if(Array.isArray(g)){let v=d,E=null;if(3&o.type||(E=v,v=h),null!==v&&0==(2&o.flags))for(let D=1;D<g.length;D++)cc(s,v,l[g[D]],E,!1)}}function rD(s,o){if(s.push(o),s.length>1)for(let l=s.length-2;l>=0;l--){const d=s[l];Le(d)||vi(d,o)&&null===$p(d)&&I0(d,o.index)}}function Le(s){return!(64&s.type)}function vi(s,o){return Le(o)||s.index>o.index}function $p(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function I0(s,o){const l=s.insertBeforeIndex;Array.isArray(l)?l[0]=o:(Iw(Cl,B_),s.insertBeforeIndex=o)}function rt(s,o){const l=s.data[o];return null===l||"string"==typeof l?null:l.hasOwnProperty("currentCaseLViewIndex")?l:l.value}function ze(s,o,l){const d=Jd(s,l,64,null,null);return rD(o,d),d}function ue(s,o){const l=o[s.currentCaseLViewIndex];return null===l?l:l<0?~l:l}function Oe(s){return s>>>17}function Ri(s){return(131070&s)>>>1}let zp=0,qp=0;function oD(s,o,l,d){const h=l[11];let v,g=null;for(let E=0;E<o.length;E++){const D=o[E];if("string"==typeof D){const A=o[++E];null===l[A]&&(l[A]=Mt(h,D))}else if("number"==typeof D)switch(1&D){case 0:const A=Oe(D);let O,L;if(null===g&&(g=A,v=lp(h,d)),A===g?(O=d,L=v):(O=null,L=tn(l[A])),null!==L){const xe=Ri(D);cc(h,L,l[xe],O,!1);const Ye=rt(s,xe);if(null!==Ye&&"object"==typeof Ye){const Ee=ue(Ye,l);null!==Ee&&oD(s,Ye.create[Ee],l,l[Ye.anchorIdx])}}break;case 1:const J=o[++E],_e=o[++E];Wm(h,ko(D>>>1,l),null,null,J,_e,null)}else switch(D){case L_:const A=o[++E],O=o[++E];null===l[O]&&Zt(l[O]=ya(h,A),l);break;case Gp:const L=o[++E],H=o[++E];null===l[H]&&Zt(l[H]=vu(h,L,null),l)}}}function lS(s,o,l,d,h){for(let g=0;g<l.length;g++){const v=l[g],E=l[++g];if(v&h){let D="";for(let A=g+1;A<=g+E;A++){const O=l[A];if("string"==typeof O)D+=O;else if("number"==typeof O)if(O<0)D+=W(o[d-O]);else{const L=O>>>2;switch(3&O){case 1:const H=l[++A],J=l[++A],_e=s.data[L];"string"==typeof _e?Wm(o[11],o[L],null,_e,H,D,J):hr(s,_e,o,H,D,o[11],J,!1);break;case 0:const xe=o[L];null!==xe&&sp(o[11],xe,D);break;case 2:cS(s,rt(s,L),o,D);break;case 3:gs(s,rt(s,L),d,o)}}}}else{const D=l[g+1];if(D>0&&3==(3&D)){const O=rt(s,D>>>2);o[O.currentCaseLViewIndex]<0&&gs(s,O,d,o)}}g+=E}}function gs(s,o,l,d){let h=d[o.currentCaseLViewIndex];if(null!==h){let g=zp;h<0&&(h=d[o.currentCaseLViewIndex]=~h,g=-1),lS(s,d,o.update[h],l,g)}}function cS(s,o,l,d){const h=function $t(s,o){let l=s.cases.indexOf(o);if(-1===l)switch(s.type){case 1:{const d=function T0(s,o){const l=ps(o)(parseInt(s,10)),d=nS[l];return void 0!==d?d:"other"}(o,function Mh(){return S0}());l=s.cases.indexOf(d),-1===l&&"other"!==d&&(l=s.cases.indexOf("other"));break}case 0:l=s.cases.indexOf("other")}return-1===l?null:l}(o,d);if(ue(o,l)!==h&&(M0(s,o,l),l[o.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const v=l[o.anchorIdx];v&&oD(s,o.create[h],l,v)}}function M0(s,o,l){let d=ue(o,l);if(null!==d){const h=o.remove[d];for(let g=0;g<h.length;g++){const v=h[g];if(v>0){const E=ko(v,l);null!==E&&Aw(l[11],E)}else M0(s,rt(s,~v),l)}}}function Oh(){const s=[];let l,d,o=-1;function g(E,D){o=0;const A=ue(E,D);d=null!==A?E.remove[A]:U}function v(){if(o<d.length){const E=d[o++];return E>0?l[E]:(s.push(o,d),g(l[1].data[~E],l),v())}return 0===s.length?null:(d=s.pop(),o=s.pop(),v())}return function h(E,D){for(l=D;s.length;)s.pop();return g(E.value,D),v}}const Zp=/\ufffd(\d+):?\d*\ufffd/gi,an=/\ufffd(\d+)\ufffd/,aD=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Nh=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,hS=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,xi=/\uE500/g;function fi(s,o,l,d,h,g,v){const E=Tu(s,d,1,null);let D=E<<kn.SHIFT,A=za();o===A&&(A=null),null===A&&(D|=kn.APPEND_EAGERLY),v&&(D|=kn.COMMENT,function vt(s){void 0===He&&(He=s())}(Oh)),h.push(D,null===g?"":g);const O=Jd(s,E,v?32:1,null===g?"":g,null);rD(l,O);const L=O.index;return ji(O,!1),null!==A&&o!==A&&function rS(s,o){let l=s.insertBeforeIndex;null===l?(Iw(Cl,B_),l=s.insertBeforeIndex=[null,o]):(function Y(s,o,l){s!=o&&ut(l,s,o,"==")}(Array.isArray(l),!0,"Expecting array here"),l.push(o))}(A,L),O}function kh(s,o,l,d,h,g,v){const E=v.match(Zp),D=fi(s,o,l,g,d,E?null:v,!1);E&&Lu(h,v,D.index,null,0,null)}function Lu(s,o,l,d,h,g){const v=s.length,E=v+1;s.push(null,null);const D=v+2,A=o.split(Zp);let O=0;for(let L=0;L<A.length;L++){const H=A[L];if(1&L){const J=h+parseInt(H,10);s.push(-1-J),O|=Cc(J)}else""!==H&&s.push(H)}return s.push(l<<2|(d?1:0)),d&&s.push(d,g),s[v]=O,s[E]=s.length-D,O}function Cc(s){return 1<<Math.min(s,31)}function N0(s){let o,g,l="",d=0,h=!1;for(;null!==(o=Nh.exec(s));)h?o[0]===`\ufffd/*${g}\ufffd`&&(d=o.index,h=!1):(l+=s.substring(d,o.index+o[0].length),g=o[1],h=!0);return l+=s.substr(d),l}function Tc(s,o,l,d,h,g){let v=0;const E={type:h.type,currentCaseLViewIndex:Tu(s,o,1,null),anchorIdx:g,cases:[],create:[],remove:[],update:[]};(function j_(s,o,l){s.push(Cc(o.mainBinding),2,-1-o.mainBinding,l<<2|2)})(l,h,g),function Et(s,o,l){const d=s.data[o];null===d?s.data[o]=l:d.value=l}(s,g,E);const D=h.values;for(let A=0;A<D.length;A++){const O=D[A],L=[];for(let H=0;H<O.length;H++){const J=O[H];if("string"!=typeof J){const _e=L.push(J)-1;O[H]=`\x3c!--\ufffd${_e}\ufffd--\x3e`}}v=Rh(s,E,o,l,d,h.cases[A],O.join(""),L)|v}v&&function x0(s,o,l){s.push(o,1,l<<2|3)}(l,v,g)}function Ta(s){const o=[],l=[];let d=1,h=0;const g=Bu(s=s.replace(aD,function(v,E,D){return d="select"===D?0:1,h=parseInt(E.substr(1),10),""}));for(let v=0;v<g.length;){let E=g[v++].trim();1===d&&(E=E.replace(/\s*(?:=)?(\w+)\s*/,"$1")),E.length&&o.push(E);const D=Bu(g[v++]);o.length>l.length&&l.push(D)}return{type:d,mainBinding:h,cases:o,values:l}}function Bu(s){if(!s)return[];let o=0;const l=[],d=[],h=/[{}]/g;let g;for(h.lastIndex=0;g=h.exec(s);){const E=g.index;if("}"==g[0]){if(l.pop(),0==l.length){const D=s.substring(o,E);aD.test(D)?d.push(Ta(D)):d.push(D),o=E+1}}else{if(0==l.length){const D=s.substring(o,E);d.push(D),o=E+1}l.push("{")}}const v=s.substring(o);return d.push(v),d}function Rh(s,o,l,d,h,g,v,E){const D=[],A=[],O=[];o.cases.push(g),o.create.push(D),o.remove.push(A),o.update.push(O);const H=function vm(s){const o=new Hy(s);return function bm(){try{return!!(new window.DOMParser).parseFromString(uu(""),"text/html")}catch(s){return!1}}()?new zf(o):o}(Os()).getInertBodyElement(v),J=function Jf(s){return"content"in s&&function Tm(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}(H)||H;return J?k0(s,o,l,d,D,A,O,J,h,E,0):0}function k0(s,o,l,d,h,g,v,E,D,A,O){let L=0,H=E.firstChild;for(;H;){const J=Tu(s,l,1,null);switch(H.nodeType){case Node.ELEMENT_NODE:const _e=H,xe=_e.tagName.toLowerCase();if(Wf.hasOwnProperty(xe)){Yp(h,Gp,xe,D,J),s.data[J]=xe;const pt=_e.attributes;for(let kt=0;kt<pt.length;kt++){const dn=pt.item(kt),Ws=dn.name.toLowerCase();dn.value.match(Zp)?Vd.hasOwnProperty(Ws)&&Lu(v,dn.value,J,dn.name,0,Bd[Ws]?ic:Kf[Ws]?qf:null):lD(h,J,dn)}L=k0(s,o,l,d,h,g,v,H,J,A,O+1)|L,U_(g,J,O)}break;case Node.TEXT_NODE:const $e=H.textContent||"",Ye=$e.match(Zp);Yp(h,null,Ye?"":$e,D,J),U_(g,J,O),Ye&&(L=Lu(v,$e,J,null,0,null)|L);break;case Node.COMMENT_NODE:const Ee=an.exec(H.textContent||"");if(Ee){const kt=A[parseInt(Ee[1],10)];Yp(h,L_,"",D,J),Tc(s,l,d,D,kt,J),R0(g,J,O)}}H=H.nextSibling}return L}function U_(s,o,l){0===l&&s.push(o)}function R0(s,o,l){0===l&&(s.push(~o),s.push(o))}function Yp(s,o,l,d,h){null!==o&&s.push(o),s.push(l,h,function sS(s,o,l){return s|o<<17|l<<1}(0,d,h))}function lD(s,o,l){s.push(o<<1|1,l.name,l.value)}function dD(s,o,l=-1){const d=Ft(),h=Ce(),g=20+s,v=or(d.consts,o),E=za();d.firstCreatePass&&function Dc(s,o,l,d,h,g){const v=za(),E=[],D=[],A=[[]];h=function at(s,o){if(function V_(s){return-1===s}(o))return N0(s);{const l=s.indexOf(`:${o}\ufffd`)+2+o.toString().length,d=s.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return N0(s.substring(l,d))}}(h,g);const O=function fS(s){return s.replace(xi," ")}(h).split(hS);for(let L=0;L<O.length;L++){let H=O[L];if(0==(1&L)){const J=Bu(H);for(let _e=0;_e<J.length;_e++){let xe=J[_e];if(0==(1&_e)){const $e=xe;""!==$e&&kh(s,v,A[0],E,D,l,$e)}else{const $e=xe;if("object"!=typeof $e)throw new Error(`Unable to parse ICU expression in "${h}" message.`);Tc(s,l,D,o,$e,fi(s,v,A[0],l,E,"",!0).index)}}}else{const J=47===H.charCodeAt(0),xe=(H.charCodeAt(J?1:0),20+Number.parseInt(H.substring(J?2:1)));if(J)A.shift(),ji(za(),!1);else{const $e=ze(s,A[0],xe);A.unshift([]),ji($e,!0)}}}s.data[d]={create:E,update:D}}(d,null===E?0:E.index,h,g,v,l);const D=d.data[g],O=tv(d,E===h[6]?null:E,h);(function sD(s,o,l,d){const h=s[11];for(let g=0;g<o.length;g++){const v=o[g++],E=o[g],D=(v&kn.COMMENT)===kn.COMMENT,A=(v&kn.APPEND_EAGERLY)===kn.APPEND_EAGERLY,O=v>>>kn.SHIFT;let L=s[O];null===L&&(L=s[O]=D?h.createComment(E):Mt(h,E)),A&&null!==l&&cc(h,l,L,d,!1)}})(h,D.create,O,E&&8&E.type?h[E.index]:null),_d(!0)}function eg(s,o,l){dD(s,o,l),function Xp(){_d(!1)}()}function F0(s){return function oS(s){s&&(zp|=1<<Math.min(qp,31)),qp++}(Rr(Ce(),ts(),s)),F0}function hD(s){!function aS(s,o,l){if(qp>0){const d=s.data[l];lS(s,o,Array.isArray(d)?d:d.update,function jr(){return ht.lFrame.bindingIndex}()-qp-1,zp)}zp=0,qp=0}(Ft(),Ce(),s+20)}function G_(s,o,l,d,h){if(s=X(s),Array.isArray(s))for(let g=0;g<s.length;g++)G_(s[g],o,l,d,h);else{const g=Ft(),v=Ce();let E=eh(s)?s:X(s.provide),D=aE(s);const A=Cn(),O=1048575&A.providerIndexes,L=A.directiveStart,H=A.providerIndexes>>20;if(eh(s)||!s.multi){const J=new ma(D,h,Rp),_e=B0(E,o,h?O:O+H,L);-1===_e?(Gi(Hi(A,v),g,E),L0(g,s,o.length),o.push(E),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),l.push(J),v.push(J)):(l[_e]=J,v[_e]=J)}else{const J=B0(E,o,O+H,L),_e=B0(E,o,O,O+H),xe=J>=0&&l[J],$e=_e>=0&&l[_e];if(h&&!$e||!h&&!xe){Gi(Hi(A,v),g,E);const Ye=function Ph(s,o,l,d,h){const g=new ma(s,l,Rp);return g.multi=[],g.index=o,g.componentProviders=0,fD(g,h,d&&!l),g}(h?tg:_S,l.length,h,d,D);!h&&$e&&(l[_e].providerFactory=Ye),L0(g,s,o.length,0),o.push(E),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),l.push(Ye),v.push(Ye)}else L0(g,s,J>-1?J:_e,fD(l[h?_e:J],D,!h&&d));!h&&d&&$e&&l[_e].componentProviders++}}}function L0(s,o,l,d){const h=eh(o),g=function cE(s){return!!s.useClass}(o);if(h||g){const D=(g?X(o.useClass):o).prototype.ngOnDestroy;if(D){const A=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const O=A.indexOf(l);-1===O?A.push(l,[d,D]):A[O+1].push(d,D)}else A.push(l,D)}}}function fD(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function B0(s,o,l,d){for(let h=l;h<d;h++)if(o[h]===s)return h;return-1}function _S(s,o,l,d){return xh(this.multi,[])}function tg(s,o,l,d){const h=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=jn(l,l[1],this.providerFactory.index,d);g=E.slice(0,v),xh(h,g);for(let D=v;D<E.length;D++)g.push(E[D])}else g=[],xh(h,g);return g}function xh(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function pD(s,o=[]){return l=>{l.providersResolver=(d,h)=>function mS(s,o,l){const d=Ft();if(d.firstCreatePass){const h=Dr(s);G_(l,d.data,d.blueprint,h,!0),G_(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class V0{}class $_{resolveComponentFactory(o){throw function Tl(s){const o=Error(`No component factory found for ${ge(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Sc=(()=>{class s{}return s.NULL=new $_,s})();function j0(){return Ic(Cn(),Ce())}function Ic(s,o){return new Vu(si(s,o))}let Vu=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=j0,s})();function Fh(s){return s instanceof Vu?s.nativeElement:s}class H0{}let ig=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function G0(){const s=Ce(),l=oi(Cn().index,s);return function mD(s){return s[11]}(sr(l)?l:s)}(),s})(),rg=(()=>{class s{}return s.\u0275prov=Qt({token:s,providedIn:"root",factory:()=>null}),s})();class $0{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const _D=new $0("13.2.1"),z_={};function sg(s,o,l,d,h=!1){for(;null!==l;){const g=o[l.index];if(null!==g&&d.push(tn(g)),Ui(g))for(let E=10;E<g.length;E++){const D=g[E],A=D[1].firstChild;null!==A&&sg(D[1],D,A,d)}const v=l.type;if(8&v)sg(s,o,l.child,d);else if(32&v){const E=nt(l,o);let D;for(;D=E();)d.push(D)}else if(16&v){const E=iv(o,l);if(Array.isArray(E))d.push(...E);else{const D=On(o[16]);sg(D[1],D,E,d,!0)}}l=h?l.projectionNext:l.next}return d}class Lh{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return sg(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Ui(o)){const l=o[8],d=l?l.indexOf(this):-1;d>-1&&(km(o,d),Bs(l,d))}this._attachedToViewContainer=!1}WT(this._lView[1],this._lView)}onDestroy(o){Ep(this._lView[1],this._lView,null,o)}markForCheck(){Iv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Mv(this._lView[1],this._lView,this.context)}checkNoChanges(){!function I1(s,o,l){pa(!0);try{Mv(s,o,l)}finally{pa(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ne(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Xy(s,o){gl(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Ne(902,"");this._appRef=o}}class q_ extends Lh{constructor(o){super(o),this._view=o}detectChanges(){tE(this._view)}checkNoChanges(){!function A1(s){pa(!0);try{tE(s)}finally{pa(!1)}}(this._view)}get context(){return null}}class yD extends Sc{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=Wn(o);return new Z_(l,this.ngModule)}}function vD(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}const Bh=new Tn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Om});class Z_ extends V0{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function xw(s){return s.map(Rw).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return vD(this.componentDef.inputs)}get outputs(){return vD(this.componentDef.outputs)}create(o,l,d,h){const g=(h=h||this.ngModule)?function Uu(s,o){return{get:(l,d,h)=>{const g=s.get(l,z_,h);return g!==z_||d===z_?g:o.get(l,d,h)}}}(o,h.injector):o,v=g.get(H0,Ba),E=g.get(rg,null),D=v.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",O=d?function wv(s,o,l){if(sn(s))return s.selectRootElement(o,l===Pt.ShadowDom);let d="string"==typeof o?s.querySelector(o):o;return d.textContent="",d}(D,d,this.componentDef.encapsulation):vu(v.createRenderer(null,this.componentDef),A,function bD(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(A)),L=this.componentDef.onPush?576:528,H=function Wi(s,o){return{components:[],scheduler:s||Om,clean:M1,playerHandler:o||null,flags:0}}(),J=$m(0,null,null,1,0,null,null,null,null,null),_e=bp(null,J,H,L,null,null,v,D,E,g);let xe,$e;xo(_e);try{const Ye=function Zi(s,o,l,d,h,g){const v=l[1];l[20]=s;const D=Yd(v,20,2,"#host",null),A=D.mergedAttrs=o.hostAttrs;null!==A&&(Xm(D,A,!0),null!==s&&(Si(h,s,A),null!==D.classes&&Pm(h,s,D.classes),null!==D.styles&&dp(h,s,D.styles)));const O=d.createRenderer(s,o),L=bp(l,zw(o),null,o.onPush?64:16,l[20],D,d,O,g||null,null);return v.firstCreatePass&&(Gi(Hi(D,l),v,o.type),Kw(v,D),Yw(D,l.length,1)),Km(l,L),l[20]=L}(O,this.componentDef,_e,v,D);if(O)if(d)Si(D,O,["ng-version",_D.full]);else{const{attrs:Ee,classes:pt}=function n1(s){const o=[],l=[];let d=1,h=2;for(;d<s.length;){let g=s[d];if("string"==typeof g)2===h?""!==g&&o.push(g,s[++d]):8===h&&l.push(g);else{if(!zo(h))break;h=g}d++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);Ee&&Si(D,O,Ee),pt&&pt.length>0&&Pm(D,O,pt.join(" "))}if($e=An(J,20),void 0!==l){const Ee=$e.projection=[];for(let pt=0;pt<this.ngContentSelectors.length;pt++){const kt=l[pt];Ee.push(null!=kt?Array.from(kt):null)}}xe=function Ip(s,o,l,d,h){const g=l[1],v=function _1(s,o,l){const d=Cn();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),Cv(s,d,o,Tu(s,o,1,null),l));const h=jn(o,s,d.directiveStart,d);Zt(h,o);const g=si(d,o);return g&&Zt(g,o),h}(g,l,o);if(d.components.push(v),s[8]=v,h&&h.forEach(D=>D(v,o)),o.contentQueries){const D=Cn();o.contentQueries(1,v,D.directiveStart)}const E=Cn();return!g.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Rs(E.index),Ww(l[1],E,0,E.directiveStart,E.directiveEnd,o),Dv(o,v)),v}(Ye,this.componentDef,_e,H,[hc]),Qd(J,_e,null)}finally{ga()}return new Vh(this.componentType,xe,Ic($e,_e),_e,$e)}}class Vh extends class gD{}{constructor(o,l,d,h,g){super(),this.location=d,this._rootLView=h,this._tNode=g,this.instance=l,this.hostView=this.changeDetectorRef=new q_(h),this.componentType=o}get injector(){return new Ls(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class Hu{}class Uh{}const jh=new Map;class CD extends Hu{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new yD(this);const d=Kn(o);this._bootstrapComponents=m(d.bootstrap),this._r3Injector=Nv(o,l,[{provide:Hu,useValue:this},{provide:Sc,useValue:this.componentFactoryResolver}],ge(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,l=Yt.THROW_IF_NOT_FOUND,d=gt.Default){return o===Yt||o===Hu||o===e_?this:this._r3Injector.get(o,l,d)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class K_ extends Uh{constructor(o){super(),this.moduleType=o,null!==Kn(o)&&function W_(s){const o=new Set;!function l(d){const h=Kn(d,!0),g=h.id;null!==g&&(function pi(s,o,l){if(o&&o!==l)throw new Error(`Duplicate module registered for ${s} - ${ge(o)} vs ${ge(o.name)}`)}(g,jh.get(g),d),jh.set(g,d));const v=m(h.imports);for(const E of v)o.has(E)||(o.add(E),l(E))}(s)}(o)}create(o){return new CD(this.moduleType,o)}}function q0(s,o,l){const d=Yn()+s,h=Ce();return h[d]===wt?_o(h,d,l?o.call(l):o()):function Ap(s,o){return s[o]}(h,d)}function Hh(s,o,l,d){return K0(Ce(),Yn(),s,o,l,d)}function Sl(s,o,l,d,h){return function Y0(s,o,l,d,h,g,v){const E=o+l;return yo(s,E,h,g)?_o(s,E+2,v?d.call(v,h,g):d(h,g)):jt(s,E+2)}(Ce(),Yn(),s,o,l,d,h)}function Z0(s,o,l,d,h,g){return function wi(s,o,l,d,h,g,v,E){const D=o+l;return function Mp(s,o,l,d,h){const g=yo(s,o,l,d);return Rr(s,o+2,h)||g}(s,D,h,g,v)?_o(s,D+3,E?d.call(E,h,g,v):d(h,g,v)):jt(s,D+3)}(Ce(),Yn(),s,o,l,d,h,g)}function jt(s,o){const l=s[o];return l===wt?void 0:l}function K0(s,o,l,d,h,g){const v=o+l;return Rr(s,v,h)?_o(s,v+1,g?d.call(g,h):d(h)):jt(s,v+1)}function Hn(s,o){const l=Ft();let d;const h=s+20;l.firstCreatePass?(d=function ID(s,o){if(o)for(let l=o.length-1;l>=0;l--){const d=o[l];if(s===d.name)return d}}(o,l.pipeRegistry),l.data[h]=d,d.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(h,d.onDestroy)):d=l.data[h];const g=d.factory||(d.factory=Cr(d.type)),v=xn(Rp);try{const E=Fo(!1),D=g();return Fo(E),function Vv(s,o,l,d){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),o[l]=d}(l,Ce(),h,D),D}finally{xn(v)}}function AD(s,o,l){const d=s+20,h=Ce(),g=Ns(h,d);return function Gh(s,o){return s[1].data[o].pure}(h,d)?K0(h,Yn(),o,g.transform,l,g):g.transform(l)}function ln(s){return o=>{setTimeout(s,void 0,o)}}const Sa=class ES extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,d){var h,g,v;let E=o,D=l||(()=>null),A=d;if(o&&"object"==typeof o){const L=o;E=null===(h=L.next)||void 0===h?void 0:h.bind(L),D=null===(g=L.error)||void 0===g?void 0:g.bind(L),A=null===(v=L.complete)||void 0===v?void 0:v.bind(L)}this.__isAsync&&(D=ln(D),E&&(E=ln(E)),A&&(A=ln(A)));const O=super.subscribe({next:E,error:D,complete:A});return o instanceof Q.w0&&o.add(O),O}};function Y_(){return this._results[Au()]()}class Ac{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Au(),d=Ac.prototype;d[l]||(d[l]=Y_)}get changes(){return this._changes||(this._changes=new Sa)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const d=this;d.dirty=!1;const h=$i(o);(this._changesDetected=!function Jl(s,o,l){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],g=o[d];if(l&&(h=l(h),g=l(g)),g!==h)return!1}return!0}(d._results,h,l))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Il=(()=>{class s{}return s.__NG_ELEMENT_ID__=OD,s})();const J_=Il,MD=class extends J_{constructor(o,l,d){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(o){const l=this._declarationTContainer.tViews,d=bp(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(d[19]=g.createEmbeddedView(l)),Qd(l,d,o),new Lh(d)}};function OD(){return lg(Cn(),Ce())}function lg(s,o){return 4&s.type?new MD(o,s,Ic(s,o)):null}let Q_=(()=>{class s{}return s.__NG_ELEMENT_ID__=ND,s})();function ND(){return $h(Cn(),Ce())}const kD=Q_,RD=class extends kD{constructor(o,l,d){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=d}get element(){return Ic(this._hostTNode,this._hostLView)}get injector(){return new Ls(this._hostTNode,this._hostLView)}get parentInjector(){const o=el(this._hostTNode,this._hostLView);if(wd(o)){const l=zt(o,this._hostLView),d=Vt(o);return new Ls(l[1].data[d+8],l)}return new Ls(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=xD(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,d){const h=o.createEmbeddedView(l||{});return this.insert(h,d),h}createComponent(o,l,d,h,g){const v=o&&!function Ii(s){return"function"==typeof s}(o);let E;if(v)E=l;else{const L=l||{};E=L.index,d=L.injector,h=L.projectableNodes,g=L.ngModuleRef}const D=v?o:new Z_(Wn(o)),A=d||this.parentInjector;if(!g&&null==D.ngModule&&A){const L=A.get(Hu,null);L&&(g=L)}const O=D.create(A,h,void 0,g);return this.insert(O.hostView,E),O}insert(o,l){const d=o._lView,h=d[1];if(function qc(s){return Ui(s[3])}(d)){const O=this.indexOf(o);if(-1!==O)this.detach(O);else{const L=d[3],H=new RD(L,L[6],L[3]);H.detach(H.indexOf(o))}}const g=this._adjustIndex(l),v=this._lContainer;!function va(s,o,l,d){const h=10+d,g=l.length;d>0&&(l[h-1][4]=o),d<g-10?(o[4]=l[h],al(l,10+d,o)):(l.push(o),o[4]=null),o[3]=l;const v=o[17];null!==v&&l!==v&&function Dw(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(v,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=128}(h,d,v,g);const E=xm(g,v),D=d[11],A=lp(D,v[7]);return null!==A&&function ap(s,o,l,d,h,g){d[0]=h,d[6]=o,gl(s,d,l,1,h,g)}(h,v[6],D,d,A,E),o.attachToViewContainerRef(),al(Q0(v),g,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=xD(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),d=km(this._lContainer,l);d&&(Bs(Q0(this._lContainer),l),WT(d[1],d))}detach(o){const l=this._adjustIndex(o,-1),d=km(this._lContainer,l);return d&&null!=Bs(Q0(this._lContainer),l)?new Lh(d):null}_adjustIndex(o,l=0){return null==o?this.length+l:o}};function xD(s){return s[8]}function Q0(s){return s[8]||(s[8]=[])}function $h(s,o){let l;const d=o[s.index];if(Ui(d))l=d;else{let h;if(8&s.type)h=tn(d);else{const g=o[11];h=g.createComment("");const v=si(s,o);cc(g,lp(g,v),h,function Sw(s,o){return sn(s)?s.nextSibling(o):o.nextSibling}(g,v),!1)}o[s.index]=l=Xw(d,o,h,s),Km(o,l)}return new RD(l,s,o)}class cg{constructor(o){this.queryList=o,this.matches=null}clone(){return new cg(this.queryList)}setDirty(){this.queryList.setDirty()}}class X_{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const d=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let g=0;g<d;g++){const v=l.getByIndex(g);h.push(this.queries[v.indexInDeclarationView].clone())}return new X_(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==rb(o,l).matches&&this.queries[l].setDirty()}}class zh{constructor(o,l,d=null){this.predicate=o,this.flags=l,this.read=d}}class Eo{constructor(o=[]){this.queries=o}elementStart(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let d=0;d<this.length;d++){const h=null!==l?l.length:0,g=this.getByIndex(d).embeddedTView(o,h);g&&(g.indexInDeclarationView=d,null!==l?l.push(g):l=[g])}return null!==l?new Eo(l):null}template(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class ug{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new ug(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const g=d[h];this.matchTNodeWithReadOption(o,l,FD(l,g)),this.matchTNodeWithReadOption(o,l,Dd(l,o,g,!1,!1))}else d===Il?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,Dd(l,o,d,!1,!1))}matchTNodeWithReadOption(o,l,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Vu||h===Q_||h===Il&&4&l.type)this.addMatch(l.index,-2);else{const g=Dd(l,o,h,!1,!1);null!==g&&this.addMatch(l.index,g)}else this.addMatch(l.index,d)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function FD(s,o){const l=s.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===o)return l[d+1];return null}function LD(s,o,l,d){return-1===l?function dg(s,o){return 11&s.type?Ic(s,o):4&s.type?lg(s,o):null}(o,s):-2===l?function BD(s,o,l){return l===Vu?Ic(o,s):l===Il?lg(o,s):l===Q_?$h(o,s):void 0}(s,o,d):jn(s,s[1],l,o)}function X0(s,o,l,d){const h=o[19].queries[d];if(null===h.matches){const g=s.data,v=l.matches,E=[];for(let D=0;D<v.length;D+=2){const A=v[D];E.push(A<0?null:LD(o,g[A],v[D+1],l.metadata.read))}h.matches=E}return h.matches}function eb(s,o,l,d){const h=s.queries.getByIndex(l),g=h.matches;if(null!==g){const v=X0(s,o,h,l);for(let E=0;E<g.length;E+=2){const D=g[E];if(D>0)d.push(v[E/2]);else{const A=g[E+1],O=o[-D];for(let L=10;L<O.length;L++){const H=O[L];H[17]===H[3]&&eb(H[1],H,A,d)}if(null!==O[9]){const L=O[9];for(let H=0;H<L.length;H++){const J=L[H];eb(J[1],J,A,d)}}}}}return d}function VD(s){const o=Ce(),l=Ft(),d=Ka();Jc(d+1);const h=rb(l,d);if(s.dirty&&fa(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?eb(l,o,d,[]):X0(l,o,h,d);s.reset(g,Fh),s.notifyOnChanges()}return!0}return!1}function hg(s,o,l){const d=Ft();d.firstCreatePass&&(ib(d,new zh(s,o,l),-1),2==(2&o)&&(d.staticViewQueries=!0)),nb(d,Ce(),o)}function tb(s,o,l,d){const h=Ft();if(h.firstCreatePass){const g=Cn();ib(h,new zh(o,l,d),g.index),function CS(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}nb(h,Ce(),l)}function UD(){return function jD(s,o){return s[19].queries[o].queryList}(Ce(),Ka())}function nb(s,o,l){const d=new Ac(4==(4&l));Ep(s,o,d,d.destroy),null===o[19]&&(o[19]=new X_),o[19].queries.push(new cg(d))}function ib(s,o,l){null===s.queries&&(s.queries=new Eo),s.queries.track(new ug(o,l))}function rb(s,o){return s.queries.getByIndex(o)}function sb(s,o){return lg(s,o)}function Ml(...s){}const iy=new Tn("Application Initializer");let Nc=(()=>{class s{constructor(l){this.appInits=l,this.resolve=Ml,this.reject=Ml,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(g_(g))l.push(g);else if(m_(g)){const v=new Promise((E,D)=>{g.subscribe({complete:E,error:D})});l.push(v)}}Promise.all(l).then(()=>{d()}).catch(h=>{this.reject(h)}),0===l.length&&d(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(Be(iy,8))},s.\u0275prov=Qt({token:s,factory:s.\u0275fac}),s})();const XD=new Tn("AppId"),tC={provide:XD,useFactory:function eC(){return`${cb()}${cb()}${cb()}`},deps:[]};function cb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ry=new Tn("Platform Initializer"),nC=new Tn("Platform ID"),ub=new Tn("appBootstrapListener");let Kr=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Qt({token:s,factory:s.\u0275fac}),s})();const yg=new Tn("LocaleId"),vg=new Tn("DefaultCurrencyCode");class Jh{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let sy=(()=>{class s{compileModuleSync(l){return new K_(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),g=m(Kn(l).declarations).reduce((v,E)=>{const D=Wn(E);return D&&v.push(new Z_(D)),v},[]);return new Jh(d,g)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Qt({token:s,factory:s.\u0275fac}),s})();const Qh=(()=>Promise.resolve(0))();function oy(s){"undefined"==typeof Zone?Qh.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Pi{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Sa(!1),this.onMicrotaskEmpty=new Sa(!1),this.onStable=new Sa(!1),this.onError=new Sa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&l,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function kc(){let s=Ht.requestAnimationFrame,o=Ht.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function FS(s){const o=()=>{!function PS(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Ht,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,hb(s),s.isCheckStableRunning=!0,ay(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),hb(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,h,g,v,E)=>{try{return rC(s),l.invokeTask(h,g,v,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),bg(s)}},onInvoke:(l,d,h,g,v,E,D)=>{try{return rC(s),l.invoke(h,g,v,E,D)}finally{s.shouldCoalesceRunChangeDetection&&o(),bg(s)}},onHasTask:(l,d,h,g)=>{l.hasTask(h,g),d===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,hb(s),ay(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(l,d,h,g)=>(l.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Pi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Pi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,l,d){return this._inner.run(o,l,d)}runTask(o,l,d,h){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+h,o,db,Ml,Ml);try{return g.runTask(v,l,d)}finally{g.cancelTask(v)}}runGuarded(o,l,d){return this._inner.runGuarded(o,l,d)}runOutsideAngular(o){return this._outer.run(o)}}const db={};function ay(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function hb(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function rC(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function bg(s){s._nesting--,ay(s)}class Xh{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Sa,this.onMicrotaskEmpty=new Sa,this.onStable=new Sa,this.onError=new Sa}run(o,l,d){return o.apply(l,d)}runGuarded(o,l,d){return o.apply(l,d)}runOutsideAngular(o){return o()}runTask(o,l,d,h){return o.apply(l,d)}}let fb=(()=>{class s{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Pi.assertNotInAngularZone(),oy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())oy(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,h){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:g,updateCb:h})}whenStable(l,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,d,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(Be(Pi))},s.\u0275prov=Qt({token:s,factory:s.\u0275fac}),s})(),sC=(()=>{class s{constructor(){this._applications=new Map,Ia.addToWindow(this)}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return Ia.findTestabilityInTree(this,l,d)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Qt({token:s,factory:s.\u0275fac}),s})();class LS{addToWindow(o){}findTestabilityInTree(o,l,d){return null}}function oC(s){Ia=s}let ys,Ia=new LS;const ly=new Tn("AllowMultipleToken");class wg{constructor(o,l){this.name=o,this.token=l}}function uy(s,o,l=[]){const d=`Platform: ${o}`,h=new Tn(d);return(g=[])=>{let v=dy();if(!v||v.injector.get(ly,!1))if(s)s(l.concat(g).concat({provide:h,useValue:!0}));else{const E=l.concat(g).concat({provide:h,useValue:!0},{provide:Cp,useValue:"platform"});!function cy(s){if(ys&&!ys.destroyed&&!ys.injector.get(ly,!1))throw new Ne(400,"");ys=s.get(gb);const o=s.get(ry,null);o&&o.forEach(l=>l())}(Yt.create({providers:E,name:d}))}return function US(s){const o=dy();if(!o)throw new Ne(401,"");return o}()}}function dy(){return ys&&!ys.destroyed?ys:null}let gb=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const E=function HS(s,o){let l;return l="noop"===s?new Xh:("zone.js"===s?void 0:s)||new Pi({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),l}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),D=[{provide:Pi,useValue:E}];return E.run(()=>{const A=Yt.create({providers:D,parent:this.injector,name:l.moduleType.name}),O=l.create(A),L=O.injector.get(Ut,null);if(!L)throw new Ne(402,"");return E.runOutsideAngular(()=>{const H=E.onError.subscribe({next:J=>{L.handleError(J)}});O.onDestroy(()=>{_b(this._modules,O),H.unsubscribe()})}),function aC(s,o,l){try{const d=l();return g_(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(L,E,()=>{const H=O.injector.get(Nc);return H.runInitializers(),H.donePromise.then(()=>(function mr(s){(function lt(s,o){null==s&&ut(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(S0=s.toLowerCase().replace(/_/g,"-"))}(O.injector.get(yg,F_)||F_),this._moduleDoBootstrap(O),O))})})}bootstrapModule(l,d=[]){const h=mb({},d);return function BS(s,o,l){const d=new K_(l);return Promise.resolve(d)}(0,0,l).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(l){const d=l.injector.get(Zu);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new Ne(403,"");l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ne(404,"");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(Be(Yt))},s.\u0275prov=Qt({token:s,factory:s.\u0275fac}),s})();function mb(s,o){return Array.isArray(o)?o.reduce(mb,s):Object.assign(Object.assign({},s),o)}let Zu=(()=>{class s{constructor(l,d,h,g,v){this._zone=l,this._injector=d,this._exceptionHandler=h,this._componentFactoryResolver=g,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new F.y(A=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{A.next(this._stable),A.complete()})}),D=new F.y(A=>{let O;this._zone.runOutsideAngular(()=>{O=this._zone.onStable.subscribe(()=>{Pi.assertNotInAngularZone(),oy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,A.next(!0))})})});const L=this._zone.onUnstable.subscribe(()=>{Pi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{A.next(!1)}))});return()=>{O.unsubscribe(),L.unsubscribe()}});this.isStable=(0,ce.T)(E,D.pipe((0,ie.B)()))}bootstrap(l,d){if(!this._initStatus.done)throw new Ne(405,"");let h;h=l instanceof V0?l:this._componentFactoryResolver.resolveComponentFactory(l),this.componentTypes.push(h.componentType);const g=function pb(s){return s.isBoundToModule}(h)?void 0:this._injector.get(Hu),E=h.create(Yt.NULL,[],d||h.selector,g),D=E.location.nativeElement,A=E.injector.get(fb,null),O=A&&E.injector.get(sC);return A&&O&&O.registerApplication(D,A),E.onDestroy(()=>{this.detachView(E.hostView),_b(this.components,E),O&&O.unregisterApplication(D)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Ne(101,"");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;_b(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(ub,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(l){return new(l||s)(Be(Pi),Be(Yt),Be(Ut),Be(Sc),Be(Nc))},s.\u0275prov=Qt({token:s,factory:s.\u0275fac}),s})();function _b(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let vb=!0,lC=!1;function ef(){return lC=!0,vb}function tf(){if(lC)throw new Error("Cannot enable prod mode after platform setup.");vb=!1}let uC=(()=>{class s{}return s.__NG_ELEMENT_ID__=$S,s})();function $S(s){return function Eb(s,o,l){if(Pl(s)&&!l){const d=oi(s.index,o);return new Lh(d,d)}return 47&s.type?new Lh(o[16],o):null}(Cn(),Ce(),16==(16&s))}class vC{constructor(){}supports(o){return Mu(o)}create(o){return new YS(o)}}const KS=(s,o)=>o;class YS{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||KS}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,d=this._removalsHead,h=0,g=null;for(;l||d;){const v=!d||l&&l.currentIndex<py(d,h,g)?l:d,E=py(v,h,g),D=v.currentIndex;if(v===d)h--,d=d._nextRemoved;else if(l=l._next,null==v.previousIndex)h++;else{g||(g=[]);const A=E-h,O=D-h;if(A!=O){for(let H=0;H<A;H++){const J=H<g.length?g[H]:g[H]=0,_e=J+H;O<=_e&&_e<A&&(g[H]=J+1)}g[v.previousIndex]=O-A}}E!==D&&o(v,E,D)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!Mu(o))throw new Ne(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,v,l=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)g=o[E],v=this._trackByFn(E,g),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,g,v,E)),Object.is(l.item,g)||this._addIdentityChange(l,g)):(l=this._mismatch(l,g,v,E),d=!0),l=l._next}else h=0,function EE(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[Au()]();let d;for(;!(d=l.next()).done;)o(d.value)}}(o,E=>{v=this._trackByFn(h,E),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,E,v,h)),Object.is(l.item,E)||this._addIdentityChange(l,E)):(l=this._mismatch(l,E,v,h),d=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,d,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,g,h)):o=this._addAfter(new bC(l,d),g,h),o}_verifyReinsertion(o,l,d,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,l,d),this._addToMoves(o,d),o}_moveAfter(o,l,d){return this._unlink(o),this._insertAfter(o,l,d),this._addToMoves(o,d),o}_addAfter(o,l,d){return this._insertAfter(o,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,d){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new rf),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,d=o._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new rf),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class bC{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class fy{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const l=o._prevDup,d=o._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class rf{constructor(){this.map=new Map}put(o){const l=o.trackById;let d=this.map.get(l);d||(d=new fy,this.map.set(l,d)),d.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function py(s,o,l){const d=s.previousIndex;if(null===d)return d;let h=0;return l&&d<l.length&&(h=l[d]),d+o+h}class Sb{constructor(){}supports(o){return o instanceof Map||s_(o)}create(){return new JS}}class JS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||s_(o)))throw new Ne(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const g=this._getOrCreateRecordForKey(h,d);l=this._insertBeforeOrAppend(l,g)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const d=o._prev;return l._next=o,l._prev=d,o._prev=l,d&&(d._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const g=h._prev,v=h._next;return g&&(g._next=v),v&&(v._prev=g),h._next=null,h._prev=null,h}const d=new QS(o);return this._records.set(o,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(d=>l(o[d],d))}}class QS{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function wC(){return new gy([new vC])}let gy=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(null!=d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||wC()),deps:[[s,new qi,new Ai]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(null!=d)return d;throw new Ne(901,"")}}return s.\u0275prov=Qt({token:s,providedIn:"root",factory:wC}),s})();function sf(){return new af([new Sb])}let af=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||sf()),deps:[[s,new qi,new Ai]]}}find(l){const d=this.factories.find(g=>g.supports(l));if(d)return d;throw new Ne(901,"")}}return s.\u0275prov=Qt({token:s,providedIn:"root",factory:sf}),s})();const lf=[new Sb],my=new gy([new vC]),Tg=new af(lf),DC=uy(null,"core",[{provide:nC,useValue:"unknown"},{provide:gb,deps:[Yt]},{provide:sC,deps:[]},{provide:Kr,deps:[]}]),XS=[{provide:Zu,useClass:Zu,deps:[Pi,Yt,Ut,Sc,Nc]},{provide:Bh,deps:[Pi],useFactory:function Ob(s){let o=[];return s.onStable.subscribe(()=>{for(;o.length;)o.pop()()}),function(l){o.push(l)}}},{provide:Nc,useClass:Nc,deps:[[new Ai,iy]]},{provide:sy,useClass:sy,deps:[]},tC,{provide:gy,useFactory:function Ab(){return my},deps:[]},{provide:af,useFactory:function Mb(){return Tg},deps:[]},{provide:yg,useFactory:function Rc(s){return s||function CC(){return"undefined"!=typeof $localize&&$localize.locale||F_}()},deps:[[new zi(yg),new Ai,new qi]]},{provide:vg,useValue:"USD"}];let eI=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(Be(Zu))},s.\u0275mod=Li({type:s}),s.\u0275inj=Xt({providers:XS}),s})()},3942:(it,De,P)=>{"use strict";P.d(De,{Z:()=>Ne});var c=P(2090),Q=P(4859),F=P(9681),ce=P(1877);class ie{constructor(W,ne){this._delegate=W,this.firebase=ne,(0,F._addComponent)(W,new Q.wA("app-compat",()=>this,"PUBLIC")),this.container=W.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(W){this._delegate.automaticDataCollectionEnabled=W}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(W=>{this._delegate.checkDestroyed(),W()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(W,ne=F._DEFAULT_ENTRY_NAME){var ye;this._delegate.checkDestroyed();const Te=this._delegate.container.getProvider(W);return!Te.isInitialized()&&"EXPLICIT"===(null===(ye=Te.getComponent())||void 0===ye?void 0:ye.instantiationMode)&&Te.initialize(),Te.getImmediate({identifier:ne})}_removeServiceInstance(W,ne=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(W).clearInstance(ne)}_addComponent(W){(0,F._addComponent)(this._delegate,W)}_addOrOverwriteComponent(W){(0,F._addOrOverwriteComponent)(this._delegate,W)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ee=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function le(){const Ve=function ge(Ve){const W={},ne={__esModule:!0,initializeApp:function fe(qe,oe={}){const Y=F.initializeApp(qe,oe);if((0,c.r3)(W,Y.name))return W[Y.name];const se=new Ve(Y,ne);return W[Y.name]=se,se},app:Te,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function Se(qe){const oe=qe.name,Y=oe.replace("-compat","");if(F._registerComponent(qe)&&"PUBLIC"===qe.type){const se=(ve=Te())=>{if("function"!=typeof ve[Y])throw ee.create("invalid-app-argument",{appName:oe});return ve[Y]()};void 0!==qe.serviceProps&&(0,c.ZB)(se,qe.serviceProps),ne[Y]=se,Ve.prototype[Y]=function(...ve){return this._getService.bind(this,oe).apply(this,qe.multipleInstances?ve:[])}}return"PUBLIC"===qe.type?ne[Y]:null},removeApp:function ye(qe){delete W[qe]},useAsService:function Je(qe,oe){return"serverAuth"===oe?null:oe},modularAPIs:F}};function Te(qe){if(!(0,c.r3)(W,qe=qe||F._DEFAULT_ENTRY_NAME))throw ee.create("no-app",{appName:qe});return W[qe]}return ne.default=ne,Object.defineProperty(ne,"apps",{get:function Re(){return Object.keys(W).map(qe=>W[qe])}}),Te.App=Ve,ne}(ie);return Ve.INTERNAL=Object.assign(Object.assign({},Ve.INTERNAL),{createFirebaseNamespace:le,extendNamespace:function W(ne){(0,c.ZB)(Ve,ne)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Ve}(),j=new ce.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ve=self.firebase.SDK_VERSION;Ve&&Ve.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ne=G;!function Ie(Ve){(0,F.registerVersion)("@firebase/app-compat","0.1.17",Ve)}()},9681:(it,De,P)=>{"use strict";P.r(De),P.d(De,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>Fi,_DEFAULT_ENTRY_NAME:()=>Vn,_addComponent:()=>nn,_addOrOverwriteComponent:()=>Di,_apps:()=>ut,_clearComponents:()=>Lt,_components:()=>zn,_getProvider:()=>Jr,_registerComponent:()=>Qt,_removeServiceInstance:()=>Xt,deleteApp:()=>Xr,getApp:()=>no,getApps:()=>wr,initializeApp:()=>Qr,onLog:()=>qn,registerVersion:()=>er,setLogLevel:()=>xn});var c=P(5861),Q=P(4859),F=P(1877),ce=P(2090);class ie{constructor(et){this.container=et}getPlatformInfoString(){return this.container.getProviders().map(xt=>{if(function me(_t){const et=_t.getComponent();return"VERSION"===(null==et?void 0:et.type)}(xt)){const mn=xt.getImmediate();return`${mn.library}/${mn.version}`}return null}).filter(xt=>xt).join(" ")}}const ee="@firebase/app",le=new F.Yd("@firebase/app"),Vn="[DEFAULT]",lt={[ee]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ut=new Map,zn=new Map;function nn(_t,et){try{_t.container.addComponent(et)}catch(xt){le.debug(`Component ${et.name} failed to register with FirebaseApp ${_t.name}`,xt)}}function Di(_t,et){_t.container.addOrOverwriteComponent(et)}function Qt(_t){const et=_t.name;if(zn.has(et))return le.debug(`There were multiple attempts to register component ${et}.`),!1;zn.set(et,_t);for(const xt of ut.values())nn(xt,_t);return!0}function Jr(_t,et){return _t.container.getProvider(et)}function Xt(_t,et,xt=Vn){Jr(_t,et).clearInstance(xt)}function Lt(){zn.clear()}const _i=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class to{constructor(et,xt,mn){this._isDeleted=!1,this._options=Object.assign({},et),this._config=Object.assign({},xt),this._name=xt.name,this._automaticDataCollectionEnabled=xt.automaticDataCollectionEnabled,this._container=mn,this.container.addComponent(new Q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(et){this.checkDestroyed(),this._automaticDataCollectionEnabled=et}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(et){this._isDeleted=et}checkDestroyed(){if(this.isDeleted)throw _i.create("app-deleted",{appName:this._name})}}const Fi="9.6.6";function Qr(_t,et={}){"object"!=typeof et&&(et={name:et});const xt=Object.assign({name:Vn,automaticDataCollectionEnabled:!1},et),mn=xt.name;if("string"!=typeof mn||!mn)throw _i.create("bad-app-name",{appName:String(mn)});const Ci=ut.get(mn);if(Ci){if((0,ce.vZ)(_t,Ci.options)&&(0,ce.vZ)(xt,Ci.config))return Ci;throw _i.create("duplicate-app",{appName:mn})}const Pt=new Q.H0(mn);for(const dt of zn.values())Pt.addComponent(dt);const tt=new to(_t,xt,Pt);return ut.set(mn,tt),tt}function no(_t=Vn){const et=ut.get(_t);if(!et)throw _i.create("no-app",{appName:_t});return et}function wr(){return Array.from(ut.values())}function Xr(_t){return gt.apply(this,arguments)}function gt(){return(gt=(0,c.Z)(function*(_t){const et=_t.name;ut.has(et)&&(ut.delete(et),yield Promise.all(_t.container.getProviders().map(xt=>xt.delete())),_t.isDeleted=!0)})).apply(this,arguments)}function er(_t,et,xt){var mn;let Ci=null!==(mn=lt[_t])&&void 0!==mn?mn:_t;xt&&(Ci+=`-${xt}`);const Pt=Ci.match(/\s|\//),tt=et.match(/\s|\//);if(Pt||tt){const dt=[`Unable to register library "${Ci}" with version "${et}":`];return Pt&&dt.push(`library name "${Ci}" contains illegal characters (whitespace or "/")`),Pt&&tt&&dt.push("and"),tt&&dt.push(`version name "${et}" contains illegal characters (whitespace or "/")`),void le.warn(dt.join(" "))}Qt(new Q.wA(`${Ci}-version`,()=>({library:Ci,version:et}),"VERSION"))}function qn(_t,et){if(null!==_t&&"function"!=typeof _t)throw _i.create("invalid-log-argument");(0,F.Am)(_t,et)}function xn(_t){(0,F.Ub)(_t)}!function Co(_t){Qt(new Q.wA("platform-logger",et=>new ie(et),"PRIVATE")),er(ee,"0.7.16",_t),er(ee,"0.7.16","esm2017"),er("fire-js","")}("")},4859:(it,De,P)=>{"use strict";P.d(De,{wA:()=>F,H0:()=>ge});var c=P(5861),Q=P(2090);class F{constructor(G,j,X){this.name=G,this.instanceFactory=j,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const ce="[DEFAULT]";class ie{constructor(G,j){this.name=G,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const j=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(j)){const X=new Q.BH;if(this.instancesDeferred.set(j,X),this.isInitialized(j)||this.shouldAutoInitialize())try{const je=this.getOrInitializeService({instanceIdentifier:j});je&&X.resolve(je)}catch(je){}}return this.instancesDeferred.get(j).promise}getImmediate(G){var j;const X=this.normalizeInstanceIdentifier(null==G?void 0:G.identifier),je=null!==(j=null==G?void 0:G.optional)&&void 0!==j&&j;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if(je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(Ie){if(je)return null;throw Ie}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function ee(le){return"EAGER"===le.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:ce})}catch(j){}for(const[j,X]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier(j);try{const Ie=this.getOrInitializeService({instanceIdentifier:je});X.resolve(Ie)}catch(Ie){}}}}clearInstance(G=ce){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,c.Z)(function*(){const j=Array.from(G.instances.values());yield Promise.all([...j.filter(X=>"INTERNAL"in X).map(X=>X.INTERNAL.delete()),...j.filter(X=>"_delete"in X).map(X=>X._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=ce){return this.instances.has(G)}getOptions(G=ce){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:j={}}=G,X=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(X))throw Error(`${this.name}(${X}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const je=this.getOrInitializeService({instanceIdentifier:X,options:j});for(const[Ie,Ne]of this.instancesDeferred.entries())X===this.normalizeInstanceIdentifier(Ie)&&Ne.resolve(je);return je}onInit(G,j){var X;const je=this.normalizeInstanceIdentifier(j),Ie=null!==(X=this.onInitCallbacks.get(je))&&void 0!==X?X:new Set;Ie.add(G),this.onInitCallbacks.set(je,Ie);const Ne=this.instances.get(je);return Ne&&G(Ne,je),()=>{Ie.delete(G)}}invokeOnInitCallbacks(G,j){const X=this.onInitCallbacks.get(j);if(X)for(const je of X)try{je(G,j)}catch(Ie){}}getOrInitializeService({instanceIdentifier:G,options:j={}}){let X=this.instances.get(G);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(le=G,le===ce?void 0:le),options:j}),this.instances.set(G,X),this.instancesOptions.set(G,j),this.invokeOnInitCallbacks(X,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,X)}catch(je){}var le;return X||null}normalizeInstanceIdentifier(G=ce){return this.component?this.component.multipleInstances?G:ce:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ge{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const j=this.getProvider(G.name);if(j.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);j.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const j=new ie(G,this);return this.providers.set(G,j),j}getProviders(){return Array.from(this.providers.values())}}},1877:(it,De,P)=>{"use strict";P.d(De,{in:()=>Q,Yd:()=>ee,Ub:()=>ge,Am:()=>le});const c=[];var Q=(()=>{return(G=Q||(Q={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",Q;var G})();const F={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},ce=Q.INFO,ie={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},me=(G,j,...X)=>{if(j<G.logLevel)return;const je=(new Date).toISOString(),Ie=ie[j];if(!Ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[Ie](`[${je}]  ${G.name}:`,...X)};class ee{constructor(j){this.name=j,this._logLevel=ce,this._logHandler=me,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in Q))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?F[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...j),this._logHandler(this,Q.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...j),this._logHandler(this,Q.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...j),this._logHandler(this,Q.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...j),this._logHandler(this,Q.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...j),this._logHandler(this,Q.ERROR,...j)}}function ge(G){c.forEach(j=>{j.setLogLevel(G)})}function le(G,j){for(const X of c){let je=null;j&&j.level&&(je=F[j.level]),X.userLogHandler=null===G?null:(Ie,Ne,...Ve)=>{const W=Ve.map(ne=>{if(null==ne)return null;if("string"==typeof ne)return ne;if("number"==typeof ne||"boolean"==typeof ne)return ne.toString();if(ne instanceof Error)return ne.message;try{return JSON.stringify(ne)}catch(ye){return null}}).filter(ne=>ne).join(" ");Ne>=(null!=je?je:Ie.logLevel)&&G({level:Q[Ne].toLowerCase(),message:W,args:Ve,type:Ie.name})}}}},5861:(it,De,P)=>{"use strict";function c(F,ce,ie,me,ee,ge,le){try{var G=F[ge](le),j=G.value}catch(X){return void ie(X)}G.done?ce(j):Promise.resolve(j).then(me,ee)}function Q(F){return function(){var ce=this,ie=arguments;return new Promise(function(me,ee){var ge=F.apply(ce,ie);function le(j){c(ge,me,ee,le,G,"next",j)}function G(j){c(ge,me,ee,le,G,"throw",j)}le(void 0)})}}P.d(De,{Z:()=>Q})}},it=>{it(it.s=6141)}]);